{
	"auto_complete":
	{
		"selected_items":
		[
			[
				"bytes_",
				"bytes_per_element"
			],
			[
				"QUICKJS_MO",
				"QUICKJS_MODULE_CFLAGS"
			],
			[
				"check_cxx",
				"check_cxx_standard_flag"
			],
			[
				"check_func",
				"check_function_exists"
			],
			[
				"contour",
				"contour_proto"
			],
			[
				"dst",
				"dst_pts"
			],
			[
				"CXX_",
				"CXX_STANDARD_VALUE"
			],
			[
				"JS_SetP",
				"JS_SetPropertyUint32"
			],
			[
				"process",
				"processor_or_index"
			],
			[
				"proces",
				"processor_or_index"
			],
			[
				"w",
				"width"
			],
			[
				"FUNC_TO",
				"FUNC_TOARRAY"
			],
			[
				"JSInpu",
				"JSInputOutputArray"
			],
			[
				"JSIn",
				"JSInputOutputArray"
			],
			[
				"JS_Throw",
				"JS_ThrowInternalError"
			],
			[
				"typed",
				"typedarray_ctor"
			],
			[
				"JS_GetP",
				"JS_GetPropertyStr"
			],
			[
				"depe",
				"dependent_scope_decl_ref_expr"
			],
			[
				"com",
				"compound_stmt"
			],
			[
				"CXXConstruc",
				"CXXConstructorDecl"
			],
			[
				"refere",
				"referencedDecl"
			],
			[
				"cons",
				"console"
			],
			[
				"Acc",
				"AccessSpecDecl"
			],
			[
				"value",
				"valueCategory"
			],
			[
				"ini",
				"initializers"
			],
			[
				"res",
				"RestElement"
			],
			[
				"arg",
				"argc"
			],
			[
				"instru",
				"instrument"
			],
			[
				"defaul",
				"defaultExport"
			],
			[
				"getBy",
				"getByIdOrName"
			]
		]
	},
	"buffers":
	[
		{
			"contents": "JS_CONTOUR_HPP\n  js_contour_finalizer\n  js_contour_to_string\n  js_contour_init\n  js_init_contour_module\n  js_contour_constructor\n  js_contour_data\n  js_contour_new\n  js_contour_new\n  js_contour_read\n  js_contour_get\n  js_contours_new\n  js_contour_init",
			"settings":
			{
				"buffer_size": 251,
				"line_ending": "Unix",
				"name": "ùåÜ Outline",
				"scratch": true
			},
			"undo_stack":
			[
				[
					271,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/js_typed_array.hpp",
						"symkeys":
						[
							[
								35,
								53
							],
							[
								204,
								215
							],
							[
								283,
								294
							],
							[
								322,
								332
							],
							[
								411,
								427
							],
							[
								482,
								493
							],
							[
								523,
								533
							],
							[
								612,
								628
							],
							[
								684,
								695
							],
							[
								725,
								735
							],
							[
								814,
								830
							],
							[
								886,
								897
							],
							[
								929,
								939
							],
							[
								1018,
								1034
							],
							[
								1091,
								1102
							],
							[
								1132,
								1142
							],
							[
								1221,
								1237
							],
							[
								1293,
								1304
							],
							[
								1336,
								1346
							],
							[
								1425,
								1441
							],
							[
								1498,
								1509
							],
							[
								1539,
								1549
							],
							[
								1628,
								1644
							],
							[
								1703,
								1714
							],
							[
								1746,
								1756
							],
							[
								1835,
								1851
							],
							[
								1911,
								1922
							],
							[
								1948,
								1958
							],
							[
								2037,
								2053
							],
							[
								2111,
								2122
							],
							[
								2150,
								2160
							],
							[
								2239,
								2255
							],
							[
								2320,
								2332
							],
							[
								2414,
								2424
							],
							[
								2599,
								2612
							],
							[
								4050,
								4064
							],
							[
								4069,
								4083
							],
							[
								4179,
								4193
							],
							[
								4331,
								4345
							],
							[
								4484,
								4498
							],
							[
								4648,
								4662
							],
							[
								4774,
								4791
							],
							[
								4851,
								4865
							],
							[
								5035,
								5051
							],
							[
								5330,
								5337
							],
							[
								5676,
								5681
							],
							[
								5912,
								5927
							],
							[
								5967,
								5982
							],
							[
								6100,
								6103
							],
							[
								6319,
								6323
							],
							[
								6391,
								6395
							],
							[
								6483,
								6498
							],
							[
								6528,
								6543
							],
							[
								6616,
								6621
							],
							[
								6671,
								6674
							],
							[
								6696,
								6701
							],
							[
								6750,
								6766
							],
							[
								6815,
								6825
							],
							[
								6830,
								6843
							],
							[
								6920,
								6933
							],
							[
								7310,
								7318
							],
							[
								7334,
								7348
							],
							[
								7421,
								7438
							],
							[
								7731,
								7748
							],
							[
								8234,
								8251
							],
							[
								8675,
								8695
							],
							[
								8824,
								8834
							],
							[
								9083,
								9096
							],
							[
								9154,
								9158
							],
							[
								9267,
								9272
							],
							[
								9279,
								9282
							],
							[
								9311,
								9322
							],
							[
								9378,
								9391
							],
							[
								9400,
								9405
							],
							[
								9412,
								9415
							],
							[
								9471,
								9484
							],
							[
								9627,
								9646
							],
							[
								9732,
								9752
							],
							[
								9797,
								9814
							],
							[
								9856,
								9864
							],
							[
								9910,
								9918
							],
							[
								9994,
								10003
							],
							[
								10176,
								10194
							],
							[
								10534,
								10552
							],
							[
								10825,
								10843
							],
							[
								11077,
								11095
							],
							[
								11813,
								11831
							],
							[
								12161,
								12180
							],
							[
								12526,
								12556
							]
						],
						"symlist":
						[
							"JS_TYPED_ARRAY_HPP",
							"number_type",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"pointer_type",
							"value_type",
							"js_array_from",
							"TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" is_floating_point",
							" TypedArrayType",
							" constructor_name",
							" cv_type",
							" flags",
							" TypedArrayValue",
							"TypedArrayProps",
							" ptr",
							" size",
							" size",
							"TypedArrayRange",
							" TypedArrayRange",
							" begin",
							" end",
							" begin",
							"TypedArrayTraits",
							"value_type",
							" static_assert",
							" static_assert",
							" getProps",
							" TypedArrayType",
							" js_typedarray_new",
							" js_typedarray_new",
							" js_typedarray_new",
							" js_typedarray_remain",
							"value_type",
							"js_typedarray",
							" from",
							" begin",
							" end",
							" from_vector",
							" from_sequence",
							" begin",
							" end",
							" from_sequence",
							" js_arraybuffer_from",
							" js_typedarray_remain",
							" js_typedarray_new",
							" getProps",
							" to_array",
							" to_scalar",
							" js_typedarray_from",
							" js_typedarray_from",
							" js_typedarray_from",
							" js_typedarray_type",
							" js_typedarray_type",
							" js_typedarray_props",
							" js_typedarray_inputoutputarray"
						]
					},
					"AQAAAAAAAAAAAAAAQAUAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					272,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/js_typed_array.hpp",
						"symkeys":
						[
							[
								35,
								53
							],
							[
								204,
								215
							],
							[
								283,
								294
							],
							[
								322,
								332
							],
							[
								411,
								427
							],
							[
								482,
								493
							],
							[
								523,
								533
							],
							[
								612,
								628
							],
							[
								684,
								695
							],
							[
								725,
								735
							],
							[
								814,
								830
							],
							[
								886,
								897
							],
							[
								929,
								939
							],
							[
								1018,
								1034
							],
							[
								1091,
								1102
							],
							[
								1132,
								1142
							],
							[
								1221,
								1237
							],
							[
								1293,
								1304
							],
							[
								1336,
								1346
							],
							[
								1425,
								1441
							],
							[
								1498,
								1509
							],
							[
								1539,
								1549
							],
							[
								1628,
								1644
							],
							[
								1703,
								1714
							],
							[
								1746,
								1756
							],
							[
								1835,
								1851
							],
							[
								1911,
								1922
							],
							[
								1948,
								1958
							],
							[
								2037,
								2053
							],
							[
								2111,
								2122
							],
							[
								2150,
								2160
							],
							[
								2239,
								2255
							],
							[
								2320,
								2332
							],
							[
								2414,
								2424
							],
							[
								2599,
								2612
							],
							[
								4050,
								4064
							],
							[
								4069,
								4083
							],
							[
								4179,
								4193
							],
							[
								4331,
								4345
							],
							[
								4484,
								4498
							],
							[
								4648,
								4662
							],
							[
								4774,
								4791
							],
							[
								4851,
								4865
							],
							[
								5035,
								5051
							],
							[
								5330,
								5337
							],
							[
								5676,
								5681
							],
							[
								5912,
								5927
							],
							[
								5967,
								5982
							],
							[
								5985,
								6000
							],
							[
								6156,
								6159
							],
							[
								6375,
								6379
							],
							[
								6447,
								6451
							],
							[
								6539,
								6554
							],
							[
								6584,
								6599
							],
							[
								6672,
								6677
							],
							[
								6727,
								6730
							],
							[
								6752,
								6757
							],
							[
								6806,
								6822
							],
							[
								6871,
								6881
							],
							[
								6886,
								6899
							],
							[
								6976,
								6989
							],
							[
								7366,
								7374
							],
							[
								7390,
								7404
							],
							[
								7477,
								7494
							],
							[
								7787,
								7804
							],
							[
								8290,
								8307
							],
							[
								8731,
								8751
							],
							[
								8880,
								8890
							],
							[
								9139,
								9152
							],
							[
								9210,
								9214
							],
							[
								9323,
								9328
							],
							[
								9335,
								9338
							],
							[
								9367,
								9378
							],
							[
								9434,
								9447
							],
							[
								9456,
								9461
							],
							[
								9468,
								9471
							],
							[
								9527,
								9540
							],
							[
								9683,
								9702
							],
							[
								9788,
								9808
							],
							[
								9853,
								9870
							],
							[
								9912,
								9920
							],
							[
								9966,
								9974
							],
							[
								10050,
								10059
							],
							[
								10232,
								10250
							],
							[
								10590,
								10608
							],
							[
								10881,
								10899
							],
							[
								11133,
								11151
							],
							[
								11869,
								11887
							],
							[
								12217,
								12236
							],
							[
								12582,
								12612
							]
						],
						"symlist":
						[
							"JS_TYPED_ARRAY_HPP",
							"number_type",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"pointer_type",
							"value_type",
							"js_array_from",
							"TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" is_floating_point",
							" TypedArrayType",
							" constructor_name",
							" cv_type",
							" flags",
							" TypedArrayValue",
							"TypedArrayProps",
							" TypedArrayProps",
							" ptr",
							" size",
							" size",
							"TypedArrayRange",
							" TypedArrayRange",
							" begin",
							" end",
							" begin",
							"TypedArrayTraits",
							"value_type",
							" static_assert",
							" static_assert",
							" getProps",
							" TypedArrayType",
							" js_typedarray_new",
							" js_typedarray_new",
							" js_typedarray_new",
							" js_typedarray_remain",
							"value_type",
							"js_typedarray",
							" from",
							" begin",
							" end",
							" from_vector",
							" from_sequence",
							" begin",
							" end",
							" from_sequence",
							" js_arraybuffer_from",
							" js_typedarray_remain",
							" js_typedarray_new",
							" getProps",
							" to_array",
							" to_scalar",
							" js_typedarray_from",
							" js_typedarray_from",
							" js_typedarray_from",
							" js_typedarray_type",
							" js_typedarray_type",
							" js_typedarray_props",
							" js_typedarray_inputoutputarray"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABABQAASlNfVFlQRURfQVJSQVlfSFBQCiAgbnVtYmVyX3R5cGUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgcG9pbnRlcl90eXBlCiAgdmFsdWVfdHlwZQogIGpzX2FycmF5X2Zyb20KVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKICBpc19mbG9hdGluZ19wb2ludApUeXBlZEFycmF5VHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBjdl90eXBlCiAgZmxhZ3MKVHlwZWRBcnJheVZhbHVlClR5cGVkQXJyYXlQcm9wcwogIHB0cgogIHNpemUKICBzaXplClR5cGVkQXJyYXlSYW5nZQpUeXBlZEFycmF5UmFuZ2UKICBiZWdpbgogIGVuZAogIGJlZ2luClR5cGVkQXJyYXlUcmFpdHMKICB2YWx1ZV90eXBlCiAgc3RhdGljX2Fzc2VydAogIHN0YXRpY19hc3NlcnQKICBnZXRQcm9wcwpUeXBlZEFycmF5VHlwZQogIGpzX3R5cGVkYXJyYXlfbmV3CiAganNfdHlwZWRhcnJheV9uZXcKICBqc190eXBlZGFycmF5X25ldwogIGpzX3R5cGVkYXJyYXlfcmVtYWluCiAgdmFsdWVfdHlwZQogIGpzX3R5cGVkYXJyYXkKICBmcm9tCiAgYmVnaW4KICBlbmQKICBmcm9tX3ZlY3RvcgogIGZyb21fc2VxdWVuY2UKICBiZWdpbgogIGVuZAogIGZyb21fc2VxdWVuY2UKICBqc19hcnJheWJ1ZmZlcl9mcm9tCiAganNfdHlwZWRhcnJheV9yZW1haW4KICBqc190eXBlZGFycmF5X25ldwogIGdldFByb3BzCiAgdG9fYXJyYXkKICB0b19zY2FsYXIKICBqc190eXBlZGFycmF5X2Zyb20KICBqc190eXBlZGFycmF5X2Zyb20KICBqc190eXBlZGFycmF5X2Zyb20KICBqc190eXBlZGFycmF5X3R5cGUKICBqc190eXBlZGFycmF5X3R5cGUKICBqc190eXBlZGFycmF5X3Byb3BzCiAganNfdHlwZWRhcnJheV9pbnB1dG91dHB1dGFycmF5AAAAAAAAAABQBQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					273,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/js_typed_array.hpp",
						"symkeys":
						[
							[
								35,
								53
							],
							[
								204,
								215
							],
							[
								283,
								294
							],
							[
								322,
								332
							],
							[
								411,
								427
							],
							[
								482,
								493
							],
							[
								523,
								533
							],
							[
								612,
								628
							],
							[
								684,
								695
							],
							[
								725,
								735
							],
							[
								814,
								830
							],
							[
								886,
								897
							],
							[
								929,
								939
							],
							[
								1018,
								1034
							],
							[
								1091,
								1102
							],
							[
								1132,
								1142
							],
							[
								1221,
								1237
							],
							[
								1293,
								1304
							],
							[
								1336,
								1346
							],
							[
								1425,
								1441
							],
							[
								1498,
								1509
							],
							[
								1539,
								1549
							],
							[
								1628,
								1644
							],
							[
								1703,
								1714
							],
							[
								1746,
								1756
							],
							[
								1835,
								1851
							],
							[
								1911,
								1922
							],
							[
								1948,
								1958
							],
							[
								2037,
								2053
							],
							[
								2111,
								2122
							],
							[
								2150,
								2160
							],
							[
								2239,
								2255
							],
							[
								2320,
								2332
							],
							[
								2414,
								2424
							],
							[
								2599,
								2612
							],
							[
								4050,
								4064
							],
							[
								4069,
								4083
							],
							[
								4179,
								4193
							],
							[
								4331,
								4345
							],
							[
								4484,
								4498
							],
							[
								4648,
								4662
							],
							[
								4774,
								4791
							],
							[
								4851,
								4865
							],
							[
								5035,
								5051
							],
							[
								5330,
								5337
							],
							[
								5676,
								5681
							],
							[
								5912,
								5927
							],
							[
								5967,
								5982
							],
							[
								5985,
								6000
							],
							[
								6241,
								6244
							],
							[
								6460,
								6464
							],
							[
								6532,
								6536
							],
							[
								6624,
								6639
							],
							[
								6669,
								6684
							],
							[
								6757,
								6762
							],
							[
								6812,
								6815
							],
							[
								6837,
								6842
							],
							[
								6891,
								6907
							],
							[
								6956,
								6966
							],
							[
								6971,
								6984
							],
							[
								7061,
								7074
							],
							[
								7451,
								7459
							],
							[
								7475,
								7489
							],
							[
								7562,
								7579
							],
							[
								7872,
								7889
							],
							[
								8375,
								8392
							],
							[
								8816,
								8836
							],
							[
								8965,
								8975
							],
							[
								9224,
								9237
							],
							[
								9295,
								9299
							],
							[
								9408,
								9413
							],
							[
								9420,
								9423
							],
							[
								9452,
								9463
							],
							[
								9519,
								9532
							],
							[
								9541,
								9546
							],
							[
								9553,
								9556
							],
							[
								9612,
								9625
							],
							[
								9768,
								9787
							],
							[
								9873,
								9893
							],
							[
								9938,
								9955
							],
							[
								9997,
								10005
							],
							[
								10051,
								10059
							],
							[
								10135,
								10144
							],
							[
								10317,
								10335
							],
							[
								10675,
								10693
							],
							[
								10966,
								10984
							],
							[
								11218,
								11236
							],
							[
								11954,
								11972
							],
							[
								12302,
								12321
							],
							[
								12667,
								12697
							]
						],
						"symlist":
						[
							"JS_TYPED_ARRAY_HPP",
							"number_type",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"pointer_type",
							"value_type",
							"js_array_from",
							"TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" is_floating_point",
							" TypedArrayType",
							" constructor_name",
							" cv_type",
							" flags",
							" TypedArrayValue",
							"TypedArrayProps",
							" TypedArrayProps",
							" ptr",
							" size",
							" size",
							"TypedArrayRange",
							" TypedArrayRange",
							" begin",
							" end",
							" begin",
							"TypedArrayTraits",
							"value_type",
							" static_assert",
							" static_assert",
							" getProps",
							" TypedArrayType",
							" js_typedarray_new",
							" js_typedarray_new",
							" js_typedarray_new",
							" js_typedarray_remain",
							"value_type",
							"js_typedarray",
							" from",
							" begin",
							" end",
							" from_vector",
							" from_sequence",
							" begin",
							" end",
							" from_sequence",
							" js_arraybuffer_from",
							" js_typedarray_remain",
							" js_typedarray_new",
							" getProps",
							" to_array",
							" to_scalar",
							" js_typedarray_from",
							" js_typedarray_from",
							" js_typedarray_from",
							" js_typedarray_type",
							" js_typedarray_type",
							" js_typedarray_props",
							" js_typedarray_inputoutputarray"
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAABQBQAASlNfVFlQRURfQVJSQVlfSFBQCiAgbnVtYmVyX3R5cGUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgcG9pbnRlcl90eXBlCiAgdmFsdWVfdHlwZQogIGpzX2FycmF5X2Zyb20KVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKICBpc19mbG9hdGluZ19wb2ludApUeXBlZEFycmF5VHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBjdl90eXBlCiAgZmxhZ3MKVHlwZWRBcnJheVZhbHVlClR5cGVkQXJyYXlQcm9wcwpUeXBlZEFycmF5UHJvcHMKICBwdHIKICBzaXplCiAgc2l6ZQpUeXBlZEFycmF5UmFuZ2UKVHlwZWRBcnJheVJhbmdlCiAgYmVnaW4KICBlbmQKICBiZWdpbgpUeXBlZEFycmF5VHJhaXRzCiAgdmFsdWVfdHlwZQogIHN0YXRpY19hc3NlcnQKICBzdGF0aWNfYXNzZXJ0CiAgZ2V0UHJvcHMKVHlwZWRBcnJheVR5cGUKICBqc190eXBlZGFycmF5X25ldwogIGpzX3R5cGVkYXJyYXlfbmV3CiAganNfdHlwZWRhcnJheV9uZXcKICBqc190eXBlZGFycmF5X3JlbWFpbgogIHZhbHVlX3R5cGUKICBqc190eXBlZGFycmF5CiAgZnJvbQogIGJlZ2luCiAgZW5kCiAgZnJvbV92ZWN0b3IKICBmcm9tX3NlcXVlbmNlCiAgYmVnaW4KICBlbmQKICBmcm9tX3NlcXVlbmNlCiAganNfYXJyYXlidWZmZXJfZnJvbQogIGpzX3R5cGVkYXJyYXlfcmVtYWluCiAganNfdHlwZWRhcnJheV9uZXcKICBnZXRQcm9wcwogIHRvX2FycmF5CiAgdG9fc2NhbGFyCiAganNfdHlwZWRhcnJheV9mcm9tCiAganNfdHlwZWRhcnJheV9mcm9tCiAganNfdHlwZWRhcnJheV9mcm9tCiAganNfdHlwZWRhcnJheV90eXBlCiAganNfdHlwZWRhcnJheV90eXBlCiAganNfdHlwZWRhcnJheV9wcm9wcwogIGpzX3R5cGVkYXJyYXlfaW5wdXRvdXRwdXRhcnJheQAAAAAAAAAAUAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAFAABKU19UWVBFRF9BUlJBWV9IUFAKICBudW1iZXJfdHlwZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBwb2ludGVyX3R5cGUKICB2YWx1ZV90eXBlCiAganNfYXJyYXlfZnJvbQpUeXBlZEFycmF5VHlwZQpUeXBlZEFycmF5VHlwZQpUeXBlZEFycmF5VHlwZQpUeXBlZEFycmF5VHlwZQpUeXBlZEFycmF5VHlwZQpUeXBlZEFycmF5VHlwZQogIGlzX2Zsb2F0aW5nX3BvaW50ClR5cGVkQXJyYXlUeXBlCiAgY29uc3RydWN0b3JfbmFtZQogIGN2X3R5cGUKICBmbGFncwpUeXBlZEFycmF5VmFsdWUKVHlwZWRBcnJheVByb3BzClR5cGVkQXJyYXlQcm9wcwogIHB0cgogIHNpemUKICBzaXplClR5cGVkQXJyYXlSYW5nZQpUeXBlZEFycmF5UmFuZ2UKICBiZWdpbgogIGVuZAogIGJlZ2luClR5cGVkQXJyYXlUcmFpdHMKICB2YWx1ZV90eXBlCiAgc3RhdGljX2Fzc2VydAogIHN0YXRpY19hc3NlcnQKICBnZXRQcm9wcwpUeXBlZEFycmF5VHlwZQogIGpzX3R5cGVkYXJyYXlfbmV3CiAganNfdHlwZWRhcnJheV9uZXcKICBqc190eXBlZGFycmF5X25ldwogIGpzX3R5cGVkYXJyYXlfcmVtYWluCiAgdmFsdWVfdHlwZQogIGpzX3R5cGVkYXJyYXkKICBmcm9tCiAgYmVnaW4KICBlbmQKICBmcm9tX3ZlY3RvcgogIGZyb21fc2VxdWVuY2UKICBiZWdpbgogIGVuZAogIGZyb21fc2VxdWVuY2UKICBqc19hcnJheWJ1ZmZlcl9mcm9tCiAganNfdHlwZWRhcnJheV9yZW1haW4KICBqc190eXBlZGFycmF5X25ldwogIGdldFByb3BzCiAgdG9fYXJyYXkKICB0b19zY2FsYXIKICBqc190eXBlZGFycmF5X2Zyb20KICBqc190eXBlZGFycmF5X2Zyb20KICBqc190eXBlZGFycmF5X2Zyb20KICBqc190eXBlZGFycmF5X3R5cGUKICBqc190eXBlZGFycmF5X3R5cGUKICBqc190eXBlZGFycmF5X3Byb3BzCiAganNfdHlwZWRhcnJheV9pbnB1dG91dHB1dGFycmF5AAAAAAAAAABQBQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					274,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/js_typed_array.hpp",
						"symkeys":
						[
							[
								35,
								53
							],
							[
								204,
								215
							],
							[
								283,
								294
							],
							[
								322,
								332
							],
							[
								411,
								427
							],
							[
								482,
								493
							],
							[
								523,
								533
							],
							[
								612,
								628
							],
							[
								684,
								695
							],
							[
								725,
								735
							],
							[
								814,
								830
							],
							[
								886,
								897
							],
							[
								929,
								939
							],
							[
								1018,
								1034
							],
							[
								1091,
								1102
							],
							[
								1132,
								1142
							],
							[
								1221,
								1237
							],
							[
								1293,
								1304
							],
							[
								1336,
								1346
							],
							[
								1425,
								1441
							],
							[
								1498,
								1509
							],
							[
								1539,
								1549
							],
							[
								1628,
								1644
							],
							[
								1703,
								1714
							],
							[
								1746,
								1756
							],
							[
								1835,
								1851
							],
							[
								1911,
								1922
							],
							[
								1948,
								1958
							],
							[
								2037,
								2053
							],
							[
								2111,
								2122
							],
							[
								2150,
								2160
							],
							[
								2239,
								2255
							],
							[
								2320,
								2332
							],
							[
								2414,
								2424
							],
							[
								2599,
								2612
							],
							[
								4050,
								4064
							],
							[
								4069,
								4083
							],
							[
								4179,
								4193
							],
							[
								4331,
								4345
							],
							[
								4484,
								4498
							],
							[
								4648,
								4662
							],
							[
								4774,
								4791
							],
							[
								4851,
								4865
							],
							[
								5035,
								5051
							],
							[
								5330,
								5337
							],
							[
								5676,
								5681
							],
							[
								5912,
								5927
							],
							[
								5967,
								5982
							],
							[
								5987,
								6002
							],
							[
								6243,
								6246
							],
							[
								6462,
								6466
							],
							[
								6534,
								6538
							],
							[
								6626,
								6641
							],
							[
								6671,
								6686
							],
							[
								6759,
								6764
							],
							[
								6814,
								6817
							],
							[
								6839,
								6844
							],
							[
								6893,
								6909
							],
							[
								6958,
								6968
							],
							[
								6973,
								6986
							],
							[
								7063,
								7076
							],
							[
								7453,
								7461
							],
							[
								7477,
								7491
							],
							[
								7564,
								7581
							],
							[
								7874,
								7891
							],
							[
								8377,
								8394
							],
							[
								8818,
								8838
							],
							[
								8967,
								8977
							],
							[
								9226,
								9239
							],
							[
								9297,
								9301
							],
							[
								9410,
								9415
							],
							[
								9422,
								9425
							],
							[
								9454,
								9465
							],
							[
								9521,
								9534
							],
							[
								9543,
								9548
							],
							[
								9555,
								9558
							],
							[
								9614,
								9627
							],
							[
								9770,
								9789
							],
							[
								9875,
								9895
							],
							[
								9940,
								9957
							],
							[
								9999,
								10007
							],
							[
								10053,
								10061
							],
							[
								10137,
								10146
							],
							[
								10319,
								10337
							],
							[
								10677,
								10695
							],
							[
								10968,
								10986
							],
							[
								11220,
								11238
							],
							[
								11956,
								11974
							],
							[
								12304,
								12323
							],
							[
								12669,
								12699
							]
						],
						"symlist":
						[
							"JS_TYPED_ARRAY_HPP",
							"number_type",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"pointer_type",
							"value_type",
							"js_array_from",
							"TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" is_floating_point",
							" TypedArrayType",
							" constructor_name",
							" cv_type",
							" flags",
							" TypedArrayValue",
							"TypedArrayProps",
							" TypedArrayProps",
							" ptr",
							" size",
							" size",
							"TypedArrayRange",
							" TypedArrayRange",
							" begin",
							" end",
							" begin",
							"TypedArrayTraits",
							"value_type",
							" static_assert",
							" static_assert",
							" getProps",
							" TypedArrayType",
							" js_typedarray_new",
							" js_typedarray_new",
							" js_typedarray_new",
							" js_typedarray_remain",
							"value_type",
							"js_typedarray",
							" from",
							" begin",
							" end",
							" from_vector",
							" from_sequence",
							" begin",
							" end",
							" from_sequence",
							" js_arraybuffer_from",
							" js_typedarray_remain",
							" js_typedarray_new",
							" getProps",
							" to_array",
							" to_scalar",
							" js_typedarray_from",
							" js_typedarray_from",
							" js_typedarray_from",
							" js_typedarray_type",
							" js_typedarray_type",
							" js_typedarray_props",
							" js_typedarray_inputoutputarray"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABQBQAASlNfVFlQRURfQVJSQVlfSFBQCiAgbnVtYmVyX3R5cGUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgcG9pbnRlcl90eXBlCiAgdmFsdWVfdHlwZQogIGpzX2FycmF5X2Zyb20KVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKICBpc19mbG9hdGluZ19wb2ludApUeXBlZEFycmF5VHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBjdl90eXBlCiAgZmxhZ3MKVHlwZWRBcnJheVZhbHVlClR5cGVkQXJyYXlQcm9wcwpUeXBlZEFycmF5UHJvcHMKICBwdHIKICBzaXplCiAgc2l6ZQpUeXBlZEFycmF5UmFuZ2UKVHlwZWRBcnJheVJhbmdlCiAgYmVnaW4KICBlbmQKICBiZWdpbgpUeXBlZEFycmF5VHJhaXRzCiAgdmFsdWVfdHlwZQogIHN0YXRpY19hc3NlcnQKICBzdGF0aWNfYXNzZXJ0CiAgZ2V0UHJvcHMKVHlwZWRBcnJheVR5cGUKICBqc190eXBlZGFycmF5X25ldwogIGpzX3R5cGVkYXJyYXlfbmV3CiAganNfdHlwZWRhcnJheV9uZXcKICBqc190eXBlZGFycmF5X3JlbWFpbgogIHZhbHVlX3R5cGUKICBqc190eXBlZGFycmF5CiAgZnJvbQogIGJlZ2luCiAgZW5kCiAgZnJvbV92ZWN0b3IKICBmcm9tX3NlcXVlbmNlCiAgYmVnaW4KICBlbmQKICBmcm9tX3NlcXVlbmNlCiAganNfYXJyYXlidWZmZXJfZnJvbQogIGpzX3R5cGVkYXJyYXlfcmVtYWluCiAganNfdHlwZWRhcnJheV9uZXcKICBnZXRQcm9wcwogIHRvX2FycmF5CiAgdG9fc2NhbGFyCiAganNfdHlwZWRhcnJheV9mcm9tCiAganNfdHlwZWRhcnJheV9mcm9tCiAganNfdHlwZWRhcnJheV9mcm9tCiAganNfdHlwZWRhcnJheV90eXBlCiAganNfdHlwZWRhcnJheV90eXBlCiAganNfdHlwZWRhcnJheV9wcm9wcwogIGpzX3R5cGVkYXJyYXlfaW5wdXRvdXRwdXRhcnJheQAAAAAAAAAAUAUAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					275,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/js_typed_array.hpp",
						"symkeys":
						[
							[
								35,
								53
							],
							[
								204,
								215
							],
							[
								283,
								294
							],
							[
								322,
								332
							],
							[
								411,
								427
							],
							[
								482,
								493
							],
							[
								523,
								533
							],
							[
								612,
								628
							],
							[
								684,
								695
							],
							[
								725,
								735
							],
							[
								814,
								830
							],
							[
								886,
								897
							],
							[
								929,
								939
							],
							[
								1018,
								1034
							],
							[
								1091,
								1102
							],
							[
								1132,
								1142
							],
							[
								1221,
								1237
							],
							[
								1293,
								1304
							],
							[
								1336,
								1346
							],
							[
								1425,
								1441
							],
							[
								1498,
								1509
							],
							[
								1539,
								1549
							],
							[
								1628,
								1644
							],
							[
								1703,
								1714
							],
							[
								1746,
								1756
							],
							[
								1835,
								1851
							],
							[
								1911,
								1922
							],
							[
								1948,
								1958
							],
							[
								2037,
								2053
							],
							[
								2111,
								2122
							],
							[
								2150,
								2160
							],
							[
								2239,
								2255
							],
							[
								2320,
								2332
							],
							[
								2414,
								2424
							],
							[
								2599,
								2612
							],
							[
								4050,
								4064
							],
							[
								4069,
								4083
							],
							[
								4179,
								4193
							],
							[
								4331,
								4345
							],
							[
								4484,
								4498
							],
							[
								4648,
								4662
							],
							[
								4774,
								4791
							],
							[
								4851,
								4865
							],
							[
								5035,
								5051
							],
							[
								5330,
								5337
							],
							[
								5676,
								5681
							],
							[
								5912,
								5927
							],
							[
								5967,
								5982
							],
							[
								5996,
								6011
							],
							[
								6252,
								6255
							],
							[
								6471,
								6475
							],
							[
								6543,
								6547
							],
							[
								6635,
								6650
							],
							[
								6680,
								6695
							],
							[
								6768,
								6773
							],
							[
								6823,
								6826
							],
							[
								6848,
								6853
							],
							[
								6902,
								6918
							],
							[
								6967,
								6977
							],
							[
								6982,
								6995
							],
							[
								7072,
								7085
							],
							[
								7462,
								7470
							],
							[
								7486,
								7500
							],
							[
								7573,
								7590
							],
							[
								7883,
								7900
							],
							[
								8386,
								8403
							],
							[
								8827,
								8847
							],
							[
								8976,
								8986
							],
							[
								9235,
								9248
							],
							[
								9306,
								9310
							],
							[
								9419,
								9424
							],
							[
								9431,
								9434
							],
							[
								9463,
								9474
							],
							[
								9530,
								9543
							],
							[
								9552,
								9557
							],
							[
								9564,
								9567
							],
							[
								9623,
								9636
							],
							[
								9779,
								9798
							],
							[
								9884,
								9904
							],
							[
								9949,
								9966
							],
							[
								10008,
								10016
							],
							[
								10062,
								10070
							],
							[
								10146,
								10155
							],
							[
								10328,
								10346
							],
							[
								10686,
								10704
							],
							[
								10977,
								10995
							],
							[
								11229,
								11247
							],
							[
								11965,
								11983
							],
							[
								12313,
								12332
							],
							[
								12678,
								12708
							]
						],
						"symlist":
						[
							"JS_TYPED_ARRAY_HPP",
							"number_type",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"pointer_type",
							"value_type",
							"js_array_from",
							"TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" is_floating_point",
							" TypedArrayType",
							" constructor_name",
							" cv_type",
							" flags",
							" TypedArrayValue",
							"TypedArrayProps",
							" TypedArrayProps",
							" ptr",
							" size",
							" size",
							"TypedArrayRange",
							" TypedArrayRange",
							" begin",
							" end",
							" begin",
							"TypedArrayTraits",
							"value_type",
							" static_assert",
							" static_assert",
							" getProps",
							" TypedArrayType",
							" js_typedarray_new",
							" js_typedarray_new",
							" js_typedarray_new",
							" js_typedarray_remain",
							"value_type",
							"js_typedarray",
							" from",
							" begin",
							" end",
							" from_vector",
							" from_sequence",
							" begin",
							" end",
							" from_sequence",
							" js_arraybuffer_from",
							" js_typedarray_remain",
							" js_typedarray_new",
							" getProps",
							" to_array",
							" to_scalar",
							" js_typedarray_from",
							" js_typedarray_from",
							" js_typedarray_from",
							" js_typedarray_type",
							" js_typedarray_type",
							" js_typedarray_props",
							" js_typedarray_inputoutputarray"
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAABQBQAASlNfVFlQRURfQVJSQVlfSFBQCiAgbnVtYmVyX3R5cGUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgcG9pbnRlcl90eXBlCiAgdmFsdWVfdHlwZQogIGpzX2FycmF5X2Zyb20KVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKICBpc19mbG9hdGluZ19wb2ludApUeXBlZEFycmF5VHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBjdl90eXBlCiAgZmxhZ3MKVHlwZWRBcnJheVZhbHVlClR5cGVkQXJyYXlQcm9wcwpUeXBlZEFycmF5UHJvcHMKICBwdHIKICBzaXplCiAgc2l6ZQpUeXBlZEFycmF5UmFuZ2UKVHlwZWRBcnJheVJhbmdlCiAgYmVnaW4KICBlbmQKICBiZWdpbgpUeXBlZEFycmF5VHJhaXRzCiAgdmFsdWVfdHlwZQogIHN0YXRpY19hc3NlcnQKICBzdGF0aWNfYXNzZXJ0CiAgZ2V0UHJvcHMKVHlwZWRBcnJheVR5cGUKICBqc190eXBlZGFycmF5X25ldwogIGpzX3R5cGVkYXJyYXlfbmV3CiAganNfdHlwZWRhcnJheV9uZXcKICBqc190eXBlZGFycmF5X3JlbWFpbgogIHZhbHVlX3R5cGUKICBqc190eXBlZGFycmF5CiAgZnJvbQogIGJlZ2luCiAgZW5kCiAgZnJvbV92ZWN0b3IKICBmcm9tX3NlcXVlbmNlCiAgYmVnaW4KICBlbmQKICBmcm9tX3NlcXVlbmNlCiAganNfYXJyYXlidWZmZXJfZnJvbQogIGpzX3R5cGVkYXJyYXlfcmVtYWluCiAganNfdHlwZWRhcnJheV9uZXcKICBnZXRQcm9wcwogIHRvX2FycmF5CiAgdG9fc2NhbGFyCiAganNfdHlwZWRhcnJheV9mcm9tCiAganNfdHlwZWRhcnJheV9mcm9tCiAganNfdHlwZWRhcnJheV9mcm9tCiAganNfdHlwZWRhcnJheV90eXBlCiAganNfdHlwZWRhcnJheV90eXBlCiAganNfdHlwZWRhcnJheV9wcm9wcwogIGpzX3R5cGVkYXJyYXlfaW5wdXRvdXRwdXRhcnJheQAAAAAAAAAAUAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAFAABKU19UWVBFRF9BUlJBWV9IUFAKICBudW1iZXJfdHlwZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBwb2ludGVyX3R5cGUKICB2YWx1ZV90eXBlCiAganNfYXJyYXlfZnJvbQpUeXBlZEFycmF5VHlwZQpUeXBlZEFycmF5VHlwZQpUeXBlZEFycmF5VHlwZQpUeXBlZEFycmF5VHlwZQpUeXBlZEFycmF5VHlwZQpUeXBlZEFycmF5VHlwZQogIGlzX2Zsb2F0aW5nX3BvaW50ClR5cGVkQXJyYXlUeXBlCiAgY29uc3RydWN0b3JfbmFtZQogIGN2X3R5cGUKICBmbGFncwpUeXBlZEFycmF5VmFsdWUKVHlwZWRBcnJheVByb3BzClR5cGVkQXJyYXlQcm9wcwogIHB0cgogIHNpemUKICBzaXplClR5cGVkQXJyYXlSYW5nZQpUeXBlZEFycmF5UmFuZ2UKICBiZWdpbgogIGVuZAogIGJlZ2luClR5cGVkQXJyYXlUcmFpdHMKICB2YWx1ZV90eXBlCiAgc3RhdGljX2Fzc2VydAogIHN0YXRpY19hc3NlcnQKICBnZXRQcm9wcwpUeXBlZEFycmF5VHlwZQogIGpzX3R5cGVkYXJyYXlfbmV3CiAganNfdHlwZWRhcnJheV9uZXcKICBqc190eXBlZGFycmF5X25ldwogIGpzX3R5cGVkYXJyYXlfcmVtYWluCiAgdmFsdWVfdHlwZQogIGpzX3R5cGVkYXJyYXkKICBmcm9tCiAgYmVnaW4KICBlbmQKICBmcm9tX3ZlY3RvcgogIGZyb21fc2VxdWVuY2UKICBiZWdpbgogIGVuZAogIGZyb21fc2VxdWVuY2UKICBqc19hcnJheWJ1ZmZlcl9mcm9tCiAganNfdHlwZWRhcnJheV9yZW1haW4KICBqc190eXBlZGFycmF5X25ldwogIGdldFByb3BzCiAgdG9fYXJyYXkKICB0b19zY2FsYXIKICBqc190eXBlZGFycmF5X2Zyb20KICBqc190eXBlZGFycmF5X2Zyb20KICBqc190eXBlZGFycmF5X2Zyb20KICBqc190eXBlZGFycmF5X3R5cGUKICBqc190eXBlZGFycmF5X3R5cGUKICBqc190eXBlZGFycmF5X3Byb3BzCiAganNfdHlwZWRhcnJheV9pbnB1dG91dHB1dGFycmF5AAAAAAAAAABQBQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					276,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABQBQAASlNfVFlQRURfQVJSQVlfSFBQCiAgbnVtYmVyX3R5cGUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgcG9pbnRlcl90eXBlCiAgdmFsdWVfdHlwZQogIGpzX2FycmF5X2Zyb20KVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKICBpc19mbG9hdGluZ19wb2ludApUeXBlZEFycmF5VHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBjdl90eXBlCiAgZmxhZ3MKVHlwZWRBcnJheVZhbHVlClR5cGVkQXJyYXlQcm9wcwpUeXBlZEFycmF5UHJvcHMKICBwdHIKICBzaXplCiAgc2l6ZQpUeXBlZEFycmF5UmFuZ2UKVHlwZWRBcnJheVJhbmdlCiAgYmVnaW4KICBlbmQKICBiZWdpbgpUeXBlZEFycmF5VHJhaXRzCiAgdmFsdWVfdHlwZQogIHN0YXRpY19hc3NlcnQKICBzdGF0aWNfYXNzZXJ0CiAgZ2V0UHJvcHMKVHlwZWRBcnJheVR5cGUKICBqc190eXBlZGFycmF5X25ldwogIGpzX3R5cGVkYXJyYXlfbmV3CiAganNfdHlwZWRhcnJheV9uZXcKICBqc190eXBlZGFycmF5X3JlbWFpbgogIHZhbHVlX3R5cGUKICBqc190eXBlZGFycmF5CiAgZnJvbQogIGJlZ2luCiAgZW5kCiAgZnJvbV92ZWN0b3IKICBmcm9tX3NlcXVlbmNlCiAgYmVnaW4KICBlbmQKICBmcm9tX3NlcXVlbmNlCiAganNfYXJyYXlidWZmZXJfZnJvbQogIGpzX3R5cGVkYXJyYXlfcmVtYWluCiAganNfdHlwZWRhcnJheV9uZXcKICBnZXRQcm9wcwogIHRvX2FycmF5CiAgdG9fc2NhbGFyCiAganNfdHlwZWRhcnJheV9mcm9tCiAganNfdHlwZWRhcnJheV9mcm9tCiAganNfdHlwZWRhcnJheV9mcm9tCiAganNfdHlwZWRhcnJheV90eXBlCiAganNfdHlwZWRhcnJheV90eXBlCiAganNfdHlwZWRhcnJheV9wcm9wcwogIGpzX3R5cGVkYXJyYXlfaW5wdXRvdXRwdXRhcnJheQAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					277,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/js_typed_array.hpp",
						"symkeys":
						[
							[
								35,
								53
							],
							[
								204,
								215
							],
							[
								283,
								294
							],
							[
								322,
								332
							],
							[
								411,
								427
							],
							[
								482,
								493
							],
							[
								523,
								533
							],
							[
								612,
								628
							],
							[
								684,
								695
							],
							[
								725,
								735
							],
							[
								814,
								830
							],
							[
								886,
								897
							],
							[
								929,
								939
							],
							[
								1018,
								1034
							],
							[
								1091,
								1102
							],
							[
								1132,
								1142
							],
							[
								1221,
								1237
							],
							[
								1293,
								1304
							],
							[
								1336,
								1346
							],
							[
								1425,
								1441
							],
							[
								1498,
								1509
							],
							[
								1539,
								1549
							],
							[
								1628,
								1644
							],
							[
								1703,
								1714
							],
							[
								1746,
								1756
							],
							[
								1835,
								1851
							],
							[
								1911,
								1922
							],
							[
								1948,
								1958
							],
							[
								2037,
								2053
							],
							[
								2111,
								2122
							],
							[
								2150,
								2160
							],
							[
								2239,
								2255
							],
							[
								2320,
								2332
							],
							[
								2414,
								2424
							],
							[
								2599,
								2612
							],
							[
								4050,
								4064
							],
							[
								4069,
								4083
							],
							[
								4179,
								4193
							],
							[
								4331,
								4345
							],
							[
								4484,
								4498
							],
							[
								4648,
								4662
							],
							[
								4774,
								4791
							],
							[
								4851,
								4865
							],
							[
								5035,
								5051
							],
							[
								5330,
								5337
							],
							[
								5676,
								5681
							],
							[
								5912,
								5927
							],
							[
								5967,
								5982
							],
							[
								5996,
								6011
							],
							[
								6252,
								6255
							],
							[
								6471,
								6475
							],
							[
								6543,
								6547
							],
							[
								6635,
								6650
							],
							[
								6680,
								6695
							],
							[
								6768,
								6773
							],
							[
								6823,
								6826
							],
							[
								6848,
								6853
							],
							[
								6902,
								6918
							],
							[
								6967,
								6977
							],
							[
								6982,
								6995
							],
							[
								7072,
								7085
							],
							[
								7462,
								7470
							],
							[
								7486,
								7500
							],
							[
								7573,
								7590
							],
							[
								7883,
								7900
							],
							[
								8386,
								8403
							],
							[
								8827,
								8847
							],
							[
								8976,
								8986
							],
							[
								9235,
								9248
							],
							[
								9306,
								9310
							],
							[
								9419,
								9424
							],
							[
								9431,
								9434
							],
							[
								9463,
								9474
							],
							[
								9530,
								9543
							],
							[
								9552,
								9557
							],
							[
								9564,
								9567
							],
							[
								9623,
								9636
							],
							[
								9779,
								9798
							],
							[
								9884,
								9904
							],
							[
								9949,
								9966
							],
							[
								10008,
								10016
							],
							[
								10062,
								10070
							],
							[
								10146,
								10155
							],
							[
								10328,
								10346
							],
							[
								10686,
								10704
							],
							[
								10977,
								10995
							],
							[
								11229,
								11247
							],
							[
								11965,
								11983
							],
							[
								12313,
								12332
							],
							[
								12678,
								12708
							]
						],
						"symlist":
						[
							"JS_TYPED_ARRAY_HPP",
							"number_type",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"pointer_type",
							"value_type",
							"js_array_from",
							"TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" is_floating_point",
							" TypedArrayType",
							" constructor_name",
							" cv_type",
							" flags",
							" TypedArrayValue",
							"TypedArrayProps",
							" TypedArrayProps",
							" ptr",
							" size",
							" size",
							"TypedArrayRange",
							" TypedArrayRange",
							" begin",
							" end",
							" begin",
							"TypedArrayTraits",
							"value_type",
							" static_assert",
							" static_assert",
							" getProps",
							" TypedArrayType",
							" js_typedarray_new",
							" js_typedarray_new",
							" js_typedarray_new",
							" js_typedarray_remain",
							"value_type",
							"js_typedarray",
							" from",
							" begin",
							" end",
							" from_vector",
							" from_sequence",
							" begin",
							" end",
							" from_sequence",
							" js_arraybuffer_from",
							" js_typedarray_remain",
							" js_typedarray_new",
							" getProps",
							" to_array",
							" to_scalar",
							" js_typedarray_from",
							" js_typedarray_from",
							" js_typedarray_from",
							" js_typedarray_type",
							" js_typedarray_type",
							" js_typedarray_props",
							" js_typedarray_inputoutputarray"
						]
					},
					"AQAAAAAAAAAAAAAAUAUAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					278,
					2,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AwAAAAAAAAAAAAAAAAAAAAAAAABQBQAASlNfVFlQRURfQVJSQVlfSFBQCiAgbnVtYmVyX3R5cGUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgcG9pbnRlcl90eXBlCiAgdmFsdWVfdHlwZQogIGpzX2FycmF5X2Zyb20KVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKICBpc19mbG9hdGluZ19wb2ludApUeXBlZEFycmF5VHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBjdl90eXBlCiAgZmxhZ3MKVHlwZWRBcnJheVZhbHVlClR5cGVkQXJyYXlQcm9wcwpUeXBlZEFycmF5UHJvcHMKICBwdHIKICBzaXplCiAgc2l6ZQpUeXBlZEFycmF5UmFuZ2UKVHlwZWRBcnJheVJhbmdlCiAgYmVnaW4KICBlbmQKICBiZWdpbgpUeXBlZEFycmF5VHJhaXRzCiAgdmFsdWVfdHlwZQogIHN0YXRpY19hc3NlcnQKICBzdGF0aWNfYXNzZXJ0CiAgZ2V0UHJvcHMKVHlwZWRBcnJheVR5cGUKICBqc190eXBlZGFycmF5X25ldwogIGpzX3R5cGVkYXJyYXlfbmV3CiAganNfdHlwZWRhcnJheV9uZXcKICBqc190eXBlZGFycmF5X3JlbWFpbgogIHZhbHVlX3R5cGUKICBqc190eXBlZGFycmF5CiAgZnJvbQogIGJlZ2luCiAgZW5kCiAgZnJvbV92ZWN0b3IKICBmcm9tX3NlcXVlbmNlCiAgYmVnaW4KICBlbmQKICBmcm9tX3NlcXVlbmNlCiAganNfYXJyYXlidWZmZXJfZnJvbQogIGpzX3R5cGVkYXJyYXlfcmVtYWluCiAganNfdHlwZWRhcnJheV9uZXcKICBnZXRQcm9wcwogIHRvX2FycmF5CiAgdG9fc2NhbGFyCiAganNfdHlwZWRhcnJheV9mcm9tCiAganNfdHlwZWRhcnJheV9mcm9tCiAganNfdHlwZWRhcnJheV9mcm9tCiAganNfdHlwZWRhcnJheV90eXBlCiAganNfdHlwZWRhcnJheV90eXBlCiAganNfdHlwZWRhcnJheV9wcm9wcwogIGpzX3R5cGVkYXJyYXlfaW5wdXRvdXRwdXRhcnJheQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					279,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/jsbindings.hpp",
						"symkeys":
						[
							[
								31,
								45
							],
							[
								425,
								436
							],
							[
								454,
								463
							],
							[
								482,
								492
							],
							[
								513,
								524
							],
							[
								980,
								998
							],
							[
								1022,
								1037
							],
							[
								1066,
								1077
							],
							[
								1104,
								1116
							],
							[
								1143,
								1156
							],
							[
								1188,
								1206
							],
							[
								1479,
								1491
							],
							[
								1521,
								1531
							],
							[
								1557,
								1568
							],
							[
								1595,
								1606
							],
							[
								1894,
								1901
							],
							[
								1902,
								1912
							],
							[
								1932,
								1938
							],
							[
								1953,
								1960
							],
							[
								1961,
								1974
							],
							[
								2008,
								2014
							],
							[
								2015,
								2028
							],
							[
								2069,
								2094
							],
							[
								2858,
								2875
							],
							[
								2913,
								2925
							],
							[
								2970,
								2981
							],
							[
								3057,
								3071
							],
							[
								3127,
								3147
							],
							[
								3187,
								3206
							],
							[
								3246,
								3265
							],
							[
								3305,
								3323
							],
							[
								3363,
								3385
							],
							[
								3425,
								3444
							],
							[
								3484,
								3503
							],
							[
								3543,
								3560
							],
							[
								3600,
								3628
							],
							[
								3660,
								3681
							],
							[
								3726,
								3747
							],
							[
								4031,
								4042
							],
							[
								4436,
								4449
							],
							[
								4504,
								4518
							],
							[
								4576,
								4594
							],
							[
								4652,
								4667
							],
							[
								4731,
								4747
							],
							[
								4804,
								4818
							],
							[
								4876,
								4890
							],
							[
								4930,
								4950
							],
							[
								5381,
								5388
							],
							[
								5430,
								5454
							],
							[
								5524,
								5531
							],
							[
								5710,
								5718
							],
							[
								5824,
								5830
							],
							[
								5960,
								5974
							],
							[
								6137,
								6160
							],
							[
								6273,
								6297
							],
							[
								6412,
								6435
							],
							[
								6566,
								6579
							],
							[
								6668,
								6690
							],
							[
								6782,
								6805
							],
							[
								6900,
								6922
							],
							[
								6993,
								7006
							],
							[
								7074,
								7087
							],
							[
								7171,
								7184
							],
							[
								7504,
								7516
							],
							[
								8175,
								8181
							],
							[
								8272,
								8280
							],
							[
								8380,
								8400
							],
							[
								8608,
								8628
							],
							[
								8716,
								8726
							],
							[
								8967,
								8986
							],
							[
								9269,
								9288
							],
							[
								9786,
								9799
							],
							[
								10026,
								10040
							],
							[
								10123,
								10146
							],
							[
								10401,
								10414
							],
							[
								10639,
								10657
							],
							[
								10847,
								10868
							],
							[
								11148,
								11168
							],
							[
								11393,
								11407
							],
							[
								11599,
								11617
							],
							[
								12079,
								12093
							],
							[
								12473,
								12489
							],
							[
								12676,
								12692
							],
							[
								12728,
								12744
							],
							[
								12822,
								12839
							],
							[
								13133,
								13153
							],
							[
								13329,
								13345
							],
							[
								13907,
								13920
							],
							[
								14229,
								14252
							],
							[
								14699,
								14724
							],
							[
								15005,
								15021
							],
							[
								15952,
								15963
							],
							[
								16086,
								16101
							],
							[
								16302,
								16318
							],
							[
								16745,
								16746
							],
							[
								16875,
								16886
							],
							[
								16997,
								17008
							],
							[
								17122,
								17133
							],
							[
								17363,
								17364
							],
							[
								17497,
								17510
							],
							[
								17603,
								17616
							],
							[
								17699,
								17712
							],
							[
								17857,
								17870
							],
							[
								17990,
								18001
							],
							[
								18031,
								18040
							],
							[
								18146,
								18161
							],
							[
								18181,
								18186
							],
							[
								18232,
								18248
							],
							[
								18302,
								18313
							],
							[
								18349,
								18358
							],
							[
								18373,
								18385
							],
							[
								18414,
								18426
							],
							[
								18454,
								18458
							],
							[
								18507,
								18515
							],
							[
								18637,
								18652
							],
							[
								18721,
								18737
							],
							[
								18791,
								18802
							],
							[
								18856,
								18868
							],
							[
								18897,
								18909
							],
							[
								18960,
								18969
							],
							[
								19038,
								19046
							],
							[
								19150,
								19164
							],
							[
								19326,
								19340
							],
							[
								19425,
								19435
							],
							[
								19526,
								19540
							]
						],
						"symlist":
						[
							"JSBINDINGS_HPP",
							"JSRectDataD",
							"JSMatData",
							"JSUMatData",
							"JSSizeDataD",
							"JSVideoCaptureData",
							"JSTickMeterData",
							"JSCLAHEData",
							"JSInputArray",
							"JSOutputArray",
							"JSInputOutputArray",
							"JSLineTraits",
							"array_type",
							"vector_type",
							"scalar_type",
							"VISIBLE",
							"__declspec",
							"HIDDEN",
							"VISIBLE",
							"__attribute__",
							"HIDDEN",
							"__attribute__",
							"JS_CGETSET_ENUMERABLE_DEF",
							"js_draw_functions",
							"js_draw_init",
							"js_line_new",
							"js_init_module",
							"js_init_module_point",
							"js_init_module_size",
							"js_init_module_rect",
							"js_init_module_mat",
							"js_init_module_contour",
							"js_init_module_line",
							"js_init_module_draw",
							"js_init_module_cv",
							"js_init_module_video_capture",
							"js_video_capture_init",
							"js_video_capture_wrap",
							"js_mat_wrap",
							"js_global_get",
							"js_is_iterable",
							"js_iterator_method",
							"js_iterator_new",
							"js_iterator_next",
							"js_symbol_atom",
							"js_symbol_ctor",
							"js_symbol_get_static",
							"countof",
							"js_vector_vec4i_to_array",
							"js_ctor",
							"js_proto",
							"js_new",
							"js_number_read",
							"js_number_read<int32_t>",
							"js_number_read<uint32_t>",
							"js_number_read<int64_t>",
							"js_number_new",
							"js_number_new<int32_t>",
							"js_number_new<uint32_t>",
							"js_number_new<int64_t>",
							"js_color_read",
							"js_color_read",
							"js_color_read",
							"js_color_new",
							"js_ref",
							"round_to",
							"js_arraybuffer_range",
							"js_arraybuffer_range",
							"value_type",
							"js_arraybuffer_from",
							"js_arraybuffer_from",
							"js_global_get",
							"js_symbol_ctor",
							"js_symbol_invoke_static",
							"js_symbol_for",
							"js_symbol_for_atom",
							"js_set_inspect_method",
							"js_symbol_get_static",
							"js_symbol_atom",
							"js_iterator_method",
							"js_is_iterable",
							"js_is_array_like",
							"ArrayBufferProps",
							" ArrayBufferProps",
							"js_is_arraybuffer",
							"js_arraybuffer_props",
							"js_function_name",
							"js_class_name",
							"js_typedarray_prototype",
							"js_typedarray_constructor",
							"js_is_typedarray",
							"js_is_array",
							"js_iterator_new",
							"js_iterator_next",
							"T",
							"js_value_to",
							"js_value_to",
							"js_value_to",
							"T",
							"js_value_from",
							"js_value_from",
							"js_value_from",
							"js_value_from",
							"js_iterable",
							" to_vector",
							" js_iterator_new",
							" clear",
							" js_iterator_next",
							" js_value_to",
							" push_back",
							" JS_FreeValue",
							" JS_FreeValue",
							" size",
							" to_array",
							" js_iterator_new",
							" js_iterator_next",
							" js_value_to",
							" JS_FreeValue",
							" JS_FreeValue",
							" to_scalar",
							" to_array",
							"js_iterable_to",
							"js_iterable_to",
							"array_type",
							"js_iterable_to"
						]
					},
					"AQAAAAAAAAAAAAAAIAgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					280,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/js_slice_iterator.hpp",
						"symkeys":
						[
							[
								38,
								59
							],
							[
								141,
								163
							],
							[
								327,
								348
							],
							[
								435,
								457
							],
							[
								501,
								530
							],
							[
								579,
								598
							]
						],
						"symlist":
						[
							"JS_SLICE_ITERATOR_HPP",
							"js_slice_iterator_init",
							"js_slice_iterator_new",
							"js_slice_iterator_init",
							"js_init_module_slice_iterator",
							"JSSliceIteratorData"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAgCAAASlNCSU5ESU5HU19IUFAKSlNSZWN0RGF0YUQKSlNNYXREYXRhCkpTVU1hdERhdGEKSlNTaXplRGF0YUQKSlNWaWRlb0NhcHR1cmVEYXRhCkpTVGlja01ldGVyRGF0YQpKU0NMQUhFRGF0YQpKU0lucHV0QXJyYXkKSlNPdXRwdXRBcnJheQpKU0lucHV0T3V0cHV0QXJyYXkKSlNMaW5lVHJhaXRzCiAgYXJyYXlfdHlwZQogIHZlY3Rvcl90eXBlCiAgc2NhbGFyX3R5cGUKVklTSUJMRQogIF9fZGVjbHNwZWMKSElEREVOClZJU0lCTEUKICBfX2F0dHJpYnV0ZV9fCkhJRERFTgogIF9fYXR0cmlidXRlX18KSlNfQ0dFVFNFVF9FTlVNRVJBQkxFX0RFRgogIGpzX2RyYXdfcwogIGpzX2RyYXdfaW5pdAogIGpzX2xpbmVfbmV3CiAganNfaW5pdF9tb2R1bGUKICBqc19pbml0X21vZHVsZV9wb2ludAogIGpzX2luaXRfbW9kdWxlX3NpemUKICBqc19pbml0X21vZHVsZV9yZWN0CiAganNfaW5pdF9tb2R1bGVfbWF0CiAganNfaW5pdF9tb2R1bGVfY29udG91cgogIGpzX2luaXRfbW9kdWxlX2xpbmUKICBqc19pbml0X21vZHVsZV9kcmF3CiAganNfaW5pdF9tb2R1bGVfY3YKICBqc19pbml0X21vZHVsZV92aWRlb19jYXB0dXJlCiAganNfdmlkZW9fY2FwdHVyZV9pbml0CiAganNfdmlkZW9fY2FwdHVyZV93cmFwCiAganNfbWF0X3dyYXAKICBqc19nbG9iYWxfZ2V0CiAganNfaXNfaXRlcmFibGUKICBqc19pdGVyYXRvcl9tZXRob2QKICBqc19pdGVyYXRvcl9uZXcKICBqc19pdGVyYXRvcl9uZXh0CiAganNfc3ltYm9sX2F0b20KICBqc19zeW1ib2xfY3RvcgogIGpzX3N5bWJvbF9nZXRfc3RhdGljCiAgY291bnRvZgogIGpzX3ZlY3Rvcl92ZWM0aV90b19hcnJheQogIGpzX2N0b3IKICBqc19wcm90bwogIGpzX25ldwogIGpzX251bWJlcl9yZWFkCiAganNfbnVtYmVyX3JlYWQ8aW50MzJfdD4KICBqc19udW1iZXJfcmVhZDx1aW50MzJfdD4KICBqc19udW1iZXJfcmVhZDxpbnQ2NF90PgogIGpzX251bWJlcl9uZXcKICBqc19udW1iZXJfbmV3PGludDMyX3Q+CiAganNfbnVtYmVyX25ldzx1aW50MzJfdD4KICBqc19udW1iZXJfbmV3PGludDY0X3Q+CiAganNfY29sb3JfcmVhZAogIGpzX2NvbG9yX3JlYWQKICBqc19jb2xvcl9yZWFkCiAganNfY29sb3JfbmV3CiAganNfcmVmCiAgcm91bmRfdG8KICBqc19hcnJheWJ1ZmZlcl9yYW5nZQogIGpzX2FycmF5YnVmZmVyX3JhbmdlCiAgdmFsdWVfdHlwZQogIGpzX2FycmF5YnVmZmVyX2Zyb20KICBqc19hcnJheWJ1ZmZlcl9mcm9tCiAganNfZ2xvYmFsX2dldAogIGpzX3N5bWJvbF9jdG9yCiAganNfc3ltYm9sX2ludm9rZV9zdGF0aWMKICBqc19zeW1ib2xfZm9yCiAganNfc3ltYm9sX2Zvcl9hdG9tCiAganNfc2V0X2luc3BlY3RfbWV0aG9kCiAganNfc3ltYm9sX2dldF9zdGF0aWMKICBqc19zeW1ib2xfYXRvbQogIGpzX2l0ZXJhdG9yX21ldGhvZAogIGpzX2lzX2l0ZXJhYmxlCiAganNfaXNfYXJyYXlfbGlrZQpBcnJheUJ1ZmZlclByb3BzCkFycmF5QnVmZmVyUHJvcHMKICBqc19pc19hcnJheWJ1ZmZlcgogIGpzX2FycmF5YnVmZmVyX3Byb3BzCiAganNfX25hbWUKICBqc19jbGFzc19uYW1lCiAganNfdHlwZWRhcnJheV9wcm90b3R5cGUKICBqc190eXBlZGFycmF5X2NvbnN0cnVjdG9yCiAganNfaXNfdHlwZWRhcnJheQogIGpzX2lzX2FycmF5CiAganNfaXRlcmF0b3JfbmV3CiAganNfaXRlcmF0b3JfbmV4dAogIGpzX3ZhbHVlX3RvCiAganNfdmFsdWVfdG8KICBqc192YWx1ZV90bwogIGpzX3ZhbHVlX2Zyb20KICBqc192YWx1ZV9mcm9tCiAganNfdmFsdWVfZnJvbQogIGpzX3ZhbHVlX2Zyb20KICBqc19pdGVyYWJsZQogIHRvX3ZlY3RvcgogIGpzX2l0ZXJhdG9yX25ldwogIGNsZWFyCiAganNfaXRlcmF0b3JfbmV4dAogIGpzX3ZhbHVlX3RvCiAgcHVzaF9iYWNrCkpTX0ZyZWVWYWx1ZQpKU19GcmVlVmFsdWUKICBzaXplCiAgdG9fYXJyYXkKICBqc19pdGVyYXRvcl9uZXcKICBqc19pdGVyYXRvcl9uZXh0CiAganNfdmFsdWVfdG8KSlNfRnJlZVZhbHVlCkpTX0ZyZWVWYWx1ZQogIHRvX3NjYWxhcgogIHRvX2FycmF5CiAganNfaXRlcmFibGVfdG8KICBqc19pdGVyYWJsZV90bwogIGFycmF5X3R5cGUKICBqc19pdGVyYWJsZV90bwAAAAAAAAAAkwAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					281,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/jsbindings.hpp",
						"symkeys":
						[
							[
								31,
								45
							],
							[
								425,
								436
							],
							[
								454,
								463
							],
							[
								482,
								492
							],
							[
								513,
								524
							],
							[
								980,
								998
							],
							[
								1022,
								1037
							],
							[
								1066,
								1077
							],
							[
								1104,
								1116
							],
							[
								1143,
								1156
							],
							[
								1188,
								1206
							],
							[
								1479,
								1491
							],
							[
								1521,
								1531
							],
							[
								1557,
								1568
							],
							[
								1595,
								1606
							],
							[
								1894,
								1901
							],
							[
								1902,
								1912
							],
							[
								1932,
								1938
							],
							[
								1953,
								1960
							],
							[
								1961,
								1974
							],
							[
								2008,
								2014
							],
							[
								2015,
								2028
							],
							[
								2069,
								2094
							],
							[
								2858,
								2875
							],
							[
								2913,
								2925
							],
							[
								2970,
								2981
							],
							[
								3057,
								3071
							],
							[
								3127,
								3147
							],
							[
								3187,
								3206
							],
							[
								3246,
								3265
							],
							[
								3305,
								3323
							],
							[
								3363,
								3385
							],
							[
								3425,
								3444
							],
							[
								3484,
								3503
							],
							[
								3543,
								3560
							],
							[
								3600,
								3628
							],
							[
								3660,
								3681
							],
							[
								3726,
								3747
							],
							[
								4031,
								4042
							],
							[
								4436,
								4449
							],
							[
								4504,
								4518
							],
							[
								4576,
								4594
							],
							[
								4652,
								4667
							],
							[
								4731,
								4747
							],
							[
								4804,
								4818
							],
							[
								4876,
								4890
							],
							[
								4930,
								4950
							],
							[
								5381,
								5388
							],
							[
								5430,
								5454
							],
							[
								5524,
								5531
							],
							[
								5710,
								5718
							],
							[
								5824,
								5830
							],
							[
								5960,
								5974
							],
							[
								6137,
								6160
							],
							[
								6273,
								6297
							],
							[
								6412,
								6435
							],
							[
								6566,
								6579
							],
							[
								6668,
								6690
							],
							[
								6782,
								6805
							],
							[
								6900,
								6922
							],
							[
								6993,
								7006
							],
							[
								7074,
								7087
							],
							[
								7171,
								7184
							],
							[
								7504,
								7516
							],
							[
								8175,
								8181
							],
							[
								8272,
								8280
							],
							[
								8380,
								8400
							],
							[
								8608,
								8628
							],
							[
								8716,
								8726
							],
							[
								8967,
								8986
							],
							[
								9269,
								9288
							],
							[
								9786,
								9799
							],
							[
								10026,
								10040
							],
							[
								10123,
								10146
							],
							[
								10401,
								10414
							],
							[
								10639,
								10657
							],
							[
								10847,
								10868
							],
							[
								11148,
								11168
							],
							[
								11393,
								11407
							],
							[
								11599,
								11617
							],
							[
								12079,
								12093
							],
							[
								12473,
								12489
							],
							[
								12676,
								12692
							],
							[
								12728,
								12744
							],
							[
								12822,
								12839
							],
							[
								13133,
								13153
							],
							[
								13329,
								13345
							],
							[
								13907,
								13920
							],
							[
								14229,
								14252
							],
							[
								14699,
								14724
							],
							[
								15005,
								15021
							],
							[
								15952,
								15963
							],
							[
								16086,
								16101
							],
							[
								16302,
								16318
							],
							[
								16745,
								16746
							],
							[
								16875,
								16886
							],
							[
								16997,
								17008
							],
							[
								17122,
								17133
							],
							[
								17363,
								17364
							],
							[
								17497,
								17510
							],
							[
								17603,
								17616
							],
							[
								17699,
								17712
							],
							[
								17857,
								17870
							],
							[
								17990,
								18001
							],
							[
								18031,
								18040
							],
							[
								18146,
								18161
							],
							[
								18181,
								18186
							],
							[
								18232,
								18248
							],
							[
								18302,
								18313
							],
							[
								18349,
								18358
							],
							[
								18373,
								18385
							],
							[
								18414,
								18426
							],
							[
								18454,
								18458
							],
							[
								18507,
								18515
							],
							[
								18637,
								18652
							],
							[
								18721,
								18737
							],
							[
								18791,
								18802
							],
							[
								18856,
								18868
							],
							[
								18897,
								18909
							],
							[
								18960,
								18969
							],
							[
								19038,
								19046
							],
							[
								19150,
								19164
							],
							[
								19326,
								19340
							],
							[
								19425,
								19435
							],
							[
								19526,
								19540
							]
						],
						"symlist":
						[
							"JSBINDINGS_HPP",
							"JSRectDataD",
							"JSMatData",
							"JSUMatData",
							"JSSizeDataD",
							"JSVideoCaptureData",
							"JSTickMeterData",
							"JSCLAHEData",
							"JSInputArray",
							"JSOutputArray",
							"JSInputOutputArray",
							"JSLineTraits",
							"array_type",
							"vector_type",
							"scalar_type",
							"VISIBLE",
							"__declspec",
							"HIDDEN",
							"VISIBLE",
							"__attribute__",
							"HIDDEN",
							"__attribute__",
							"JS_CGETSET_ENUMERABLE_DEF",
							"js_draw_functions",
							"js_draw_init",
							"js_line_new",
							"js_init_module",
							"js_init_module_point",
							"js_init_module_size",
							"js_init_module_rect",
							"js_init_module_mat",
							"js_init_module_contour",
							"js_init_module_line",
							"js_init_module_draw",
							"js_init_module_cv",
							"js_init_module_video_capture",
							"js_video_capture_init",
							"js_video_capture_wrap",
							"js_mat_wrap",
							"js_global_get",
							"js_is_iterable",
							"js_iterator_method",
							"js_iterator_new",
							"js_iterator_next",
							"js_symbol_atom",
							"js_symbol_ctor",
							"js_symbol_get_static",
							"countof",
							"js_vector_vec4i_to_array",
							"js_ctor",
							"js_proto",
							"js_new",
							"js_number_read",
							"js_number_read<int32_t>",
							"js_number_read<uint32_t>",
							"js_number_read<int64_t>",
							"js_number_new",
							"js_number_new<int32_t>",
							"js_number_new<uint32_t>",
							"js_number_new<int64_t>",
							"js_color_read",
							"js_color_read",
							"js_color_read",
							"js_color_new",
							"js_ref",
							"round_to",
							"js_arraybuffer_range",
							"js_arraybuffer_range",
							"value_type",
							"js_arraybuffer_from",
							"js_arraybuffer_from",
							"js_global_get",
							"js_symbol_ctor",
							"js_symbol_invoke_static",
							"js_symbol_for",
							"js_symbol_for_atom",
							"js_set_inspect_method",
							"js_symbol_get_static",
							"js_symbol_atom",
							"js_iterator_method",
							"js_is_iterable",
							"js_is_array_like",
							"ArrayBufferProps",
							" ArrayBufferProps",
							"js_is_arraybuffer",
							"js_arraybuffer_props",
							"js_function_name",
							"js_class_name",
							"js_typedarray_prototype",
							"js_typedarray_constructor",
							"js_is_typedarray",
							"js_is_array",
							"js_iterator_new",
							"js_iterator_next",
							"T",
							"js_value_to",
							"js_value_to",
							"js_value_to",
							"T",
							"js_value_from",
							"js_value_from",
							"js_value_from",
							"js_value_from",
							"js_iterable",
							" to_vector",
							" js_iterator_new",
							" clear",
							" js_iterator_next",
							" js_value_to",
							" push_back",
							" JS_FreeValue",
							" JS_FreeValue",
							" size",
							" to_array",
							" js_iterator_new",
							" js_iterator_next",
							" js_value_to",
							" JS_FreeValue",
							" JS_FreeValue",
							" to_scalar",
							" to_array",
							"js_iterable_to",
							"js_iterable_to",
							"array_type",
							"js_iterable_to"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACTAAAASlNfU0xJQ0VfSVRFUkFUT1JfSFBQCiAganNfc2xpY2VfaXRlcmF0b3JfaW5pdAogIGpzX3NsaWNlX2l0ZXJhdG9yX25ldwogIGpzX3NsaWNlX2l0ZXJhdG9yX2luaXQKICBqc19pbml0X21vZHVsZV9zbGljZV9pdGVyYXRvcgpKU1NsaWNlSXRlcmF0b3JEYXRhAAAAAAAAAAAgCAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					282,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/js_typed_array.hpp",
						"symkeys":
						[
							[
								35,
								53
							],
							[
								204,
								215
							],
							[
								283,
								294
							],
							[
								322,
								332
							],
							[
								411,
								427
							],
							[
								482,
								493
							],
							[
								523,
								533
							],
							[
								612,
								628
							],
							[
								684,
								695
							],
							[
								725,
								735
							],
							[
								814,
								830
							],
							[
								886,
								897
							],
							[
								929,
								939
							],
							[
								1018,
								1034
							],
							[
								1091,
								1102
							],
							[
								1132,
								1142
							],
							[
								1221,
								1237
							],
							[
								1293,
								1304
							],
							[
								1336,
								1346
							],
							[
								1425,
								1441
							],
							[
								1498,
								1509
							],
							[
								1539,
								1549
							],
							[
								1628,
								1644
							],
							[
								1703,
								1714
							],
							[
								1746,
								1756
							],
							[
								1835,
								1851
							],
							[
								1911,
								1922
							],
							[
								1948,
								1958
							],
							[
								2037,
								2053
							],
							[
								2111,
								2122
							],
							[
								2150,
								2160
							],
							[
								2239,
								2255
							],
							[
								2320,
								2332
							],
							[
								2414,
								2424
							],
							[
								2599,
								2612
							],
							[
								4050,
								4064
							],
							[
								4069,
								4083
							],
							[
								4179,
								4193
							],
							[
								4331,
								4345
							],
							[
								4484,
								4498
							],
							[
								4648,
								4662
							],
							[
								4774,
								4791
							],
							[
								4851,
								4865
							],
							[
								5035,
								5051
							],
							[
								5330,
								5337
							],
							[
								5676,
								5681
							],
							[
								5912,
								5927
							],
							[
								5967,
								5982
							],
							[
								5996,
								6011
							],
							[
								6252,
								6255
							],
							[
								6471,
								6475
							],
							[
								6543,
								6547
							],
							[
								6635,
								6650
							],
							[
								6680,
								6695
							],
							[
								6768,
								6773
							],
							[
								6823,
								6826
							],
							[
								6848,
								6853
							],
							[
								6902,
								6918
							],
							[
								6967,
								6977
							],
							[
								6982,
								6995
							],
							[
								7072,
								7085
							],
							[
								7462,
								7470
							],
							[
								7486,
								7500
							],
							[
								7573,
								7590
							],
							[
								7883,
								7900
							],
							[
								8386,
								8403
							],
							[
								8827,
								8847
							],
							[
								8976,
								8986
							],
							[
								9235,
								9248
							],
							[
								9306,
								9310
							],
							[
								9419,
								9424
							],
							[
								9431,
								9434
							],
							[
								9463,
								9474
							],
							[
								9530,
								9543
							],
							[
								9552,
								9557
							],
							[
								9564,
								9567
							],
							[
								9623,
								9636
							],
							[
								9779,
								9798
							],
							[
								9884,
								9904
							],
							[
								9949,
								9966
							],
							[
								10008,
								10016
							],
							[
								10062,
								10070
							],
							[
								10146,
								10155
							],
							[
								10328,
								10346
							],
							[
								10686,
								10704
							],
							[
								10977,
								10995
							],
							[
								11229,
								11247
							],
							[
								11965,
								11983
							],
							[
								12313,
								12332
							],
							[
								12678,
								12708
							]
						],
						"symlist":
						[
							"JS_TYPED_ARRAY_HPP",
							"number_type",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"pointer_type",
							"value_type",
							"js_array_from",
							"TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" is_floating_point",
							" TypedArrayType",
							" constructor_name",
							" cv_type",
							" flags",
							" TypedArrayValue",
							"TypedArrayProps",
							" TypedArrayProps",
							" ptr",
							" size",
							" size",
							"TypedArrayRange",
							" TypedArrayRange",
							" begin",
							" end",
							" begin",
							"TypedArrayTraits",
							"value_type",
							" static_assert",
							" static_assert",
							" getProps",
							" TypedArrayType",
							" js_typedarray_new",
							" js_typedarray_new",
							" js_typedarray_new",
							" js_typedarray_remain",
							"value_type",
							"js_typedarray",
							" from",
							" begin",
							" end",
							" from_vector",
							" from_sequence",
							" begin",
							" end",
							" from_sequence",
							" js_arraybuffer_from",
							" js_typedarray_remain",
							" js_typedarray_new",
							" getProps",
							" to_array",
							" to_scalar",
							" js_typedarray_from",
							" js_typedarray_from",
							" js_typedarray_from",
							" js_typedarray_type",
							" js_typedarray_type",
							" js_typedarray_props",
							" js_typedarray_inputoutputarray"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAgCAAASlNCSU5ESU5HU19IUFAKSlNSZWN0RGF0YUQKSlNNYXREYXRhCkpTVU1hdERhdGEKSlNTaXplRGF0YUQKSlNWaWRlb0NhcHR1cmVEYXRhCkpTVGlja01ldGVyRGF0YQpKU0NMQUhFRGF0YQpKU0lucHV0QXJyYXkKSlNPdXRwdXRBcnJheQpKU0lucHV0T3V0cHV0QXJyYXkKSlNMaW5lVHJhaXRzCiAgYXJyYXlfdHlwZQogIHZlY3Rvcl90eXBlCiAgc2NhbGFyX3R5cGUKVklTSUJMRQogIF9fZGVjbHNwZWMKSElEREVOClZJU0lCTEUKICBfX2F0dHJpYnV0ZV9fCkhJRERFTgogIF9fYXR0cmlidXRlX18KSlNfQ0dFVFNFVF9FTlVNRVJBQkxFX0RFRgogIGpzX2RyYXdfcwogIGpzX2RyYXdfaW5pdAogIGpzX2xpbmVfbmV3CiAganNfaW5pdF9tb2R1bGUKICBqc19pbml0X21vZHVsZV9wb2ludAogIGpzX2luaXRfbW9kdWxlX3NpemUKICBqc19pbml0X21vZHVsZV9yZWN0CiAganNfaW5pdF9tb2R1bGVfbWF0CiAganNfaW5pdF9tb2R1bGVfY29udG91cgogIGpzX2luaXRfbW9kdWxlX2xpbmUKICBqc19pbml0X21vZHVsZV9kcmF3CiAganNfaW5pdF9tb2R1bGVfY3YKICBqc19pbml0X21vZHVsZV92aWRlb19jYXB0dXJlCiAganNfdmlkZW9fY2FwdHVyZV9pbml0CiAganNfdmlkZW9fY2FwdHVyZV93cmFwCiAganNfbWF0X3dyYXAKICBqc19nbG9iYWxfZ2V0CiAganNfaXNfaXRlcmFibGUKICBqc19pdGVyYXRvcl9tZXRob2QKICBqc19pdGVyYXRvcl9uZXcKICBqc19pdGVyYXRvcl9uZXh0CiAganNfc3ltYm9sX2F0b20KICBqc19zeW1ib2xfY3RvcgogIGpzX3N5bWJvbF9nZXRfc3RhdGljCiAgY291bnRvZgogIGpzX3ZlY3Rvcl92ZWM0aV90b19hcnJheQogIGpzX2N0b3IKICBqc19wcm90bwogIGpzX25ldwogIGpzX251bWJlcl9yZWFkCiAganNfbnVtYmVyX3JlYWQ8aW50MzJfdD4KICBqc19udW1iZXJfcmVhZDx1aW50MzJfdD4KICBqc19udW1iZXJfcmVhZDxpbnQ2NF90PgogIGpzX251bWJlcl9uZXcKICBqc19udW1iZXJfbmV3PGludDMyX3Q+CiAganNfbnVtYmVyX25ldzx1aW50MzJfdD4KICBqc19udW1iZXJfbmV3PGludDY0X3Q+CiAganNfY29sb3JfcmVhZAogIGpzX2NvbG9yX3JlYWQKICBqc19jb2xvcl9yZWFkCiAganNfY29sb3JfbmV3CiAganNfcmVmCiAgcm91bmRfdG8KICBqc19hcnJheWJ1ZmZlcl9yYW5nZQogIGpzX2FycmF5YnVmZmVyX3JhbmdlCiAgdmFsdWVfdHlwZQogIGpzX2FycmF5YnVmZmVyX2Zyb20KICBqc19hcnJheWJ1ZmZlcl9mcm9tCiAganNfZ2xvYmFsX2dldAogIGpzX3N5bWJvbF9jdG9yCiAganNfc3ltYm9sX2ludm9rZV9zdGF0aWMKICBqc19zeW1ib2xfZm9yCiAganNfc3ltYm9sX2Zvcl9hdG9tCiAganNfc2V0X2luc3BlY3RfbWV0aG9kCiAganNfc3ltYm9sX2dldF9zdGF0aWMKICBqc19zeW1ib2xfYXRvbQogIGpzX2l0ZXJhdG9yX21ldGhvZAogIGpzX2lzX2l0ZXJhYmxlCiAganNfaXNfYXJyYXlfbGlrZQpBcnJheUJ1ZmZlclByb3BzCkFycmF5QnVmZmVyUHJvcHMKICBqc19pc19hcnJheWJ1ZmZlcgogIGpzX2FycmF5YnVmZmVyX3Byb3BzCiAganNfX25hbWUKICBqc19jbGFzc19uYW1lCiAganNfdHlwZWRhcnJheV9wcm90b3R5cGUKICBqc190eXBlZGFycmF5X2NvbnN0cnVjdG9yCiAganNfaXNfdHlwZWRhcnJheQogIGpzX2lzX2FycmF5CiAganNfaXRlcmF0b3JfbmV3CiAganNfaXRlcmF0b3JfbmV4dAogIGpzX3ZhbHVlX3RvCiAganNfdmFsdWVfdG8KICBqc192YWx1ZV90bwogIGpzX3ZhbHVlX2Zyb20KICBqc192YWx1ZV9mcm9tCiAganNfdmFsdWVfZnJvbQogIGpzX3ZhbHVlX2Zyb20KICBqc19pdGVyYWJsZQogIHRvX3ZlY3RvcgogIGpzX2l0ZXJhdG9yX25ldwogIGNsZWFyCiAganNfaXRlcmF0b3JfbmV4dAogIGpzX3ZhbHVlX3RvCiAgcHVzaF9iYWNrCkpTX0ZyZWVWYWx1ZQpKU19GcmVlVmFsdWUKICBzaXplCiAgdG9fYXJyYXkKICBqc19pdGVyYXRvcl9uZXcKICBqc19pdGVyYXRvcl9uZXh0CiAganNfdmFsdWVfdG8KSlNfRnJlZVZhbHVlCkpTX0ZyZWVWYWx1ZQogIHRvX3NjYWxhcgogIHRvX2FycmF5CiAganNfaXRlcmFibGVfdG8KICBqc19pdGVyYWJsZV90bwogIGFycmF5X3R5cGUKICBqc19pdGVyYWJsZV90bwAAAAAAAAAAUAUAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					283,
					2,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AwAAAAAAAAAAAAAAAAAAAAAAAABQBQAASlNfVFlQRURfQVJSQVlfSFBQCiAgbnVtYmVyX3R5cGUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgcG9pbnRlcl90eXBlCiAgdmFsdWVfdHlwZQogIGpzX2FycmF5X2Zyb20KVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKICBpc19mbG9hdGluZ19wb2ludApUeXBlZEFycmF5VHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBjdl90eXBlCiAgZmxhZ3MKVHlwZWRBcnJheVZhbHVlClR5cGVkQXJyYXlQcm9wcwpUeXBlZEFycmF5UHJvcHMKICBwdHIKICBzaXplCiAgc2l6ZQpUeXBlZEFycmF5UmFuZ2UKVHlwZWRBcnJheVJhbmdlCiAgYmVnaW4KICBlbmQKICBiZWdpbgpUeXBlZEFycmF5VHJhaXRzCiAgdmFsdWVfdHlwZQogIHN0YXRpY19hc3NlcnQKICBzdGF0aWNfYXNzZXJ0CiAgZ2V0UHJvcHMKVHlwZWRBcnJheVR5cGUKICBqc190eXBlZGFycmF5X25ldwogIGpzX3R5cGVkYXJyYXlfbmV3CiAganNfdHlwZWRhcnJheV9uZXcKICBqc190eXBlZGFycmF5X3JlbWFpbgogIHZhbHVlX3R5cGUKICBqc190eXBlZGFycmF5CiAgZnJvbQogIGJlZ2luCiAgZW5kCiAgZnJvbV92ZWN0b3IKICBmcm9tX3NlcXVlbmNlCiAgYmVnaW4KICBlbmQKICBmcm9tX3NlcXVlbmNlCiAganNfYXJyYXlidWZmZXJfZnJvbQogIGpzX3R5cGVkYXJyYXlfcmVtYWluCiAganNfdHlwZWRhcnJheV9uZXcKICBnZXRQcm9wcwogIHRvX2FycmF5CiAgdG9fc2NhbGFyCiAganNfdHlwZWRhcnJheV9mcm9tCiAganNfdHlwZWRhcnJheV9mcm9tCiAganNfdHlwZWRhcnJheV9mcm9tCiAganNfdHlwZWRhcnJheV90eXBlCiAganNfdHlwZWRhcnJheV90eXBlCiAganNfdHlwZWRhcnJheV9wcm9wcwogIGpzX3R5cGVkYXJyYXlfaW5wdXRvdXRwdXRhcnJheQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					284,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/jsbindings.hpp",
						"symkeys":
						[
							[
								31,
								45
							],
							[
								425,
								436
							],
							[
								454,
								463
							],
							[
								482,
								492
							],
							[
								513,
								524
							],
							[
								980,
								998
							],
							[
								1022,
								1037
							],
							[
								1066,
								1077
							],
							[
								1104,
								1116
							],
							[
								1143,
								1156
							],
							[
								1188,
								1206
							],
							[
								1479,
								1491
							],
							[
								1521,
								1531
							],
							[
								1557,
								1568
							],
							[
								1595,
								1606
							],
							[
								1894,
								1901
							],
							[
								1902,
								1912
							],
							[
								1932,
								1938
							],
							[
								1953,
								1960
							],
							[
								1961,
								1974
							],
							[
								2008,
								2014
							],
							[
								2015,
								2028
							],
							[
								2069,
								2094
							],
							[
								2858,
								2875
							],
							[
								2913,
								2925
							],
							[
								2970,
								2981
							],
							[
								3057,
								3071
							],
							[
								3127,
								3147
							],
							[
								3187,
								3206
							],
							[
								3246,
								3265
							],
							[
								3305,
								3323
							],
							[
								3363,
								3385
							],
							[
								3425,
								3444
							],
							[
								3484,
								3503
							],
							[
								3543,
								3560
							],
							[
								3600,
								3628
							],
							[
								3660,
								3681
							],
							[
								3726,
								3747
							],
							[
								4031,
								4042
							],
							[
								4436,
								4449
							],
							[
								4504,
								4518
							],
							[
								4576,
								4594
							],
							[
								4652,
								4667
							],
							[
								4731,
								4747
							],
							[
								4804,
								4818
							],
							[
								4876,
								4890
							],
							[
								4930,
								4950
							],
							[
								5381,
								5388
							],
							[
								5430,
								5454
							],
							[
								5524,
								5531
							],
							[
								5710,
								5718
							],
							[
								5824,
								5830
							],
							[
								5960,
								5974
							],
							[
								6137,
								6160
							],
							[
								6273,
								6297
							],
							[
								6412,
								6435
							],
							[
								6566,
								6579
							],
							[
								6668,
								6690
							],
							[
								6782,
								6805
							],
							[
								6900,
								6922
							],
							[
								6993,
								7006
							],
							[
								7074,
								7087
							],
							[
								7171,
								7184
							],
							[
								7504,
								7516
							],
							[
								8175,
								8181
							],
							[
								8272,
								8280
							],
							[
								8380,
								8400
							],
							[
								8608,
								8628
							],
							[
								8716,
								8726
							],
							[
								8967,
								8986
							],
							[
								9269,
								9288
							],
							[
								9786,
								9799
							],
							[
								10026,
								10040
							],
							[
								10123,
								10146
							],
							[
								10401,
								10414
							],
							[
								10639,
								10657
							],
							[
								10847,
								10868
							],
							[
								11148,
								11168
							],
							[
								11393,
								11407
							],
							[
								11599,
								11617
							],
							[
								12079,
								12093
							],
							[
								12473,
								12489
							],
							[
								12676,
								12692
							],
							[
								12728,
								12744
							],
							[
								12822,
								12839
							],
							[
								13133,
								13153
							],
							[
								13329,
								13345
							],
							[
								13907,
								13920
							],
							[
								14229,
								14252
							],
							[
								14699,
								14724
							],
							[
								15005,
								15021
							],
							[
								15952,
								15963
							],
							[
								16086,
								16101
							],
							[
								16302,
								16318
							],
							[
								16745,
								16746
							],
							[
								16875,
								16886
							],
							[
								16997,
								17008
							],
							[
								17122,
								17133
							],
							[
								17363,
								17364
							],
							[
								17497,
								17510
							],
							[
								17603,
								17616
							],
							[
								17699,
								17712
							],
							[
								17857,
								17870
							],
							[
								17990,
								18001
							],
							[
								18031,
								18040
							],
							[
								18146,
								18161
							],
							[
								18181,
								18186
							],
							[
								18232,
								18248
							],
							[
								18302,
								18313
							],
							[
								18349,
								18358
							],
							[
								18373,
								18385
							],
							[
								18414,
								18426
							],
							[
								18454,
								18458
							],
							[
								18507,
								18515
							],
							[
								18637,
								18652
							],
							[
								18721,
								18737
							],
							[
								18791,
								18802
							],
							[
								18856,
								18868
							],
							[
								18897,
								18909
							],
							[
								18960,
								18969
							],
							[
								19038,
								19046
							],
							[
								19150,
								19164
							],
							[
								19326,
								19340
							],
							[
								19425,
								19435
							],
							[
								19526,
								19540
							]
						],
						"symlist":
						[
							"JSBINDINGS_HPP",
							"JSRectDataD",
							"JSMatData",
							"JSUMatData",
							"JSSizeDataD",
							"JSVideoCaptureData",
							"JSTickMeterData",
							"JSCLAHEData",
							"JSInputArray",
							"JSOutputArray",
							"JSInputOutputArray",
							"JSLineTraits",
							"array_type",
							"vector_type",
							"scalar_type",
							"VISIBLE",
							"__declspec",
							"HIDDEN",
							"VISIBLE",
							"__attribute__",
							"HIDDEN",
							"__attribute__",
							"JS_CGETSET_ENUMERABLE_DEF",
							"js_draw_functions",
							"js_draw_init",
							"js_line_new",
							"js_init_module",
							"js_init_module_point",
							"js_init_module_size",
							"js_init_module_rect",
							"js_init_module_mat",
							"js_init_module_contour",
							"js_init_module_line",
							"js_init_module_draw",
							"js_init_module_cv",
							"js_init_module_video_capture",
							"js_video_capture_init",
							"js_video_capture_wrap",
							"js_mat_wrap",
							"js_global_get",
							"js_is_iterable",
							"js_iterator_method",
							"js_iterator_new",
							"js_iterator_next",
							"js_symbol_atom",
							"js_symbol_ctor",
							"js_symbol_get_static",
							"countof",
							"js_vector_vec4i_to_array",
							"js_ctor",
							"js_proto",
							"js_new",
							"js_number_read",
							"js_number_read<int32_t>",
							"js_number_read<uint32_t>",
							"js_number_read<int64_t>",
							"js_number_new",
							"js_number_new<int32_t>",
							"js_number_new<uint32_t>",
							"js_number_new<int64_t>",
							"js_color_read",
							"js_color_read",
							"js_color_read",
							"js_color_new",
							"js_ref",
							"round_to",
							"js_arraybuffer_range",
							"js_arraybuffer_range",
							"value_type",
							"js_arraybuffer_from",
							"js_arraybuffer_from",
							"js_global_get",
							"js_symbol_ctor",
							"js_symbol_invoke_static",
							"js_symbol_for",
							"js_symbol_for_atom",
							"js_set_inspect_method",
							"js_symbol_get_static",
							"js_symbol_atom",
							"js_iterator_method",
							"js_is_iterable",
							"js_is_array_like",
							"ArrayBufferProps",
							" ArrayBufferProps",
							"js_is_arraybuffer",
							"js_arraybuffer_props",
							"js_function_name",
							"js_class_name",
							"js_typedarray_prototype",
							"js_typedarray_constructor",
							"js_is_typedarray",
							"js_is_array",
							"js_iterator_new",
							"js_iterator_next",
							"T",
							"js_value_to",
							"js_value_to",
							"js_value_to",
							"T",
							"js_value_from",
							"js_value_from",
							"js_value_from",
							"js_value_from",
							"js_iterable",
							" to_vector",
							" js_iterator_new",
							" clear",
							" js_iterator_next",
							" js_value_to",
							" push_back",
							" JS_FreeValue",
							" JS_FreeValue",
							" size",
							" to_array",
							" js_iterator_new",
							" js_iterator_next",
							" js_value_to",
							" JS_FreeValue",
							" JS_FreeValue",
							" to_scalar",
							" to_array",
							"js_iterable_to",
							"js_iterable_to",
							"array_type",
							"js_iterable_to"
						]
					},
					"AQAAAAAAAAAAAAAAIAgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					285,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/js_typed_array.hpp",
						"symkeys":
						[
							[
								35,
								53
							],
							[
								204,
								215
							],
							[
								283,
								294
							],
							[
								322,
								332
							],
							[
								411,
								427
							],
							[
								482,
								493
							],
							[
								523,
								533
							],
							[
								612,
								628
							],
							[
								684,
								695
							],
							[
								725,
								735
							],
							[
								814,
								830
							],
							[
								886,
								897
							],
							[
								929,
								939
							],
							[
								1018,
								1034
							],
							[
								1091,
								1102
							],
							[
								1132,
								1142
							],
							[
								1221,
								1237
							],
							[
								1293,
								1304
							],
							[
								1336,
								1346
							],
							[
								1425,
								1441
							],
							[
								1498,
								1509
							],
							[
								1539,
								1549
							],
							[
								1628,
								1644
							],
							[
								1703,
								1714
							],
							[
								1746,
								1756
							],
							[
								1835,
								1851
							],
							[
								1911,
								1922
							],
							[
								1948,
								1958
							],
							[
								2037,
								2053
							],
							[
								2111,
								2122
							],
							[
								2150,
								2160
							],
							[
								2239,
								2255
							],
							[
								2320,
								2332
							],
							[
								2414,
								2424
							],
							[
								2599,
								2612
							],
							[
								4050,
								4064
							],
							[
								4069,
								4083
							],
							[
								4179,
								4193
							],
							[
								4331,
								4345
							],
							[
								4484,
								4498
							],
							[
								4648,
								4662
							],
							[
								4774,
								4791
							],
							[
								4851,
								4865
							],
							[
								5035,
								5051
							],
							[
								5330,
								5337
							],
							[
								5676,
								5681
							],
							[
								5912,
								5927
							],
							[
								5967,
								5982
							],
							[
								5996,
								6011
							],
							[
								6252,
								6255
							],
							[
								6471,
								6475
							],
							[
								6543,
								6547
							],
							[
								6635,
								6650
							],
							[
								6680,
								6695
							],
							[
								6768,
								6773
							],
							[
								6823,
								6826
							],
							[
								6848,
								6853
							],
							[
								6902,
								6918
							],
							[
								6967,
								6977
							],
							[
								6982,
								6995
							],
							[
								7072,
								7085
							],
							[
								7462,
								7470
							],
							[
								7486,
								7500
							],
							[
								7573,
								7590
							],
							[
								7883,
								7900
							],
							[
								8386,
								8403
							],
							[
								8827,
								8847
							],
							[
								8976,
								8986
							],
							[
								9235,
								9248
							],
							[
								9306,
								9310
							],
							[
								9419,
								9424
							],
							[
								9431,
								9434
							],
							[
								9463,
								9474
							],
							[
								9530,
								9543
							],
							[
								9552,
								9557
							],
							[
								9564,
								9567
							],
							[
								9623,
								9636
							],
							[
								9779,
								9798
							],
							[
								9884,
								9904
							],
							[
								9949,
								9966
							],
							[
								10008,
								10016
							],
							[
								10062,
								10070
							],
							[
								10146,
								10155
							],
							[
								10328,
								10346
							],
							[
								10686,
								10704
							],
							[
								10977,
								10995
							],
							[
								11229,
								11247
							],
							[
								11965,
								11983
							],
							[
								12313,
								12332
							],
							[
								12678,
								12708
							]
						],
						"symlist":
						[
							"JS_TYPED_ARRAY_HPP",
							"number_type",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"pointer_type",
							"value_type",
							"js_array_from",
							"TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" is_floating_point",
							" TypedArrayType",
							" constructor_name",
							" cv_type",
							" flags",
							" TypedArrayValue",
							"TypedArrayProps",
							" TypedArrayProps",
							" ptr",
							" size",
							" size",
							"TypedArrayRange",
							" TypedArrayRange",
							" begin",
							" end",
							" begin",
							"TypedArrayTraits",
							"value_type",
							" static_assert",
							" static_assert",
							" getProps",
							" TypedArrayType",
							" js_typedarray_new",
							" js_typedarray_new",
							" js_typedarray_new",
							" js_typedarray_remain",
							"value_type",
							"js_typedarray",
							" from",
							" begin",
							" end",
							" from_vector",
							" from_sequence",
							" begin",
							" end",
							" from_sequence",
							" js_arraybuffer_from",
							" js_typedarray_remain",
							" js_typedarray_new",
							" getProps",
							" to_array",
							" to_scalar",
							" js_typedarray_from",
							" js_typedarray_from",
							" js_typedarray_from",
							" js_typedarray_type",
							" js_typedarray_type",
							" js_typedarray_props",
							" js_typedarray_inputoutputarray"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAgCAAASlNCSU5ESU5HU19IUFAKSlNSZWN0RGF0YUQKSlNNYXREYXRhCkpTVU1hdERhdGEKSlNTaXplRGF0YUQKSlNWaWRlb0NhcHR1cmVEYXRhCkpTVGlja01ldGVyRGF0YQpKU0NMQUhFRGF0YQpKU0lucHV0QXJyYXkKSlNPdXRwdXRBcnJheQpKU0lucHV0T3V0cHV0QXJyYXkKSlNMaW5lVHJhaXRzCiAgYXJyYXlfdHlwZQogIHZlY3Rvcl90eXBlCiAgc2NhbGFyX3R5cGUKVklTSUJMRQogIF9fZGVjbHNwZWMKSElEREVOClZJU0lCTEUKICBfX2F0dHJpYnV0ZV9fCkhJRERFTgogIF9fYXR0cmlidXRlX18KSlNfQ0dFVFNFVF9FTlVNRVJBQkxFX0RFRgogIGpzX2RyYXdfcwogIGpzX2RyYXdfaW5pdAogIGpzX2xpbmVfbmV3CiAganNfaW5pdF9tb2R1bGUKICBqc19pbml0X21vZHVsZV9wb2ludAogIGpzX2luaXRfbW9kdWxlX3NpemUKICBqc19pbml0X21vZHVsZV9yZWN0CiAganNfaW5pdF9tb2R1bGVfbWF0CiAganNfaW5pdF9tb2R1bGVfY29udG91cgogIGpzX2luaXRfbW9kdWxlX2xpbmUKICBqc19pbml0X21vZHVsZV9kcmF3CiAganNfaW5pdF9tb2R1bGVfY3YKICBqc19pbml0X21vZHVsZV92aWRlb19jYXB0dXJlCiAganNfdmlkZW9fY2FwdHVyZV9pbml0CiAganNfdmlkZW9fY2FwdHVyZV93cmFwCiAganNfbWF0X3dyYXAKICBqc19nbG9iYWxfZ2V0CiAganNfaXNfaXRlcmFibGUKICBqc19pdGVyYXRvcl9tZXRob2QKICBqc19pdGVyYXRvcl9uZXcKICBqc19pdGVyYXRvcl9uZXh0CiAganNfc3ltYm9sX2F0b20KICBqc19zeW1ib2xfY3RvcgogIGpzX3N5bWJvbF9nZXRfc3RhdGljCiAgY291bnRvZgogIGpzX3ZlY3Rvcl92ZWM0aV90b19hcnJheQogIGpzX2N0b3IKICBqc19wcm90bwogIGpzX25ldwogIGpzX251bWJlcl9yZWFkCiAganNfbnVtYmVyX3JlYWQ8aW50MzJfdD4KICBqc19udW1iZXJfcmVhZDx1aW50MzJfdD4KICBqc19udW1iZXJfcmVhZDxpbnQ2NF90PgogIGpzX251bWJlcl9uZXcKICBqc19udW1iZXJfbmV3PGludDMyX3Q+CiAganNfbnVtYmVyX25ldzx1aW50MzJfdD4KICBqc19udW1iZXJfbmV3PGludDY0X3Q+CiAganNfY29sb3JfcmVhZAogIGpzX2NvbG9yX3JlYWQKICBqc19jb2xvcl9yZWFkCiAganNfY29sb3JfbmV3CiAganNfcmVmCiAgcm91bmRfdG8KICBqc19hcnJheWJ1ZmZlcl9yYW5nZQogIGpzX2FycmF5YnVmZmVyX3JhbmdlCiAgdmFsdWVfdHlwZQogIGpzX2FycmF5YnVmZmVyX2Zyb20KICBqc19hcnJheWJ1ZmZlcl9mcm9tCiAganNfZ2xvYmFsX2dldAogIGpzX3N5bWJvbF9jdG9yCiAganNfc3ltYm9sX2ludm9rZV9zdGF0aWMKICBqc19zeW1ib2xfZm9yCiAganNfc3ltYm9sX2Zvcl9hdG9tCiAganNfc2V0X2luc3BlY3RfbWV0aG9kCiAganNfc3ltYm9sX2dldF9zdGF0aWMKICBqc19zeW1ib2xfYXRvbQogIGpzX2l0ZXJhdG9yX21ldGhvZAogIGpzX2lzX2l0ZXJhYmxlCiAganNfaXNfYXJyYXlfbGlrZQpBcnJheUJ1ZmZlclByb3BzCkFycmF5QnVmZmVyUHJvcHMKICBqc19pc19hcnJheWJ1ZmZlcgogIGpzX2FycmF5YnVmZmVyX3Byb3BzCiAganNfX25hbWUKICBqc19jbGFzc19uYW1lCiAganNfdHlwZWRhcnJheV9wcm90b3R5cGUKICBqc190eXBlZGFycmF5X2NvbnN0cnVjdG9yCiAganNfaXNfdHlwZWRhcnJheQogIGpzX2lzX2FycmF5CiAganNfaXRlcmF0b3JfbmV3CiAganNfaXRlcmF0b3JfbmV4dAogIGpzX3ZhbHVlX3RvCiAganNfdmFsdWVfdG8KICBqc192YWx1ZV90bwogIGpzX3ZhbHVlX2Zyb20KICBqc192YWx1ZV9mcm9tCiAganNfdmFsdWVfZnJvbQogIGpzX3ZhbHVlX2Zyb20KICBqc19pdGVyYWJsZQogIHRvX3ZlY3RvcgogIGpzX2l0ZXJhdG9yX25ldwogIGNsZWFyCiAganNfaXRlcmF0b3JfbmV4dAogIGpzX3ZhbHVlX3RvCiAgcHVzaF9iYWNrCkpTX0ZyZWVWYWx1ZQpKU19GcmVlVmFsdWUKICBzaXplCiAgdG9fYXJyYXkKICBqc19pdGVyYXRvcl9uZXcKICBqc19pdGVyYXRvcl9uZXh0CiAganNfdmFsdWVfdG8KSlNfRnJlZVZhbHVlCkpTX0ZyZWVWYWx1ZQogIHRvX3NjYWxhcgogIHRvX2FycmF5CiAganNfaXRlcmFibGVfdG8KICBqc19pdGVyYWJsZV90bwogIGFycmF5X3R5cGUKICBqc19pdGVyYWJsZV90bwAAAAAAAAAAUAUAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					286,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABQBQAASlNfVFlQRURfQVJSQVlfSFBQCiAgbnVtYmVyX3R5cGUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgcG9pbnRlcl90eXBlCiAgdmFsdWVfdHlwZQogIGpzX2FycmF5X2Zyb20KVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKICBpc19mbG9hdGluZ19wb2ludApUeXBlZEFycmF5VHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBjdl90eXBlCiAgZmxhZ3MKVHlwZWRBcnJheVZhbHVlClR5cGVkQXJyYXlQcm9wcwpUeXBlZEFycmF5UHJvcHMKICBwdHIKICBzaXplCiAgc2l6ZQpUeXBlZEFycmF5UmFuZ2UKVHlwZWRBcnJheVJhbmdlCiAgYmVnaW4KICBlbmQKICBiZWdpbgpUeXBlZEFycmF5VHJhaXRzCiAgdmFsdWVfdHlwZQogIHN0YXRpY19hc3NlcnQKICBzdGF0aWNfYXNzZXJ0CiAgZ2V0UHJvcHMKVHlwZWRBcnJheVR5cGUKICBqc190eXBlZGFycmF5X25ldwogIGpzX3R5cGVkYXJyYXlfbmV3CiAganNfdHlwZWRhcnJheV9uZXcKICBqc190eXBlZGFycmF5X3JlbWFpbgogIHZhbHVlX3R5cGUKICBqc190eXBlZGFycmF5CiAgZnJvbQogIGJlZ2luCiAgZW5kCiAgZnJvbV92ZWN0b3IKICBmcm9tX3NlcXVlbmNlCiAgYmVnaW4KICBlbmQKICBmcm9tX3NlcXVlbmNlCiAganNfYXJyYXlidWZmZXJfZnJvbQogIGpzX3R5cGVkYXJyYXlfcmVtYWluCiAganNfdHlwZWRhcnJheV9uZXcKICBnZXRQcm9wcwogIHRvX2FycmF5CiAgdG9fc2NhbGFyCiAganNfdHlwZWRhcnJheV9mcm9tCiAganNfdHlwZWRhcnJheV9mcm9tCiAganNfdHlwZWRhcnJheV9mcm9tCiAganNfdHlwZWRhcnJheV90eXBlCiAganNfdHlwZWRhcnJheV90eXBlCiAganNfdHlwZWRhcnJheV9wcm9wcwogIGpzX3R5cGVkYXJyYXlfaW5wdXRvdXRwdXRhcnJheQAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					287,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/js_typed_array.hpp",
						"symkeys":
						[
							[
								35,
								53
							],
							[
								204,
								215
							],
							[
								283,
								294
							],
							[
								322,
								332
							],
							[
								411,
								427
							],
							[
								482,
								493
							],
							[
								523,
								533
							],
							[
								612,
								628
							],
							[
								684,
								695
							],
							[
								725,
								735
							],
							[
								814,
								830
							],
							[
								886,
								897
							],
							[
								929,
								939
							],
							[
								1018,
								1034
							],
							[
								1091,
								1102
							],
							[
								1132,
								1142
							],
							[
								1221,
								1237
							],
							[
								1293,
								1304
							],
							[
								1336,
								1346
							],
							[
								1425,
								1441
							],
							[
								1498,
								1509
							],
							[
								1539,
								1549
							],
							[
								1628,
								1644
							],
							[
								1703,
								1714
							],
							[
								1746,
								1756
							],
							[
								1835,
								1851
							],
							[
								1911,
								1922
							],
							[
								1948,
								1958
							],
							[
								2037,
								2053
							],
							[
								2111,
								2122
							],
							[
								2150,
								2160
							],
							[
								2239,
								2255
							],
							[
								2320,
								2332
							],
							[
								2414,
								2424
							],
							[
								2599,
								2612
							],
							[
								4050,
								4064
							],
							[
								4069,
								4083
							],
							[
								4179,
								4193
							],
							[
								4331,
								4345
							],
							[
								4484,
								4498
							],
							[
								4648,
								4662
							],
							[
								4774,
								4791
							],
							[
								4851,
								4865
							],
							[
								5035,
								5051
							],
							[
								5330,
								5337
							],
							[
								5676,
								5681
							],
							[
								5912,
								5927
							],
							[
								5967,
								5982
							],
							[
								5996,
								6011
							],
							[
								6252,
								6255
							],
							[
								6471,
								6475
							],
							[
								6543,
								6547
							],
							[
								6635,
								6650
							],
							[
								6680,
								6695
							],
							[
								6768,
								6773
							],
							[
								6823,
								6826
							],
							[
								6848,
								6853
							],
							[
								6902,
								6918
							],
							[
								6967,
								6977
							],
							[
								6982,
								6995
							],
							[
								7072,
								7085
							],
							[
								7462,
								7470
							],
							[
								7486,
								7500
							],
							[
								7573,
								7590
							],
							[
								7883,
								7900
							],
							[
								8386,
								8403
							],
							[
								8827,
								8847
							],
							[
								8976,
								8986
							],
							[
								9235,
								9248
							],
							[
								9306,
								9310
							],
							[
								9419,
								9424
							],
							[
								9431,
								9434
							],
							[
								9463,
								9474
							],
							[
								9530,
								9543
							],
							[
								9552,
								9557
							],
							[
								9564,
								9567
							],
							[
								9623,
								9636
							],
							[
								9779,
								9798
							],
							[
								9884,
								9904
							],
							[
								9949,
								9966
							],
							[
								10008,
								10016
							],
							[
								10062,
								10070
							],
							[
								10146,
								10155
							],
							[
								10328,
								10346
							],
							[
								10686,
								10704
							],
							[
								10977,
								10995
							],
							[
								11229,
								11247
							],
							[
								11965,
								11983
							],
							[
								12313,
								12332
							],
							[
								12678,
								12708
							]
						],
						"symlist":
						[
							"JS_TYPED_ARRAY_HPP",
							"number_type",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"pointer_type",
							"value_type",
							"js_array_from",
							"TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" is_floating_point",
							" TypedArrayType",
							" constructor_name",
							" cv_type",
							" flags",
							" TypedArrayValue",
							"TypedArrayProps",
							" TypedArrayProps",
							" ptr",
							" size",
							" size",
							"TypedArrayRange",
							" TypedArrayRange",
							" begin",
							" end",
							" begin",
							"TypedArrayTraits",
							"value_type",
							" static_assert",
							" static_assert",
							" getProps",
							" TypedArrayType",
							" js_typedarray_new",
							" js_typedarray_new",
							" js_typedarray_new",
							" js_typedarray_remain",
							"value_type",
							"js_typedarray",
							" from",
							" begin",
							" end",
							" from_vector",
							" from_sequence",
							" begin",
							" end",
							" from_sequence",
							" js_arraybuffer_from",
							" js_typedarray_remain",
							" js_typedarray_new",
							" getProps",
							" to_array",
							" to_scalar",
							" js_typedarray_from",
							" js_typedarray_from",
							" js_typedarray_from",
							" js_typedarray_type",
							" js_typedarray_type",
							" js_typedarray_props",
							" js_typedarray_inputoutputarray"
						]
					},
					"AQAAAAAAAAAAAAAAUAUAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					288,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABQBQAASlNfVFlQRURfQVJSQVlfSFBQCiAgbnVtYmVyX3R5cGUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgcG9pbnRlcl90eXBlCiAgdmFsdWVfdHlwZQogIGpzX2FycmF5X2Zyb20KVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKICBpc19mbG9hdGluZ19wb2ludApUeXBlZEFycmF5VHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBjdl90eXBlCiAgZmxhZ3MKVHlwZWRBcnJheVZhbHVlClR5cGVkQXJyYXlQcm9wcwpUeXBlZEFycmF5UHJvcHMKICBwdHIKICBzaXplCiAgc2l6ZQpUeXBlZEFycmF5UmFuZ2UKVHlwZWRBcnJheVJhbmdlCiAgYmVnaW4KICBlbmQKICBiZWdpbgpUeXBlZEFycmF5VHJhaXRzCiAgdmFsdWVfdHlwZQogIHN0YXRpY19hc3NlcnQKICBzdGF0aWNfYXNzZXJ0CiAgZ2V0UHJvcHMKVHlwZWRBcnJheVR5cGUKICBqc190eXBlZGFycmF5X25ldwogIGpzX3R5cGVkYXJyYXlfbmV3CiAganNfdHlwZWRhcnJheV9uZXcKICBqc190eXBlZGFycmF5X3JlbWFpbgogIHZhbHVlX3R5cGUKICBqc190eXBlZGFycmF5CiAgZnJvbQogIGJlZ2luCiAgZW5kCiAgZnJvbV92ZWN0b3IKICBmcm9tX3NlcXVlbmNlCiAgYmVnaW4KICBlbmQKICBmcm9tX3NlcXVlbmNlCiAganNfYXJyYXlidWZmZXJfZnJvbQogIGpzX3R5cGVkYXJyYXlfcmVtYWluCiAganNfdHlwZWRhcnJheV9uZXcKICBnZXRQcm9wcwogIHRvX2FycmF5CiAgdG9fc2NhbGFyCiAganNfdHlwZWRhcnJheV9mcm9tCiAganNfdHlwZWRhcnJheV9mcm9tCiAganNfdHlwZWRhcnJheV9mcm9tCiAganNfdHlwZWRhcnJheV90eXBlCiAganNfdHlwZWRhcnJheV90eXBlCiAganNfdHlwZWRhcnJheV9wcm9wcwogIGpzX3R5cGVkYXJyYXlfaW5wdXRvdXRwdXRhcnJheQAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					289,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/js_typed_array.hpp",
						"symkeys":
						[
							[
								35,
								53
							],
							[
								204,
								215
							],
							[
								283,
								294
							],
							[
								322,
								332
							],
							[
								411,
								427
							],
							[
								482,
								493
							],
							[
								523,
								533
							],
							[
								612,
								628
							],
							[
								684,
								695
							],
							[
								725,
								735
							],
							[
								814,
								830
							],
							[
								886,
								897
							],
							[
								929,
								939
							],
							[
								1018,
								1034
							],
							[
								1091,
								1102
							],
							[
								1132,
								1142
							],
							[
								1221,
								1237
							],
							[
								1293,
								1304
							],
							[
								1336,
								1346
							],
							[
								1425,
								1441
							],
							[
								1498,
								1509
							],
							[
								1539,
								1549
							],
							[
								1628,
								1644
							],
							[
								1703,
								1714
							],
							[
								1746,
								1756
							],
							[
								1835,
								1851
							],
							[
								1911,
								1922
							],
							[
								1948,
								1958
							],
							[
								2037,
								2053
							],
							[
								2111,
								2122
							],
							[
								2150,
								2160
							],
							[
								2239,
								2255
							],
							[
								2320,
								2332
							],
							[
								2414,
								2424
							],
							[
								2599,
								2612
							],
							[
								4050,
								4064
							],
							[
								4069,
								4083
							],
							[
								4179,
								4193
							],
							[
								4331,
								4345
							],
							[
								4484,
								4498
							],
							[
								4648,
								4662
							],
							[
								4774,
								4791
							],
							[
								4851,
								4865
							],
							[
								5035,
								5051
							],
							[
								5330,
								5337
							],
							[
								5676,
								5681
							],
							[
								5912,
								5927
							],
							[
								5967,
								5982
							],
							[
								5996,
								6011
							],
							[
								6252,
								6255
							],
							[
								6471,
								6475
							],
							[
								6543,
								6547
							],
							[
								6635,
								6650
							],
							[
								6680,
								6695
							],
							[
								6768,
								6773
							],
							[
								6823,
								6826
							],
							[
								6848,
								6853
							],
							[
								6902,
								6918
							],
							[
								6967,
								6977
							],
							[
								6982,
								6995
							],
							[
								7072,
								7085
							],
							[
								7462,
								7470
							],
							[
								7486,
								7500
							],
							[
								7573,
								7590
							],
							[
								7883,
								7900
							],
							[
								8386,
								8403
							],
							[
								8827,
								8847
							],
							[
								8976,
								8986
							],
							[
								9235,
								9248
							],
							[
								9306,
								9310
							],
							[
								9419,
								9424
							],
							[
								9431,
								9434
							],
							[
								9463,
								9474
							],
							[
								9530,
								9543
							],
							[
								9552,
								9557
							],
							[
								9564,
								9567
							],
							[
								9623,
								9636
							],
							[
								9779,
								9798
							],
							[
								9884,
								9904
							],
							[
								9949,
								9966
							],
							[
								10008,
								10016
							],
							[
								10062,
								10070
							],
							[
								10146,
								10155
							],
							[
								10328,
								10346
							],
							[
								10686,
								10704
							],
							[
								10977,
								10995
							],
							[
								11229,
								11247
							],
							[
								11965,
								11983
							],
							[
								12313,
								12332
							],
							[
								12678,
								12708
							]
						],
						"symlist":
						[
							"JS_TYPED_ARRAY_HPP",
							"number_type",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"pointer_type",
							"value_type",
							"js_array_from",
							"TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" is_floating_point",
							" TypedArrayType",
							" constructor_name",
							" cv_type",
							" flags",
							" TypedArrayValue",
							"TypedArrayProps",
							" TypedArrayProps",
							" ptr",
							" size",
							" size",
							"TypedArrayRange",
							" TypedArrayRange",
							" begin",
							" end",
							" begin",
							"TypedArrayTraits",
							"value_type",
							" static_assert",
							" static_assert",
							" getProps",
							" TypedArrayType",
							" js_typedarray_new",
							" js_typedarray_new",
							" js_typedarray_new",
							" js_typedarray_remain",
							"value_type",
							"js_typedarray",
							" from",
							" begin",
							" end",
							" from_vector",
							" from_sequence",
							" begin",
							" end",
							" from_sequence",
							" js_arraybuffer_from",
							" js_typedarray_remain",
							" js_typedarray_new",
							" getProps",
							" to_array",
							" to_scalar",
							" js_typedarray_from",
							" js_typedarray_from",
							" js_typedarray_from",
							" js_typedarray_type",
							" js_typedarray_type",
							" js_typedarray_props",
							" js_typedarray_inputoutputarray"
						]
					},
					"AQAAAAAAAAAAAAAAUAUAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					290,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/js_typed_array.hpp",
						"symkeys":
						[
							[
								35,
								53
							],
							[
								204,
								215
							],
							[
								283,
								294
							],
							[
								322,
								332
							],
							[
								411,
								427
							],
							[
								482,
								493
							],
							[
								523,
								533
							],
							[
								612,
								628
							],
							[
								684,
								695
							],
							[
								725,
								735
							],
							[
								814,
								830
							],
							[
								886,
								897
							],
							[
								929,
								939
							],
							[
								1018,
								1034
							],
							[
								1091,
								1102
							],
							[
								1132,
								1142
							],
							[
								1221,
								1237
							],
							[
								1293,
								1304
							],
							[
								1336,
								1346
							],
							[
								1425,
								1441
							],
							[
								1498,
								1509
							],
							[
								1539,
								1549
							],
							[
								1628,
								1644
							],
							[
								1703,
								1714
							],
							[
								1746,
								1756
							],
							[
								1835,
								1851
							],
							[
								1911,
								1922
							],
							[
								1948,
								1958
							],
							[
								2037,
								2053
							],
							[
								2111,
								2122
							],
							[
								2150,
								2160
							],
							[
								2239,
								2255
							],
							[
								2320,
								2332
							],
							[
								2414,
								2424
							],
							[
								2599,
								2612
							],
							[
								4050,
								4064
							],
							[
								4069,
								4083
							],
							[
								4179,
								4193
							],
							[
								4331,
								4345
							],
							[
								4484,
								4498
							],
							[
								4648,
								4662
							],
							[
								4774,
								4791
							],
							[
								4851,
								4865
							],
							[
								5035,
								5051
							],
							[
								5330,
								5337
							],
							[
								5676,
								5681
							],
							[
								5912,
								5927
							],
							[
								5967,
								5982
							],
							[
								5996,
								6011
							],
							[
								6298,
								6301
							],
							[
								6517,
								6521
							],
							[
								6589,
								6593
							],
							[
								6681,
								6696
							],
							[
								6726,
								6741
							],
							[
								6814,
								6819
							],
							[
								6869,
								6872
							],
							[
								6894,
								6899
							],
							[
								6948,
								6964
							],
							[
								7013,
								7023
							],
							[
								7028,
								7041
							],
							[
								7118,
								7131
							],
							[
								7508,
								7516
							],
							[
								7532,
								7546
							],
							[
								7619,
								7636
							],
							[
								7929,
								7946
							],
							[
								8432,
								8449
							],
							[
								8873,
								8893
							],
							[
								9022,
								9032
							],
							[
								9281,
								9294
							],
							[
								9352,
								9356
							],
							[
								9465,
								9470
							],
							[
								9477,
								9480
							],
							[
								9509,
								9520
							],
							[
								9576,
								9589
							],
							[
								9598,
								9603
							],
							[
								9610,
								9613
							],
							[
								9669,
								9682
							],
							[
								9825,
								9844
							],
							[
								9930,
								9950
							],
							[
								9995,
								10012
							],
							[
								10054,
								10062
							],
							[
								10108,
								10116
							],
							[
								10192,
								10201
							],
							[
								10374,
								10392
							],
							[
								10732,
								10750
							],
							[
								11023,
								11041
							],
							[
								11275,
								11293
							],
							[
								12011,
								12029
							],
							[
								12359,
								12378
							],
							[
								12724,
								12754
							]
						],
						"symlist":
						[
							"JS_TYPED_ARRAY_HPP",
							"number_type",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"number_type",
							"value_type",
							" constructor_name",
							"pointer_type",
							"value_type",
							"js_array_from",
							"TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" TypedArrayType",
							" is_floating_point",
							" TypedArrayType",
							" constructor_name",
							" cv_type",
							" flags",
							" TypedArrayValue",
							"TypedArrayProps",
							" TypedArrayProps",
							" ptr",
							" size",
							" size",
							"TypedArrayRange",
							" TypedArrayRange",
							" begin",
							" end",
							" begin",
							"TypedArrayTraits",
							"value_type",
							" static_assert",
							" static_assert",
							" getProps",
							" TypedArrayType",
							" js_typedarray_new",
							" js_typedarray_new",
							" js_typedarray_new",
							" js_typedarray_remain",
							"value_type",
							"js_typedarray",
							" from",
							" begin",
							" end",
							" from_vector",
							" from_sequence",
							" begin",
							" end",
							" from_sequence",
							" js_arraybuffer_from",
							" js_typedarray_remain",
							" js_typedarray_new",
							" getProps",
							" to_array",
							" to_scalar",
							" js_typedarray_from",
							" js_typedarray_from",
							" js_typedarray_from",
							" js_typedarray_type",
							" js_typedarray_type",
							" js_typedarray_props",
							" js_typedarray_inputoutputarray"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABQBQAASlNfVFlQRURfQVJSQVlfSFBQCiAgbnVtYmVyX3R5cGUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgcG9pbnRlcl90eXBlCiAgdmFsdWVfdHlwZQogIGpzX2FycmF5X2Zyb20KVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKICBpc19mbG9hdGluZ19wb2ludApUeXBlZEFycmF5VHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBjdl90eXBlCiAgZmxhZ3MKVHlwZWRBcnJheVZhbHVlClR5cGVkQXJyYXlQcm9wcwpUeXBlZEFycmF5UHJvcHMKICBwdHIKICBzaXplCiAgc2l6ZQpUeXBlZEFycmF5UmFuZ2UKVHlwZWRBcnJheVJhbmdlCiAgYmVnaW4KICBlbmQKICBiZWdpbgpUeXBlZEFycmF5VHJhaXRzCiAgdmFsdWVfdHlwZQogIHN0YXRpY19hc3NlcnQKICBzdGF0aWNfYXNzZXJ0CiAgZ2V0UHJvcHMKVHlwZWRBcnJheVR5cGUKICBqc190eXBlZGFycmF5X25ldwogIGpzX3R5cGVkYXJyYXlfbmV3CiAganNfdHlwZWRhcnJheV9uZXcKICBqc190eXBlZGFycmF5X3JlbWFpbgogIHZhbHVlX3R5cGUKICBqc190eXBlZGFycmF5CiAgZnJvbQogIGJlZ2luCiAgZW5kCiAgZnJvbV92ZWN0b3IKICBmcm9tX3NlcXVlbmNlCiAgYmVnaW4KICBlbmQKICBmcm9tX3NlcXVlbmNlCiAganNfYXJyYXlidWZmZXJfZnJvbQogIGpzX3R5cGVkYXJyYXlfcmVtYWluCiAganNfdHlwZWRhcnJheV9uZXcKICBnZXRQcm9wcwogIHRvX2FycmF5CiAgdG9fc2NhbGFyCiAganNfdHlwZWRhcnJheV9mcm9tCiAganNfdHlwZWRhcnJheV9mcm9tCiAganNfdHlwZWRhcnJheV9mcm9tCiAganNfdHlwZWRhcnJheV90eXBlCiAganNfdHlwZWRhcnJheV90eXBlCiAganNfdHlwZWRhcnJheV9wcm9wcwogIGpzX3R5cGVkYXJyYXlfaW5wdXRvdXRwdXRhcnJheQAAAAAAAAAAUAUAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					291,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAABQBQAASlNfVFlQRURfQVJSQVlfSFBQCiAgbnVtYmVyX3R5cGUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgbnVtYmVyX3R5cGUKICB2YWx1ZV90eXBlCiAgY29uc3RydWN0b3JfbmFtZQogIG51bWJlcl90eXBlCiAgdmFsdWVfdHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBudW1iZXJfdHlwZQogIHZhbHVlX3R5cGUKICBjb25zdHJ1Y3Rvcl9uYW1lCiAgcG9pbnRlcl90eXBlCiAgdmFsdWVfdHlwZQogIGpzX2FycmF5X2Zyb20KVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKVHlwZWRBcnJheVR5cGUKICBpc19mbG9hdGluZ19wb2ludApUeXBlZEFycmF5VHlwZQogIGNvbnN0cnVjdG9yX25hbWUKICBjdl90eXBlCiAgZmxhZ3MKVHlwZWRBcnJheVZhbHVlClR5cGVkQXJyYXlQcm9wcwpUeXBlZEFycmF5UHJvcHMKICBwdHIKICBzaXplCiAgc2l6ZQpUeXBlZEFycmF5UmFuZ2UKVHlwZWRBcnJheVJhbmdlCiAgYmVnaW4KICBlbmQKICBiZWdpbgpUeXBlZEFycmF5VHJhaXRzCiAgdmFsdWVfdHlwZQogIHN0YXRpY19hc3NlcnQKICBzdGF0aWNfYXNzZXJ0CiAgZ2V0UHJvcHMKVHlwZWRBcnJheVR5cGUKICBqc190eXBlZGFycmF5X25ldwogIGpzX3R5cGVkYXJyYXlfbmV3CiAganNfdHlwZWRhcnJheV9uZXcKICBqc190eXBlZGFycmF5X3JlbWFpbgogIHZhbHVlX3R5cGUKICBqc190eXBlZGFycmF5CiAgZnJvbQogIGJlZ2luCiAgZW5kCiAgZnJvbV92ZWN0b3IKICBmcm9tX3NlcXVlbmNlCiAgYmVnaW4KICBlbmQKICBmcm9tX3NlcXVlbmNlCiAganNfYXJyYXlidWZmZXJfZnJvbQogIGpzX3R5cGVkYXJyYXlfcmVtYWluCiAganNfdHlwZWRhcnJheV9uZXcKICBnZXRQcm9wcwogIHRvX2FycmF5CiAgdG9fc2NhbGFyCiAganNfdHlwZWRhcnJheV9mcm9tCiAganNfdHlwZWRhcnJheV9mcm9tCiAganNfdHlwZWRhcnJheV9mcm9tCiAganNfdHlwZWRhcnJheV90eXBlCiAganNfdHlwZWRhcnJheV90eXBlCiAganNfdHlwZWRhcnJheV9wcm9wcwogIGpzX3R5cGVkYXJyYXlfaW5wdXRvdXRwdXRhcnJheQAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					292,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/js_mat.cpp",
						"symkeys":
						[
							[
								1269,
								1286
							],
							[
								1400,
								1416
							],
							[
								1671,
								1683
							],
							[
								1999,
								2016
							],
							[
								2359,
								2371
							],
							[
								2994,
								3004
							],
							[
								3583,
								3594
							],
							[
								4426,
								4437
							],
							[
								4859,
								4876
							],
							[
								5379,
								5390
							],
							[
								6422,
								6435
							],
							[
								6937,
								6948
							],
							[
								7160,
								7172
							],
							[
								9560,
								9571
							],
							[
								12827,
								12838
							],
							[
								13690,
								13700
							],
							[
								13908,
								13918
							],
							[
								15484,
								15497
							],
							[
								15706,
								15715
							],
							[
								16477,
								16487
							],
							[
								19944,
								19957
							],
							[
								21732,
								21748
							],
							[
								23137,
								23152
							],
							[
								24796,
								24810
							],
							[
								25421,
								25447
							],
							[
								25954,
								25971
							],
							[
								26492,
								26506
							],
							[
								27196,
								27210
							],
							[
								28191,
								28205
							],
							[
								28767,
								28784
							],
							[
								29674,
								29685
							],
							[
								30225,
								30244
							],
							[
								31136,
								31149
							],
							[
								31788,
								31800
							],
							[
								32422,
								32433
							],
							[
								32936,
								32952
							],
							[
								34417,
								34436
							],
							[
								35520,
								35540
							],
							[
								35737,
								35757
							],
							[
								38017,
								38042
							],
							[
								38220,
								38239
							],
							[
								38642,
								38662
							],
							[
								38711,
								38731
							],
							[
								38780,
								38800
							],
							[
								38857,
								38877
							],
							[
								38926,
								38946
							],
							[
								38997,
								39017
							],
							[
								39068,
								39088
							],
							[
								39139,
								39159
							],
							[
								39208,
								39228
							],
							[
								39289,
								39309
							],
							[
								39368,
								39388
							],
							[
								39437,
								39457
							],
							[
								39514,
								39534
							],
							[
								39593,
								39607
							],
							[
								39644,
								39658
							],
							[
								39693,
								39711
							],
							[
								39753,
								39771
							],
							[
								39813,
								39831
							],
							[
								39884,
								39902
							],
							[
								39955,
								39973
							],
							[
								40019,
								40037
							],
							[
								40079,
								40097
							],
							[
								40147,
								40165
							],
							[
								40207,
								40225
							],
							[
								40271,
								40289
							],
							[
								40335,
								40353
							],
							[
								40401,
								40419
							],
							[
								40465,
								40483
							],
							[
								40538,
								40556
							],
							[
								40599,
								40617
							],
							[
								40660,
								40678
							],
							[
								40719,
								40737
							],
							[
								40780,
								40798
							],
							[
								40842,
								40860
							],
							[
								40893,
								40911
							],
							[
								40944,
								40956
							],
							[
								40994,
								41006
							],
							[
								41032,
								41044
							],
							[
								41072,
								41084
							],
							[
								41117,
								41129
							],
							[
								41170,
								41182
							],
							[
								41217,
								41229
							],
							[
								41265,
								41277
							],
							[
								41313,
								41331
							],
							[
								41388,
								41406
							],
							[
								41467,
								41485
							],
							[
								41548,
								41560
							],
							[
								41597,
								41609
							],
							[
								41652,
								41670
							],
							[
								41794,
								41814
							],
							[
								41856,
								41874
							],
							[
								41941,
								41953
							],
							[
								42062,
								42074
							],
							[
								42134,
								42152
							],
							[
								42190,
								42208
							],
							[
								42246,
								42264
							],
							[
								42302,
								42320
							],
							[
								42358,
								42376
							],
							[
								42414,
								42432
							],
							[
								42469,
								42487
							],
							[
								42525,
								42543
							],
							[
								42585,
								42603
							],
							[
								42644,
								42661
							],
							[
								42671,
								42682
							],
							[
								42723,
								42734
							],
							[
								44161,
								44174
							],
							[
								44284,
								44298
							],
							[
								44336,
								44350
							],
							[
								44402,
								44416
							]
						],
						"symlist":
						[
							"JSMatIteratorData",
							"js_mat_free_func",
							"js_mat_sizes",
							"js_mat_dimensions",
							"js_mat_track",
							"js_mat_new",
							"js_mat_wrap",
							"js_mat_data",
							"js_mat_print_data",
							"js_mat_dump",
							"js_mat_params",
							"js_mat_ctor",
							"js_mat_funcs",
							"js_mat_expr",
							"js_mat_init",
							"js_mat_get",
							"js_mat_get",
							"js_mat_get_wh",
							"js_mat_at",
							"js_mat_set",
							"js_mat_set_to",
							"js_mat_get_props",
							"js_mat_tostring",
							"js_mat_inspect",
							"js_mat_getrotationmatrix2d",
							"js_mat_convert_to",
							"js_mat_copy_to",
							"js_mat_reshape",
							"js_mat_getumat",
							"js_mat_class_func",
							"js_mat_fill",
							"js_mat_class_create",
							"js_mat_buffer",
							"js_mat_array",
							"js_mat_call",
							"js_mat_finalizer",
							"js_mat_iterator_new",
							"js_mat_iterator_dump",
							"js_mat_iterator_next",
							"js_mat_iterator_finalizer",
							"js_mat_iterator_dup",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_DEF",
							"JS_CGETSET_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_ALIAS_DEF",
							"JS_ALIAS_DEF",
							"JS_PROP_STRING_DEF",
							"JS_ITERATOR_NEXT_DEF",
							"JS_PROP_STRING_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_PROP_INT32_DEF",
							"CV_MAKETYPE",
							"js_mat_init",
							"js_mat_export",
							"JS_INIT_MODULE",
							"JS_INIT_MODULE",
							"JS_INIT_MODULE"
						]
					},
					"AQAAAAAAAAAAAAAAlAcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					293,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACUBwAASlNNYXRJdGVyYXRvckRhdGEKICBqc19tYXRfZnJlZV9mdW5jCiAganNfbWF0X3NpemVzCiAganNfbWF0X2RpbWVuc2lvbnMKICBqc19tYXRfdHJhY2sKICBqc19tYXRfbmV3CiAganNfbWF0X3dyYXAKICBqc19tYXRfZGF0YQogIGpzX21hdF9wcmludF9kYXRhCiAganNfbWF0X2R1bXAKICBqc19tYXRfcGFyYW1zCiAganNfbWF0X2N0b3IKICBqc19tYXRfZnVuY3MKICBqc19tYXRfZXhwcgogIGpzX21hdF9pbml0CiAganNfbWF0X2dldAogIGpzX21hdF9nZXQKICBqc19tYXRfZ2V0X3doCiAganNfbWF0X2F0CiAganNfbWF0X3NldAogIGpzX21hdF9zZXRfdG8KICBqc19tYXRfZ2V0X3Byb3BzCiAganNfbWF0X3Rvc3RyaW5nCiAganNfbWF0X2luc3BlY3QKICBqc19tYXRfZ2V0cm90YXRpb25tYXRyaXgyZAogIGpzX21hdF9jb252ZXJ0X3RvCiAganNfbWF0X2NvcHlfdG8KICBqc19tYXRfcmVzaGFwZQogIGpzX21hdF9nZXR1bWF0CiAganNfbWF0X2NsYXNzX2Z1bmMKICBqc19tYXRfZmlsbAogIGpzX21hdF9jbGFzc19jcmVhdGUKICBqc19tYXRfYnVmZmVyCiAganNfbWF0X2FycmF5CiAganNfbWF0X2NhbGwKICBqc19tYXRfZmluYWxpemVyCiAganNfbWF0X2l0ZXJhdG9yX25ldwogIGpzX21hdF9pdGVyYXRvcl9kdW1wCiAganNfbWF0X2l0ZXJhdG9yX25leHQKICBqc19tYXRfaXRlcmF0b3JfZmluYWxpemVyCiAganNfbWF0X2l0ZXJhdG9yX2R1cApKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX0RFRgpKU19DR0VUU0VUX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX0RFRgpKU19DRlVOQ19ERUYKSlNfQ0ZVTkNfREVGCkpTX0NGVU5DX0RFRgpKU19DRlVOQ19ERUYKSlNfQ0ZVTkNfREVGCkpTX0NGVU5DX0RFRgpKU19DRlVOQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQUxJQVNfREVGCkpTX0FMSUFTX0RFRgpKU19QUk9QX1NUUklOR19ERUYKSlNfSVRFUkFUT1JfTkVYVF9ERUYKSlNfUFJPUF9TVFJJTkdfREVGCkpTX0NGVU5DX0RFRgpKU19DRlVOQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfUFJPUF9JTlQzMl9ERUYKQ1ZfTUFLRVRZUEUKICBqc19tYXRfaW5pdAogIGpzX21hdF9leHBvcnQKSlNfSU5JVF9NT0RVTEUKSlNfSU5JVF9NT0RVTEUKSlNfSU5JVF9NT0RVTEUAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					294,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/js_mat.cpp",
						"symkeys":
						[
							[
								1269,
								1286
							],
							[
								1400,
								1416
							],
							[
								1671,
								1683
							],
							[
								1999,
								2016
							],
							[
								2359,
								2371
							],
							[
								2994,
								3004
							],
							[
								3583,
								3594
							],
							[
								4426,
								4437
							],
							[
								4859,
								4876
							],
							[
								5379,
								5390
							],
							[
								6422,
								6435
							],
							[
								6937,
								6948
							],
							[
								7160,
								7172
							],
							[
								9560,
								9571
							],
							[
								12827,
								12838
							],
							[
								13690,
								13700
							],
							[
								13908,
								13918
							],
							[
								15484,
								15497
							],
							[
								15706,
								15715
							],
							[
								16477,
								16487
							],
							[
								19944,
								19957
							],
							[
								21732,
								21748
							],
							[
								23137,
								23152
							],
							[
								24796,
								24810
							],
							[
								25421,
								25447
							],
							[
								25954,
								25971
							],
							[
								26492,
								26506
							],
							[
								27196,
								27210
							],
							[
								28191,
								28205
							],
							[
								28767,
								28784
							],
							[
								29674,
								29685
							],
							[
								30225,
								30244
							],
							[
								31136,
								31149
							],
							[
								31788,
								31800
							],
							[
								32422,
								32433
							],
							[
								32936,
								32952
							],
							[
								34417,
								34436
							],
							[
								35520,
								35540
							],
							[
								35737,
								35757
							],
							[
								38017,
								38042
							],
							[
								38220,
								38239
							],
							[
								38642,
								38662
							],
							[
								38711,
								38731
							],
							[
								38780,
								38800
							],
							[
								38857,
								38877
							],
							[
								38926,
								38946
							],
							[
								38997,
								39017
							],
							[
								39068,
								39088
							],
							[
								39139,
								39159
							],
							[
								39208,
								39228
							],
							[
								39289,
								39309
							],
							[
								39368,
								39388
							],
							[
								39437,
								39457
							],
							[
								39514,
								39534
							],
							[
								39593,
								39607
							],
							[
								39644,
								39658
							],
							[
								39693,
								39711
							],
							[
								39753,
								39771
							],
							[
								39813,
								39831
							],
							[
								39884,
								39902
							],
							[
								39955,
								39973
							],
							[
								40019,
								40037
							],
							[
								40079,
								40097
							],
							[
								40147,
								40165
							],
							[
								40207,
								40225
							],
							[
								40271,
								40289
							],
							[
								40335,
								40353
							],
							[
								40401,
								40419
							],
							[
								40465,
								40483
							],
							[
								40538,
								40556
							],
							[
								40599,
								40617
							],
							[
								40660,
								40678
							],
							[
								40719,
								40737
							],
							[
								40780,
								40798
							],
							[
								40842,
								40860
							],
							[
								40893,
								40911
							],
							[
								40944,
								40956
							],
							[
								40994,
								41006
							],
							[
								41032,
								41044
							],
							[
								41072,
								41084
							],
							[
								41117,
								41129
							],
							[
								41170,
								41182
							],
							[
								41217,
								41229
							],
							[
								41265,
								41277
							],
							[
								41313,
								41331
							],
							[
								41388,
								41406
							],
							[
								41467,
								41485
							],
							[
								41548,
								41560
							],
							[
								41597,
								41609
							],
							[
								41652,
								41670
							],
							[
								41794,
								41814
							],
							[
								41856,
								41874
							],
							[
								41941,
								41953
							],
							[
								42062,
								42074
							],
							[
								42134,
								42152
							],
							[
								42190,
								42208
							],
							[
								42246,
								42264
							],
							[
								42302,
								42320
							],
							[
								42358,
								42376
							],
							[
								42414,
								42432
							],
							[
								42469,
								42487
							],
							[
								42525,
								42543
							],
							[
								42585,
								42603
							],
							[
								42644,
								42661
							],
							[
								42671,
								42682
							],
							[
								42723,
								42734
							],
							[
								44161,
								44174
							],
							[
								44284,
								44298
							],
							[
								44336,
								44350
							],
							[
								44402,
								44416
							]
						],
						"symlist":
						[
							"JSMatIteratorData",
							"js_mat_free_func",
							"js_mat_sizes",
							"js_mat_dimensions",
							"js_mat_track",
							"js_mat_new",
							"js_mat_wrap",
							"js_mat_data",
							"js_mat_print_data",
							"js_mat_dump",
							"js_mat_params",
							"js_mat_ctor",
							"js_mat_funcs",
							"js_mat_expr",
							"js_mat_init",
							"js_mat_get",
							"js_mat_get",
							"js_mat_get_wh",
							"js_mat_at",
							"js_mat_set",
							"js_mat_set_to",
							"js_mat_get_props",
							"js_mat_tostring",
							"js_mat_inspect",
							"js_mat_getrotationmatrix2d",
							"js_mat_convert_to",
							"js_mat_copy_to",
							"js_mat_reshape",
							"js_mat_getumat",
							"js_mat_class_func",
							"js_mat_fill",
							"js_mat_class_create",
							"js_mat_buffer",
							"js_mat_array",
							"js_mat_call",
							"js_mat_finalizer",
							"js_mat_iterator_new",
							"js_mat_iterator_dump",
							"js_mat_iterator_next",
							"js_mat_iterator_finalizer",
							"js_mat_iterator_dup",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_DEF",
							"JS_CGETSET_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_ALIAS_DEF",
							"JS_ALIAS_DEF",
							"JS_PROP_STRING_DEF",
							"JS_ITERATOR_NEXT_DEF",
							"JS_PROP_STRING_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_PROP_INT32_DEF",
							"CV_MAKETYPE",
							"js_mat_init",
							"js_mat_export",
							"JS_INIT_MODULE",
							"JS_INIT_MODULE",
							"JS_INIT_MODULE"
						]
					},
					"AwAAAAAAAAAAAAAAlAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJQHAABKU01hdEl0ZXJhdG9yRGF0YQogIGpzX21hdF9mcmVlX2Z1bmMKICBqc19tYXRfc2l6ZXMKICBqc19tYXRfZGltZW5zaW9ucwogIGpzX21hdF90cmFjawogIGpzX21hdF9uZXcKICBqc19tYXRfd3JhcAogIGpzX21hdF9kYXRhCiAganNfbWF0X3ByaW50X2RhdGEKICBqc19tYXRfZHVtcAogIGpzX21hdF9wYXJhbXMKICBqc19tYXRfY3RvcgogIGpzX21hdF9mdW5jcwogIGpzX21hdF9leHByCiAganNfbWF0X2luaXQKICBqc19tYXRfZ2V0CiAganNfbWF0X2dldAogIGpzX21hdF9nZXRfd2gKICBqc19tYXRfYXQKICBqc19tYXRfc2V0CiAganNfbWF0X3NldF90bwogIGpzX21hdF9nZXRfcHJvcHMKICBqc19tYXRfdG9zdHJpbmcKICBqc19tYXRfaW5zcGVjdAogIGpzX21hdF9nZXRyb3RhdGlvbm1hdHJpeDJkCiAganNfbWF0X2NvbnZlcnRfdG8KICBqc19tYXRfY29weV90bwogIGpzX21hdF9yZXNoYXBlCiAganNfbWF0X2dldHVtYXQKICBqc19tYXRfY2xhc3NfZnVuYwogIGpzX21hdF9maWxsCiAganNfbWF0X2NsYXNzX2NyZWF0ZQogIGpzX21hdF9idWZmZXIKICBqc19tYXRfYXJyYXkKICBqc19tYXRfY2FsbAogIGpzX21hdF9maW5hbGl6ZXIKICBqc19tYXRfaXRlcmF0b3JfbmV3CiAganNfbWF0X2l0ZXJhdG9yX2R1bXAKICBqc19tYXRfaXRlcmF0b3JfbmV4dAogIGpzX21hdF9pdGVyYXRvcl9maW5hbGl6ZXIKICBqc19tYXRfaXRlcmF0b3JfZHVwCkpTX0NHRVRTRVRfTUFHSUNfREVGCkpTX0NHRVRTRVRfTUFHSUNfREVGCkpTX0NHRVRTRVRfTUFHSUNfREVGCkpTX0NHRVRTRVRfTUFHSUNfREVGCkpTX0NHRVRTRVRfTUFHSUNfREVGCkpTX0NHRVRTRVRfTUFHSUNfREVGCkpTX0NHRVRTRVRfTUFHSUNfREVGCkpTX0NHRVRTRVRfTUFHSUNfREVGCkpTX0NHRVRTRVRfTUFHSUNfREVGCkpTX0NHRVRTRVRfTUFHSUNfREVGCkpTX0NHRVRTRVRfTUFHSUNfREVGCkpTX0NHRVRTRVRfTUFHSUNfREVGCkpTX0NHRVRTRVRfTUFHSUNfREVGCkpTX0NHRVRTRVRfREVGCkpTX0NHRVRTRVRfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfREVGCkpTX0NGVU5DX0RFRgpKU19DRlVOQ19ERUYKSlNfQ0ZVTkNfREVGCkpTX0NGVU5DX0RFRgpKU19DRlVOQ19ERUYKSlNfQ0ZVTkNfREVGCkpTX0NGVU5DX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19BTElBU19ERUYKSlNfQUxJQVNfREVGCkpTX1BST1BfU1RSSU5HX0RFRgpKU19JVEVSQVRPUl9ORVhUX0RFRgpKU19QUk9QX1NUUklOR19ERUYKSlNfQ0ZVTkNfREVGCkpTX0NGVU5DX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19QUk9QX0lOVDMyX0RFRgpDVl9NQUtFVFlQRQogIGpzX21hdF9pbml0CiAganNfbWF0X2V4cG9ydApKU19JTklUX01PRFVMRQpKU19JTklUX01PRFVMRQpKU19JTklUX01PRFVMRQAAAAAAAAAAlAcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					295,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/js_mat.cpp",
						"symkeys":
						[
							[
								1269,
								1286
							],
							[
								1400,
								1416
							],
							[
								1671,
								1683
							],
							[
								1999,
								2016
							],
							[
								2359,
								2371
							],
							[
								2994,
								3004
							],
							[
								3583,
								3594
							],
							[
								4426,
								4437
							],
							[
								4859,
								4876
							],
							[
								5379,
								5390
							],
							[
								6422,
								6435
							],
							[
								6937,
								6948
							],
							[
								7160,
								7172
							],
							[
								9560,
								9571
							],
							[
								12827,
								12838
							],
							[
								13690,
								13700
							],
							[
								13908,
								13918
							],
							[
								15484,
								15497
							],
							[
								15706,
								15715
							],
							[
								16477,
								16487
							],
							[
								19944,
								19957
							],
							[
								21732,
								21748
							],
							[
								23137,
								23152
							],
							[
								24796,
								24810
							],
							[
								25421,
								25447
							],
							[
								25954,
								25971
							],
							[
								26492,
								26506
							],
							[
								27196,
								27210
							],
							[
								28191,
								28205
							],
							[
								28767,
								28784
							],
							[
								29674,
								29685
							],
							[
								30225,
								30244
							],
							[
								31136,
								31149
							],
							[
								31788,
								31800
							],
							[
								32422,
								32433
							],
							[
								32936,
								32952
							],
							[
								34417,
								34436
							],
							[
								35520,
								35540
							],
							[
								35737,
								35757
							],
							[
								38017,
								38042
							],
							[
								38220,
								38239
							],
							[
								38642,
								38662
							],
							[
								38711,
								38731
							],
							[
								38780,
								38800
							],
							[
								38857,
								38877
							],
							[
								38926,
								38946
							],
							[
								38997,
								39017
							],
							[
								39068,
								39088
							],
							[
								39139,
								39159
							],
							[
								39208,
								39228
							],
							[
								39289,
								39309
							],
							[
								39368,
								39388
							],
							[
								39437,
								39457
							],
							[
								39514,
								39534
							],
							[
								39593,
								39607
							],
							[
								39644,
								39658
							],
							[
								39693,
								39711
							],
							[
								39753,
								39771
							],
							[
								39813,
								39831
							],
							[
								39884,
								39902
							],
							[
								39955,
								39973
							],
							[
								40019,
								40037
							],
							[
								40079,
								40097
							],
							[
								40147,
								40165
							],
							[
								40207,
								40225
							],
							[
								40271,
								40289
							],
							[
								40335,
								40353
							],
							[
								40401,
								40419
							],
							[
								40465,
								40483
							],
							[
								40538,
								40556
							],
							[
								40599,
								40617
							],
							[
								40660,
								40678
							],
							[
								40719,
								40737
							],
							[
								40780,
								40798
							],
							[
								40842,
								40860
							],
							[
								40893,
								40911
							],
							[
								40944,
								40956
							],
							[
								40994,
								41006
							],
							[
								41032,
								41044
							],
							[
								41072,
								41084
							],
							[
								41117,
								41129
							],
							[
								41170,
								41182
							],
							[
								41217,
								41229
							],
							[
								41265,
								41277
							],
							[
								41313,
								41331
							],
							[
								41388,
								41406
							],
							[
								41467,
								41485
							],
							[
								41548,
								41560
							],
							[
								41597,
								41609
							],
							[
								41652,
								41670
							],
							[
								41794,
								41814
							],
							[
								41856,
								41874
							],
							[
								41941,
								41953
							],
							[
								42062,
								42074
							],
							[
								42134,
								42152
							],
							[
								42190,
								42208
							],
							[
								42246,
								42264
							],
							[
								42302,
								42320
							],
							[
								42358,
								42376
							],
							[
								42414,
								42432
							],
							[
								42469,
								42487
							],
							[
								42525,
								42543
							],
							[
								42585,
								42603
							],
							[
								42644,
								42661
							],
							[
								42671,
								42682
							],
							[
								42723,
								42734
							],
							[
								44161,
								44174
							],
							[
								44284,
								44298
							],
							[
								44336,
								44350
							],
							[
								44402,
								44416
							]
						],
						"symlist":
						[
							"JSMatIteratorData",
							"js_mat_free_func",
							"js_mat_sizes",
							"js_mat_dimensions",
							"js_mat_track",
							"js_mat_new",
							"js_mat_wrap",
							"js_mat_data",
							"js_mat_print_data",
							"js_mat_dump",
							"js_mat_params",
							"js_mat_ctor",
							"js_mat_funcs",
							"js_mat_expr",
							"js_mat_init",
							"js_mat_get",
							"js_mat_get",
							"js_mat_get_wh",
							"js_mat_at",
							"js_mat_set",
							"js_mat_set_to",
							"js_mat_get_props",
							"js_mat_tostring",
							"js_mat_inspect",
							"js_mat_getrotationmatrix2d",
							"js_mat_convert_to",
							"js_mat_copy_to",
							"js_mat_reshape",
							"js_mat_getumat",
							"js_mat_class_func",
							"js_mat_fill",
							"js_mat_class_create",
							"js_mat_buffer",
							"js_mat_array",
							"js_mat_call",
							"js_mat_finalizer",
							"js_mat_iterator_new",
							"js_mat_iterator_dump",
							"js_mat_iterator_next",
							"js_mat_iterator_finalizer",
							"js_mat_iterator_dup",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_DEF",
							"JS_CGETSET_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_ALIAS_DEF",
							"JS_ALIAS_DEF",
							"JS_PROP_STRING_DEF",
							"JS_ITERATOR_NEXT_DEF",
							"JS_PROP_STRING_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_PROP_INT32_DEF",
							"CV_MAKETYPE",
							"js_mat_init",
							"js_mat_export",
							"JS_INIT_MODULE",
							"JS_INIT_MODULE",
							"JS_INIT_MODULE"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACUBwAASlNNYXRJdGVyYXRvckRhdGEKICBqc19tYXRfZnJlZV9mdW5jCiAganNfbWF0X3NpemVzCiAganNfbWF0X2RpbWVuc2lvbnMKICBqc19tYXRfdHJhY2sKICBqc19tYXRfbmV3CiAganNfbWF0X3dyYXAKICBqc19tYXRfZGF0YQogIGpzX21hdF9wcmludF9kYXRhCiAganNfbWF0X2R1bXAKICBqc19tYXRfcGFyYW1zCiAganNfbWF0X2N0b3IKICBqc19tYXRfZnVuY3MKICBqc19tYXRfZXhwcgogIGpzX21hdF9pbml0CiAganNfbWF0X2dldAogIGpzX21hdF9nZXQKICBqc19tYXRfZ2V0X3doCiAganNfbWF0X2F0CiAganNfbWF0X3NldAogIGpzX21hdF9zZXRfdG8KICBqc19tYXRfZ2V0X3Byb3BzCiAganNfbWF0X3Rvc3RyaW5nCiAganNfbWF0X2luc3BlY3QKICBqc19tYXRfZ2V0cm90YXRpb25tYXRyaXgyZAogIGpzX21hdF9jb252ZXJ0X3RvCiAganNfbWF0X2NvcHlfdG8KICBqc19tYXRfcmVzaGFwZQogIGpzX21hdF9nZXR1bWF0CiAganNfbWF0X2NsYXNzX2Z1bmMKICBqc19tYXRfZmlsbAogIGpzX21hdF9jbGFzc19jcmVhdGUKICBqc19tYXRfYnVmZmVyCiAganNfbWF0X2FycmF5CiAganNfbWF0X2NhbGwKICBqc19tYXRfZmluYWxpemVyCiAganNfbWF0X2l0ZXJhdG9yX25ldwogIGpzX21hdF9pdGVyYXRvcl9kdW1wCiAganNfbWF0X2l0ZXJhdG9yX25leHQKICBqc19tYXRfaXRlcmF0b3JfZmluYWxpemVyCiAganNfbWF0X2l0ZXJhdG9yX2R1cApKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX0RFRgpKU19DR0VUU0VUX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX0RFRgpKU19DRlVOQ19ERUYKSlNfQ0ZVTkNfREVGCkpTX0NGVU5DX0RFRgpKU19DRlVOQ19ERUYKSlNfQ0ZVTkNfREVGCkpTX0NGVU5DX0RFRgpKU19DRlVOQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQUxJQVNfREVGCkpTX0FMSUFTX0RFRgpKU19QUk9QX1NUUklOR19ERUYKSlNfSVRFUkFUT1JfTkVYVF9ERUYKSlNfUFJPUF9TVFJJTkdfREVGCkpTX0NGVU5DX0RFRgpKU19DRlVOQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfUFJPUF9JTlQzMl9ERUYKQ1ZfTUFLRVRZUEUKICBqc19tYXRfaW5pdAogIGpzX21hdF9leHBvcnQKSlNfSU5JVF9NT0RVTEUKSlNfSU5JVF9NT0RVTEUKSlNfSU5JVF9NT0RVTEUAAAAAAAAAAJQHAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					296,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/CMakeLists.txt",
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACUBwAASlNNYXRJdGVyYXRvckRhdGEKICBqc19tYXRfZnJlZV9mdW5jCiAganNfbWF0X3NpemVzCiAganNfbWF0X2RpbWVuc2lvbnMKICBqc19tYXRfdHJhY2sKICBqc19tYXRfbmV3CiAganNfbWF0X3dyYXAKICBqc19tYXRfZGF0YQogIGpzX21hdF9wcmludF9kYXRhCiAganNfbWF0X2R1bXAKICBqc19tYXRfcGFyYW1zCiAganNfbWF0X2N0b3IKICBqc19tYXRfZnVuY3MKICBqc19tYXRfZXhwcgogIGpzX21hdF9pbml0CiAganNfbWF0X2dldAogIGpzX21hdF9nZXQKICBqc19tYXRfZ2V0X3doCiAganNfbWF0X2F0CiAganNfbWF0X3NldAogIGpzX21hdF9zZXRfdG8KICBqc19tYXRfZ2V0X3Byb3BzCiAganNfbWF0X3Rvc3RyaW5nCiAganNfbWF0X2luc3BlY3QKICBqc19tYXRfZ2V0cm90YXRpb25tYXRyaXgyZAogIGpzX21hdF9jb252ZXJ0X3RvCiAganNfbWF0X2NvcHlfdG8KICBqc19tYXRfcmVzaGFwZQogIGpzX21hdF9nZXR1bWF0CiAganNfbWF0X2NsYXNzX2Z1bmMKICBqc19tYXRfZmlsbAogIGpzX21hdF9jbGFzc19jcmVhdGUKICBqc19tYXRfYnVmZmVyCiAganNfbWF0X2FycmF5CiAganNfbWF0X2NhbGwKICBqc19tYXRfZmluYWxpemVyCiAganNfbWF0X2l0ZXJhdG9yX25ldwogIGpzX21hdF9pdGVyYXRvcl9kdW1wCiAganNfbWF0X2l0ZXJhdG9yX25leHQKICBqc19tYXRfaXRlcmF0b3JfZmluYWxpemVyCiAganNfbWF0X2l0ZXJhdG9yX2R1cApKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX01BR0lDX0RFRgpKU19DR0VUU0VUX0RFRgpKU19DR0VUU0VUX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX0RFRgpKU19DRlVOQ19ERUYKSlNfQ0ZVTkNfREVGCkpTX0NGVU5DX0RFRgpKU19DRlVOQ19ERUYKSlNfQ0ZVTkNfREVGCkpTX0NGVU5DX0RFRgpKU19DRlVOQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQUxJQVNfREVGCkpTX0FMSUFTX0RFRgpKU19QUk9QX1NUUklOR19ERUYKSlNfSVRFUkFUT1JfTkVYVF9ERUYKSlNfUFJPUF9TVFJJTkdfREVGCkpTX0NGVU5DX0RFRgpKU19DRlVOQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfUFJPUF9JTlQzMl9ERUYKQ1ZfTUFLRVRZUEUKICBqc19tYXRfaW5pdAogIGpzX21hdF9leHBvcnQKSlNfSU5JVF9NT0RVTEUKSlNfSU5JVF9NT0RVTEUKSlNfSU5JVF9NT0RVTEUAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					297,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					298,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/CMakeLists.txt",
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					299,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					300,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					301,
					3,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/CMakeLists.txt",
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					302,
					3,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/CMakeLists.txt",
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					303,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					304,
					2,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					305,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					306,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/CMakeLists.txt",
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					307,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					308,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/CMakeLists.txt",
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					309,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					310,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/cmake/JSBindings.cmake",
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					311,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					312,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/cmake/JSBindings.cmake",
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					313,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/CMakeLists.txt",
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					314,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/cmake/JSBindings.cmake",
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					315,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					316,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/cmake/JSBindings.cmake",
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					317,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					318,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/CMakeLists.txt",
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					319,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					320,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/cmake/JSBindings.cmake",
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					321,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					322,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/cmake/JSBindings.cmake",
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					323,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/cmake/JSBindings.cmake",
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					324,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/cmake/JSBindings.cmake",
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					325,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/CMakeLists.txt",
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					326,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					327,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					328,
					4,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/CMakeLists.txt",
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"BAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					329,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					330,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					331,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					332,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					333,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/CMakeLists.txt",
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					334,
					2,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					335,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					336,
					2,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/CMakeLists.txt",
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					337,
					2,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					338,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					339,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					340,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					341,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					342,
					1,
					"outline_refresh",
					{
						"path": null,
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAAAAAA"
				],
				[
					1,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/CMakeLists.txt",
						"symkeys":
						[
						],
						"symlist":
						[
						]
					},
					"AQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					2,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/js_contour.cpp",
						"symkeys":
						[
							[
								609,
								623
							],
							[
								1057,
								1072
							],
							[
								1539,
								1556
							],
							[
								2199,
								2215
							],
							[
								2423,
								2446
							],
							[
								3484,
								3504
							],
							[
								4210,
								4225
							],
							[
								4720,
								4743
							],
							[
								5491,
								5508
							],
							[
								6020,
								6041
							],
							[
								7096,
								7123
							],
							[
								7707,
								7729
							],
							[
								9043,
								9063
							],
							[
								9289,
								9310
							],
							[
								9925,
								9943
							],
							[
								11001,
								11014
							],
							[
								11429,
								11446
							],
							[
								11855,
								11881
							],
							[
								12858,
								12877
							],
							[
								13438,
								13455
							],
							[
								13678,
								13700
							],
							[
								14316,
								14345
							],
							[
								15107,
								15138
							],
							[
								15768,
								15795
							],
							[
								16663,
								16680
							],
							[
								18507,
								18522
							],
							[
								19295,
								19309
							],
							[
								19755,
								19773
							],
							[
								20555,
								20571
							],
							[
								21020,
								21037
							],
							[
								21551,
								21590
							],
							[
								22588,
								22611
							],
							[
								23118,
								23136
							],
							[
								23533,
								23552
							],
							[
								24645,
								24660
							],
							[
								25222,
								25236
							],
							[
								26558,
								26576
							],
							[
								27069,
								27088
							],
							[
								27411,
								27423
							],
							[
								27457,
								27469
							],
							[
								27501,
								27513
							],
							[
								27553,
								27565
							],
							[
								27601,
								27613
							],
							[
								27651,
								27663
							],
							[
								27693,
								27705
							],
							[
								27743,
								27757
							],
							[
								27798,
								27812
							],
							[
								27849,
								27863
							],
							[
								27904,
								27918
							],
							[
								27957,
								27977
							],
							[
								28023,
								28043
							],
							[
								28084,
								28104
							],
							[
								28147,
								28167
							],
							[
								28220,
								28240
							],
							[
								28287,
								28299
							],
							[
								28349,
								28361
							],
							[
								28407,
								28419
							],
							[
								28469,
								28481
							],
							[
								28527,
								28539
							],
							[
								28579,
								28591
							],
							[
								28647,
								28659
							],
							[
								28701,
								28713
							],
							[
								28761,
								28773
							],
							[
								28835,
								28847
							],
							[
								28913,
								28925
							],
							[
								28983,
								28995
							],
							[
								29077,
								29089
							],
							[
								29133,
								29145
							],
							[
								29195,
								29207
							],
							[
								29265,
								29283
							],
							[
								29339,
								29357
							],
							[
								29406,
								29424
							],
							[
								29471,
								29489
							],
							[
								29546,
								29564
							],
							[
								29615,
								29633
							],
							[
								29690,
								29708
							],
							[
								29772,
								29784
							],
							[
								29824,
								29842
							],
							[
								29887,
								29905
							],
							[
								29950,
								29968
							],
							[
								30018,
								30036
							],
							[
								30089,
								30101
							],
							[
								30138,
								30150
							],
							[
								30235,
								30253
							],
							[
								30377,
								30389
							],
							[
								30427,
								30444
							],
							[
								30472,
								30489
							],
							[
								30517,
								30534
							],
							[
								30565,
								30582
							],
							[
								30613,
								30630
							],
							[
								30663,
								30680
							],
							[
								30720,
								30735
							],
							[
								31890,
								31907
							],
							[
								32025,
								32039
							],
							[
								32077,
								32091
							],
							[
								32136,
								32150
							]
						],
						"symlist":
						[
							"js_contour_new",
							"js_contour_move",
							"js_contour_buffer",
							"js_contour_array",
							"js_contour_approxpolydp",
							"js_contour_arclength",
							"js_contour_area",
							"js_contour_boundingrect",
							"js_contour_center",
							"js_contour_convexhull",
							"js_contour_convexitydefects",
							"js_contour_constructor",
							"js_contour_finalizer",
							"js_contour_fitellipse",
							"js_contour_fitline",
							"js_contour_at",
							"js_contour_getmat",
							"js_contour_intersectconvex",
							"js_contour_isconvex",
							"js_contour_length",
							"js_contour_minarearect",
							"js_contour_minenclosingcircle",
							"js_contour_minenclosingtriangle",
							"js_contour_pointpolygontest",
							"js_contour_psimpl",
							"js_contour_push",
							"js_contour_pop",
							"js_contour_unshift",
							"js_contour_shift",
							"js_contour_concat",
							"js_contour_rotatedrectangleintersection",
							"js_contour_rotatepoints",
							"js_contour_toarray",
							"js_contour_tostring",
							"js_contour_rect",
							"js_contour_get",
							"js_contour_inspect",
							"js_contour_iterator",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CGETSET_DEF",
							"JS_CGETSET_DEF",
							"JS_CGETSET_DEF",
							"JS_CGETSET_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_ALIAS_DEF",
							"JS_ALIAS_DEF",
							"JS_PROP_STRING_DEF",
							"JS_CFUNC_DEF",
							"JS_PROP_INT32_DEF",
							"JS_PROP_INT32_DEF",
							"JS_PROP_INT32_DEF",
							"JS_PROP_INT32_DEF",
							"JS_PROP_INT32_DEF",
							"JS_PROP_INT32_DEF",
							"js_contour_init",
							"js_contour_export",
							"JS_INIT_MODULE",
							"JS_INIT_MODULE",
							"JS_INIT_MODULE"
						]
					},
					"AQAAAAAAAAAAAAAA+wYAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					3,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/js_contour.hpp",
						"symkeys":
						[
							[
								31,
								45
							],
							[
								252,
								267
							],
							[
								301,
								321
							],
							[
								360,
								380
							],
							[
								451,
								466
							],
							[
								507,
								529
							],
							[
								577,
								599
							],
							[
								692,
								707
							],
							[
								873,
								887
							],
							[
								983,
								997
							],
							[
								1434,
								1449
							],
							[
								1586,
								1600
							],
							[
								1751,
								1766
							],
							[
								2077,
								2092
							]
						],
						"symlist":
						[
							"JS_CONTOUR_HPP",
							"js_contour_init",
							"js_contour_finalizer",
							"js_contour_to_string",
							"js_contour_init",
							"js_init_contour_module",
							"js_contour_constructor",
							"js_contour_data",
							"js_contour_new",
							"js_contour_new",
							"js_contour_read",
							"js_contour_get",
							"js_contours_new",
							"js_contour_init"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAD7BgAAICBqc19jb250b3VyX25ldwogIGpzX2NvbnRvdXJfbW92ZQogIGpzX2NvbnRvdXJfYnVmZmVyCiAganNfY29udG91cl9hcnJheQogIGpzX2NvbnRvdXJfYXBwcm94cG9seWRwCiAganNfY29udG91cl9hcmNsZW5ndGgKICBqc19jb250b3VyX2FyZWEKICBqc19jb250b3VyX2JvdW5kaW5ncmVjdAogIGpzX2NvbnRvdXJfY2VudGVyCiAganNfY29udG91cl9jb252ZXhodWxsCiAganNfY29udG91cl9jb252ZXhpdHlkZWZlY3RzCiAganNfY29udG91cl9jb25zdHJ1Y3RvcgogIGpzX2NvbnRvdXJfZmluYWxpemVyCiAganNfY29udG91cl9maXRlbGxpcHNlCiAganNfY29udG91cl9maXRsaW5lCiAganNfY29udG91cl9hdAogIGpzX2NvbnRvdXJfZ2V0bWF0CiAganNfY29udG91cl9pbnRlcnNlY3Rjb252ZXgKICBqc19jb250b3VyX2lzY29udmV4CiAganNfY29udG91cl9sZW5ndGgKICBqc19jb250b3VyX21pbmFyZWFyZWN0CiAganNfY29udG91cl9taW5lbmNsb3NpbmdjaXJjbGUKICBqc19jb250b3VyX21pbmVuY2xvc2luZ3RyaWFuZ2xlCiAganNfY29udG91cl9wb2ludHBvbHlnb250ZXN0CiAganNfY29udG91cl9wc2ltcGwKICBqc19jb250b3VyX3B1c2gKICBqc19jb250b3VyX3BvcAogIGpzX2NvbnRvdXJfdW5zaGlmdAogIGpzX2NvbnRvdXJfc2hpZnQKICBqc19jb250b3VyX2NvbmNhdAogIGpzX2NvbnRvdXJfcm90YXRlZHJlY3RhbmdsZWludGVyc2VjdGlvbgogIGpzX2NvbnRvdXJfcm90YXRlcG9pbnRzCiAganNfY29udG91cl90b2FycmF5CiAganNfY29udG91cl90b3N0cmluZwogIGpzX2NvbnRvdXJfcmVjdAogIGpzX2NvbnRvdXJfZ2V0CiAganNfY29udG91cl9pbnNwZWN0CiAganNfY29udG91cl9pdGVyYXRvcgpKU19DRlVOQ19ERUYKSlNfQ0ZVTkNfREVGCkpTX0NGVU5DX0RFRgpKU19DRlVOQ19ERUYKSlNfQ0ZVTkNfREVGCkpTX0NGVU5DX0RFRgpKU19DRlVOQ19ERUYKSlNfQ0dFVFNFVF9ERUYKSlNfQ0dFVFNFVF9ERUYKSlNfQ0dFVFNFVF9ERUYKSlNfQ0dFVFNFVF9ERUYKSlNfQ0dFVFNFVF9NQUdJQ19ERUYKSlNfQ0dFVFNFVF9NQUdJQ19ERUYKSlNfQ0dFVFNFVF9NQUdJQ19ERUYKSlNfQ0dFVFNFVF9NQUdJQ19ERUYKSlNfQ0dFVFNFVF9NQUdJQ19ERUYKSlNfQ0ZVTkNfREVGCkpTX0NGVU5DX0RFRgpKU19DRlVOQ19ERUYKSlNfQ0ZVTkNfREVGCkpTX0NGVU5DX0RFRgpKU19DRlVOQ19ERUYKSlNfQ0ZVTkNfREVGCkpTX0NGVU5DX0RFRgpKU19DRlVOQ19ERUYKSlNfQ0ZVTkNfREVGCkpTX0NGVU5DX0RFRgpKU19DRlVOQ19ERUYKSlNfQ0ZVTkNfREVGCkpTX0NGVU5DX0RFRgpKU19DRlVOQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQUxJQVNfREVGCkpTX0FMSUFTX0RFRgpKU19QUk9QX1NUUklOR19ERUYKSlNfQ0ZVTkNfREVGCkpTX1BST1BfSU5UMzJfREVGCkpTX1BST1BfSU5UMzJfREVGCkpTX1BST1BfSU5UMzJfREVGCkpTX1BST1BfSU5UMzJfREVGCkpTX1BST1BfSU5UMzJfREVGCkpTX1BST1BfSU5UMzJfREVGCiAganNfY29udG91cl9pbml0CiAganNfY29udG91cl9leHBvcnQKSlNfSU5JVF9NT0RVTEUKSlNfSU5JVF9NT0RVTEUKSlNfSU5JVF9NT0RVTEUAAAAAAAAAAA0BAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					4,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/js_contour.hpp",
						"symkeys":
						[
							[
								31,
								45
							],
							[
								234,
								254
							],
							[
								293,
								313
							],
							[
								384,
								399
							],
							[
								440,
								462
							],
							[
								510,
								532
							],
							[
								625,
								640
							],
							[
								806,
								820
							],
							[
								916,
								930
							],
							[
								1367,
								1382
							],
							[
								1519,
								1533
							],
							[
								1684,
								1699
							],
							[
								2010,
								2025
							]
						],
						"symlist":
						[
							"JS_CONTOUR_HPP",
							"js_contour_finalizer",
							"js_contour_to_string",
							"js_contour_init",
							"js_init_contour_module",
							"js_contour_constructor",
							"js_contour_data",
							"js_contour_new",
							"js_contour_new",
							"js_contour_read",
							"js_contour_get",
							"js_contours_new",
							"js_contour_init"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAANAQAASlNfQ09OVE9VUl9IUFAKICBqc19jb250b3VyX2luaXQKICBqc19jb250b3VyX2ZpbmFsaXplcgogIGpzX2NvbnRvdXJfdG9fc3RyaW5nCiAganNfY29udG91cl9pbml0CiAganNfaW5pdF9jb250b3VyX21vZHVsZQogIGpzX2NvbnRvdXJfY29uc3RydWN0b3IKICBqc19jb250b3VyX2RhdGEKICBqc19jb250b3VyX25ldwogIGpzX2NvbnRvdXJfbmV3CiAganNfY29udG91cl9yZWFkCiAganNfY29udG91cl9nZXQKICBqc19jb250b3Vyc19uZXcKICBqc19jb250b3VyX2luaXQAAAAAAAAAAPsAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					5,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/js_line.hpp",
						"symkeys":
						[
							[
								28,
								39
							],
							[
								173,
								184
							],
							[
								272,
								284
							],
							[
								349,
								361
							],
							[
								1445,
								1457
							],
							[
								1606,
								1617
							],
							[
								1780,
								1792
							],
							[
								1958,
								1970
							],
							[
								2138,
								2151
							],
							[
								2585,
								2596
							],
							[
								2750,
								2762
							]
						],
						"symlist":
						[
							"JS_LINE_HPP",
							"js_line_new",
							"js_line_init",
							"js_line_read",
							"js_line_read",
							"js_line_get",
							"js_line_from",
							"js_line_from",
							"js_line_write",
							"js_line_set",
							"js_line_init"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAD7AAAASlNfQ09OVE9VUl9IUFAKICBqc19jb250b3VyX2ZpbmFsaXplcgogIGpzX2NvbnRvdXJfdG9fc3RyaW5nCiAganNfY29udG91cl9pbml0CiAganNfaW5pdF9jb250b3VyX21vZHVsZQogIGpzX2NvbnRvdXJfY29uc3RydWN0b3IKICBqc19jb250b3VyX2RhdGEKICBqc19jb250b3VyX25ldwogIGpzX2NvbnRvdXJfbmV3CiAganNfY29udG91cl9yZWFkCiAganNfY29udG91cl9nZXQKICBqc19jb250b3Vyc19uZXcKICBqc19jb250b3VyX2luaXQAAAAAAAAAAJ8AAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					6,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/js_contour.hpp",
						"symkeys":
						[
							[
								31,
								45
							],
							[
								234,
								254
							],
							[
								293,
								313
							],
							[
								384,
								399
							],
							[
								440,
								462
							],
							[
								510,
								532
							],
							[
								625,
								640
							],
							[
								806,
								820
							],
							[
								916,
								930
							],
							[
								1367,
								1382
							],
							[
								1519,
								1533
							],
							[
								1684,
								1699
							],
							[
								2010,
								2025
							]
						],
						"symlist":
						[
							"JS_CONTOUR_HPP",
							"js_contour_finalizer",
							"js_contour_to_string",
							"js_contour_init",
							"js_init_contour_module",
							"js_contour_constructor",
							"js_contour_data",
							"js_contour_new",
							"js_contour_new",
							"js_contour_read",
							"js_contour_get",
							"js_contours_new",
							"js_contour_init"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACfAAAASlNfTElORV9IUFAKICBqc19saW5lX25ldwogIGpzX2xpbmVfaW5pdAogIGpzX2xpbmVfcmVhZAogIGpzX2xpbmVfcmVhZAogIGpzX2xpbmVfZ2V0CiAganNfbGluZV9mcm9tCiAganNfbGluZV9mcm9tCiAganNfbGluZV93cml0ZQogIGpzX2xpbmVfc2V0CiAganNfbGluZV9pbml0AAAAAAAAAAD7AAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					7,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/js_line.cpp",
						"symkeys":
						[
							[
								488,
								499
							],
							[
								923,
								935
							],
							[
								2098,
								2110
							],
							[
								2251,
								2267
							],
							[
								2789,
								2803
							],
							[
								3220,
								3231
							],
							[
								4091,
								4102
							],
							[
								4706,
								4722
							],
							[
								5220,
								5234
							],
							[
								5704,
								5718
							],
							[
								5997,
								6012
							],
							[
								6603,
								6618
							],
							[
								8458,
								8473
							],
							[
								8747,
								8761
							],
							[
								9014,
								9031
							],
							[
								9045,
								9062
							],
							[
								9077,
								9097
							],
							[
								9111,
								9128
							],
							[
								9150,
								9166
							],
							[
								9855,
								9867
							],
							[
								10574,
								10591
							],
							[
								10985,
								11010
							],
							[
								11061,
								11086
							],
							[
								11137,
								11162
							],
							[
								11213,
								11238
							],
							[
								11289,
								11309
							],
							[
								11355,
								11375
							],
							[
								11421,
								11441
							],
							[
								11487,
								11507
							],
							[
								11553,
								11573
							],
							[
								11616,
								11636
							],
							[
								11679,
								11699
							],
							[
								11744,
								11764
							],
							[
								11817,
								11837
							],
							[
								11884,
								11902
							],
							[
								11949,
								11967
							],
							[
								12010,
								12028
							],
							[
								12085,
								12103
							],
							[
								12177,
								12195
							],
							[
								12250,
								12262
							],
							[
								12299,
								12317
							],
							[
								12375,
								12393
							],
							[
								12471,
								12489
							],
							[
								12568,
								12580
							],
							[
								12604,
								12616
							],
							[
								12635,
								12647
							],
							[
								12684,
								12702
							],
							[
								12815,
								12827
							],
							[
								12860,
								12872
							],
							[
								13736,
								13750
							],
							[
								13831,
								13850
							],
							[
								14064,
								14078
							],
							[
								14116,
								14130
							],
							[
								14172,
								14186
							]
						],
						"symlist":
						[
							"js_line_new",
							"js_line_ctor",
							"js_line_data",
							"js_line_get_xy12",
							"js_line_get_ab",
							"js_line_get",
							"js_line_set",
							"js_line_set_xy12",
							"js_line_set_ab",
							"js_line_points",
							"js_line_inspect",
							"js_line_methods",
							"js_line_toarray",
							"js_call_method",
							"JS_LINE_AS_POINTS",
							"JS_LINE_AS_VECTOR",
							"JS_LINE_GET_ITERATOR",
							"JS_LINE_TO_STRING",
							"js_line_iterator",
							"js_line_from",
							"js_line_finalizer",
							"JS_CGETSET_ENUMERABLE_DEF",
							"JS_CGETSET_ENUMERABLE_DEF",
							"JS_CGETSET_ENUMERABLE_DEF",
							"JS_CGETSET_ENUMERABLE_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CGETSET_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_CFUNC_MAGIC_DEF",
							"JS_ALIAS_DEF",
							"JS_ALIAS_DEF",
							"JS_ALIAS_DEF",
							"JS_PROP_STRING_DEF",
							"JS_CFUNC_DEF",
							"js_line_init",
							"js_line_export",
							"js_line_constructor",
							"JS_INIT_MODULE",
							"JS_INIT_MODULE",
							"JS_INIT_MODULE"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAD7AAAASlNfQ09OVE9VUl9IUFAKICBqc19jb250b3VyX2ZpbmFsaXplcgogIGpzX2NvbnRvdXJfdG9fc3RyaW5nCiAganNfY29udG91cl9pbml0CiAganNfaW5pdF9jb250b3VyX21vZHVsZQogIGpzX2NvbnRvdXJfY29uc3RydWN0b3IKICBqc19jb250b3VyX2RhdGEKICBqc19jb250b3VyX25ldwogIGpzX2NvbnRvdXJfbmV3CiAganNfY29udG91cl9yZWFkCiAganNfY29udG91cl9nZXQKICBqc19jb250b3Vyc19uZXcKICBqc19jb250b3VyX2luaXQAAAAAAAAAANwDAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					8,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/js_line.hpp",
						"symkeys":
						[
							[
								28,
								39
							],
							[
								173,
								184
							],
							[
								272,
								284
							],
							[
								349,
								361
							],
							[
								1445,
								1457
							],
							[
								1606,
								1617
							],
							[
								1780,
								1792
							],
							[
								1958,
								1970
							],
							[
								2138,
								2151
							],
							[
								2585,
								2596
							],
							[
								2750,
								2762
							]
						],
						"symlist":
						[
							"JS_LINE_HPP",
							"js_line_new",
							"js_line_init",
							"js_line_read",
							"js_line_read",
							"js_line_get",
							"js_line_from",
							"js_line_from",
							"js_line_write",
							"js_line_set",
							"js_line_init"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAADcAwAAICBqc19saW5lX25ldwogIGpzX2xpbmVfY3RvcgogIGpzX2xpbmVfZGF0YQogIGpzX2xpbmVfZ2V0X3h5MTIKICBqc19saW5lX2dldF9hYgogIGpzX2xpbmVfZ2V0CiAganNfbGluZV9zZXQKICBqc19saW5lX3NldF94eTEyCiAganNfbGluZV9zZXRfYWIKICBqc19saW5lX3BvaW50cwogIGpzX2xpbmVfaW5zcGVjdAogIGpzX2xpbmVfbWV0aG9kcwogIGpzX2xpbmVfdG9hcnJheQogIGpzX2NhbGxfbWV0aG9kCkpTX0xJTkVfQVNfUE9JTlRTCkpTX0xJTkVfQVNfVkVDVE9SCkpTX0xJTkVfR0VUX0lURVJBVE9SCkpTX0xJTkVfVE9fU1RSSU5HCiAganNfbGluZV9pdGVyYXRvcgogIGpzX2xpbmVfZnJvbQogIGpzX2xpbmVfZmluYWxpemVyCkpTX0NHRVRTRVRfRU5VTUVSQUJMRV9ERUYKSlNfQ0dFVFNFVF9FTlVNRVJBQkxFX0RFRgpKU19DR0VUU0VUX0VOVU1FUkFCTEVfREVGCkpTX0NHRVRTRVRfRU5VTUVSQUJMRV9ERUYKSlNfQ0dFVFNFVF9NQUdJQ19ERUYKSlNfQ0dFVFNFVF9NQUdJQ19ERUYKSlNfQ0dFVFNFVF9NQUdJQ19ERUYKSlNfQ0dFVFNFVF9NQUdJQ19ERUYKSlNfQ0dFVFNFVF9NQUdJQ19ERUYKSlNfQ0dFVFNFVF9NQUdJQ19ERUYKSlNfQ0dFVFNFVF9NQUdJQ19ERUYKSlNfQ0dFVFNFVF9NQUdJQ19ERUYKSlNfQ0dFVFNFVF9NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19ERUYKSlNfQ0ZVTkNfTUFHSUNfREVGCkpTX0NGVU5DX01BR0lDX0RFRgpKU19DRlVOQ19NQUdJQ19ERUYKSlNfQUxJQVNfREVGCkpTX0FMSUFTX0RFRgpKU19BTElBU19ERUYKSlNfUFJPUF9TVFJJTkdfREVGCkpTX0NGVU5DX0RFRgogIGpzX2xpbmVfaW5pdAogIGpzX2xpbmVfZXhwb3J0CiAganNfbGluZV9jb25zdHJ1Y3RvcgpKU19JTklUX01PRFVMRQpKU19JTklUX01PRFVMRQpKU19JTklUX01PRFVMRQAAAAAAAAAAnwAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					9,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/js_contour.hpp",
						"symkeys":
						[
							[
								31,
								45
							],
							[
								234,
								254
							],
							[
								293,
								313
							],
							[
								384,
								399
							],
							[
								440,
								462
							],
							[
								510,
								532
							],
							[
								625,
								640
							],
							[
								806,
								820
							],
							[
								916,
								930
							],
							[
								1367,
								1382
							],
							[
								1519,
								1533
							],
							[
								1684,
								1699
							],
							[
								2010,
								2025
							]
						],
						"symlist":
						[
							"JS_CONTOUR_HPP",
							"js_contour_finalizer",
							"js_contour_to_string",
							"js_contour_init",
							"js_init_contour_module",
							"js_contour_constructor",
							"js_contour_data",
							"js_contour_new",
							"js_contour_new",
							"js_contour_read",
							"js_contour_get",
							"js_contours_new",
							"js_contour_init"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAACfAAAASlNfTElORV9IUFAKICBqc19saW5lX25ldwogIGpzX2xpbmVfaW5pdAogIGpzX2xpbmVfcmVhZAogIGpzX2xpbmVfcmVhZAogIGpzX2xpbmVfZ2V0CiAganNfbGluZV9mcm9tCiAganNfbGluZV9mcm9tCiAganNfbGluZV93cml0ZQogIGpzX2xpbmVfc2V0CiAganNfbGluZV9pbml0AAAAAAAAAAD7AAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					10,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/js_contour.hpp",
						"symkeys":
						[
							[
								31,
								45
							],
							[
								260,
								280
							],
							[
								319,
								339
							],
							[
								410,
								425
							],
							[
								466,
								488
							],
							[
								536,
								558
							],
							[
								651,
								666
							],
							[
								832,
								846
							],
							[
								942,
								956
							],
							[
								1393,
								1408
							],
							[
								1545,
								1559
							],
							[
								1710,
								1725
							],
							[
								2036,
								2051
							]
						],
						"symlist":
						[
							"JS_CONTOUR_HPP",
							"js_contour_finalizer",
							"js_contour_to_string",
							"js_contour_init",
							"js_init_contour_module",
							"js_contour_constructor",
							"js_contour_data",
							"js_contour_new",
							"js_contour_new",
							"js_contour_read",
							"js_contour_get",
							"js_contours_new",
							"js_contour_init"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAD7AAAASlNfQ09OVE9VUl9IUFAKICBqc19jb250b3VyX2ZpbmFsaXplcgogIGpzX2NvbnRvdXJfdG9fc3RyaW5nCiAganNfY29udG91cl9pbml0CiAganNfaW5pdF9jb250b3VyX21vZHVsZQogIGpzX2NvbnRvdXJfY29uc3RydWN0b3IKICBqc19jb250b3VyX2RhdGEKICBqc19jb250b3VyX25ldwogIGpzX2NvbnRvdXJfbmV3CiAganNfY29udG91cl9yZWFkCiAganNfY29udG91cl9nZXQKICBqc19jb250b3Vyc19uZXcKICBqc19jb250b3VyX2luaXQAAAAAAAAAAPsAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				],
				[
					11,
					1,
					"outline_refresh",
					{
						"path": "/home/roman/Projects/qjs-opencv/js_contour.hpp",
						"symkeys":
						[
							[
								31,
								45
							],
							[
								260,
								280
							],
							[
								319,
								339
							],
							[
								410,
								425
							],
							[
								466,
								488
							],
							[
								536,
								558
							],
							[
								651,
								666
							],
							[
								832,
								846
							],
							[
								942,
								956
							],
							[
								1393,
								1408
							],
							[
								1545,
								1559
							],
							[
								1710,
								1725
							],
							[
								2036,
								2051
							]
						],
						"symlist":
						[
							"JS_CONTOUR_HPP",
							"js_contour_finalizer",
							"js_contour_to_string",
							"js_contour_init",
							"js_init_contour_module",
							"js_contour_constructor",
							"js_contour_data",
							"js_contour_new",
							"js_contour_new",
							"js_contour_read",
							"js_contour_get",
							"js_contours_new",
							"js_contour_init"
						]
					},
					"AgAAAAAAAAAAAAAAAAAAAAAAAAD7AAAASlNfQ09OVE9VUl9IUFAKICBqc19jb250b3VyX2ZpbmFsaXplcgogIGpzX2NvbnRvdXJfdG9fc3RyaW5nCiAganNfY29udG91cl9pbml0CiAganNfaW5pdF9jb250b3VyX21vZHVsZQogIGpzX2NvbnRvdXJfY29uc3RydWN0b3IKICBqc19jb250b3VyX2RhdGEKICBqc19jb250b3VyX25ldwogIGpzX2NvbnRvdXJfbmV3CiAganNfY29udG91cl9yZWFkCiAganNfY29udG91cl9nZXQKICBqc19jb250b3Vyc19uZXcKICBqc19jb250b3VyX2luaXQAAAAAAAAAAPsAAAAAAAAAAAAAAA",
					"AQAAAAAAAAAAAAAA"
				]
			]
		},
		{
			"file": "js_size.cpp",
			"settings":
			{
				"buffer_size": 14933,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					741,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAKEXAAAAAAAAohcAAAAAAAAAAAAA",
					"BgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAKEXAAAAAAAAoRcAAAAAAAAAAAAAAADwvw"
				],
				[
					759,
					1,
					"paste",
					null,
					"AQAAAGAXAAAAAAAAbBcAAAAAAAAAAAAA",
					"BgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAGAXAAAAAAAAYBcAAAAAAAAAAAAAAADwvw"
				],
				[
					760,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAAGwXAAAAAAAAbRcAAAAAAAAAAAAA",
					"BgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAGwXAAAAAAAAbBcAAAAAAAAAAAAAAADwvw"
				],
				[
					764,
					1,
					"insert",
					{
						"characters": " "
					},
					"AgAAAOkXAAAAAAAA6hcAAAAAAAAAAAAA6hcAAAAAAADqFwAAAAAAAAQAAABib29s",
					"BgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAOkXAAAAAAAA7RcAAAAAAAAAAAAAAADwvw"
				],
				[
					770,
					1,
					"cut",
					null,
					"AQAAACoYAAAAAAAAKhgAAAAAAAAnAAAAICAgICAgICByZXQgPSBKU19OZXdCb29sKGN0eCwgZXF1YWxzKTsK",
					"BgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAACoYAAAAAAAAURgAAAAAAAAAAAAAAADwvw"
				],
				[
					773,
					1,
					"paste",
					null,
					"AQAAADMYAAAAAAAAWhgAAAAAAAAAAAAA",
					"BgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAADMYAAAAAAAAMxgAAAAAAAAAAAAAAADwvw"
				],
				[
					781,
					1,
					"insert",
					{
						"characters": " ="
					},
					"AgAAAGwXAAAAAAAAbRcAAAAAAAAAAAAAbRcAAAAAAABuFwAAAAAAAAAAAAA",
					"BgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAGwXAAAAAAAAbBcAAAAAAAAAAAAAAADwvw"
				],
				[
					782,
					1,
					"insert",
					{
						"characters": " false"
					},
					"BgAAAG4XAAAAAAAAbxcAAAAAAAAAAAAAbxcAAAAAAABwFwAAAAAAAAAAAABwFwAAAAAAAHEXAAAAAAAAAAAAAHEXAAAAAAAAchcAAAAAAAAAAAAAchcAAAAAAABzFwAAAAAAAAAAAABzFwAAAAAAAHQXAAAAAAAAAAAAAA",
					"BgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAG4XAAAAAAAAbhcAAAAAAAAAAAAAAADwvw"
				],
				[
					791,
					1,
					"paste",
					null,
					"AQAAALAXAAAAAAAA+RcAAAAAAAAAAAAA",
					"BgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAALAXAAAAAAAAsBcAAAAAAAAAAAAAAADwvw"
				],
				[
					795,
					1,
					"insert",
					{
						"characters": "a->"
					},
					"BAAAAM8XAAAAAAAA0BcAAAAAAAAAAAAA0BcAAAAAAADQFwAAAAAAAAUAAABvdGhlctAXAAAAAAAA0RcAAAAAAAAAAAAA0RcAAAAAAADSFwAAAAAAAAAAAAA",
					"BgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAM8XAAAAAAAA1BcAAAAAAAAAAAAAAADwvw"
				],
				[
					796,
					1,
					"right_delete",
					null,
					"AQAAANIXAAAAAAAA0hcAAAAAAAABAAAALg",
					"BgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAANIXAAAAAAAA0hcAAAAAAAAAAAAAAADwvw"
				],
				[
					803,
					1,
					"paste",
					null,
					"AgAAAOgXAAAAAAAA6xcAAAAAAAAAAAAA6xcAAAAAAADrFwAAAAAAAAUAAABvdGhlcg",
					"BgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAOgXAAAAAAAA7RcAAAAAAAAAAAAAAADwvw"
				],
				[
					804,
					1,
					"right_delete",
					null,
					"AQAAAOsXAAAAAAAA6xcAAAAAAAABAAAALg",
					"BgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAOsXAAAAAAAA6xcAAAAAAAAAAAAAAADwvw"
				],
				[
					810,
					1,
					"left_delete",
					null,
					"AQAAALEKAAAAAAAAsQoAAAAAAAABAAAAMg",
					"BgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAALIKAAAAAAAAsgoAAAAAAAAAAAAAAADwvw"
				],
				[
					813,
					1,
					"left_delete",
					null,
					"AQAAALIKAAAAAAAAsgoAAAAAAAAFAAAAY3R4LCA",
					"BgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAALIKAAAAAAAAtwoAAAAAAAAAAAAAAADwvw"
				],
				[
					838,
					1,
					"insert",
					{
						"characters": "arg"
					},
					"BAAAAMkXAAAAAAAAyhcAAAAAAAAAAAAAyhcAAAAAAADKFwAAAAAAAAEAAABhyhcAAAAAAADLFwAAAAAAAAAAAADLFwAAAAAAAMwXAAAAAAAAAAAAAA",
					"BgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAMkXAAAAAAAAyhcAAAAAAAAAAAAAAADwvw"
				],
				[
					846,
					1,
					"paste",
					null,
					"AgAAAOQXAAAAAAAA5xcAAAAAAAAAAAAA5xcAAAAAAADnFwAAAAAAAAEAAABh",
					"BgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAOQXAAAAAAAA5RcAAAAAAAAAAAAAAADwvw"
				],
				[
					847,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABAOgAAI2luY2x1ZGUgImpzYmluZGluZ3MuaHBwIgojaW5jbHVkZSAianNfc2l6ZS5ocHAiCiNpbmNsdWRlICJqc19hcnJheS5ocHAiCiNpbmNsdWRlICJqc19hbGxvYy5ocHAiCiNpbmNsdWRlICJ1dGlsLmhwcCIKCmVudW0ganNfc2l6ZV9maXRfdCB7IEpTX1NJWkVfRklUX1dJRFRIID0gMSwgSlNfU0laRV9GSVRfSEVJR0hUID0gMiwgSlNfU0laRV9GSVRfSU5TSURFLCBKU19TSVpFX0ZJVF9PVVRTSURFIH07CmVudW0geyBTSVpFX1BST1BfV0lEVEgsIFNJWkVfUFJPUF9IRUlHSFQsIFNJWkVfUFJPUF9BU1BFQ1QsIFNJWkVfUFJPUF9FTVBUWSwgU0laRV9QUk9QX0FSRUEgfTsKZW51bSB7CiAgU0laRV9NRVRIT0RfRVFVQUxTLAogIFNJWkVfTUVUSE9EX1JPVU5ELAogIFNJWkVfTUVUSE9EX1RPT0JKRUNULAogIFNJWkVfTUVUSE9EX1RPQVJSQVksCiAgU0laRV9NRVRIT0RfRklUV0lEVEgsCiAgU0laRV9NRVRIT0RfRklUSEVJR0hULAogIFNJWkVfTUVUSE9EX0ZJVElOU0lERSwKICBTSVpFX01FVEhPRF9GSVRPVVRTSURFCn07CmV4dGVybiAiQyIgewpKU1ZhbHVlIHNpemVfcHJvdG8gPSBKU19VTkRFRklORUQsIHNpemVfY2xhc3MgPSBKU19VTkRFRklORUQ7CkpTQ2xhc3NJRCBqc19zaXplX2NsYXNzX2lkID0gMDsKfQoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSBKU1NpemVEYXRhPFQ+CmpzX3NpemVfZml0KGNvbnN0IEpTU2l6ZURhdGE8VD4mIHNpemUsIFQgdG8sIGpzX3NpemVfZml0X3QgbW9kZSkgewogIEpTU2l6ZURhdGE8VD4gcmV0OwogIHN3aXRjaChtb2RlKSB7CiAgICBjYXNlIEpTX1NJWkVfRklUX1dJRFRIOiB7CiAgICAgIHJldC53aWR0aCA9IHRvOwogICAgICByZXQuaGVpZ2h0ID0gc2l6ZS5oZWlnaHQgKiAodG8gLyBzaXplLndpZHRoKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIEpTX1NJWkVfRklUX0hFSUdIVDogewogICAgICByZXQud2lkdGggPSBzaXplLndpZHRoICogKHRvIC8gc2l6ZS5oZWlnaHQpOwogICAgICByZXQuaGVpZ2h0ID0gdG87CiAgICAgIGJyZWFrOwogICAgfQogIH0KICByZXR1cm4gcmV0Owp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgSlNTaXplRGF0YTxUPgpqc19zaXplX2ZpdChjb25zdCBKU1NpemVEYXRhPFQ+JiBzaXplLCBjb25zdCBKU1NpemVEYXRhPFQ+JiB0bywganNfc2l6ZV9maXRfdCBtb2RlKSB7CiAgSlNTaXplRGF0YTxUPiByZXQ7CiAgc3dpdGNoKG1vZGUpIHsKICAgIGNhc2UgSlNfU0laRV9GSVRfSU5TSURFOgogICAgY2FzZSBKU19TSVpFX0ZJVF9PVVRTSURFOiB7CiAgICAgIHJldCA9IGpzX3NpemVfZml0KHNpemUsIHRvLCBKU19TSVpFX0ZJVF9XSURUSCk7CiAgICAgIGlmKG1vZGUgPT0gSlNfU0laRV9GSVRfSU5TSURFICYmIHJldC5oZWlnaHQgPiB0by5oZWlnaHQpCiAgICAgICAgcmV0ID0ganNfc2l6ZV9maXQoc2l6ZSwgdG8uaGVpZ2h0LCBKU19TSVpFX0ZJVF9IRUlHSFQpOwoKICAgICAgYnJlYWs7CiAgICB9CiAgICBkZWZhdWx0OiByZXQgPSBqc19zaXplX2ZpdChzaXplLCBtb2RlID09IEpTX1NJWkVfRklUX1dJRFRIID8gdG8ud2lkdGggOiB0by5oZWlnaHQsIG1vZGUpOyBicmVhazsKICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfc2l6ZV9jdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgbmV3X3RhcmdldCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTU2l6ZURhdGE8ZG91YmxlPiBzaXplLCAqczsKICBKU1ZhbHVlIG9iaiA9IEpTX1VOREVGSU5FRDsKICBKU1ZhbHVlIHByb3RvOwoKICBzID0ganNfYWxsb2NhdGU8SlNTaXplRGF0YTxkb3VibGU+PihjdHgpOwogIGlmKCFzKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICBuZXcocykgSlNTaXplRGF0YTxkb3VibGU+KCk7CgogIGlmKGFyZ2MgPiAwKSB7CiAgICBpZihqc19zaXplX3JlYWQoY3R4LCBhcmd2WzBdLCAmc2l6ZSkpIHsKICAgICAgKnMgPSBzaXplOwogICAgfSBlbHNlIHsKICAgICAgaWYoSlNfVG9GbG9hdDY0KGN0eCwgJnNpemUud2lkdGgsIGFyZ3ZbMF0pKQogICAgICAgIGdvdG8gZmFpbDsKICAgICAgaWYoYXJnYyA8IDIgfHwgSlNfVG9GbG9hdDY0KGN0eCwgJnNpemUuaGVpZ2h0LCBhcmd2WzFdKSkKICAgICAgICBnb3RvIGZhaWw7CgogICAgICAqcyA9IHNpemU7CiAgICB9CiAgfQoKICAvKiB1c2luZyBuZXdfdGFyZ2V0IHRvIGdldCB0aGUgcHJvdG90eXBlIGlzIG5lY2Vzc2FyeSB3aGVuIHRoZQogICAgIGNsYXNzIGlzIGV4dGVuZGVkLiAqLwogIHByb3RvID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBuZXdfdGFyZ2V0LCAicHJvdG90eXBlIik7CiAgaWYoSlNfSXNFeGNlcHRpb24ocHJvdG8pKQogICAgZ290byBmYWlsOwogIG9iaiA9IEpTX05ld09iamVjdFByb3RvQ2xhc3MoY3R4LCBwcm90bywganNfc2l6ZV9jbGFzc19pZCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcHJvdG8pOwogIGlmKEpTX0lzRXhjZXB0aW9uKG9iaikpCiAgICBnb3RvIGZhaWw7CiAgSlNfU2V0T3BhcXVlKG9iaiwgcyk7CiAgcmV0dXJuIG9iajsKZmFpbDoKICBqc19kZWFsbG9jYXRlKGN0eCwgcyk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpWSVNJQkxFIEpTU2l6ZURhdGE8ZG91YmxlPioKanNfc2l6ZV9kYXRhKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsKSB7CiAgcmV0dXJuIHN0YXRpY19jYXN0PEpTU2l6ZURhdGE8ZG91YmxlPio+KEpTX0dldE9wYXF1ZSh2YWwsIGpzX3NpemVfY2xhc3NfaWQpKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfc2l6ZV9nZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IG1hZ2ljKSB7CiAgSlNTaXplRGF0YTxkb3VibGU+KiBzOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBpZighKHMgPSBqc19zaXplX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFNJWkVfUFJPUF9XSURUSDogewogICAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgcy0+d2lkdGgpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU0laRV9QUk9QX0hFSUdIVDogewogICAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgcy0+aGVpZ2h0KTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNJWkVfUFJPUF9BU1BFQ1Q6IHsKICAgICAgcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsIHMtPmFzcGVjdFJhdGlvKCkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU0laRV9QUk9QX0VNUFRZOiB7CiAgICAgIHJldCA9IEpTX05ld0Jvb2woY3R4LCBzLT5lbXB0eSgpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNJWkVfUFJPUF9BUkVBOiB7CiAgICAgIHJldCA9IEpTX05ld0Zsb2F0NjQoY3R4LCBzLT5hcmVhKCkpOwogICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiByZXQ7Cn0KClZJU0lCTEUgSlNWYWx1ZQpqc19zaXplX25ldyhKU0NvbnRleHQqIGN0eCwgZG91YmxlIHcsIGRvdWJsZSBoKSB7CiAgSlNWYWx1ZSByZXQ7CiAgSlNTaXplRGF0YTxkb3VibGU+KiBzOwoKICBpZihKU19Jc1VuZGVmaW5lZChzaXplX3Byb3RvKSkKICAgIGpzX3NpemVfaW5pdChjdHgsIE5VTEwpOwoKICByZXQgPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgc2l6ZV9wcm90bywganNfc2l6ZV9jbGFzc19pZCk7CgogIHMgPSBqc19hbGxvY2F0ZTxKU1NpemVEYXRhPGRvdWJsZT4+KGN0eCk7CiAgcy0+d2lkdGggPSB3IDw9IERCTF9FUFNJTE9OID8gMCA6IHc7CiAgcy0+aGVpZ2h0ID0gaCA8PSBEQkxfRVBTSUxPTiA/IDAgOiBoOwoKICBKU19TZXRPcGFxdWUocmV0LCBzKTsKICByZXR1cm4gcmV0Owp9CgpWSVNJQkxFIEpTVmFsdWUKanNfc2l6ZV93cmFwKEpTQ29udGV4dCogY3R4LCBjb25zdCBKU1NpemVEYXRhPGRvdWJsZT4mIHN6KSB7CiAgcmV0dXJuIGpzX3NpemVfbmV3KGN0eCwgc3oud2lkdGgsIHN6LmhlaWdodCk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3NpemVfc2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIEpTVmFsdWVDb25zdCB2YWwsIGludCBtYWdpYykgewogIEpTU2l6ZURhdGE8ZG91YmxlPiogcyA9IGpzX3NpemVfZGF0YShjdHgsIHRoaXNfdmFsKTsKICBkb3VibGUgdjsKICBpZighcykKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgaWYoSlNfVG9GbG9hdDY0KGN0eCwgJnYsIHZhbCkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIGlmKG1hZ2ljID09IDApCiAgICBzLT53aWR0aCA9IHY7CiAgZWxzZQogICAgcy0+aGVpZ2h0ID0gdjsKICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19zaXplX3RvX3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNTaXplRGF0YTxkb3VibGU+IHNpemUsICpzOwogIHN0ZDo6b3N0cmluZ3N0cmVhbSBvczsKICBjb25zdCBjaGFyKiBkZWxpbSA9ICLDlyI7CiAgaWYoKHMgPSBqc19zaXplX2RhdGEoY3R4LCB0aGlzX3ZhbCkpID09IG51bGxwdHIpIHsKICAgIGpzX3NpemVfcmVhZChjdHgsIHRoaXNfdmFsLCAmc2l6ZSk7CiAgfSBlbHNlIHsKICAgIHNpemUgPSAqczsKICB9CgogIGlmKGFyZ2MgPiAwKQogICAgZGVsaW0gPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsKCiAgb3MgPDwgc2l6ZS53aWR0aCA8PCBkZWxpbSA8PCBzaXplLmhlaWdodDsKCiAgcmV0dXJuIEpTX05ld1N0cmluZyhjdHgsIG9zLnN0cigpLmNfc3RyKCkpOwp9CnN0YXRpYyBKU1ZhbHVlCmpzX3NpemVfdG9fc291cmNlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1NpemVEYXRhPGRvdWJsZT4gc2l6ZSwgKnM7CiAgc3RkOjpvc3RyaW5nc3RyZWFtIG9zOwogIGlmKChzID0ganNfc2l6ZV9kYXRhKGN0eCwgdGhpc192YWwpKSA9PSBudWxscHRyKSB7CiAgICBqc19zaXplX3JlYWQoY3R4LCB0aGlzX3ZhbCwgJnNpemUpOwogIH0gZWxzZSB7CiAgICBzaXplID0gKnM7CiAgfQogIG9zIDw8ICJ7d2lkdGg6IiA8PCBzaXplLndpZHRoIDw8ICIsaGVpZ2h0OiIgPDwgc2l6ZS5oZWlnaHQgPDwgIn0iOwoKICByZXR1cm4gSlNfTmV3U3RyaW5nKGN0eCwgb3Muc3RyKCkuY19zdHIoKSk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3NpemVfaW5zcGVjdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNTaXplRGF0YTxkb3VibGU+KiBzID0ganNfc2l6ZV9kYXRhKGN0eCwgdGhpc192YWwpOwogIEpTVmFsdWUgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG8oY3R4LCBzaXplX3Byb3RvKTsKCiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgIndpZHRoIiwgSlNfTmV3RmxvYXQ2NChjdHgsIHMtPndpZHRoKSwgSlNfUFJPUF9FTlVNRVJBQkxFKTsKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAiaGVpZ2h0IiwgSlNfTmV3RmxvYXQ2NChjdHgsIHMtPmhlaWdodCksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgcmV0dXJuIG9iajsKfQoKc3RhdGljIEpTVmFsdWUKanNfc2l6ZV9mdW5jcyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2LCBpbnQgbWFnaWMpIHsKICBKU1NpemVEYXRhPGRvdWJsZT4gc2l6ZSwgKnM7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgaWYoKHMgPSBqc19zaXplX2RhdGEoY3R4LCB0aGlzX3ZhbCkpID09IG51bGxwdHIpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBzaXplID0gKnM7CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBTSVpFX01FVEhPRF9FUVVBTFM6IHsKICAgICAgSlNTaXplRGF0YTxkb3VibGU+IG90aGVyLCAqYXJnOwogICAgIGJvb2wgZXF1YWxzID0gZmFsc2U7ICBpZihhcmdjID4gMCkgewoKaWYoKGFyZyA9IGpzX3NpemVfZGF0YShjdHgsIGFyZ3ZbMF0pKSkgewogICAgICAgICAgZXF1YWxzID0gcy0+d2lkdGggPT0gYXJnLT53aWR0aCAmJiBzLT5oZWlnaHQgPT0gYXJnLT5oZWlnaHQ7Cgp9ZWxzZSAKICAgICAgICBpZihqc19zaXplX3JlYWQoY3R4LCBhcmd2WzBdLCAmb3RoZXIpKSB7CiAgICAgICAgICBlcXVhbHMgPSBzLT53aWR0aCA9PSBvdGhlci53aWR0aCAmJiBzLT5oZWlnaHQgPT0gb3RoZXIuaGVpZ2h0OwogICAgICB9CiAgICAgICAgIHJldCA9IEpTX05ld0Jvb2woY3R4LCBlcXVhbHMpOwogICB9CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBTSVpFX01FVEhPRF9ST1VORDogewogICAgICBkb3VibGUgd2lkdGgsIGhlaWdodCwgZjsKICAgICAgaW50MzJfdCBwcmVjaXNpb24gPSAwOwogICAgICBpZihhcmdjID4gMCkKICAgICAgICBKU19Ub0ludDMyKGN0eCwgJnByZWNpc2lvbiwgYXJndlswXSk7CiAgICAgIGYgPSBzdGQ6OnBvdygxMCwgcHJlY2lzaW9uKTsKICAgICAgd2lkdGggPSBzdGQ6OnJvdW5kKHNpemUud2lkdGggKiBmKSAvIGY7CiAgICAgIGhlaWdodCA9IHN0ZDo6cm91bmQoc2l6ZS5oZWlnaHQgKiBmKSAvIGY7CiAgICAgIHJldCA9IGpzX3NpemVfbmV3KGN0eCwgd2lkdGgsIGhlaWdodCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBTSVpFX01FVEhPRF9UT09CSkVDVDogewogICAgICByZXQgPSBKU19OZXdPYmplY3QoY3R4KTsKCiAgICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAid2lkdGgiLCBKU19OZXdGbG9hdDY0KGN0eCwgc2l6ZS53aWR0aCkpOwogICAgICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIHJldCwgImhlaWdodCIsIEpTX05ld0Zsb2F0NjQoY3R4LCBzaXplLmhlaWdodCkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU0laRV9NRVRIT0RfVE9BUlJBWTogewogICAgICByZXQgPSBKU19OZXdBcnJheShjdHgpOwoKICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDAsIEpTX05ld0Zsb2F0NjQoY3R4LCBzaXplLndpZHRoKSk7CiAgICAgIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCAxLCBKU19OZXdGbG9hdDY0KGN0eCwgc2l6ZS5oZWlnaHQpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNJWkVfTUVUSE9EX0ZJVFdJRFRIOgogICAgY2FzZSBTSVpFX01FVEhPRF9GSVRIRUlHSFQ6CiAgICBjYXNlIFNJWkVfTUVUSE9EX0ZJVElOU0lERToKICAgIGNhc2UgU0laRV9NRVRIT0RfRklUT1VUU0lERTogewogICAgICBKU1NpemVEYXRhPGRvdWJsZT4gb3RoZXIsIHJlc3VsdDsKICAgICAgZG91YmxlIGFyZzsKCiAgICAgIGpzX3NpemVfZml0X3QgZml0X3R5cGUgPSBqc19zaXplX2ZpdF90KG1hZ2ljIC0gMyk7CiAgICAgIGlmKG1hZ2ljID49IDYpIHt9CgogICAgICBpZihqc19zaXplX3JlYWQoY3R4LCBhcmd2WzBdLCAmb3RoZXIpKSB7CiAgICAgICAgcmVzdWx0ID0ganNfc2l6ZV9maXQoc2l6ZSwgb3RoZXIsIGZpdF90eXBlKTsKCiAgICAgIH0gZWxzZSBpZihmaXRfdHlwZSA9PSBKU19TSVpFX0ZJVF9XSURUSCB8fCBmaXRfdHlwZSA9PSBKU19TSVpFX0ZJVF9IRUlHSFQpIHsKICAgICAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmYXJnLCBhcmd2WzBdKTsKICAgICAgICByZXN1bHQgPSBqc19zaXplX2ZpdChzaXplLCBhcmcsIGZpdF90eXBlKTsKICAgICAgfQoKICAgICAgaWYoIXJlc3VsdC5lbXB0eSgpKQogICAgICAgIHJldCA9IGpzX3NpemVfbmV3KGN0eCwgcmVzdWx0LndpZHRoLCByZXN1bHQuaGVpZ2h0KTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19zaXplX2FkZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNTaXplRGF0YTxkb3VibGU+KnMsIHNpemU7CgogIGlmKChzID0ganNfc2l6ZV9kYXRhKGN0eCwgdGhpc192YWwpKSA9PSBudWxscHRyKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYoanNfc2l6ZV9yZWFkKGN0eCwgYXJndlswXSwgJnNpemUpKSB7CiAgICBzLT53aWR0aCArPSBzaXplLndpZHRoOwogICAgcy0+aGVpZ2h0ICs9IHNpemUuaGVpZ2h0OwogIH0gZWxzZSBpZihhcmdjID49IDIgJiYgSlNfSXNOdW1iZXIoYXJndlswXSkgJiYgSlNfSXNOdW1iZXIoYXJndlsxXSkpIHsKICAgIGRvdWJsZSB3aWR0aCwgaGVpZ2h0OwoKICAgIEpTX1RvRmxvYXQ2NChjdHgsICZ3aWR0aCwgYXJndlswXSk7CiAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmaGVpZ2h0LCBhcmd2WzFdKTsKICAgIHMtPndpZHRoICs9IHdpZHRoOwogICAgcy0+aGVpZ2h0ICs9IGhlaWdodDsKICB9CgogIHJldHVybiBKU19EdXBWYWx1ZShjdHgsIHRoaXNfdmFsKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfc2l6ZV9zdWIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTU2l6ZURhdGE8ZG91YmxlPipzLCBzaXplOwoKICBpZigocyA9IGpzX3NpemVfZGF0YShjdHgsIHRoaXNfdmFsKSkgPT0gbnVsbHB0cikKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGlmKGpzX3NpemVfcmVhZChjdHgsIGFyZ3ZbMF0sICZzaXplKSkgewogICAgcy0+d2lkdGggLT0gc2l6ZS53aWR0aDsKICAgIHMtPmhlaWdodCAtPSBzaXplLmhlaWdodDsKICB9IGVsc2UgaWYoYXJnYyA+PSAyICYmIEpTX0lzTnVtYmVyKGFyZ3ZbMF0pICYmIEpTX0lzTnVtYmVyKGFyZ3ZbMV0pKSB7CiAgICBkb3VibGUgd2lkdGgsIGhlaWdodDsKCiAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmd2lkdGgsIGFyZ3ZbMF0pOwogICAgSlNfVG9GbG9hdDY0KGN0eCwgJmhlaWdodCwgYXJndlsxXSk7CiAgICBzLT53aWR0aCAtPSB3aWR0aDsKICAgIHMtPmhlaWdodCAtPSBoZWlnaHQ7CiAgfQoKICByZXR1cm4gSlNfRHVwVmFsdWUoY3R4LCB0aGlzX3ZhbCk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3NpemVfbXVsKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1NpemVEYXRhPGRvdWJsZT4gc2l6ZSwgKnMgPSBqc19zaXplX2RhdGEoY3R4LCB0aGlzX3ZhbCk7CiAgZG91YmxlIGZhY3RvcjsKICBKU19Ub0Zsb2F0NjQoY3R4LCAmZmFjdG9yLCBhcmd2WzBdKTsKCiAgc2l6ZSA9ICpzOwogIHNpemUud2lkdGggKj0gZmFjdG9yOwogIHNpemUuaGVpZ2h0ICo9IGZhY3RvcjsKCiAgcmV0dXJuIGpzX3NpemVfd3JhcChjdHgsIHNpemUpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19zaXplX2RpdihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNTaXplRGF0YTxkb3VibGU+IHNpemUsIG90aGVyLCAqcywgKmEgPSBudWxscHRyOwogIEpTVmFsdWUgcmV0ID0gSlNfRVhDRVBUSU9OOwogIGlmKChzID0ganNfc2l6ZV9kYXRhKGN0eCwgdGhpc192YWwpKSAhPSBudWxscHRyKSB7CiAgICBzaXplID0gKnM7CgogICAgaWYoSlNfSXNOdW1iZXIoYXJndlswXSkpIHsKICAgICAgZG91YmxlIGRpdmlkZXI7CiAgICAgIEpTX1RvRmxvYXQ2NChjdHgsICZkaXZpZGVyLCBhcmd2WzBdKTsKICAgICAgc2l6ZS53aWR0aCAvPSBkaXZpZGVyOwogICAgICBzaXplLmhlaWdodCAvPSBkaXZpZGVyOwogICAgICByZXQgPSBqc19zaXplX3dyYXAoY3R4LCBzaXplKTsKICAgIH0gZWxzZSB7CiAgICAgIGlmKChhID0ganNfc2l6ZV9kYXRhKGN0eCwgYXJndlswXSkpICE9IG51bGxwdHIpCiAgICAgICAgb3RoZXIgPSAqYTsKICAgICAgZWxzZSB7CiAgICAgICAganNfc2l6ZV9yZWFkKGN0eCwgYXJndlswXSwgJm90aGVyKTsKICAgICAgICBhID0gJm90aGVyOwogICAgICB9CiAgICAgIHN0ZDo6YXJyYXk8ZG91YmxlLCAyPiByZXN1bHR7c2l6ZS53aWR0aCAvIG90aGVyLndpZHRoLCBzaXplLmhlaWdodCAvIG90aGVyLmhlaWdodH07CiAgICAgIHJldCA9IEpTX05ld0FycmF5KGN0eCk7CgogICAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgMCwgSlNfTmV3RmxvYXQ2NChjdHgsIHJlc3VsdFswXSkpOwogICAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgMSwgSlNfTmV3RmxvYXQ2NChjdHgsIHJlc3VsdFsxXSkpOwogICAgfQogIH0KICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNBdG9tIGl0ZXJhdG9yX3N5bWJvbDsKCnN0YXRpYyBKU1ZhbHVlCmpzX3NpemVfc3ltYm9sX2l0ZXJhdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1ZhbHVlIGFyciwgaXRlcjsKICBhcnIgPSBqc19zaXplX2Z1bmNzKGN0eCwgdGhpc192YWwsIGFyZ2MsIGFyZ3YsIDMpOwoKICBpZihpdGVyYXRvcl9zeW1ib2wgPT0gMCkKICAgIGl0ZXJhdG9yX3N5bWJvbCA9IGpzX3N5bWJvbF9hdG9tKGN0eCwgIml0ZXJhdG9yIik7CgogIGlmKCFKU19Jc0Z1bmN0aW9uKGN0eCwgKGl0ZXIgPSBKU19HZXRQcm9wZXJ0eShjdHgsIGFyciwgaXRlcmF0b3Jfc3ltYm9sKSkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICByZXR1cm4gSlNfQ2FsbChjdHgsIGl0ZXIsIGFyciwgMCwgYXJndik7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3NpemVfZnJvbShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHNpemUsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBzdGQ6OmFycmF5PGRvdWJsZSwgMj4gYXJyYXk7CiAgSlNWYWx1ZSByZXQgPSBKU19FWENFUFRJT047CgogIGlmKEpTX0lzU3RyaW5nKGFyZ3ZbMF0pKSB7CiAgICBjb25zdCBjaGFyKiBzdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsKICAgIGNoYXIqIGVuZHB0ciA9IG51bGxwdHI7CiAgICBmb3Ioc2l6ZV90IGkgPSAwOyBpIDwgMjsgaSsrKSB7CiAgICAgIHdoaWxlKCFpc2RpZ2l0KCpzdHIpICYmICpzdHIgIT0gJy0nICYmICpzdHIgIT0gJysnICYmICEoKnN0ciA9PSAnLicgJiYgaXNkaWdpdChzdHJbMV0pKSkgc3RyKys7CiAgICAgIGlmKCpzdHIgPT0gJ1wwJykKICAgICAgICBicmVhazsKICAgICAgYXJyYXlbaV0gPSBzdHJ0b2Qoc3RyLCAmZW5kcHRyKTsKICAgICAgc3RyID0gZW5kcHRyOwogICAgfQogIH0gZWxzZSBpZihqc19pc19hcnJheShjdHgsIGFyZ3ZbMF0pKSB7CiAgICBqc19hcnJheV90bzxkb3VibGUsIDI+KGN0eCwgYXJndlswXSwgYXJyYXkpOwogIH0KICBpZihhcnJheVswXSA+IDAgJiYgYXJyYXlbMV0gPiAwKQogICAgcmV0ID0ganNfc2l6ZV9uZXcoY3R4LCBhcnJheVswXSwgYXJyYXlbMV0pOwogIHJldHVybiByZXQ7Cn0KCnZvaWQKanNfc2l6ZV9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBKU1NpemVEYXRhPGRvdWJsZT4qIHMgPSBzdGF0aWNfY2FzdDxKU1NpemVEYXRhPGRvdWJsZT4qPihKU19HZXRPcGFxdWUodmFsLCBqc19zaXplX2NsYXNzX2lkKSk7CiAgLyogTm90ZTogJ3MnIGNhbiBiZSBOVUxMIGluIGNhc2UgSlNfU2V0T3BhcXVlKCkgd2FzIG5vdCBjYWxsZWQgKi8KICBpZihzKQogICAganNfZGVhbGxvY2F0ZShydCwgcyk7Cn0KCkpTQ2xhc3NEZWYganNfc2l6ZV9jbGFzcyA9IHsKICAgIC5jbGFzc19uYW1lID0gIlNpemUiLAogICAgLmZpbmFsaXplciA9IGpzX3NpemVfZmluYWxpemVyLAp9OwoKY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfc2l6ZV9wcm90b19mdW5jc1tdID0gewogICAgSlNfQ0dFVFNFVF9FTlVNRVJBQkxFX0RFRigid2lkdGgiLCBqc19zaXplX2dldCwganNfc2l6ZV9zZXQsIFNJWkVfUFJPUF9XSURUSCksCiAgICBKU19DR0VUU0VUX0VOVU1FUkFCTEVfREVGKCJoZWlnaHQiLCBqc19zaXplX2dldCwganNfc2l6ZV9zZXQsIFNJWkVfUFJPUF9IRUlHSFQpLAogICAgSlNfQ0dFVFNFVF9FTlVNRVJBQkxFX0RFRigiYXNwZWN0IiwganNfc2l6ZV9nZXQsIDAsIFNJWkVfUFJPUF9BU1BFQ1QpLAogICAgSlNfQ0dFVFNFVF9FTlVNRVJBQkxFX0RFRigiZW1wdHkiLCBqc19zaXplX2dldCwgMCwgU0laRV9QUk9QX0VNUFRZKSwKICAgIEpTX0NHRVRTRVRfRU5VTUVSQUJMRV9ERUYoImFyZWEiLCBqc19zaXplX2dldCwgMCwgU0laRV9QUk9QX0FSRUEpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJlcXVhbHMiLCAxLCBqc19zaXplX2Z1bmNzLCBTSVpFX01FVEhPRF9FUVVBTFMpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJyb3VuZCIsIDAsIGpzX3NpemVfZnVuY3MsIFNJWkVfTUVUSE9EX1JPVU5EKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigidG9PYmplY3QiLCAwLCBqc19zaXplX2Z1bmNzLCBTSVpFX01FVEhPRF9UT09CSkVDVCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInRvQXJyYXkiLCAwLCBqc19zaXplX2Z1bmNzLCBTSVpFX01FVEhPRF9UT0FSUkFZKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZml0V2lkdGgiLCAwLCBqc19zaXplX2Z1bmNzLCBTSVpFX01FVEhPRF9GSVRXSURUSCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImZpdEhlaWdodCIsIDAsIGpzX3NpemVfZnVuY3MsIFNJWkVfTUVUSE9EX0ZJVEhFSUdIVCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImZpdEluc2lkZSIsIDAsIGpzX3NpemVfZnVuY3MsIFNJWkVfTUVUSE9EX0ZJVElOU0lERSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImZpdE91dHNpZGUiLCAwLCBqc19zaXplX2Z1bmNzLCBTSVpFX01FVEhPRF9GSVRPVVRTSURFKSwKICAgIEpTX0NGVU5DX0RFRigidG9TdHJpbmciLCAwLCBqc19zaXplX3RvX3N0cmluZyksCiAgICBKU19DRlVOQ19ERUYoInRvU291cmNlIiwgMCwganNfc2l6ZV90b19zb3VyY2UpLAogICAgSlNfQ0ZVTkNfREVGKCJhZGQiLCAxLCBqc19zaXplX2FkZCksCiAgICBKU19DRlVOQ19ERUYoInN1YiIsIDEsIGpzX3NpemVfc3ViKSwKICAgIEpTX0NGVU5DX0RFRigibXVsIiwgMSwganNfc2l6ZV9tdWwpLAogICAgSlNfQ0ZVTkNfREVGKCJkaXYiLCAxLCBqc19zaXplX2RpdiksCiAgICBKU19BTElBU19ERUYoInZhbHVlcyIsICJ0b0FycmF5IiksCiAgICBKU19DRlVOQ19ERUYoIltTeW1ib2wuaXRlcmF0b3JdIiwgMCwganNfc2l6ZV9zeW1ib2xfaXRlcmF0b3IpLAogICAgSlNfUFJPUF9TVFJJTkdfREVGKCJbU3ltYm9sLnRvU3RyaW5nVGFnXSIsICJTaXplIiwgSlNfUFJPUF9DT05GSUdVUkFCTEUpLAp9OwoKY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfc2l6ZV9zdGF0aWNfZnVuY3NbXSA9IHtKU19DRlVOQ19ERUYoImZyb20iLCAxLCBqc19zaXplX2Zyb20pfTsKCmludApqc19zaXplX2luaXQoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CgogIGlmKGpzX3NpemVfY2xhc3NfaWQgPT0gMCkgewogICAgLyogY3JlYXRlIHRoZSBTaXplIGNsYXNzICovCiAgICBKU19OZXdDbGFzc0lEKCZqc19zaXplX2NsYXNzX2lkKTsKICAgIEpTX05ld0NsYXNzKEpTX0dldFJ1bnRpbWUoY3R4KSwganNfc2l6ZV9jbGFzc19pZCwgJmpzX3NpemVfY2xhc3MpOwoKICAgIHNpemVfcHJvdG8gPSBKU19OZXdPYmplY3QoY3R4KTsKICAgIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgc2l6ZV9wcm90bywganNfc2l6ZV9wcm90b19mdW5jcywgY291bnRvZihqc19zaXplX3Byb3RvX2Z1bmNzKSk7CgogICAgSlNfU2V0Q2xhc3NQcm90byhjdHgsIGpzX3NpemVfY2xhc3NfaWQsIHNpemVfcHJvdG8pOwoKICAgIHNpemVfY2xhc3MgPSBKU19OZXdDRnVuY3Rpb24yKGN0eCwganNfc2l6ZV9jdG9yLCAiU2l6ZSIsIDAsIEpTX0NGVU5DX2NvbnN0cnVjdG9yLCAwKTsKICAgIC8qIHNldCBwcm90by5jb25zdHJ1Y3RvciBhbmQgY3Rvci5wcm90b3R5cGUgKi8KICAgIEpTX1NldENvbnN0cnVjdG9yKGN0eCwgc2l6ZV9jbGFzcywgc2l6ZV9wcm90byk7CiAgICBKU19TZXRQcm9wZXJ0eUZ1bmN0aW9uTGlzdChjdHgsIHNpemVfY2xhc3MsIGpzX3NpemVfc3RhdGljX2Z1bmNzLCBjb3VudG9mKGpzX3NpemVfc3RhdGljX2Z1bmNzKSk7CgogICAganNfc2V0X2luc3BlY3RfbWV0aG9kKGN0eCwgc2l6ZV9wcm90bywganNfc2l6ZV9pbnNwZWN0KTsKICB9CgogIGlmKG0pCiAgICBKU19TZXRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiU2l6ZSIsIHNpemVfY2xhc3MpOwogIC8qZWxzZQogICAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCAqc3RhdGljX2Nhc3Q8SlNWYWx1ZSo+KG0pLCBuYW1lLCBzaXplX2NsYXNzKTsqLwogIHJldHVybiAwOwp9CgpleHRlcm4gIkMiIFZJU0lCTEUgdm9pZApqc19zaXplX2V4cG9ydChKU0NvbnRleHQqIGN0eCwgSlNNb2R1bGVEZWYqIG0pIHsKICBKU19BZGRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiU2l6ZSIpOwp9Cgp2b2lkCmpzX3NpemVfY29uc3RydWN0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWUgcGFyZW50LCBjb25zdCBjaGFyKiBuYW1lKSB7CiAgaWYoSlNfSXNVbmRlZmluZWQoc2l6ZV9jbGFzcykpCiAgICBqc19zaXplX2luaXQoY3R4LCAwKTsKCiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBwYXJlbnQsIG5hbWUgPyBuYW1lIDogIlNpemUiLCBzaXplX2NsYXNzKTsKfQoKI2lmZGVmIEpTX1NJWkVfTU9EVUxFCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUgVklTSUJMRSBqc19pbml0X21vZHVsZQojZWxzZQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIGpzX2luaXRfbW9kdWxlX3NpemUKI2VuZGlmCgpleHRlcm4gIkMiIEpTTW9kdWxlRGVmKgpKU19JTklUX01PRFVMRShKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbW9kdWxlX25hbWUpIHsKICBKU01vZHVsZURlZiogbTsKICBtID0gSlNfTmV3Q01vZHVsZShjdHgsIG1vZHVsZV9uYW1lLCAmanNfc2l6ZV9pbml0KTsKICBpZighbSkKICAgIHJldHVybiBOVUxMOwogIGpzX3NpemVfZXhwb3J0KGN0eCwgbSk7CiAgcmV0dXJuIG07Cn0AAAAAAAAAAFE6AAAAAAAAAAAAAA",
					"BgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAOcXAAAAAAAA5xcAAAAAAAAAAAAAAADwvw"
				],
				[
					850,
					1,
					"delete_blank_lines",
					{
						"surplus": false
					},
					"AQAAAIUXAAAAAAAAWxgAAAAAAADZAAAACgogICAgICAgIGlmKChhcmcgPSBqc19zaXplX2RhdGEoY3R4LCBhcmd2WzBdKSkpIHsKICAgICAgICAgIGVxdWFscyA9IHMtPndpZHRoID09IGFyZy0+d2lkdGggJiYgcy0+aGVpZ2h0ID09IGFyZy0+aGVpZ2h0OwoKICAgICAgICB9IGVsc2UgaWYoanNfc2l6ZV9yZWFkKGN0eCwgYXJndlswXSwgJm90aGVyKSkgewogICAgICAgICAgZXF1YWxzID0gcy0+d2lkdGggPT0gb3RoZXIudw",
					"BgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAIUXAAAAAAAAXhgAAAAAAAAAAAAAAADwvw"
				],
				[
					851,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABPOgAAI2luY2x1ZGUgImpzYmluZGluZ3MuaHBwIgojaW5jbHVkZSAianNfc2l6ZS5ocHAiCiNpbmNsdWRlICJqc19hcnJheS5ocHAiCiNpbmNsdWRlICJqc19hbGxvYy5ocHAiCiNpbmNsdWRlICJ1dGlsLmhwcCIKCmVudW0ganNfc2l6ZV9maXRfdCB7IEpTX1NJWkVfRklUX1dJRFRIID0gMSwgSlNfU0laRV9GSVRfSEVJR0hUID0gMiwgSlNfU0laRV9GSVRfSU5TSURFLCBKU19TSVpFX0ZJVF9PVVRTSURFIH07CmVudW0geyBTSVpFX1BST1BfV0lEVEgsIFNJWkVfUFJPUF9IRUlHSFQsIFNJWkVfUFJPUF9BU1BFQ1QsIFNJWkVfUFJPUF9FTVBUWSwgU0laRV9QUk9QX0FSRUEgfTsKZW51bSB7CiAgU0laRV9NRVRIT0RfRVFVQUxTLAogIFNJWkVfTUVUSE9EX1JPVU5ELAogIFNJWkVfTUVUSE9EX1RPT0JKRUNULAogIFNJWkVfTUVUSE9EX1RPQVJSQVksCiAgU0laRV9NRVRIT0RfRklUV0lEVEgsCiAgU0laRV9NRVRIT0RfRklUSEVJR0hULAogIFNJWkVfTUVUSE9EX0ZJVElOU0lERSwKICBTSVpFX01FVEhPRF9GSVRPVVRTSURFCn07CmV4dGVybiAiQyIgewpKU1ZhbHVlIHNpemVfcHJvdG8gPSBKU19VTkRFRklORUQsIHNpemVfY2xhc3MgPSBKU19VTkRFRklORUQ7CkpTQ2xhc3NJRCBqc19zaXplX2NsYXNzX2lkID0gMDsKfQoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSBKU1NpemVEYXRhPFQ+CmpzX3NpemVfZml0KGNvbnN0IEpTU2l6ZURhdGE8VD4mIHNpemUsIFQgdG8sIGpzX3NpemVfZml0X3QgbW9kZSkgewogIEpTU2l6ZURhdGE8VD4gcmV0OwogIHN3aXRjaChtb2RlKSB7CiAgICBjYXNlIEpTX1NJWkVfRklUX1dJRFRIOiB7CiAgICAgIHJldC53aWR0aCA9IHRvOwogICAgICByZXQuaGVpZ2h0ID0gc2l6ZS5oZWlnaHQgKiAodG8gLyBzaXplLndpZHRoKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIEpTX1NJWkVfRklUX0hFSUdIVDogewogICAgICByZXQud2lkdGggPSBzaXplLndpZHRoICogKHRvIC8gc2l6ZS5oZWlnaHQpOwogICAgICByZXQuaGVpZ2h0ID0gdG87CiAgICAgIGJyZWFrOwogICAgfQogIH0KICByZXR1cm4gcmV0Owp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgSlNTaXplRGF0YTxUPgpqc19zaXplX2ZpdChjb25zdCBKU1NpemVEYXRhPFQ+JiBzaXplLCBjb25zdCBKU1NpemVEYXRhPFQ+JiB0bywganNfc2l6ZV9maXRfdCBtb2RlKSB7CiAgSlNTaXplRGF0YTxUPiByZXQ7CiAgc3dpdGNoKG1vZGUpIHsKICAgIGNhc2UgSlNfU0laRV9GSVRfSU5TSURFOgogICAgY2FzZSBKU19TSVpFX0ZJVF9PVVRTSURFOiB7CiAgICAgIHJldCA9IGpzX3NpemVfZml0KHNpemUsIHRvLCBKU19TSVpFX0ZJVF9XSURUSCk7CiAgICAgIGlmKG1vZGUgPT0gSlNfU0laRV9GSVRfSU5TSURFICYmIHJldC5oZWlnaHQgPiB0by5oZWlnaHQpCiAgICAgICAgcmV0ID0ganNfc2l6ZV9maXQoc2l6ZSwgdG8uaGVpZ2h0LCBKU19TSVpFX0ZJVF9IRUlHSFQpOwoKICAgICAgYnJlYWs7CiAgICB9CiAgICBkZWZhdWx0OiByZXQgPSBqc19zaXplX2ZpdChzaXplLCBtb2RlID09IEpTX1NJWkVfRklUX1dJRFRIID8gdG8ud2lkdGggOiB0by5oZWlnaHQsIG1vZGUpOyBicmVhazsKICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfc2l6ZV9jdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgbmV3X3RhcmdldCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTU2l6ZURhdGE8ZG91YmxlPiBzaXplLCAqczsKICBKU1ZhbHVlIG9iaiA9IEpTX1VOREVGSU5FRDsKICBKU1ZhbHVlIHByb3RvOwoKICBzID0ganNfYWxsb2NhdGU8SlNTaXplRGF0YTxkb3VibGU+PihjdHgpOwogIGlmKCFzKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICBuZXcocykgSlNTaXplRGF0YTxkb3VibGU+KCk7CgogIGlmKGFyZ2MgPiAwKSB7CiAgICBpZihqc19zaXplX3JlYWQoY3R4LCBhcmd2WzBdLCAmc2l6ZSkpIHsKICAgICAgKnMgPSBzaXplOwogICAgfSBlbHNlIHsKICAgICAgaWYoSlNfVG9GbG9hdDY0KGN0eCwgJnNpemUud2lkdGgsIGFyZ3ZbMF0pKQogICAgICAgIGdvdG8gZmFpbDsKICAgICAgaWYoYXJnYyA8IDIgfHwgSlNfVG9GbG9hdDY0KGN0eCwgJnNpemUuaGVpZ2h0LCBhcmd2WzFdKSkKICAgICAgICBnb3RvIGZhaWw7CgogICAgICAqcyA9IHNpemU7CiAgICB9CiAgfQoKICAvKiB1c2luZyBuZXdfdGFyZ2V0IHRvIGdldCB0aGUgcHJvdG90eXBlIGlzIG5lY2Vzc2FyeSB3aGVuIHRoZQogICAgIGNsYXNzIGlzIGV4dGVuZGVkLiAqLwogIHByb3RvID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBuZXdfdGFyZ2V0LCAicHJvdG90eXBlIik7CiAgaWYoSlNfSXNFeGNlcHRpb24ocHJvdG8pKQogICAgZ290byBmYWlsOwogIG9iaiA9IEpTX05ld09iamVjdFByb3RvQ2xhc3MoY3R4LCBwcm90bywganNfc2l6ZV9jbGFzc19pZCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcHJvdG8pOwogIGlmKEpTX0lzRXhjZXB0aW9uKG9iaikpCiAgICBnb3RvIGZhaWw7CiAgSlNfU2V0T3BhcXVlKG9iaiwgcyk7CiAgcmV0dXJuIG9iajsKZmFpbDoKICBqc19kZWFsbG9jYXRlKGN0eCwgcyk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpWSVNJQkxFIEpTU2l6ZURhdGE8ZG91YmxlPioKanNfc2l6ZV9kYXRhKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsKSB7CiAgcmV0dXJuIHN0YXRpY19jYXN0PEpTU2l6ZURhdGE8ZG91YmxlPio+KEpTX0dldE9wYXF1ZSh2YWwsIGpzX3NpemVfY2xhc3NfaWQpKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfc2l6ZV9nZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IG1hZ2ljKSB7CiAgSlNTaXplRGF0YTxkb3VibGU+KiBzOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBpZighKHMgPSBqc19zaXplX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFNJWkVfUFJPUF9XSURUSDogewogICAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgcy0+d2lkdGgpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU0laRV9QUk9QX0hFSUdIVDogewogICAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgcy0+aGVpZ2h0KTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNJWkVfUFJPUF9BU1BFQ1Q6IHsKICAgICAgcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsIHMtPmFzcGVjdFJhdGlvKCkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU0laRV9QUk9QX0VNUFRZOiB7CiAgICAgIHJldCA9IEpTX05ld0Jvb2woY3R4LCBzLT5lbXB0eSgpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNJWkVfUFJPUF9BUkVBOiB7CiAgICAgIHJldCA9IEpTX05ld0Zsb2F0NjQoY3R4LCBzLT5hcmVhKCkpOwogICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiByZXQ7Cn0KClZJU0lCTEUgSlNWYWx1ZQpqc19zaXplX25ldyhKU0NvbnRleHQqIGN0eCwgZG91YmxlIHcsIGRvdWJsZSBoKSB7CiAgSlNWYWx1ZSByZXQ7CiAgSlNTaXplRGF0YTxkb3VibGU+KiBzOwoKICBpZihKU19Jc1VuZGVmaW5lZChzaXplX3Byb3RvKSkKICAgIGpzX3NpemVfaW5pdChjdHgsIE5VTEwpOwoKICByZXQgPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgc2l6ZV9wcm90bywganNfc2l6ZV9jbGFzc19pZCk7CgogIHMgPSBqc19hbGxvY2F0ZTxKU1NpemVEYXRhPGRvdWJsZT4+KGN0eCk7CiAgcy0+d2lkdGggPSB3IDw9IERCTF9FUFNJTE9OID8gMCA6IHc7CiAgcy0+aGVpZ2h0ID0gaCA8PSBEQkxfRVBTSUxPTiA/IDAgOiBoOwoKICBKU19TZXRPcGFxdWUocmV0LCBzKTsKICByZXR1cm4gcmV0Owp9CgpWSVNJQkxFIEpTVmFsdWUKanNfc2l6ZV93cmFwKEpTQ29udGV4dCogY3R4LCBjb25zdCBKU1NpemVEYXRhPGRvdWJsZT4mIHN6KSB7CiAgcmV0dXJuIGpzX3NpemVfbmV3KGN0eCwgc3oud2lkdGgsIHN6LmhlaWdodCk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3NpemVfc2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIEpTVmFsdWVDb25zdCB2YWwsIGludCBtYWdpYykgewogIEpTU2l6ZURhdGE8ZG91YmxlPiogcyA9IGpzX3NpemVfZGF0YShjdHgsIHRoaXNfdmFsKTsKICBkb3VibGUgdjsKICBpZighcykKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgaWYoSlNfVG9GbG9hdDY0KGN0eCwgJnYsIHZhbCkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIGlmKG1hZ2ljID09IDApCiAgICBzLT53aWR0aCA9IHY7CiAgZWxzZQogICAgcy0+aGVpZ2h0ID0gdjsKICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19zaXplX3RvX3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNTaXplRGF0YTxkb3VibGU+IHNpemUsICpzOwogIHN0ZDo6b3N0cmluZ3N0cmVhbSBvczsKICBjb25zdCBjaGFyKiBkZWxpbSA9ICLDlyI7CiAgaWYoKHMgPSBqc19zaXplX2RhdGEoY3R4LCB0aGlzX3ZhbCkpID09IG51bGxwdHIpIHsKICAgIGpzX3NpemVfcmVhZChjdHgsIHRoaXNfdmFsLCAmc2l6ZSk7CiAgfSBlbHNlIHsKICAgIHNpemUgPSAqczsKICB9CgogIGlmKGFyZ2MgPiAwKQogICAgZGVsaW0gPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsKCiAgb3MgPDwgc2l6ZS53aWR0aCA8PCBkZWxpbSA8PCBzaXplLmhlaWdodDsKCiAgcmV0dXJuIEpTX05ld1N0cmluZyhjdHgsIG9zLnN0cigpLmNfc3RyKCkpOwp9CnN0YXRpYyBKU1ZhbHVlCmpzX3NpemVfdG9fc291cmNlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1NpemVEYXRhPGRvdWJsZT4gc2l6ZSwgKnM7CiAgc3RkOjpvc3RyaW5nc3RyZWFtIG9zOwogIGlmKChzID0ganNfc2l6ZV9kYXRhKGN0eCwgdGhpc192YWwpKSA9PSBudWxscHRyKSB7CiAgICBqc19zaXplX3JlYWQoY3R4LCB0aGlzX3ZhbCwgJnNpemUpOwogIH0gZWxzZSB7CiAgICBzaXplID0gKnM7CiAgfQogIG9zIDw8ICJ7d2lkdGg6IiA8PCBzaXplLndpZHRoIDw8ICIsaGVpZ2h0OiIgPDwgc2l6ZS5oZWlnaHQgPDwgIn0iOwoKICByZXR1cm4gSlNfTmV3U3RyaW5nKGN0eCwgb3Muc3RyKCkuY19zdHIoKSk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3NpemVfaW5zcGVjdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNTaXplRGF0YTxkb3VibGU+KiBzID0ganNfc2l6ZV9kYXRhKGN0eCwgdGhpc192YWwpOwogIEpTVmFsdWUgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG8oY3R4LCBzaXplX3Byb3RvKTsKCiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgIndpZHRoIiwgSlNfTmV3RmxvYXQ2NChjdHgsIHMtPndpZHRoKSwgSlNfUFJPUF9FTlVNRVJBQkxFKTsKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAiaGVpZ2h0IiwgSlNfTmV3RmxvYXQ2NChjdHgsIHMtPmhlaWdodCksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgcmV0dXJuIG9iajsKfQoKc3RhdGljIEpTVmFsdWUKanNfc2l6ZV9mdW5jcyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2LCBpbnQgbWFnaWMpIHsKICBKU1NpemVEYXRhPGRvdWJsZT4gc2l6ZSwgKnM7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgaWYoKHMgPSBqc19zaXplX2RhdGEoY3R4LCB0aGlzX3ZhbCkpID09IG51bGxwdHIpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBzaXplID0gKnM7CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBTSVpFX01FVEhPRF9FUVVBTFM6IHsKICAgICAgSlNTaXplRGF0YTxkb3VibGU+IG90aGVyLCAqYXJnOwogICAgICBib29sIGVxdWFscyA9IGZhbHNlOwogICAgICBpZihhcmdjID4gMCkgeyAgICAgICAgaWYoKGFyZyA9IGpzX3NpemVfZGF0YShjdHgsIGFyZ3ZbMF0pKSkgewogICAgICAgICAgZXF1YWxzID0gcy0+d2lkdGggPT0gYXJnLT53aWR0aCAmJiBzLT5oZWlnaHQgPT0gYXJnLT5oZWlnaHQ7CiAgICAgICAgfSBlbHNlIGlmKGpzX3NpemVfcmVhZChjdHgsIGFyZ3ZbMF0sICZvdGhlcikpIHsKICAgICAgICAgIGVxdWFscyA9IHMtPndpZHRoID09IG90aGVyLndpZHRoICYmIHMtPmhlaWdodCA9PSBvdGhlci5oZWlnaHQ7CiAgICAgICAgfQogICAgICAgIHJldCA9IEpTX05ld0Jvb2woY3R4LCBlcXVhbHMpOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBTSVpFX01FVEhPRF9ST1VORDogewogICAgICBkb3VibGUgd2lkdGgsIGhlaWdodCwgZjsKICAgICAgaW50MzJfdCBwcmVjaXNpb24gPSAwOwogICAgICBpZihhcmdjID4gMCkKICAgICAgICBKU19Ub0ludDMyKGN0eCwgJnByZWNpc2lvbiwgYXJndlswXSk7CiAgICAgIGYgPSBzdGQ6OnBvdygxMCwgcHJlY2lzaW9uKTsKICAgICAgd2lkdGggPSBzdGQ6OnJvdW5kKHNpemUud2lkdGggKiBmKSAvIGY7CiAgICAgIGhlaWdodCA9IHN0ZDo6cm91bmQoc2l6ZS5oZWlnaHQgKiBmKSAvIGY7CiAgICAgIHJldCA9IGpzX3NpemVfbmV3KGN0eCwgd2lkdGgsIGhlaWdodCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBTSVpFX01FVEhPRF9UT09CSkVDVDogewogICAgICByZXQgPSBKU19OZXdPYmplY3QoY3R4KTsKCiAgICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAid2lkdGgiLCBKU19OZXdGbG9hdDY0KGN0eCwgc2l6ZS53aWR0aCkpOwogICAgICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIHJldCwgImhlaWdodCIsIEpTX05ld0Zsb2F0NjQoY3R4LCBzaXplLmhlaWdodCkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU0laRV9NRVRIT0RfVE9BUlJBWTogewogICAgICByZXQgPSBKU19OZXdBcnJheShjdHgpOwoKICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDAsIEpTX05ld0Zsb2F0NjQoY3R4LCBzaXplLndpZHRoKSk7CiAgICAgIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCAxLCBKU19OZXdGbG9hdDY0KGN0eCwgc2l6ZS5oZWlnaHQpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNJWkVfTUVUSE9EX0ZJVFdJRFRIOgogICAgY2FzZSBTSVpFX01FVEhPRF9GSVRIRUlHSFQ6CiAgICBjYXNlIFNJWkVfTUVUSE9EX0ZJVElOU0lERToKICAgIGNhc2UgU0laRV9NRVRIT0RfRklUT1VUU0lERTogewogICAgICBKU1NpemVEYXRhPGRvdWJsZT4gb3RoZXIsIHJlc3VsdDsKICAgICAgZG91YmxlIGFyZzsKCiAgICAgIGpzX3NpemVfZml0X3QgZml0X3R5cGUgPSBqc19zaXplX2ZpdF90KG1hZ2ljIC0gMyk7CiAgICAgIGlmKG1hZ2ljID49IDYpIHt9CgogICAgICBpZihqc19zaXplX3JlYWQoY3R4LCBhcmd2WzBdLCAmb3RoZXIpKSB7CiAgICAgICAgcmVzdWx0ID0ganNfc2l6ZV9maXQoc2l6ZSwgb3RoZXIsIGZpdF90eXBlKTsKCiAgICAgIH0gZWxzZSBpZihmaXRfdHlwZSA9PSBKU19TSVpFX0ZJVF9XSURUSCB8fCBmaXRfdHlwZSA9PSBKU19TSVpFX0ZJVF9IRUlHSFQpIHsKICAgICAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmYXJnLCBhcmd2WzBdKTsKICAgICAgICByZXN1bHQgPSBqc19zaXplX2ZpdChzaXplLCBhcmcsIGZpdF90eXBlKTsKICAgICAgfQoKICAgICAgaWYoIXJlc3VsdC5lbXB0eSgpKQogICAgICAgIHJldCA9IGpzX3NpemVfbmV3KGN0eCwgcmVzdWx0LndpZHRoLCByZXN1bHQuaGVpZ2h0KTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19zaXplX2FkZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNTaXplRGF0YTxkb3VibGU+KnMsIHNpemU7CgogIGlmKChzID0ganNfc2l6ZV9kYXRhKGN0eCwgdGhpc192YWwpKSA9PSBudWxscHRyKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYoanNfc2l6ZV9yZWFkKGN0eCwgYXJndlswXSwgJnNpemUpKSB7CiAgICBzLT53aWR0aCArPSBzaXplLndpZHRoOwogICAgcy0+aGVpZ2h0ICs9IHNpemUuaGVpZ2h0OwogIH0gZWxzZSBpZihhcmdjID49IDIgJiYgSlNfSXNOdW1iZXIoYXJndlswXSkgJiYgSlNfSXNOdW1iZXIoYXJndlsxXSkpIHsKICAgIGRvdWJsZSB3aWR0aCwgaGVpZ2h0OwoKICAgIEpTX1RvRmxvYXQ2NChjdHgsICZ3aWR0aCwgYXJndlswXSk7CiAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmaGVpZ2h0LCBhcmd2WzFdKTsKICAgIHMtPndpZHRoICs9IHdpZHRoOwogICAgcy0+aGVpZ2h0ICs9IGhlaWdodDsKICB9CgogIHJldHVybiBKU19EdXBWYWx1ZShjdHgsIHRoaXNfdmFsKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfc2l6ZV9zdWIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTU2l6ZURhdGE8ZG91YmxlPipzLCBzaXplOwoKICBpZigocyA9IGpzX3NpemVfZGF0YShjdHgsIHRoaXNfdmFsKSkgPT0gbnVsbHB0cikKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGlmKGpzX3NpemVfcmVhZChjdHgsIGFyZ3ZbMF0sICZzaXplKSkgewogICAgcy0+d2lkdGggLT0gc2l6ZS53aWR0aDsKICAgIHMtPmhlaWdodCAtPSBzaXplLmhlaWdodDsKICB9IGVsc2UgaWYoYXJnYyA+PSAyICYmIEpTX0lzTnVtYmVyKGFyZ3ZbMF0pICYmIEpTX0lzTnVtYmVyKGFyZ3ZbMV0pKSB7CiAgICBkb3VibGUgd2lkdGgsIGhlaWdodDsKCiAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmd2lkdGgsIGFyZ3ZbMF0pOwogICAgSlNfVG9GbG9hdDY0KGN0eCwgJmhlaWdodCwgYXJndlsxXSk7CiAgICBzLT53aWR0aCAtPSB3aWR0aDsKICAgIHMtPmhlaWdodCAtPSBoZWlnaHQ7CiAgfQoKICByZXR1cm4gSlNfRHVwVmFsdWUoY3R4LCB0aGlzX3ZhbCk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3NpemVfbXVsKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1NpemVEYXRhPGRvdWJsZT4gc2l6ZSwgKnMgPSBqc19zaXplX2RhdGEoY3R4LCB0aGlzX3ZhbCk7CiAgZG91YmxlIGZhY3RvcjsKICBKU19Ub0Zsb2F0NjQoY3R4LCAmZmFjdG9yLCBhcmd2WzBdKTsKCiAgc2l6ZSA9ICpzOwogIHNpemUud2lkdGggKj0gZmFjdG9yOwogIHNpemUuaGVpZ2h0ICo9IGZhY3RvcjsKCiAgcmV0dXJuIGpzX3NpemVfd3JhcChjdHgsIHNpemUpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19zaXplX2RpdihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNTaXplRGF0YTxkb3VibGU+IHNpemUsIG90aGVyLCAqcywgKmEgPSBudWxscHRyOwogIEpTVmFsdWUgcmV0ID0gSlNfRVhDRVBUSU9OOwogIGlmKChzID0ganNfc2l6ZV9kYXRhKGN0eCwgdGhpc192YWwpKSAhPSBudWxscHRyKSB7CiAgICBzaXplID0gKnM7CgogICAgaWYoSlNfSXNOdW1iZXIoYXJndlswXSkpIHsKICAgICAgZG91YmxlIGRpdmlkZXI7CiAgICAgIEpTX1RvRmxvYXQ2NChjdHgsICZkaXZpZGVyLCBhcmd2WzBdKTsKICAgICAgc2l6ZS53aWR0aCAvPSBkaXZpZGVyOwogICAgICBzaXplLmhlaWdodCAvPSBkaXZpZGVyOwogICAgICByZXQgPSBqc19zaXplX3dyYXAoY3R4LCBzaXplKTsKICAgIH0gZWxzZSB7CiAgICAgIGlmKChhID0ganNfc2l6ZV9kYXRhKGN0eCwgYXJndlswXSkpICE9IG51bGxwdHIpCiAgICAgICAgb3RoZXIgPSAqYTsKICAgICAgZWxzZSB7CiAgICAgICAganNfc2l6ZV9yZWFkKGN0eCwgYXJndlswXSwgJm90aGVyKTsKICAgICAgICBhID0gJm90aGVyOwogICAgICB9CiAgICAgIHN0ZDo6YXJyYXk8ZG91YmxlLCAyPiByZXN1bHR7c2l6ZS53aWR0aCAvIG90aGVyLndpZHRoLCBzaXplLmhlaWdodCAvIG90aGVyLmhlaWdodH07CiAgICAgIHJldCA9IEpTX05ld0FycmF5KGN0eCk7CgogICAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgMCwgSlNfTmV3RmxvYXQ2NChjdHgsIHJlc3VsdFswXSkpOwogICAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgMSwgSlNfTmV3RmxvYXQ2NChjdHgsIHJlc3VsdFsxXSkpOwogICAgfQogIH0KICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNBdG9tIGl0ZXJhdG9yX3N5bWJvbDsKCnN0YXRpYyBKU1ZhbHVlCmpzX3NpemVfc3ltYm9sX2l0ZXJhdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1ZhbHVlIGFyciwgaXRlcjsKICBhcnIgPSBqc19zaXplX2Z1bmNzKGN0eCwgdGhpc192YWwsIGFyZ2MsIGFyZ3YsIDMpOwoKICBpZihpdGVyYXRvcl9zeW1ib2wgPT0gMCkKICAgIGl0ZXJhdG9yX3N5bWJvbCA9IGpzX3N5bWJvbF9hdG9tKGN0eCwgIml0ZXJhdG9yIik7CgogIGlmKCFKU19Jc0Z1bmN0aW9uKGN0eCwgKGl0ZXIgPSBKU19HZXRQcm9wZXJ0eShjdHgsIGFyciwgaXRlcmF0b3Jfc3ltYm9sKSkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICByZXR1cm4gSlNfQ2FsbChjdHgsIGl0ZXIsIGFyciwgMCwgYXJndik7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3NpemVfZnJvbShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHNpemUsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBzdGQ6OmFycmF5PGRvdWJsZSwgMj4gYXJyYXk7CiAgSlNWYWx1ZSByZXQgPSBKU19FWENFUFRJT047CgogIGlmKEpTX0lzU3RyaW5nKGFyZ3ZbMF0pKSB7CiAgICBjb25zdCBjaGFyKiBzdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsKICAgIGNoYXIqIGVuZHB0ciA9IG51bGxwdHI7CiAgICBmb3Ioc2l6ZV90IGkgPSAwOyBpIDwgMjsgaSsrKSB7CiAgICAgIHdoaWxlKCFpc2RpZ2l0KCpzdHIpICYmICpzdHIgIT0gJy0nICYmICpzdHIgIT0gJysnICYmICEoKnN0ciA9PSAnLicgJiYgaXNkaWdpdChzdHJbMV0pKSkgc3RyKys7CiAgICAgIGlmKCpzdHIgPT0gJ1wwJykKICAgICAgICBicmVhazsKICAgICAgYXJyYXlbaV0gPSBzdHJ0b2Qoc3RyLCAmZW5kcHRyKTsKICAgICAgc3RyID0gZW5kcHRyOwogICAgfQogIH0gZWxzZSBpZihqc19pc19hcnJheShjdHgsIGFyZ3ZbMF0pKSB7CiAgICBqc19hcnJheV90bzxkb3VibGUsIDI+KGN0eCwgYXJndlswXSwgYXJyYXkpOwogIH0KICBpZihhcnJheVswXSA+IDAgJiYgYXJyYXlbMV0gPiAwKQogICAgcmV0ID0ganNfc2l6ZV9uZXcoY3R4LCBhcnJheVswXSwgYXJyYXlbMV0pOwogIHJldHVybiByZXQ7Cn0KCnZvaWQKanNfc2l6ZV9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBKU1NpemVEYXRhPGRvdWJsZT4qIHMgPSBzdGF0aWNfY2FzdDxKU1NpemVEYXRhPGRvdWJsZT4qPihKU19HZXRPcGFxdWUodmFsLCBqc19zaXplX2NsYXNzX2lkKSk7CiAgLyogTm90ZTogJ3MnIGNhbiBiZSBOVUxMIGluIGNhc2UgSlNfU2V0T3BhcXVlKCkgd2FzIG5vdCBjYWxsZWQgKi8KICBpZihzKQogICAganNfZGVhbGxvY2F0ZShydCwgcyk7Cn0KCkpTQ2xhc3NEZWYganNfc2l6ZV9jbGFzcyA9IHsKICAgIC5jbGFzc19uYW1lID0gIlNpemUiLAogICAgLmZpbmFsaXplciA9IGpzX3NpemVfZmluYWxpemVyLAp9OwoKY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfc2l6ZV9wcm90b19mdW5jc1tdID0gewogICAgSlNfQ0dFVFNFVF9FTlVNRVJBQkxFX0RFRigid2lkdGgiLCBqc19zaXplX2dldCwganNfc2l6ZV9zZXQsIFNJWkVfUFJPUF9XSURUSCksCiAgICBKU19DR0VUU0VUX0VOVU1FUkFCTEVfREVGKCJoZWlnaHQiLCBqc19zaXplX2dldCwganNfc2l6ZV9zZXQsIFNJWkVfUFJPUF9IRUlHSFQpLAogICAgSlNfQ0dFVFNFVF9FTlVNRVJBQkxFX0RFRigiYXNwZWN0IiwganNfc2l6ZV9nZXQsIDAsIFNJWkVfUFJPUF9BU1BFQ1QpLAogICAgSlNfQ0dFVFNFVF9FTlVNRVJBQkxFX0RFRigiZW1wdHkiLCBqc19zaXplX2dldCwgMCwgU0laRV9QUk9QX0VNUFRZKSwKICAgIEpTX0NHRVRTRVRfRU5VTUVSQUJMRV9ERUYoImFyZWEiLCBqc19zaXplX2dldCwgMCwgU0laRV9QUk9QX0FSRUEpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJlcXVhbHMiLCAxLCBqc19zaXplX2Z1bmNzLCBTSVpFX01FVEhPRF9FUVVBTFMpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJyb3VuZCIsIDAsIGpzX3NpemVfZnVuY3MsIFNJWkVfTUVUSE9EX1JPVU5EKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigidG9PYmplY3QiLCAwLCBqc19zaXplX2Z1bmNzLCBTSVpFX01FVEhPRF9UT09CSkVDVCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInRvQXJyYXkiLCAwLCBqc19zaXplX2Z1bmNzLCBTSVpFX01FVEhPRF9UT0FSUkFZKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZml0V2lkdGgiLCAwLCBqc19zaXplX2Z1bmNzLCBTSVpFX01FVEhPRF9GSVRXSURUSCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImZpdEhlaWdodCIsIDAsIGpzX3NpemVfZnVuY3MsIFNJWkVfTUVUSE9EX0ZJVEhFSUdIVCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImZpdEluc2lkZSIsIDAsIGpzX3NpemVfZnVuY3MsIFNJWkVfTUVUSE9EX0ZJVElOU0lERSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImZpdE91dHNpZGUiLCAwLCBqc19zaXplX2Z1bmNzLCBTSVpFX01FVEhPRF9GSVRPVVRTSURFKSwKICAgIEpTX0NGVU5DX0RFRigidG9TdHJpbmciLCAwLCBqc19zaXplX3RvX3N0cmluZyksCiAgICBKU19DRlVOQ19ERUYoInRvU291cmNlIiwgMCwganNfc2l6ZV90b19zb3VyY2UpLAogICAgSlNfQ0ZVTkNfREVGKCJhZGQiLCAxLCBqc19zaXplX2FkZCksCiAgICBKU19DRlVOQ19ERUYoInN1YiIsIDEsIGpzX3NpemVfc3ViKSwKICAgIEpTX0NGVU5DX0RFRigibXVsIiwgMSwganNfc2l6ZV9tdWwpLAogICAgSlNfQ0ZVTkNfREVGKCJkaXYiLCAxLCBqc19zaXplX2RpdiksCiAgICBKU19BTElBU19ERUYoInZhbHVlcyIsICJ0b0FycmF5IiksCiAgICBKU19DRlVOQ19ERUYoIltTeW1ib2wuaXRlcmF0b3JdIiwgMCwganNfc2l6ZV9zeW1ib2xfaXRlcmF0b3IpLAogICAgSlNfUFJPUF9TVFJJTkdfREVGKCJbU3ltYm9sLnRvU3RyaW5nVGFnXSIsICJTaXplIiwgSlNfUFJPUF9DT05GSUdVUkFCTEUpLAp9OwoKY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfc2l6ZV9zdGF0aWNfZnVuY3NbXSA9IHtKU19DRlVOQ19ERUYoImZyb20iLCAxLCBqc19zaXplX2Zyb20pfTsKCmludApqc19zaXplX2luaXQoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CgogIGlmKGpzX3NpemVfY2xhc3NfaWQgPT0gMCkgewogICAgLyogY3JlYXRlIHRoZSBTaXplIGNsYXNzICovCiAgICBKU19OZXdDbGFzc0lEKCZqc19zaXplX2NsYXNzX2lkKTsKICAgIEpTX05ld0NsYXNzKEpTX0dldFJ1bnRpbWUoY3R4KSwganNfc2l6ZV9jbGFzc19pZCwgJmpzX3NpemVfY2xhc3MpOwoKICAgIHNpemVfcHJvdG8gPSBKU19OZXdPYmplY3QoY3R4KTsKICAgIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgc2l6ZV9wcm90bywganNfc2l6ZV9wcm90b19mdW5jcywgY291bnRvZihqc19zaXplX3Byb3RvX2Z1bmNzKSk7CgogICAgSlNfU2V0Q2xhc3NQcm90byhjdHgsIGpzX3NpemVfY2xhc3NfaWQsIHNpemVfcHJvdG8pOwoKICAgIHNpemVfY2xhc3MgPSBKU19OZXdDRnVuY3Rpb24yKGN0eCwganNfc2l6ZV9jdG9yLCAiU2l6ZSIsIDAsIEpTX0NGVU5DX2NvbnN0cnVjdG9yLCAwKTsKICAgIC8qIHNldCBwcm90by5jb25zdHJ1Y3RvciBhbmQgY3Rvci5wcm90b3R5cGUgKi8KICAgIEpTX1NldENvbnN0cnVjdG9yKGN0eCwgc2l6ZV9jbGFzcywgc2l6ZV9wcm90byk7CiAgICBKU19TZXRQcm9wZXJ0eUZ1bmN0aW9uTGlzdChjdHgsIHNpemVfY2xhc3MsIGpzX3NpemVfc3RhdGljX2Z1bmNzLCBjb3VudG9mKGpzX3NpemVfc3RhdGljX2Z1bmNzKSk7CgogICAganNfc2V0X2luc3BlY3RfbWV0aG9kKGN0eCwgc2l6ZV9wcm90bywganNfc2l6ZV9pbnNwZWN0KTsKICB9CgogIGlmKG0pCiAgICBKU19TZXRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiU2l6ZSIsIHNpemVfY2xhc3MpOwogIC8qZWxzZQogICAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCAqc3RhdGljX2Nhc3Q8SlNWYWx1ZSo+KG0pLCBuYW1lLCBzaXplX2NsYXNzKTsqLwogIHJldHVybiAwOwp9CgpleHRlcm4gIkMiIFZJU0lCTEUgdm9pZApqc19zaXplX2V4cG9ydChKU0NvbnRleHQqIGN0eCwgSlNNb2R1bGVEZWYqIG0pIHsKICBKU19BZGRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiU2l6ZSIpOwp9Cgp2b2lkCmpzX3NpemVfY29uc3RydWN0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWUgcGFyZW50LCBjb25zdCBjaGFyKiBuYW1lKSB7CiAgaWYoSlNfSXNVbmRlZmluZWQoc2l6ZV9jbGFzcykpCiAgICBqc19zaXplX2luaXQoY3R4LCAwKTsKCiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBwYXJlbnQsIG5hbWUgPyBuYW1lIDogIlNpemUiLCBzaXplX2NsYXNzKTsKfQoKI2lmZGVmIEpTX1NJWkVfTU9EVUxFCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUgVklTSUJMRSBqc19pbml0X21vZHVsZQojZWxzZQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIGpzX2luaXRfbW9kdWxlX3NpemUKI2VuZGlmCgpleHRlcm4gIkMiIEpTTW9kdWxlRGVmKgpKU19JTklUX01PRFVMRShKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbW9kdWxlX25hbWUpIHsKICBKU01vZHVsZURlZiogbTsKICBtID0gSlNfTmV3Q01vZHVsZShjdHgsIG1vZHVsZV9uYW1lLCAmanNfc2l6ZV9pbml0KTsKICBpZighbSkKICAgIHJldHVybiBOVUxMOwogIGpzX3NpemVfZXhwb3J0KGN0eCwgbSk7CiAgcmV0dXJuIG07Cn0AAAAAAAAAAE86AAAAAAAAAAAAAA",
					"BgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAIUXAAAAAAAAWxgAAAAAAAAAAAAAAADwvw"
				],
				[
					1017,
					1,
					"insert",
					{
						"characters": "ret"
					},
					"BAAAAOIWAAAAAAAA4xYAAAAAAAAAAAAA4xYAAAAAAADjFgAAAAAAAAwAAABKU19FWENFUFRJT07jFgAAAAAAAOQWAAAAAAAAAAAAAOQWAAAAAAAA5RYAAAAAAAAAAAAA",
					"BgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAOIWAAAAAAAA7hYAAAAAAAAAAAAAAADwvw"
				],
				[
					1022,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAKUWAAAAAAAAphYAAAAAAAAAAAAAphYAAAAAAACnFgAAAAAAAAAAAAA",
					"BgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAKUWAAAAAAAApRYAAAAAAAAAAAAAAADwvw"
				],
				[
					1023,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABJOgAAI2luY2x1ZGUgImpzYmluZGluZ3MuaHBwIgojaW5jbHVkZSAianNfc2l6ZS5ocHAiCiNpbmNsdWRlICJqc19hcnJheS5ocHAiCiNpbmNsdWRlICJqc19hbGxvYy5ocHAiCiNpbmNsdWRlICJ1dGlsLmhwcCIKCmVudW0ganNfc2l6ZV9maXRfdCB7IEpTX1NJWkVfRklUX1dJRFRIID0gMSwgSlNfU0laRV9GSVRfSEVJR0hUID0gMiwgSlNfU0laRV9GSVRfSU5TSURFLCBKU19TSVpFX0ZJVF9PVVRTSURFIH07CmVudW0geyBTSVpFX1BST1BfV0lEVEgsIFNJWkVfUFJPUF9IRUlHSFQsIFNJWkVfUFJPUF9BU1BFQ1QsIFNJWkVfUFJPUF9FTVBUWSwgU0laRV9QUk9QX0FSRUEgfTsKZW51bSB7CiAgU0laRV9NRVRIT0RfRVFVQUxTLAogIFNJWkVfTUVUSE9EX1JPVU5ELAogIFNJWkVfTUVUSE9EX1RPT0JKRUNULAogIFNJWkVfTUVUSE9EX1RPQVJSQVksCiAgU0laRV9NRVRIT0RfRklUV0lEVEgsCiAgU0laRV9NRVRIT0RfRklUSEVJR0hULAogIFNJWkVfTUVUSE9EX0ZJVElOU0lERSwKICBTSVpFX01FVEhPRF9GSVRPVVRTSURFCn07CmV4dGVybiAiQyIgewpKU1ZhbHVlIHNpemVfcHJvdG8gPSBKU19VTkRFRklORUQsIHNpemVfY2xhc3MgPSBKU19VTkRFRklORUQ7CkpTQ2xhc3NJRCBqc19zaXplX2NsYXNzX2lkID0gMDsKfQoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSBKU1NpemVEYXRhPFQ+CmpzX3NpemVfZml0KGNvbnN0IEpTU2l6ZURhdGE8VD4mIHNpemUsIFQgdG8sIGpzX3NpemVfZml0X3QgbW9kZSkgewogIEpTU2l6ZURhdGE8VD4gcmV0OwogIHN3aXRjaChtb2RlKSB7CiAgICBjYXNlIEpTX1NJWkVfRklUX1dJRFRIOiB7CiAgICAgIHJldC53aWR0aCA9IHRvOwogICAgICByZXQuaGVpZ2h0ID0gc2l6ZS5oZWlnaHQgKiAodG8gLyBzaXplLndpZHRoKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIEpTX1NJWkVfRklUX0hFSUdIVDogewogICAgICByZXQud2lkdGggPSBzaXplLndpZHRoICogKHRvIC8gc2l6ZS5oZWlnaHQpOwogICAgICByZXQuaGVpZ2h0ID0gdG87CiAgICAgIGJyZWFrOwogICAgfQogIH0KICByZXR1cm4gcmV0Owp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgSlNTaXplRGF0YTxUPgpqc19zaXplX2ZpdChjb25zdCBKU1NpemVEYXRhPFQ+JiBzaXplLCBjb25zdCBKU1NpemVEYXRhPFQ+JiB0bywganNfc2l6ZV9maXRfdCBtb2RlKSB7CiAgSlNTaXplRGF0YTxUPiByZXQ7CiAgc3dpdGNoKG1vZGUpIHsKICAgIGNhc2UgSlNfU0laRV9GSVRfSU5TSURFOgogICAgY2FzZSBKU19TSVpFX0ZJVF9PVVRTSURFOiB7CiAgICAgIHJldCA9IGpzX3NpemVfZml0KHNpemUsIHRvLCBKU19TSVpFX0ZJVF9XSURUSCk7CiAgICAgIGlmKG1vZGUgPT0gSlNfU0laRV9GSVRfSU5TSURFICYmIHJldC5oZWlnaHQgPiB0by5oZWlnaHQpCiAgICAgICAgcmV0ID0ganNfc2l6ZV9maXQoc2l6ZSwgdG8uaGVpZ2h0LCBKU19TSVpFX0ZJVF9IRUlHSFQpOwoKICAgICAgYnJlYWs7CiAgICB9CiAgICBkZWZhdWx0OiByZXQgPSBqc19zaXplX2ZpdChzaXplLCBtb2RlID09IEpTX1NJWkVfRklUX1dJRFRIID8gdG8ud2lkdGggOiB0by5oZWlnaHQsIG1vZGUpOyBicmVhazsKICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfc2l6ZV9jdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgbmV3X3RhcmdldCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTU2l6ZURhdGE8ZG91YmxlPiBzaXplLCAqczsKICBKU1ZhbHVlIG9iaiA9IEpTX1VOREVGSU5FRDsKICBKU1ZhbHVlIHByb3RvOwoKICBzID0ganNfYWxsb2NhdGU8SlNTaXplRGF0YTxkb3VibGU+PihjdHgpOwogIGlmKCFzKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICBuZXcocykgSlNTaXplRGF0YTxkb3VibGU+KCk7CgogIGlmKGFyZ2MgPiAwKSB7CiAgICBpZihqc19zaXplX3JlYWQoY3R4LCBhcmd2WzBdLCAmc2l6ZSkpIHsKICAgICAgKnMgPSBzaXplOwogICAgfSBlbHNlIHsKICAgICAgaWYoSlNfVG9GbG9hdDY0KGN0eCwgJnNpemUud2lkdGgsIGFyZ3ZbMF0pKQogICAgICAgIGdvdG8gZmFpbDsKICAgICAgaWYoYXJnYyA8IDIgfHwgSlNfVG9GbG9hdDY0KGN0eCwgJnNpemUuaGVpZ2h0LCBhcmd2WzFdKSkKICAgICAgICBnb3RvIGZhaWw7CgogICAgICAqcyA9IHNpemU7CiAgICB9CiAgfQoKICAvKiB1c2luZyBuZXdfdGFyZ2V0IHRvIGdldCB0aGUgcHJvdG90eXBlIGlzIG5lY2Vzc2FyeSB3aGVuIHRoZQogICAgIGNsYXNzIGlzIGV4dGVuZGVkLiAqLwogIHByb3RvID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBuZXdfdGFyZ2V0LCAicHJvdG90eXBlIik7CiAgaWYoSlNfSXNFeGNlcHRpb24ocHJvdG8pKQogICAgZ290byBmYWlsOwogIG9iaiA9IEpTX05ld09iamVjdFByb3RvQ2xhc3MoY3R4LCBwcm90bywganNfc2l6ZV9jbGFzc19pZCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcHJvdG8pOwogIGlmKEpTX0lzRXhjZXB0aW9uKG9iaikpCiAgICBnb3RvIGZhaWw7CiAgSlNfU2V0T3BhcXVlKG9iaiwgcyk7CiAgcmV0dXJuIG9iajsKZmFpbDoKICBqc19kZWFsbG9jYXRlKGN0eCwgcyk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpWSVNJQkxFIEpTU2l6ZURhdGE8ZG91YmxlPioKanNfc2l6ZV9kYXRhKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsKSB7CiAgcmV0dXJuIHN0YXRpY19jYXN0PEpTU2l6ZURhdGE8ZG91YmxlPio+KEpTX0dldE9wYXF1ZSh2YWwsIGpzX3NpemVfY2xhc3NfaWQpKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfc2l6ZV9nZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IG1hZ2ljKSB7CiAgSlNTaXplRGF0YTxkb3VibGU+KiBzOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBpZighKHMgPSBqc19zaXplX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFNJWkVfUFJPUF9XSURUSDogewogICAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgcy0+d2lkdGgpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU0laRV9QUk9QX0hFSUdIVDogewogICAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgcy0+aGVpZ2h0KTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNJWkVfUFJPUF9BU1BFQ1Q6IHsKICAgICAgcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsIHMtPmFzcGVjdFJhdGlvKCkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU0laRV9QUk9QX0VNUFRZOiB7CiAgICAgIHJldCA9IEpTX05ld0Jvb2woY3R4LCBzLT5lbXB0eSgpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNJWkVfUFJPUF9BUkVBOiB7CiAgICAgIHJldCA9IEpTX05ld0Zsb2F0NjQoY3R4LCBzLT5hcmVhKCkpOwogICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiByZXQ7Cn0KClZJU0lCTEUgSlNWYWx1ZQpqc19zaXplX25ldyhKU0NvbnRleHQqIGN0eCwgZG91YmxlIHcsIGRvdWJsZSBoKSB7CiAgSlNWYWx1ZSByZXQ7CiAgSlNTaXplRGF0YTxkb3VibGU+KiBzOwoKICBpZihKU19Jc1VuZGVmaW5lZChzaXplX3Byb3RvKSkKICAgIGpzX3NpemVfaW5pdChjdHgsIE5VTEwpOwoKICByZXQgPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgc2l6ZV9wcm90bywganNfc2l6ZV9jbGFzc19pZCk7CgogIHMgPSBqc19hbGxvY2F0ZTxKU1NpemVEYXRhPGRvdWJsZT4+KGN0eCk7CiAgcy0+d2lkdGggPSB3IDw9IERCTF9FUFNJTE9OID8gMCA6IHc7CiAgcy0+aGVpZ2h0ID0gaCA8PSBEQkxfRVBTSUxPTiA/IDAgOiBoOwoKICBKU19TZXRPcGFxdWUocmV0LCBzKTsKICByZXR1cm4gcmV0Owp9CgpWSVNJQkxFIEpTVmFsdWUKanNfc2l6ZV93cmFwKEpTQ29udGV4dCogY3R4LCBjb25zdCBKU1NpemVEYXRhPGRvdWJsZT4mIHN6KSB7CiAgcmV0dXJuIGpzX3NpemVfbmV3KGN0eCwgc3oud2lkdGgsIHN6LmhlaWdodCk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3NpemVfc2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIEpTVmFsdWVDb25zdCB2YWwsIGludCBtYWdpYykgewogIEpTU2l6ZURhdGE8ZG91YmxlPiogcyA9IGpzX3NpemVfZGF0YShjdHgsIHRoaXNfdmFsKTsKICBkb3VibGUgdjsKICBpZighcykKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgaWYoSlNfVG9GbG9hdDY0KGN0eCwgJnYsIHZhbCkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIGlmKG1hZ2ljID09IDApCiAgICBzLT53aWR0aCA9IHY7CiAgZWxzZQogICAgcy0+aGVpZ2h0ID0gdjsKICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19zaXplX3RvX3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNTaXplRGF0YTxkb3VibGU+IHNpemUsICpzOwogIHN0ZDo6b3N0cmluZ3N0cmVhbSBvczsKICBjb25zdCBjaGFyKiBkZWxpbSA9ICLDlyI7CiAgaWYoKHMgPSBqc19zaXplX2RhdGEoY3R4LCB0aGlzX3ZhbCkpID09IG51bGxwdHIpIHsKICAgIGpzX3NpemVfcmVhZChjdHgsIHRoaXNfdmFsLCAmc2l6ZSk7CiAgfSBlbHNlIHsKICAgIHNpemUgPSAqczsKICB9CgogIGlmKGFyZ2MgPiAwKQogICAgZGVsaW0gPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsKCiAgb3MgPDwgc2l6ZS53aWR0aCA8PCBkZWxpbSA8PCBzaXplLmhlaWdodDsKCiAgcmV0dXJuIEpTX05ld1N0cmluZyhjdHgsIG9zLnN0cigpLmNfc3RyKCkpOwp9CnN0YXRpYyBKU1ZhbHVlCmpzX3NpemVfdG9fc291cmNlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1NpemVEYXRhPGRvdWJsZT4gc2l6ZSwgKnM7CiAgc3RkOjpvc3RyaW5nc3RyZWFtIG9zOwogIGlmKChzID0ganNfc2l6ZV9kYXRhKGN0eCwgdGhpc192YWwpKSA9PSBudWxscHRyKSB7CiAgICBqc19zaXplX3JlYWQoY3R4LCB0aGlzX3ZhbCwgJnNpemUpOwogIH0gZWxzZSB7CiAgICBzaXplID0gKnM7CiAgfQogIG9zIDw8ICJ7d2lkdGg6IiA8PCBzaXplLndpZHRoIDw8ICIsaGVpZ2h0OiIgPDwgc2l6ZS5oZWlnaHQgPDwgIn0iOwoKICByZXR1cm4gSlNfTmV3U3RyaW5nKGN0eCwgb3Muc3RyKCkuY19zdHIoKSk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3NpemVfaW5zcGVjdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNTaXplRGF0YTxkb3VibGU+KiBzID0ganNfc2l6ZV9kYXRhKGN0eCwgdGhpc192YWwpOwogIEpTVmFsdWUgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG8oY3R4LCBzaXplX3Byb3RvKTsKCiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgIndpZHRoIiwgSlNfTmV3RmxvYXQ2NChjdHgsIHMtPndpZHRoKSwgSlNfUFJPUF9FTlVNRVJBQkxFKTsKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAiaGVpZ2h0IiwgSlNfTmV3RmxvYXQ2NChjdHgsIHMtPmhlaWdodCksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgcmV0dXJuIG9iajsKfQoKc3RhdGljIEpTVmFsdWUKanNfc2l6ZV9mdW5jcyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2LCBpbnQgbWFnaWMpIHsKICBKU1NpemVEYXRhPGRvdWJsZT4gc2l6ZSwgKnM7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAKICBpZigocyA9IGpzX3NpemVfZGF0YShjdHgsIHRoaXNfdmFsKSkgPT0gbnVsbHB0cikKICAgIHJldHVybiByZXQ7CgogIHNpemUgPSAqczsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFNJWkVfTUVUSE9EX0VRVUFMUzogewogICAgICBKU1NpemVEYXRhPGRvdWJsZT4gb3RoZXIsICphcmc7CiAgICAgIGJvb2wgZXF1YWxzID0gZmFsc2U7CiAgICAgIGlmKGFyZ2MgPiAwKSB7CiAgICAgICAgaWYoKGFyZyA9IGpzX3NpemVfZGF0YShjdHgsIGFyZ3ZbMF0pKSkgewogICAgICAgICAgZXF1YWxzID0gcy0+d2lkdGggPT0gYXJnLT53aWR0aCAmJiBzLT5oZWlnaHQgPT0gYXJnLT5oZWlnaHQ7CiAgICAgICAgfSBlbHNlIGlmKGpzX3NpemVfcmVhZChjdHgsIGFyZ3ZbMF0sICZvdGhlcikpIHsKICAgICAgICAgIGVxdWFscyA9IHMtPndpZHRoID09IG90aGVyLndpZHRoICYmIHMtPmhlaWdodCA9PSBvdGhlci5oZWlnaHQ7CiAgICAgICAgfQogICAgICAgIHJldCA9IEpTX05ld0Jvb2woY3R4LCBlcXVhbHMpOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBTSVpFX01FVEhPRF9ST1VORDogewogICAgICBkb3VibGUgd2lkdGgsIGhlaWdodCwgZjsKICAgICAgaW50MzJfdCBwcmVjaXNpb24gPSAwOwogICAgICBpZihhcmdjID4gMCkKICAgICAgICBKU19Ub0ludDMyKGN0eCwgJnByZWNpc2lvbiwgYXJndlswXSk7CiAgICAgIGYgPSBzdGQ6OnBvdygxMCwgcHJlY2lzaW9uKTsKICAgICAgd2lkdGggPSBzdGQ6OnJvdW5kKHNpemUud2lkdGggKiBmKSAvIGY7CiAgICAgIGhlaWdodCA9IHN0ZDo6cm91bmQoc2l6ZS5oZWlnaHQgKiBmKSAvIGY7CiAgICAgIHJldCA9IGpzX3NpemVfbmV3KGN0eCwgd2lkdGgsIGhlaWdodCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBTSVpFX01FVEhPRF9UT09CSkVDVDogewogICAgICByZXQgPSBKU19OZXdPYmplY3QoY3R4KTsKCiAgICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAid2lkdGgiLCBKU19OZXdGbG9hdDY0KGN0eCwgc2l6ZS53aWR0aCkpOwogICAgICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIHJldCwgImhlaWdodCIsIEpTX05ld0Zsb2F0NjQoY3R4LCBzaXplLmhlaWdodCkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU0laRV9NRVRIT0RfVE9BUlJBWTogewogICAgICByZXQgPSBKU19OZXdBcnJheShjdHgpOwoKICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDAsIEpTX05ld0Zsb2F0NjQoY3R4LCBzaXplLndpZHRoKSk7CiAgICAgIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCAxLCBKU19OZXdGbG9hdDY0KGN0eCwgc2l6ZS5oZWlnaHQpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNJWkVfTUVUSE9EX0ZJVFdJRFRIOgogICAgY2FzZSBTSVpFX01FVEhPRF9GSVRIRUlHSFQ6CiAgICBjYXNlIFNJWkVfTUVUSE9EX0ZJVElOU0lERToKICAgIGNhc2UgU0laRV9NRVRIT0RfRklUT1VUU0lERTogewogICAgICBKU1NpemVEYXRhPGRvdWJsZT4gb3RoZXIsIHJlc3VsdDsKICAgICAgZG91YmxlIGFyZzsKCiAgICAgIGpzX3NpemVfZml0X3QgZml0X3R5cGUgPSBqc19zaXplX2ZpdF90KG1hZ2ljIC0gMyk7CiAgICAgIGlmKG1hZ2ljID49IDYpIHt9CgogICAgICBpZihqc19zaXplX3JlYWQoY3R4LCBhcmd2WzBdLCAmb3RoZXIpKSB7CiAgICAgICAgcmVzdWx0ID0ganNfc2l6ZV9maXQoc2l6ZSwgb3RoZXIsIGZpdF90eXBlKTsKCiAgICAgIH0gZWxzZSBpZihmaXRfdHlwZSA9PSBKU19TSVpFX0ZJVF9XSURUSCB8fCBmaXRfdHlwZSA9PSBKU19TSVpFX0ZJVF9IRUlHSFQpIHsKICAgICAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmYXJnLCBhcmd2WzBdKTsKICAgICAgICByZXN1bHQgPSBqc19zaXplX2ZpdChzaXplLCBhcmcsIGZpdF90eXBlKTsKICAgICAgfQoKICAgICAgaWYoIXJlc3VsdC5lbXB0eSgpKQogICAgICAgIHJldCA9IGpzX3NpemVfbmV3KGN0eCwgcmVzdWx0LndpZHRoLCByZXN1bHQuaGVpZ2h0KTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19zaXplX2FkZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNTaXplRGF0YTxkb3VibGU+KnMsIHNpemU7CgogIGlmKChzID0ganNfc2l6ZV9kYXRhKGN0eCwgdGhpc192YWwpKSA9PSBudWxscHRyKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYoanNfc2l6ZV9yZWFkKGN0eCwgYXJndlswXSwgJnNpemUpKSB7CiAgICBzLT53aWR0aCArPSBzaXplLndpZHRoOwogICAgcy0+aGVpZ2h0ICs9IHNpemUuaGVpZ2h0OwogIH0gZWxzZSBpZihhcmdjID49IDIgJiYgSlNfSXNOdW1iZXIoYXJndlswXSkgJiYgSlNfSXNOdW1iZXIoYXJndlsxXSkpIHsKICAgIGRvdWJsZSB3aWR0aCwgaGVpZ2h0OwoKICAgIEpTX1RvRmxvYXQ2NChjdHgsICZ3aWR0aCwgYXJndlswXSk7CiAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmaGVpZ2h0LCBhcmd2WzFdKTsKICAgIHMtPndpZHRoICs9IHdpZHRoOwogICAgcy0+aGVpZ2h0ICs9IGhlaWdodDsKICB9CgogIHJldHVybiBKU19EdXBWYWx1ZShjdHgsIHRoaXNfdmFsKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfc2l6ZV9zdWIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTU2l6ZURhdGE8ZG91YmxlPipzLCBzaXplOwoKICBpZigocyA9IGpzX3NpemVfZGF0YShjdHgsIHRoaXNfdmFsKSkgPT0gbnVsbHB0cikKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGlmKGpzX3NpemVfcmVhZChjdHgsIGFyZ3ZbMF0sICZzaXplKSkgewogICAgcy0+d2lkdGggLT0gc2l6ZS53aWR0aDsKICAgIHMtPmhlaWdodCAtPSBzaXplLmhlaWdodDsKICB9IGVsc2UgaWYoYXJnYyA+PSAyICYmIEpTX0lzTnVtYmVyKGFyZ3ZbMF0pICYmIEpTX0lzTnVtYmVyKGFyZ3ZbMV0pKSB7CiAgICBkb3VibGUgd2lkdGgsIGhlaWdodDsKCiAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmd2lkdGgsIGFyZ3ZbMF0pOwogICAgSlNfVG9GbG9hdDY0KGN0eCwgJmhlaWdodCwgYXJndlsxXSk7CiAgICBzLT53aWR0aCAtPSB3aWR0aDsKICAgIHMtPmhlaWdodCAtPSBoZWlnaHQ7CiAgfQoKICByZXR1cm4gSlNfRHVwVmFsdWUoY3R4LCB0aGlzX3ZhbCk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3NpemVfbXVsKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1NpemVEYXRhPGRvdWJsZT4gc2l6ZSwgKnMgPSBqc19zaXplX2RhdGEoY3R4LCB0aGlzX3ZhbCk7CiAgZG91YmxlIGZhY3RvcjsKICBKU19Ub0Zsb2F0NjQoY3R4LCAmZmFjdG9yLCBhcmd2WzBdKTsKCiAgc2l6ZSA9ICpzOwogIHNpemUud2lkdGggKj0gZmFjdG9yOwogIHNpemUuaGVpZ2h0ICo9IGZhY3RvcjsKCiAgcmV0dXJuIGpzX3NpemVfd3JhcChjdHgsIHNpemUpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19zaXplX2RpdihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNTaXplRGF0YTxkb3VibGU+IHNpemUsIG90aGVyLCAqcywgKmEgPSBudWxscHRyOwogIEpTVmFsdWUgcmV0ID0gSlNfRVhDRVBUSU9OOwogIGlmKChzID0ganNfc2l6ZV9kYXRhKGN0eCwgdGhpc192YWwpKSAhPSBudWxscHRyKSB7CiAgICBzaXplID0gKnM7CgogICAgaWYoSlNfSXNOdW1iZXIoYXJndlswXSkpIHsKICAgICAgZG91YmxlIGRpdmlkZXI7CiAgICAgIEpTX1RvRmxvYXQ2NChjdHgsICZkaXZpZGVyLCBhcmd2WzBdKTsKICAgICAgc2l6ZS53aWR0aCAvPSBkaXZpZGVyOwogICAgICBzaXplLmhlaWdodCAvPSBkaXZpZGVyOwogICAgICByZXQgPSBqc19zaXplX3dyYXAoY3R4LCBzaXplKTsKICAgIH0gZWxzZSB7CiAgICAgIGlmKChhID0ganNfc2l6ZV9kYXRhKGN0eCwgYXJndlswXSkpICE9IG51bGxwdHIpCiAgICAgICAgb3RoZXIgPSAqYTsKICAgICAgZWxzZSB7CiAgICAgICAganNfc2l6ZV9yZWFkKGN0eCwgYXJndlswXSwgJm90aGVyKTsKICAgICAgICBhID0gJm90aGVyOwogICAgICB9CiAgICAgIHN0ZDo6YXJyYXk8ZG91YmxlLCAyPiByZXN1bHR7c2l6ZS53aWR0aCAvIG90aGVyLndpZHRoLCBzaXplLmhlaWdodCAvIG90aGVyLmhlaWdodH07CiAgICAgIHJldCA9IEpTX05ld0FycmF5KGN0eCk7CgogICAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgMCwgSlNfTmV3RmxvYXQ2NChjdHgsIHJlc3VsdFswXSkpOwogICAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgMSwgSlNfTmV3RmxvYXQ2NChjdHgsIHJlc3VsdFsxXSkpOwogICAgfQogIH0KICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNBdG9tIGl0ZXJhdG9yX3N5bWJvbDsKCnN0YXRpYyBKU1ZhbHVlCmpzX3NpemVfc3ltYm9sX2l0ZXJhdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1ZhbHVlIGFyciwgaXRlcjsKICBhcnIgPSBqc19zaXplX2Z1bmNzKGN0eCwgdGhpc192YWwsIGFyZ2MsIGFyZ3YsIDMpOwoKICBpZihpdGVyYXRvcl9zeW1ib2wgPT0gMCkKICAgIGl0ZXJhdG9yX3N5bWJvbCA9IGpzX3N5bWJvbF9hdG9tKGN0eCwgIml0ZXJhdG9yIik7CgogIGlmKCFKU19Jc0Z1bmN0aW9uKGN0eCwgKGl0ZXIgPSBKU19HZXRQcm9wZXJ0eShjdHgsIGFyciwgaXRlcmF0b3Jfc3ltYm9sKSkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICByZXR1cm4gSlNfQ2FsbChjdHgsIGl0ZXIsIGFyciwgMCwgYXJndik7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3NpemVfZnJvbShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHNpemUsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBzdGQ6OmFycmF5PGRvdWJsZSwgMj4gYXJyYXk7CiAgSlNWYWx1ZSByZXQgPSBKU19FWENFUFRJT047CgogIGlmKEpTX0lzU3RyaW5nKGFyZ3ZbMF0pKSB7CiAgICBjb25zdCBjaGFyKiBzdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsKICAgIGNoYXIqIGVuZHB0ciA9IG51bGxwdHI7CiAgICBmb3Ioc2l6ZV90IGkgPSAwOyBpIDwgMjsgaSsrKSB7CiAgICAgIHdoaWxlKCFpc2RpZ2l0KCpzdHIpICYmICpzdHIgIT0gJy0nICYmICpzdHIgIT0gJysnICYmICEoKnN0ciA9PSAnLicgJiYgaXNkaWdpdChzdHJbMV0pKSkgc3RyKys7CiAgICAgIGlmKCpzdHIgPT0gJ1wwJykKICAgICAgICBicmVhazsKICAgICAgYXJyYXlbaV0gPSBzdHJ0b2Qoc3RyLCAmZW5kcHRyKTsKICAgICAgc3RyID0gZW5kcHRyOwogICAgfQogIH0gZWxzZSBpZihqc19pc19hcnJheShjdHgsIGFyZ3ZbMF0pKSB7CiAgICBqc19hcnJheV90bzxkb3VibGUsIDI+KGN0eCwgYXJndlswXSwgYXJyYXkpOwogIH0KICBpZihhcnJheVswXSA+IDAgJiYgYXJyYXlbMV0gPiAwKQogICAgcmV0ID0ganNfc2l6ZV9uZXcoY3R4LCBhcnJheVswXSwgYXJyYXlbMV0pOwogIHJldHVybiByZXQ7Cn0KCnZvaWQKanNfc2l6ZV9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBKU1NpemVEYXRhPGRvdWJsZT4qIHMgPSBzdGF0aWNfY2FzdDxKU1NpemVEYXRhPGRvdWJsZT4qPihKU19HZXRPcGFxdWUodmFsLCBqc19zaXplX2NsYXNzX2lkKSk7CiAgLyogTm90ZTogJ3MnIGNhbiBiZSBOVUxMIGluIGNhc2UgSlNfU2V0T3BhcXVlKCkgd2FzIG5vdCBjYWxsZWQgKi8KICBpZihzKQogICAganNfZGVhbGxvY2F0ZShydCwgcyk7Cn0KCkpTQ2xhc3NEZWYganNfc2l6ZV9jbGFzcyA9IHsKICAgIC5jbGFzc19uYW1lID0gIlNpemUiLAogICAgLmZpbmFsaXplciA9IGpzX3NpemVfZmluYWxpemVyLAp9OwoKY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfc2l6ZV9wcm90b19mdW5jc1tdID0gewogICAgSlNfQ0dFVFNFVF9FTlVNRVJBQkxFX0RFRigid2lkdGgiLCBqc19zaXplX2dldCwganNfc2l6ZV9zZXQsIFNJWkVfUFJPUF9XSURUSCksCiAgICBKU19DR0VUU0VUX0VOVU1FUkFCTEVfREVGKCJoZWlnaHQiLCBqc19zaXplX2dldCwganNfc2l6ZV9zZXQsIFNJWkVfUFJPUF9IRUlHSFQpLAogICAgSlNfQ0dFVFNFVF9FTlVNRVJBQkxFX0RFRigiYXNwZWN0IiwganNfc2l6ZV9nZXQsIDAsIFNJWkVfUFJPUF9BU1BFQ1QpLAogICAgSlNfQ0dFVFNFVF9FTlVNRVJBQkxFX0RFRigiZW1wdHkiLCBqc19zaXplX2dldCwgMCwgU0laRV9QUk9QX0VNUFRZKSwKICAgIEpTX0NHRVRTRVRfRU5VTUVSQUJMRV9ERUYoImFyZWEiLCBqc19zaXplX2dldCwgMCwgU0laRV9QUk9QX0FSRUEpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJlcXVhbHMiLCAxLCBqc19zaXplX2Z1bmNzLCBTSVpFX01FVEhPRF9FUVVBTFMpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJyb3VuZCIsIDAsIGpzX3NpemVfZnVuY3MsIFNJWkVfTUVUSE9EX1JPVU5EKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigidG9PYmplY3QiLCAwLCBqc19zaXplX2Z1bmNzLCBTSVpFX01FVEhPRF9UT09CSkVDVCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInRvQXJyYXkiLCAwLCBqc19zaXplX2Z1bmNzLCBTSVpFX01FVEhPRF9UT0FSUkFZKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZml0V2lkdGgiLCAwLCBqc19zaXplX2Z1bmNzLCBTSVpFX01FVEhPRF9GSVRXSURUSCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImZpdEhlaWdodCIsIDAsIGpzX3NpemVfZnVuY3MsIFNJWkVfTUVUSE9EX0ZJVEhFSUdIVCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImZpdEluc2lkZSIsIDAsIGpzX3NpemVfZnVuY3MsIFNJWkVfTUVUSE9EX0ZJVElOU0lERSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImZpdE91dHNpZGUiLCAwLCBqc19zaXplX2Z1bmNzLCBTSVpFX01FVEhPRF9GSVRPVVRTSURFKSwKICAgIEpTX0NGVU5DX0RFRigidG9TdHJpbmciLCAwLCBqc19zaXplX3RvX3N0cmluZyksCiAgICBKU19DRlVOQ19ERUYoInRvU291cmNlIiwgMCwganNfc2l6ZV90b19zb3VyY2UpLAogICAgSlNfQ0ZVTkNfREVGKCJhZGQiLCAxLCBqc19zaXplX2FkZCksCiAgICBKU19DRlVOQ19ERUYoInN1YiIsIDEsIGpzX3NpemVfc3ViKSwKICAgIEpTX0NGVU5DX0RFRigibXVsIiwgMSwganNfc2l6ZV9tdWwpLAogICAgSlNfQ0ZVTkNfREVGKCJkaXYiLCAxLCBqc19zaXplX2RpdiksCiAgICBKU19BTElBU19ERUYoInZhbHVlcyIsICJ0b0FycmF5IiksCiAgICBKU19DRlVOQ19ERUYoIltTeW1ib2wuaXRlcmF0b3JdIiwgMCwganNfc2l6ZV9zeW1ib2xfaXRlcmF0b3IpLAogICAgSlNfUFJPUF9TVFJJTkdfREVGKCJbU3ltYm9sLnRvU3RyaW5nVGFnXSIsICJTaXplIiwgSlNfUFJPUF9DT05GSUdVUkFCTEUpLAp9OwoKY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfc2l6ZV9zdGF0aWNfZnVuY3NbXSA9IHtKU19DRlVOQ19ERUYoImZyb20iLCAxLCBqc19zaXplX2Zyb20pfTsKCmludApqc19zaXplX2luaXQoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CgogIGlmKGpzX3NpemVfY2xhc3NfaWQgPT0gMCkgewogICAgLyogY3JlYXRlIHRoZSBTaXplIGNsYXNzICovCiAgICBKU19OZXdDbGFzc0lEKCZqc19zaXplX2NsYXNzX2lkKTsKICAgIEpTX05ld0NsYXNzKEpTX0dldFJ1bnRpbWUoY3R4KSwganNfc2l6ZV9jbGFzc19pZCwgJmpzX3NpemVfY2xhc3MpOwoKICAgIHNpemVfcHJvdG8gPSBKU19OZXdPYmplY3QoY3R4KTsKICAgIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgc2l6ZV9wcm90bywganNfc2l6ZV9wcm90b19mdW5jcywgY291bnRvZihqc19zaXplX3Byb3RvX2Z1bmNzKSk7CgogICAgSlNfU2V0Q2xhc3NQcm90byhjdHgsIGpzX3NpemVfY2xhc3NfaWQsIHNpemVfcHJvdG8pOwoKICAgIHNpemVfY2xhc3MgPSBKU19OZXdDRnVuY3Rpb24yKGN0eCwganNfc2l6ZV9jdG9yLCAiU2l6ZSIsIDAsIEpTX0NGVU5DX2NvbnN0cnVjdG9yLCAwKTsKICAgIC8qIHNldCBwcm90by5jb25zdHJ1Y3RvciBhbmQgY3Rvci5wcm90b3R5cGUgKi8KICAgIEpTX1NldENvbnN0cnVjdG9yKGN0eCwgc2l6ZV9jbGFzcywgc2l6ZV9wcm90byk7CiAgICBKU19TZXRQcm9wZXJ0eUZ1bmN0aW9uTGlzdChjdHgsIHNpemVfY2xhc3MsIGpzX3NpemVfc3RhdGljX2Z1bmNzLCBjb3VudG9mKGpzX3NpemVfc3RhdGljX2Z1bmNzKSk7CgogICAganNfc2V0X2luc3BlY3RfbWV0aG9kKGN0eCwgc2l6ZV9wcm90bywganNfc2l6ZV9pbnNwZWN0KTsKICB9CgogIGlmKG0pCiAgICBKU19TZXRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiU2l6ZSIsIHNpemVfY2xhc3MpOwogIC8qZWxzZQogICAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCAqc3RhdGljX2Nhc3Q8SlNWYWx1ZSo+KG0pLCBuYW1lLCBzaXplX2NsYXNzKTsqLwogIHJldHVybiAwOwp9CgpleHRlcm4gIkMiIFZJU0lCTEUgdm9pZApqc19zaXplX2V4cG9ydChKU0NvbnRleHQqIGN0eCwgSlNNb2R1bGVEZWYqIG0pIHsKICBKU19BZGRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiU2l6ZSIpOwp9Cgp2b2lkCmpzX3NpemVfY29uc3RydWN0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWUgcGFyZW50LCBjb25zdCBjaGFyKiBuYW1lKSB7CiAgaWYoSlNfSXNVbmRlZmluZWQoc2l6ZV9jbGFzcykpCiAgICBqc19zaXplX2luaXQoY3R4LCAwKTsKCiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBwYXJlbnQsIG5hbWUgPyBuYW1lIDogIlNpemUiLCBzaXplX2NsYXNzKTsKfQoKI2lmZGVmIEpTX1NJWkVfTU9EVUxFCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUgVklTSUJMRSBqc19pbml0X21vZHVsZQojZWxzZQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIGpzX2luaXRfbW9kdWxlX3NpemUKI2VuZGlmCgpleHRlcm4gIkMiIEpTTW9kdWxlRGVmKgpKU19JTklUX01PRFVMRShKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbW9kdWxlX25hbWUpIHsKICBKU01vZHVsZURlZiogbTsKICBtID0gSlNfTmV3Q01vZHVsZShjdHgsIG1vZHVsZV9uYW1lLCAmanNfc2l6ZV9pbml0KTsKICBpZighbSkKICAgIHJldHVybiBOVUxMOwogIGpzX3NpemVfZXhwb3J0KGN0eCwgbSk7CiAgcmV0dXJuIG07Cn0AAAAAAAAAAEc6AAAAAAAAAAAAAA",
					"BgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAKcWAAAAAAAApxYAAAAAAAAAAAAAAADwvw"
				],
				[
					1048,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABIOgAAI2luY2x1ZGUgImpzYmluZGluZ3MuaHBwIgojaW5jbHVkZSAianNfc2l6ZS5ocHAiCiNpbmNsdWRlICJqc19hcnJheS5ocHAiCiNpbmNsdWRlICJqc19hbGxvYy5ocHAiCiNpbmNsdWRlICJ1dGlsLmhwcCIKCmVudW0ganNfc2l6ZV9maXRfdCB7IEpTX1NJWkVfRklUX1dJRFRIID0gMSwgSlNfU0laRV9GSVRfSEVJR0hUID0gMiwgSlNfU0laRV9GSVRfSU5TSURFLCBKU19TSVpFX0ZJVF9PVVRTSURFIH07CmVudW0geyBTSVpFX1BST1BfV0lEVEgsIFNJWkVfUFJPUF9IRUlHSFQsIFNJWkVfUFJPUF9BU1BFQ1QsIFNJWkVfUFJPUF9FTVBUWSwgU0laRV9QUk9QX0FSRUEgfTsKZW51bSB7CiAgU0laRV9NRVRIT0RfRVFVQUxTLAogIFNJWkVfTUVUSE9EX1JPVU5ELAogIFNJWkVfTUVUSE9EX1RPT0JKRUNULAogIFNJWkVfTUVUSE9EX1RPQVJSQVksCiAgU0laRV9NRVRIT0RfRklUV0lEVEgsCiAgU0laRV9NRVRIT0RfRklUSEVJR0hULAogIFNJWkVfTUVUSE9EX0ZJVElOU0lERSwKICBTSVpFX01FVEhPRF9GSVRPVVRTSURFCn07CmV4dGVybiAiQyIgewpKU1ZhbHVlIHNpemVfcHJvdG8gPSBKU19VTkRFRklORUQsIHNpemVfY2xhc3MgPSBKU19VTkRFRklORUQ7CkpTQ2xhc3NJRCBqc19zaXplX2NsYXNzX2lkID0gMDsKfQoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSBKU1NpemVEYXRhPFQ+CmpzX3NpemVfZml0KGNvbnN0IEpTU2l6ZURhdGE8VD4mIHNpemUsIFQgdG8sIGpzX3NpemVfZml0X3QgbW9kZSkgewogIEpTU2l6ZURhdGE8VD4gcmV0OwogIHN3aXRjaChtb2RlKSB7CiAgICBjYXNlIEpTX1NJWkVfRklUX1dJRFRIOiB7CiAgICAgIHJldC53aWR0aCA9IHRvOwogICAgICByZXQuaGVpZ2h0ID0gc2l6ZS5oZWlnaHQgKiAodG8gLyBzaXplLndpZHRoKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIEpTX1NJWkVfRklUX0hFSUdIVDogewogICAgICByZXQud2lkdGggPSBzaXplLndpZHRoICogKHRvIC8gc2l6ZS5oZWlnaHQpOwogICAgICByZXQuaGVpZ2h0ID0gdG87CiAgICAgIGJyZWFrOwogICAgfQogIH0KICByZXR1cm4gcmV0Owp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgSlNTaXplRGF0YTxUPgpqc19zaXplX2ZpdChjb25zdCBKU1NpemVEYXRhPFQ+JiBzaXplLCBjb25zdCBKU1NpemVEYXRhPFQ+JiB0bywganNfc2l6ZV9maXRfdCBtb2RlKSB7CiAgSlNTaXplRGF0YTxUPiByZXQ7CiAgc3dpdGNoKG1vZGUpIHsKICAgIGNhc2UgSlNfU0laRV9GSVRfSU5TSURFOgogICAgY2FzZSBKU19TSVpFX0ZJVF9PVVRTSURFOiB7CiAgICAgIHJldCA9IGpzX3NpemVfZml0KHNpemUsIHRvLCBKU19TSVpFX0ZJVF9XSURUSCk7CiAgICAgIGlmKG1vZGUgPT0gSlNfU0laRV9GSVRfSU5TSURFICYmIHJldC5oZWlnaHQgPiB0by5oZWlnaHQpCiAgICAgICAgcmV0ID0ganNfc2l6ZV9maXQoc2l6ZSwgdG8uaGVpZ2h0LCBKU19TSVpFX0ZJVF9IRUlHSFQpOwoKICAgICAgYnJlYWs7CiAgICB9CiAgICBkZWZhdWx0OiByZXQgPSBqc19zaXplX2ZpdChzaXplLCBtb2RlID09IEpTX1NJWkVfRklUX1dJRFRIID8gdG8ud2lkdGggOiB0by5oZWlnaHQsIG1vZGUpOyBicmVhazsKICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfc2l6ZV9jdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgbmV3X3RhcmdldCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTU2l6ZURhdGE8ZG91YmxlPiBzaXplLCAqczsKICBKU1ZhbHVlIG9iaiA9IEpTX1VOREVGSU5FRDsKICBKU1ZhbHVlIHByb3RvOwoKICBzID0ganNfYWxsb2NhdGU8SlNTaXplRGF0YTxkb3VibGU+PihjdHgpOwogIGlmKCFzKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICBuZXcocykgSlNTaXplRGF0YTxkb3VibGU+KCk7CgogIGlmKGFyZ2MgPiAwKSB7CiAgICBpZihqc19zaXplX3JlYWQoY3R4LCBhcmd2WzBdLCAmc2l6ZSkpIHsKICAgICAgKnMgPSBzaXplOwogICAgfSBlbHNlIHsKICAgICAgaWYoSlNfVG9GbG9hdDY0KGN0eCwgJnNpemUud2lkdGgsIGFyZ3ZbMF0pKQogICAgICAgIGdvdG8gZmFpbDsKICAgICAgaWYoYXJnYyA8IDIgfHwgSlNfVG9GbG9hdDY0KGN0eCwgJnNpemUuaGVpZ2h0LCBhcmd2WzFdKSkKICAgICAgICBnb3RvIGZhaWw7CgogICAgICAqcyA9IHNpemU7CiAgICB9CiAgfQoKICAvKiB1c2luZyBuZXdfdGFyZ2V0IHRvIGdldCB0aGUgcHJvdG90eXBlIGlzIG5lY2Vzc2FyeSB3aGVuIHRoZQogICAgIGNsYXNzIGlzIGV4dGVuZGVkLiAqLwogIHByb3RvID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBuZXdfdGFyZ2V0LCAicHJvdG90eXBlIik7CiAgaWYoSlNfSXNFeGNlcHRpb24ocHJvdG8pKQogICAgZ290byBmYWlsOwogIG9iaiA9IEpTX05ld09iamVjdFByb3RvQ2xhc3MoY3R4LCBwcm90bywganNfc2l6ZV9jbGFzc19pZCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcHJvdG8pOwogIGlmKEpTX0lzRXhjZXB0aW9uKG9iaikpCiAgICBnb3RvIGZhaWw7CiAgSlNfU2V0T3BhcXVlKG9iaiwgcyk7CiAgcmV0dXJuIG9iajsKZmFpbDoKICBqc19kZWFsbG9jYXRlKGN0eCwgcyk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpWSVNJQkxFIEpTU2l6ZURhdGE8ZG91YmxlPioKanNfc2l6ZV9kYXRhKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsKSB7CiAgcmV0dXJuIHN0YXRpY19jYXN0PEpTU2l6ZURhdGE8ZG91YmxlPio+KEpTX0dldE9wYXF1ZSh2YWwsIGpzX3NpemVfY2xhc3NfaWQpKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfc2l6ZV9nZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IG1hZ2ljKSB7CiAgSlNTaXplRGF0YTxkb3VibGU+KiBzOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBpZighKHMgPSBqc19zaXplX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFNJWkVfUFJPUF9XSURUSDogewogICAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgcy0+d2lkdGgpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU0laRV9QUk9QX0hFSUdIVDogewogICAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgcy0+aGVpZ2h0KTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNJWkVfUFJPUF9BU1BFQ1Q6IHsKICAgICAgcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsIHMtPmFzcGVjdFJhdGlvKCkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU0laRV9QUk9QX0VNUFRZOiB7CiAgICAgIHJldCA9IEpTX05ld0Jvb2woY3R4LCBzLT5lbXB0eSgpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNJWkVfUFJPUF9BUkVBOiB7CiAgICAgIHJldCA9IEpTX05ld0Zsb2F0NjQoY3R4LCBzLT5hcmVhKCkpOwogICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiByZXQ7Cn0KClZJU0lCTEUgSlNWYWx1ZQpqc19zaXplX25ldyhKU0NvbnRleHQqIGN0eCwgZG91YmxlIHcsIGRvdWJsZSBoKSB7CiAgSlNWYWx1ZSByZXQ7CiAgSlNTaXplRGF0YTxkb3VibGU+KiBzOwoKICBpZihKU19Jc1VuZGVmaW5lZChzaXplX3Byb3RvKSkKICAgIGpzX3NpemVfaW5pdChjdHgsIE5VTEwpOwoKICByZXQgPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgc2l6ZV9wcm90bywganNfc2l6ZV9jbGFzc19pZCk7CgogIHMgPSBqc19hbGxvY2F0ZTxKU1NpemVEYXRhPGRvdWJsZT4+KGN0eCk7CiAgcy0+d2lkdGggPSB3IDw9IERCTF9FUFNJTE9OID8gMCA6IHc7CiAgcy0+aGVpZ2h0ID0gaCA8PSBEQkxfRVBTSUxPTiA/IDAgOiBoOwoKICBKU19TZXRPcGFxdWUocmV0LCBzKTsKICByZXR1cm4gcmV0Owp9CgpWSVNJQkxFIEpTVmFsdWUKanNfc2l6ZV93cmFwKEpTQ29udGV4dCogY3R4LCBjb25zdCBKU1NpemVEYXRhPGRvdWJsZT4mIHN6KSB7CiAgcmV0dXJuIGpzX3NpemVfbmV3KGN0eCwgc3oud2lkdGgsIHN6LmhlaWdodCk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3NpemVfc2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIEpTVmFsdWVDb25zdCB2YWwsIGludCBtYWdpYykgewogIEpTU2l6ZURhdGE8ZG91YmxlPiogcyA9IGpzX3NpemVfZGF0YShjdHgsIHRoaXNfdmFsKTsKICBkb3VibGUgdjsKICBpZighcykKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgaWYoSlNfVG9GbG9hdDY0KGN0eCwgJnYsIHZhbCkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIGlmKG1hZ2ljID09IDApCiAgICBzLT53aWR0aCA9IHY7CiAgZWxzZQogICAgcy0+aGVpZ2h0ID0gdjsKICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19zaXplX3RvX3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNTaXplRGF0YTxkb3VibGU+IHNpemUsICpzOwogIHN0ZDo6b3N0cmluZ3N0cmVhbSBvczsKICBjb25zdCBjaGFyKiBkZWxpbSA9ICLDlyI7CiAgaWYoKHMgPSBqc19zaXplX2RhdGEoY3R4LCB0aGlzX3ZhbCkpID09IG51bGxwdHIpIHsKICAgIGpzX3NpemVfcmVhZChjdHgsIHRoaXNfdmFsLCAmc2l6ZSk7CiAgfSBlbHNlIHsKICAgIHNpemUgPSAqczsKICB9CgogIGlmKGFyZ2MgPiAwKQogICAgZGVsaW0gPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsKCiAgb3MgPDwgc2l6ZS53aWR0aCA8PCBkZWxpbSA8PCBzaXplLmhlaWdodDsKCiAgcmV0dXJuIEpTX05ld1N0cmluZyhjdHgsIG9zLnN0cigpLmNfc3RyKCkpOwp9CnN0YXRpYyBKU1ZhbHVlCmpzX3NpemVfdG9fc291cmNlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1NpemVEYXRhPGRvdWJsZT4gc2l6ZSwgKnM7CiAgc3RkOjpvc3RyaW5nc3RyZWFtIG9zOwogIGlmKChzID0ganNfc2l6ZV9kYXRhKGN0eCwgdGhpc192YWwpKSA9PSBudWxscHRyKSB7CiAgICBqc19zaXplX3JlYWQoY3R4LCB0aGlzX3ZhbCwgJnNpemUpOwogIH0gZWxzZSB7CiAgICBzaXplID0gKnM7CiAgfQogIG9zIDw8ICJ7d2lkdGg6IiA8PCBzaXplLndpZHRoIDw8ICIsaGVpZ2h0OiIgPDwgc2l6ZS5oZWlnaHQgPDwgIn0iOwoKICByZXR1cm4gSlNfTmV3U3RyaW5nKGN0eCwgb3Muc3RyKCkuY19zdHIoKSk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3NpemVfaW5zcGVjdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNTaXplRGF0YTxkb3VibGU+KiBzID0ganNfc2l6ZV9kYXRhKGN0eCwgdGhpc192YWwpOwogIEpTVmFsdWUgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG8oY3R4LCBzaXplX3Byb3RvKTsKCiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgIndpZHRoIiwgSlNfTmV3RmxvYXQ2NChjdHgsIHMtPndpZHRoKSwgSlNfUFJPUF9FTlVNRVJBQkxFKTsKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAiaGVpZ2h0IiwgSlNfTmV3RmxvYXQ2NChjdHgsIHMtPmhlaWdodCksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgcmV0dXJuIG9iajsKfQoKc3RhdGljIEpTVmFsdWUKanNfc2l6ZV9mdW5jcyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2LCBpbnQgbWFnaWMpIHsKICBKU1NpemVEYXRhPGRvdWJsZT4gc2l6ZSwgKnM7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CgogIGlmKChzID0ganNfc2l6ZV9kYXRhKGN0eCwgdGhpc192YWwpKSA9PSBudWxscHRyKQogICAgcmV0dXJuIHJldDsKCiAgc2l6ZSA9ICpzOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgU0laRV9NRVRIT0RfRVFVQUxTOiB7CiAgICAgIEpTU2l6ZURhdGE8ZG91YmxlPiBvdGhlciwgKmFyZzsKICAgICAgYm9vbCBlcXVhbHMgPSBmYWxzZTsKICAgICAgaWYoYXJnYyA+IDApIHsKICAgICAgICBpZigoYXJnID0ganNfc2l6ZV9kYXRhKGN0eCwgYXJndlswXSkpKSB7CiAgICAgICAgICBlcXVhbHMgPSBzLT53aWR0aCA9PSBhcmctPndpZHRoICYmIHMtPmhlaWdodCA9PSBhcmctPmhlaWdodDsKICAgICAgICB9IGVsc2UgaWYoanNfc2l6ZV9yZWFkKGN0eCwgYXJndlswXSwgJm90aGVyKSkgewogICAgICAgICAgZXF1YWxzID0gcy0+d2lkdGggPT0gb3RoZXIud2lkdGggJiYgcy0+aGVpZ2h0ID09IG90aGVyLmhlaWdodDsKICAgICAgICB9CiAgICAgICAgcmV0ID0gSlNfTmV3Qm9vbChjdHgsIGVxdWFscyk7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNJWkVfTUVUSE9EX1JPVU5EOiB7CiAgICAgIGRvdWJsZSB3aWR0aCwgaGVpZ2h0LCBmOwogICAgICBpbnQzMl90IHByZWNpc2lvbiA9IDA7CiAgICAgIGlmKGFyZ2MgPiAwKQogICAgICAgIEpTX1RvSW50MzIoY3R4LCAmcHJlY2lzaW9uLCBhcmd2WzBdKTsKICAgICAgZiA9IHN0ZDo6cG93KDEwLCBwcmVjaXNpb24pOwogICAgICB3aWR0aCA9IHN0ZDo6cm91bmQoc2l6ZS53aWR0aCAqIGYpIC8gZjsKICAgICAgaGVpZ2h0ID0gc3RkOjpyb3VuZChzaXplLmhlaWdodCAqIGYpIC8gZjsKICAgICAgcmV0ID0ganNfc2l6ZV9uZXcoY3R4LCB3aWR0aCwgaGVpZ2h0KTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNJWkVfTUVUSE9EX1RPT0JKRUNUOiB7CiAgICAgIHJldCA9IEpTX05ld09iamVjdChjdHgpOwoKICAgICAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJ3aWR0aCIsIEpTX05ld0Zsb2F0NjQoY3R4LCBzaXplLndpZHRoKSk7CiAgICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAiaGVpZ2h0IiwgSlNfTmV3RmxvYXQ2NChjdHgsIHNpemUuaGVpZ2h0KSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBTSVpFX01FVEhPRF9UT0FSUkFZOiB7CiAgICAgIHJldCA9IEpTX05ld0FycmF5KGN0eCk7CgogICAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgMCwgSlNfTmV3RmxvYXQ2NChjdHgsIHNpemUud2lkdGgpKTsKICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDEsIEpTX05ld0Zsb2F0NjQoY3R4LCBzaXplLmhlaWdodCkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU0laRV9NRVRIT0RfRklUV0lEVEg6CiAgICBjYXNlIFNJWkVfTUVUSE9EX0ZJVEhFSUdIVDoKICAgIGNhc2UgU0laRV9NRVRIT0RfRklUSU5TSURFOgogICAgY2FzZSBTSVpFX01FVEhPRF9GSVRPVVRTSURFOiB7CiAgICAgIEpTU2l6ZURhdGE8ZG91YmxlPiBvdGhlciwgcmVzdWx0OwogICAgICBkb3VibGUgYXJnOwoKICAgICAganNfc2l6ZV9maXRfdCBmaXRfdHlwZSA9IGpzX3NpemVfZml0X3QobWFnaWMgLSAzKTsKICAgICAgaWYobWFnaWMgPj0gNikge30KCiAgICAgIGlmKGpzX3NpemVfcmVhZChjdHgsIGFyZ3ZbMF0sICZvdGhlcikpIHsKICAgICAgICByZXN1bHQgPSBqc19zaXplX2ZpdChzaXplLCBvdGhlciwgZml0X3R5cGUpOwoKICAgICAgfSBlbHNlIGlmKGZpdF90eXBlID09IEpTX1NJWkVfRklUX1dJRFRIIHx8IGZpdF90eXBlID09IEpTX1NJWkVfRklUX0hFSUdIVCkgewogICAgICAgIEpTX1RvRmxvYXQ2NChjdHgsICZhcmcsIGFyZ3ZbMF0pOwogICAgICAgIHJlc3VsdCA9IGpzX3NpemVfZml0KHNpemUsIGFyZywgZml0X3R5cGUpOwogICAgICB9CgogICAgICBpZighcmVzdWx0LmVtcHR5KCkpCiAgICAgICAgcmV0ID0ganNfc2l6ZV9uZXcoY3R4LCByZXN1bHQud2lkdGgsIHJlc3VsdC5oZWlnaHQpOwogICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3NpemVfYWRkKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1NpemVEYXRhPGRvdWJsZT4qcywgc2l6ZTsKCiAgaWYoKHMgPSBqc19zaXplX2RhdGEoY3R4LCB0aGlzX3ZhbCkpID09IG51bGxwdHIpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihqc19zaXplX3JlYWQoY3R4LCBhcmd2WzBdLCAmc2l6ZSkpIHsKICAgIHMtPndpZHRoICs9IHNpemUud2lkdGg7CiAgICBzLT5oZWlnaHQgKz0gc2l6ZS5oZWlnaHQ7CiAgfSBlbHNlIGlmKGFyZ2MgPj0gMiAmJiBKU19Jc051bWJlcihhcmd2WzBdKSAmJiBKU19Jc051bWJlcihhcmd2WzFdKSkgewogICAgZG91YmxlIHdpZHRoLCBoZWlnaHQ7CgogICAgSlNfVG9GbG9hdDY0KGN0eCwgJndpZHRoLCBhcmd2WzBdKTsKICAgIEpTX1RvRmxvYXQ2NChjdHgsICZoZWlnaHQsIGFyZ3ZbMV0pOwogICAgcy0+d2lkdGggKz0gd2lkdGg7CiAgICBzLT5oZWlnaHQgKz0gaGVpZ2h0OwogIH0KCiAgcmV0dXJuIEpTX0R1cFZhbHVlKGN0eCwgdGhpc192YWwpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19zaXplX3N1YihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNTaXplRGF0YTxkb3VibGU+KnMsIHNpemU7CgogIGlmKChzID0ganNfc2l6ZV9kYXRhKGN0eCwgdGhpc192YWwpKSA9PSBudWxscHRyKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYoanNfc2l6ZV9yZWFkKGN0eCwgYXJndlswXSwgJnNpemUpKSB7CiAgICBzLT53aWR0aCAtPSBzaXplLndpZHRoOwogICAgcy0+aGVpZ2h0IC09IHNpemUuaGVpZ2h0OwogIH0gZWxzZSBpZihhcmdjID49IDIgJiYgSlNfSXNOdW1iZXIoYXJndlswXSkgJiYgSlNfSXNOdW1iZXIoYXJndlsxXSkpIHsKICAgIGRvdWJsZSB3aWR0aCwgaGVpZ2h0OwoKICAgIEpTX1RvRmxvYXQ2NChjdHgsICZ3aWR0aCwgYXJndlswXSk7CiAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmaGVpZ2h0LCBhcmd2WzFdKTsKICAgIHMtPndpZHRoIC09IHdpZHRoOwogICAgcy0+aGVpZ2h0IC09IGhlaWdodDsKICB9CgogIHJldHVybiBKU19EdXBWYWx1ZShjdHgsIHRoaXNfdmFsKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfc2l6ZV9tdWwoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTU2l6ZURhdGE8ZG91YmxlPiBzaXplLCAqcyA9IGpzX3NpemVfZGF0YShjdHgsIHRoaXNfdmFsKTsKICBkb3VibGUgZmFjdG9yOwogIEpTX1RvRmxvYXQ2NChjdHgsICZmYWN0b3IsIGFyZ3ZbMF0pOwoKICBzaXplID0gKnM7CiAgc2l6ZS53aWR0aCAqPSBmYWN0b3I7CiAgc2l6ZS5oZWlnaHQgKj0gZmFjdG9yOwoKICByZXR1cm4ganNfc2l6ZV93cmFwKGN0eCwgc2l6ZSk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3NpemVfZGl2KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1NpemVEYXRhPGRvdWJsZT4gc2l6ZSwgb3RoZXIsICpzLCAqYSA9IG51bGxwdHI7CiAgSlNWYWx1ZSByZXQgPSBKU19FWENFUFRJT047CiAgaWYoKHMgPSBqc19zaXplX2RhdGEoY3R4LCB0aGlzX3ZhbCkpICE9IG51bGxwdHIpIHsKICAgIHNpemUgPSAqczsKCiAgICBpZihKU19Jc051bWJlcihhcmd2WzBdKSkgewogICAgICBkb3VibGUgZGl2aWRlcjsKICAgICAgSlNfVG9GbG9hdDY0KGN0eCwgJmRpdmlkZXIsIGFyZ3ZbMF0pOwogICAgICBzaXplLndpZHRoIC89IGRpdmlkZXI7CiAgICAgIHNpemUuaGVpZ2h0IC89IGRpdmlkZXI7CiAgICAgIHJldCA9IGpzX3NpemVfd3JhcChjdHgsIHNpemUpOwogICAgfSBlbHNlIHsKICAgICAgaWYoKGEgPSBqc19zaXplX2RhdGEoY3R4LCBhcmd2WzBdKSkgIT0gbnVsbHB0cikKICAgICAgICBvdGhlciA9ICphOwogICAgICBlbHNlIHsKICAgICAgICBqc19zaXplX3JlYWQoY3R4LCBhcmd2WzBdLCAmb3RoZXIpOwogICAgICAgIGEgPSAmb3RoZXI7CiAgICAgIH0KICAgICAgc3RkOjphcnJheTxkb3VibGUsIDI+IHJlc3VsdHtzaXplLndpZHRoIC8gb3RoZXIud2lkdGgsIHNpemUuaGVpZ2h0IC8gb3RoZXIuaGVpZ2h0fTsKICAgICAgcmV0ID0gSlNfTmV3QXJyYXkoY3R4KTsKCiAgICAgIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCAwLCBKU19OZXdGbG9hdDY0KGN0eCwgcmVzdWx0WzBdKSk7CiAgICAgIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCAxLCBKU19OZXdGbG9hdDY0KGN0eCwgcmVzdWx0WzFdKSk7CiAgICB9CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU0F0b20gaXRlcmF0b3Jfc3ltYm9sOwoKc3RhdGljIEpTVmFsdWUKanNfc2l6ZV9zeW1ib2xfaXRlcmF0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTVmFsdWUgYXJyLCBpdGVyOwogIGFyciA9IGpzX3NpemVfZnVuY3MoY3R4LCB0aGlzX3ZhbCwgYXJnYywgYXJndiwgMyk7CgogIGlmKGl0ZXJhdG9yX3N5bWJvbCA9PSAwKQogICAgaXRlcmF0b3Jfc3ltYm9sID0ganNfc3ltYm9sX2F0b20oY3R4LCAiaXRlcmF0b3IiKTsKCiAgaWYoIUpTX0lzRnVuY3Rpb24oY3R4LCAoaXRlciA9IEpTX0dldFByb3BlcnR5KGN0eCwgYXJyLCBpdGVyYXRvcl9zeW1ib2wpKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIHJldHVybiBKU19DYWxsKGN0eCwgaXRlciwgYXJyLCAwLCBhcmd2KTsKfQoKc3RhdGljIEpTVmFsdWUKanNfc2l6ZV9mcm9tKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgc2l6ZSwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIHN0ZDo6YXJyYXk8ZG91YmxlLCAyPiBhcnJheTsKICBKU1ZhbHVlIHJldCA9IEpTX0VYQ0VQVElPTjsKCiAgaWYoSlNfSXNTdHJpbmcoYXJndlswXSkpIHsKICAgIGNvbnN0IGNoYXIqIHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbMF0pOwogICAgY2hhciogZW5kcHRyID0gbnVsbHB0cjsKICAgIGZvcihzaXplX3QgaSA9IDA7IGkgPCAyOyBpKyspIHsKICAgICAgd2hpbGUoIWlzZGlnaXQoKnN0cikgJiYgKnN0ciAhPSAnLScgJiYgKnN0ciAhPSAnKycgJiYgISgqc3RyID09ICcuJyAmJiBpc2RpZ2l0KHN0clsxXSkpKSBzdHIrKzsKICAgICAgaWYoKnN0ciA9PSAnXDAnKQogICAgICAgIGJyZWFrOwogICAgICBhcnJheVtpXSA9IHN0cnRvZChzdHIsICZlbmRwdHIpOwogICAgICBzdHIgPSBlbmRwdHI7CiAgICB9CiAgfSBlbHNlIGlmKGpzX2lzX2FycmF5KGN0eCwgYXJndlswXSkpIHsKICAgIGpzX2FycmF5X3RvPGRvdWJsZSwgMj4oY3R4LCBhcmd2WzBdLCBhcnJheSk7CiAgfQogIGlmKGFycmF5WzBdID4gMCAmJiBhcnJheVsxXSA+IDApCiAgICByZXQgPSBqc19zaXplX25ldyhjdHgsIGFycmF5WzBdLCBhcnJheVsxXSk7CiAgcmV0dXJuIHJldDsKfQoKdm9pZApqc19zaXplX2ZpbmFsaXplcihKU1J1bnRpbWUqIHJ0LCBKU1ZhbHVlIHZhbCkgewogIEpTU2l6ZURhdGE8ZG91YmxlPiogcyA9IHN0YXRpY19jYXN0PEpTU2l6ZURhdGE8ZG91YmxlPio+KEpTX0dldE9wYXF1ZSh2YWwsIGpzX3NpemVfY2xhc3NfaWQpKTsKICAvKiBOb3RlOiAncycgY2FuIGJlIE5VTEwgaW4gY2FzZSBKU19TZXRPcGFxdWUoKSB3YXMgbm90IGNhbGxlZCAqLwogIGlmKHMpCiAgICBqc19kZWFsbG9jYXRlKHJ0LCBzKTsKfQoKSlNDbGFzc0RlZiBqc19zaXplX2NsYXNzID0gewogICAgLmNsYXNzX25hbWUgPSAiU2l6ZSIsCiAgICAuZmluYWxpemVyID0ganNfc2l6ZV9maW5hbGl6ZXIsCn07Cgpjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc19zaXplX3Byb3RvX2Z1bmNzW10gPSB7CiAgICBKU19DR0VUU0VUX0VOVU1FUkFCTEVfREVGKCJ3aWR0aCIsIGpzX3NpemVfZ2V0LCBqc19zaXplX3NldCwgU0laRV9QUk9QX1dJRFRIKSwKICAgIEpTX0NHRVRTRVRfRU5VTUVSQUJMRV9ERUYoImhlaWdodCIsIGpzX3NpemVfZ2V0LCBqc19zaXplX3NldCwgU0laRV9QUk9QX0hFSUdIVCksCiAgICBKU19DR0VUU0VUX0VOVU1FUkFCTEVfREVGKCJhc3BlY3QiLCBqc19zaXplX2dldCwgMCwgU0laRV9QUk9QX0FTUEVDVCksCiAgICBKU19DR0VUU0VUX0VOVU1FUkFCTEVfREVGKCJlbXB0eSIsIGpzX3NpemVfZ2V0LCAwLCBTSVpFX1BST1BfRU1QVFkpLAogICAgSlNfQ0dFVFNFVF9FTlVNRVJBQkxFX0RFRigiYXJlYSIsIGpzX3NpemVfZ2V0LCAwLCBTSVpFX1BST1BfQVJFQSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImVxdWFscyIsIDEsIGpzX3NpemVfZnVuY3MsIFNJWkVfTUVUSE9EX0VRVUFMUyksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInJvdW5kIiwgMCwganNfc2l6ZV9mdW5jcywgU0laRV9NRVRIT0RfUk9VTkQpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJ0b09iamVjdCIsIDAsIGpzX3NpemVfZnVuY3MsIFNJWkVfTUVUSE9EX1RPT0JKRUNUKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigidG9BcnJheSIsIDAsIGpzX3NpemVfZnVuY3MsIFNJWkVfTUVUSE9EX1RPQVJSQVkpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJmaXRXaWR0aCIsIDAsIGpzX3NpemVfZnVuY3MsIFNJWkVfTUVUSE9EX0ZJVFdJRFRIKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZml0SGVpZ2h0IiwgMCwganNfc2l6ZV9mdW5jcywgU0laRV9NRVRIT0RfRklUSEVJR0hUKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZml0SW5zaWRlIiwgMCwganNfc2l6ZV9mdW5jcywgU0laRV9NRVRIT0RfRklUSU5TSURFKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZml0T3V0c2lkZSIsIDAsIGpzX3NpemVfZnVuY3MsIFNJWkVfTUVUSE9EX0ZJVE9VVFNJREUpLAogICAgSlNfQ0ZVTkNfREVGKCJ0b1N0cmluZyIsIDAsIGpzX3NpemVfdG9fc3RyaW5nKSwKICAgIEpTX0NGVU5DX0RFRigidG9Tb3VyY2UiLCAwLCBqc19zaXplX3RvX3NvdXJjZSksCiAgICBKU19DRlVOQ19ERUYoImFkZCIsIDEsIGpzX3NpemVfYWRkKSwKICAgIEpTX0NGVU5DX0RFRigic3ViIiwgMSwganNfc2l6ZV9zdWIpLAogICAgSlNfQ0ZVTkNfREVGKCJtdWwiLCAxLCBqc19zaXplX211bCksCiAgICBKU19DRlVOQ19ERUYoImRpdiIsIDEsIGpzX3NpemVfZGl2KSwKICAgIEpTX0FMSUFTX0RFRigidmFsdWVzIiwgInRvQXJyYXkiKSwKICAgIEpTX0NGVU5DX0RFRigiW1N5bWJvbC5pdGVyYXRvcl0iLCAwLCBqc19zaXplX3N5bWJvbF9pdGVyYXRvciksCiAgICBKU19QUk9QX1NUUklOR19ERUYoIltTeW1ib2wudG9TdHJpbmdUYWddIiwgIlNpemUiLCBKU19QUk9QX0NPTkZJR1VSQUJMRSksCn07Cgpjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc19zaXplX3N0YXRpY19mdW5jc1tdID0ge0pTX0NGVU5DX0RFRigiZnJvbSIsIDEsIGpzX3NpemVfZnJvbSl9OwoKaW50CmpzX3NpemVfaW5pdChKU0NvbnRleHQqIGN0eCwgSlNNb2R1bGVEZWYqIG0pIHsKCiAgaWYoanNfc2l6ZV9jbGFzc19pZCA9PSAwKSB7CiAgICAvKiBjcmVhdGUgdGhlIFNpemUgY2xhc3MgKi8KICAgIEpTX05ld0NsYXNzSUQoJmpzX3NpemVfY2xhc3NfaWQpOwogICAgSlNfTmV3Q2xhc3MoSlNfR2V0UnVudGltZShjdHgpLCBqc19zaXplX2NsYXNzX2lkLCAmanNfc2l6ZV9jbGFzcyk7CgogICAgc2l6ZV9wcm90byA9IEpTX05ld09iamVjdChjdHgpOwogICAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBzaXplX3Byb3RvLCBqc19zaXplX3Byb3RvX2Z1bmNzLCBjb3VudG9mKGpzX3NpemVfcHJvdG9fZnVuY3MpKTsKCiAgICBKU19TZXRDbGFzc1Byb3RvKGN0eCwganNfc2l6ZV9jbGFzc19pZCwgc2l6ZV9wcm90byk7CgogICAgc2l6ZV9jbGFzcyA9IEpTX05ld0NGdW5jdGlvbjIoY3R4LCBqc19zaXplX2N0b3IsICJTaXplIiwgMCwgSlNfQ0ZVTkNfY29uc3RydWN0b3IsIDApOwogICAgLyogc2V0IHByb3RvLmNvbnN0cnVjdG9yIGFuZCBjdG9yLnByb3RvdHlwZSAqLwogICAgSlNfU2V0Q29uc3RydWN0b3IoY3R4LCBzaXplX2NsYXNzLCBzaXplX3Byb3RvKTsKICAgIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgc2l6ZV9jbGFzcywganNfc2l6ZV9zdGF0aWNfZnVuY3MsIGNvdW50b2YoanNfc2l6ZV9zdGF0aWNfZnVuY3MpKTsKCiAgICBqc19zZXRfaW5zcGVjdF9tZXRob2QoY3R4LCBzaXplX3Byb3RvLCBqc19zaXplX2luc3BlY3QpOwogIH0KCiAgaWYobSkKICAgIEpTX1NldE1vZHVsZUV4cG9ydChjdHgsIG0sICJTaXplIiwgc2l6ZV9jbGFzcyk7CiAgLyplbHNlCiAgICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsICpzdGF0aWNfY2FzdDxKU1ZhbHVlKj4obSksIG5hbWUsIHNpemVfY2xhc3MpOyovCiAgcmV0dXJuIDA7Cn0KCmV4dGVybiAiQyIgVklTSUJMRSB2b2lkCmpzX3NpemVfZXhwb3J0KEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewogIEpTX0FkZE1vZHVsZUV4cG9ydChjdHgsIG0sICJTaXplIik7Cn0KCnZvaWQKanNfc2l6ZV9jb25zdHJ1Y3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZSBwYXJlbnQsIGNvbnN0IGNoYXIqIG5hbWUpIHsKICBpZihKU19Jc1VuZGVmaW5lZChzaXplX2NsYXNzKSkKICAgIGpzX3NpemVfaW5pdChjdHgsIDApOwoKICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIHBhcmVudCwgbmFtZSA/IG5hbWUgOiAiU2l6ZSIsIHNpemVfY2xhc3MpOwp9CgojaWZkZWYgSlNfU0laRV9NT0RVTEUKI2RlZmluZSBKU19JTklUX01PRFVMRSBWSVNJQkxFIGpzX2luaXRfbW9kdWxlCiNlbHNlCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUganNfaW5pdF9tb2R1bGVfc2l6ZQojZW5kaWYKCmV4dGVybiAiQyIgSlNNb2R1bGVEZWYqCkpTX0lOSVRfTU9EVUxFKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBtb2R1bGVfbmFtZSkgewogIEpTTW9kdWxlRGVmKiBtOwogIG0gPSBKU19OZXdDTW9kdWxlKGN0eCwgbW9kdWxlX25hbWUsICZqc19zaXplX2luaXQpOwogIGlmKCFtKQogICAgcmV0dXJuIE5VTEw7CiAganNfc2l6ZV9leHBvcnQoY3R4LCBtKTsKICByZXR1cm4gbTsKfQAAAAAAAAAARzoAAAAAAAAAAAAA",
					"BgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAFoZAAAAAAAAWhkAAAAAAAAAAAAAAADwvw"
				],
				[
					1089,
					1,
					"paste",
					null,
					"AgAAABMVAAAAAAAAIxUAAAAAAAAAAAAAIxUAAAAAAAAjFQAAAAAAAAoAAABzaXplX3Byb3Rv",
					"BgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAABMVAAAAAAAAHRUAAAAAAAAAAAAAAADwvw"
				],
				[
					1092,
					1,
					"insert",
					{
						"characters": "Class"
					},
					"BgAAAAgVAAAAAAAACRUAAAAAAAAAAAAACRUAAAAAAAAJFQAAAAAAAAUAAABQcm90bwkVAAAAAAAAChUAAAAAAAAAAAAAChUAAAAAAAALFQAAAAAAAAAAAAALFQAAAAAAAAwVAAAAAAAAAAAAAAwVAAAAAAAADRUAAAAAAAAAAAAA",
					"BgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAgVAAAAAAAADRUAAAAAAAAAAAAAAADwvw"
				],
				[
					1095,
					1,
					"insert",
					{
						"characters": "_size"
					},
					"BgAAABUVAAAAAAAAFhUAAAAAAAAAAAAAFhUAAAAAAAAWFQAAAAAAAAUAAABfcmVjdBYVAAAAAAAAFxUAAAAAAAAAAAAAFxUAAAAAAAAYFQAAAAAAAAAAAAAYFQAAAAAAABkVAAAAAAAAAAAAABkVAAAAAAAAGhUAAAAAAAAAAAAA",
					"BgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAABUVAAAAAAAAGhUAAAAAAAAAAAAAAADwvw"
				],
				[
					1216,
					1,
					"toggle_comment",
					{
						"block": true
					},
					"AgAAAMQOAAAAAAAAxg4AAAAAAAAAAAAArg4AAAAAAACwDgAAAAAAAAAAAAA",
					"BgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAK4OAAAAAAAAxA4AAAAAAAAAAAAAAADwvw"
				],
				[
					1219,
					1,
					"toggle_comment",
					{
						"block": true
					},
					"AgAAAPAOAAAAAAAA8g4AAAAAAAAAAAAA2g4AAAAAAADcDgAAAAAAAAAAAAA",
					"BgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwvwAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8AAAAAAQAAANoOAAAAAAAA8A4AAAAAAAAAAAAAAADwvw"
				],
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABWOgAAI2luY2x1ZGUgImpzYmluZGluZ3MuaHBwIgojaW5jbHVkZSAianNfc2l6ZS5ocHAiCiNpbmNsdWRlICJqc19hcnJheS5ocHAiCiNpbmNsdWRlICJqc19hbGxvYy5ocHAiCiNpbmNsdWRlICJ1dGlsLmhwcCIKCmVudW0ganNfc2l6ZV9maXRfdCB7IEpTX1NJWkVfRklUX1dJRFRIID0gMSwgSlNfU0laRV9GSVRfSEVJR0hUID0gMiwgSlNfU0laRV9GSVRfSU5TSURFLCBKU19TSVpFX0ZJVF9PVVRTSURFIH07CmVudW0geyBTSVpFX1BST1BfV0lEVEgsIFNJWkVfUFJPUF9IRUlHSFQsIFNJWkVfUFJPUF9BU1BFQ1QsIFNJWkVfUFJPUF9FTVBUWSwgU0laRV9QUk9QX0FSRUEgfTsKZW51bSB7CiAgU0laRV9NRVRIT0RfRVFVQUxTLAogIFNJWkVfTUVUSE9EX1JPVU5ELAogIFNJWkVfTUVUSE9EX1RPT0JKRUNULAogIFNJWkVfTUVUSE9EX1RPQVJSQVksCiAgU0laRV9NRVRIT0RfRklUV0lEVEgsCiAgU0laRV9NRVRIT0RfRklUSEVJR0hULAogIFNJWkVfTUVUSE9EX0ZJVElOU0lERSwKICBTSVpFX01FVEhPRF9GSVRPVVRTSURFCn07CmV4dGVybiAiQyIgewpKU1ZhbHVlIHNpemVfcHJvdG8gPSBKU19VTkRFRklORUQsIHNpemVfY2xhc3MgPSBKU19VTkRFRklORUQ7CkpTQ2xhc3NJRCBqc19zaXplX2NsYXNzX2lkID0gMDsKfQoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSBKU1NpemVEYXRhPFQ+CmpzX3NpemVfZml0KGNvbnN0IEpTU2l6ZURhdGE8VD4mIHNpemUsIFQgdG8sIGpzX3NpemVfZml0X3QgbW9kZSkgewogIEpTU2l6ZURhdGE8VD4gcmV0OwogIHN3aXRjaChtb2RlKSB7CiAgICBjYXNlIEpTX1NJWkVfRklUX1dJRFRIOiB7CiAgICAgIHJldC53aWR0aCA9IHRvOwogICAgICByZXQuaGVpZ2h0ID0gc2l6ZS5oZWlnaHQgKiAodG8gLyBzaXplLndpZHRoKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIEpTX1NJWkVfRklUX0hFSUdIVDogewogICAgICByZXQud2lkdGggPSBzaXplLndpZHRoICogKHRvIC8gc2l6ZS5oZWlnaHQpOwogICAgICByZXQuaGVpZ2h0ID0gdG87CiAgICAgIGJyZWFrOwogICAgfQogIH0KICByZXR1cm4gcmV0Owp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgSlNTaXplRGF0YTxUPgpqc19zaXplX2ZpdChjb25zdCBKU1NpemVEYXRhPFQ+JiBzaXplLCBjb25zdCBKU1NpemVEYXRhPFQ+JiB0bywganNfc2l6ZV9maXRfdCBtb2RlKSB7CiAgSlNTaXplRGF0YTxUPiByZXQ7CiAgc3dpdGNoKG1vZGUpIHsKICAgIGNhc2UgSlNfU0laRV9GSVRfSU5TSURFOgogICAgY2FzZSBKU19TSVpFX0ZJVF9PVVRTSURFOiB7CiAgICAgIHJldCA9IGpzX3NpemVfZml0KHNpemUsIHRvLCBKU19TSVpFX0ZJVF9XSURUSCk7CiAgICAgIGlmKG1vZGUgPT0gSlNfU0laRV9GSVRfSU5TSURFICYmIHJldC5oZWlnaHQgPiB0by5oZWlnaHQpCiAgICAgICAgcmV0ID0ganNfc2l6ZV9maXQoc2l6ZSwgdG8uaGVpZ2h0LCBKU19TSVpFX0ZJVF9IRUlHSFQpOwoKICAgICAgYnJlYWs7CiAgICB9CiAgICBkZWZhdWx0OiByZXQgPSBqc19zaXplX2ZpdChzaXplLCBtb2RlID09IEpTX1NJWkVfRklUX1dJRFRIID8gdG8ud2lkdGggOiB0by5oZWlnaHQsIG1vZGUpOyBicmVhazsKICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfc2l6ZV9jdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgbmV3X3RhcmdldCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTU2l6ZURhdGE8ZG91YmxlPiBzaXplLCAqczsKICBKU1ZhbHVlIG9iaiA9IEpTX1VOREVGSU5FRDsKICBKU1ZhbHVlIHByb3RvOwoKICBzID0ganNfYWxsb2NhdGU8SlNTaXplRGF0YTxkb3VibGU+PihjdHgpOwogIGlmKCFzKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICBuZXcocykgSlNTaXplRGF0YTxkb3VibGU+KCk7CgogIGlmKGFyZ2MgPiAwKSB7CiAgICBpZihqc19zaXplX3JlYWQoY3R4LCBhcmd2WzBdLCAmc2l6ZSkpIHsKICAgICAgKnMgPSBzaXplOwogICAgfSBlbHNlIHsKICAgICAgaWYoSlNfVG9GbG9hdDY0KGN0eCwgJnNpemUud2lkdGgsIGFyZ3ZbMF0pKQogICAgICAgIGdvdG8gZmFpbDsKICAgICAgaWYoYXJnYyA8IDIgfHwgSlNfVG9GbG9hdDY0KGN0eCwgJnNpemUuaGVpZ2h0LCBhcmd2WzFdKSkKICAgICAgICBnb3RvIGZhaWw7CgogICAgICAqcyA9IHNpemU7CiAgICB9CiAgfQoKICAvKiB1c2luZyBuZXdfdGFyZ2V0IHRvIGdldCB0aGUgcHJvdG90eXBlIGlzIG5lY2Vzc2FyeSB3aGVuIHRoZQogICAgIGNsYXNzIGlzIGV4dGVuZGVkLiAqLwogIHByb3RvID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBuZXdfdGFyZ2V0LCAicHJvdG90eXBlIik7CiAgaWYoSlNfSXNFeGNlcHRpb24ocHJvdG8pKQogICAgZ290byBmYWlsOwogIG9iaiA9IEpTX05ld09iamVjdFByb3RvQ2xhc3MoY3R4LCBwcm90bywganNfc2l6ZV9jbGFzc19pZCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcHJvdG8pOwogIGlmKEpTX0lzRXhjZXB0aW9uKG9iaikpCiAgICBnb3RvIGZhaWw7CiAgSlNfU2V0T3BhcXVlKG9iaiwgcyk7CiAgcmV0dXJuIG9iajsKZmFpbDoKICBqc19kZWFsbG9jYXRlKGN0eCwgcyk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpWSVNJQkxFIEpTU2l6ZURhdGE8ZG91YmxlPioKanNfc2l6ZV9kYXRhKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsKSB7CiAgcmV0dXJuIHN0YXRpY19jYXN0PEpTU2l6ZURhdGE8ZG91YmxlPio+KEpTX0dldE9wYXF1ZSh2YWwsIGpzX3NpemVfY2xhc3NfaWQpKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfc2l6ZV9nZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IG1hZ2ljKSB7CiAgSlNTaXplRGF0YTxkb3VibGU+KiBzOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBpZighKHMgPSBqc19zaXplX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFNJWkVfUFJPUF9XSURUSDogewogICAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgcy0+d2lkdGgpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU0laRV9QUk9QX0hFSUdIVDogewogICAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgcy0+aGVpZ2h0KTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNJWkVfUFJPUF9BU1BFQ1Q6IHsKICAgICAgcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsIHMtPmFzcGVjdFJhdGlvKCkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU0laRV9QUk9QX0VNUFRZOiB7CiAgICAgIHJldCA9IEpTX05ld0Jvb2woY3R4LCBzLT5lbXB0eSgpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNJWkVfUFJPUF9BUkVBOiB7CiAgICAgIHJldCA9IEpTX05ld0Zsb2F0NjQoY3R4LCBzLT5hcmVhKCkpOwogICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiByZXQ7Cn0KClZJU0lCTEUgSlNWYWx1ZQpqc19zaXplX25ldyhKU0NvbnRleHQqIGN0eCwgZG91YmxlIHcsIGRvdWJsZSBoKSB7CiAgSlNWYWx1ZSByZXQ7CiAgSlNTaXplRGF0YTxkb3VibGU+KiBzOwoKICBpZihKU19Jc1VuZGVmaW5lZChzaXplX3Byb3RvKSkKICAgIGpzX3NpemVfaW5pdChjdHgsIE5VTEwpOwoKICByZXQgPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgc2l6ZV9wcm90bywganNfc2l6ZV9jbGFzc19pZCk7CgogIHMgPSBqc19hbGxvY2F0ZTxKU1NpemVEYXRhPGRvdWJsZT4+KGN0eCk7CiAgcy0+d2lkdGggPSAvKncgPD0gREJMX0VQU0lMT04gPyAwIDoqLyB3OwogIHMtPmhlaWdodCA9IC8qaCA8PSBEQkxfRVBTSUxPTiA/IDAgOiovIGg7CgogIEpTX1NldE9wYXF1ZShyZXQsIHMpOwogIHJldHVybiByZXQ7Cn0KClZJU0lCTEUgSlNWYWx1ZQpqc19zaXplX3dyYXAoSlNDb250ZXh0KiBjdHgsIGNvbnN0IEpTU2l6ZURhdGE8ZG91YmxlPiYgc3opIHsKICByZXR1cm4ganNfc2l6ZV9uZXcoY3R4LCBzei53aWR0aCwgc3ouaGVpZ2h0KTsKfQoKc3RhdGljIEpTVmFsdWUKanNfc2l6ZV9zZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgSlNWYWx1ZUNvbnN0IHZhbCwgaW50IG1hZ2ljKSB7CiAgSlNTaXplRGF0YTxkb3VibGU+KiBzID0ganNfc2l6ZV9kYXRhKGN0eCwgdGhpc192YWwpOwogIGRvdWJsZSB2OwogIGlmKCFzKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICBpZihKU19Ub0Zsb2F0NjQoY3R4LCAmdiwgdmFsKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgaWYobWFnaWMgPT0gMCkKICAgIHMtPndpZHRoID0gdjsKICBlbHNlCiAgICBzLT5oZWlnaHQgPSB2OwogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3NpemVfdG9fc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1NpemVEYXRhPGRvdWJsZT4gc2l6ZSwgKnM7CiAgc3RkOjpvc3RyaW5nc3RyZWFtIG9zOwogIGNvbnN0IGNoYXIqIGRlbGltID0gIsOXIjsKICBpZigocyA9IGpzX3NpemVfZGF0YShjdHgsIHRoaXNfdmFsKSkgPT0gbnVsbHB0cikgewogICAganNfc2l6ZV9yZWFkKGN0eCwgdGhpc192YWwsICZzaXplKTsKICB9IGVsc2UgewogICAgc2l6ZSA9ICpzOwogIH0KCiAgaWYoYXJnYyA+IDApCiAgICBkZWxpbSA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbMF0pOwoKICBvcyA8PCBzaXplLndpZHRoIDw8IGRlbGltIDw8IHNpemUuaGVpZ2h0OwoKICByZXR1cm4gSlNfTmV3U3RyaW5nKGN0eCwgb3Muc3RyKCkuY19zdHIoKSk7Cn0Kc3RhdGljIEpTVmFsdWUKanNfc2l6ZV90b19zb3VyY2UoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTU2l6ZURhdGE8ZG91YmxlPiBzaXplLCAqczsKICBzdGQ6Om9zdHJpbmdzdHJlYW0gb3M7CiAgaWYoKHMgPSBqc19zaXplX2RhdGEoY3R4LCB0aGlzX3ZhbCkpID09IG51bGxwdHIpIHsKICAgIGpzX3NpemVfcmVhZChjdHgsIHRoaXNfdmFsLCAmc2l6ZSk7CiAgfSBlbHNlIHsKICAgIHNpemUgPSAqczsKICB9CiAgb3MgPDwgInt3aWR0aDoiIDw8IHNpemUud2lkdGggPDwgIixoZWlnaHQ6IiA8PCBzaXplLmhlaWdodCA8PCAifSI7CgogIHJldHVybiBKU19OZXdTdHJpbmcoY3R4LCBvcy5zdHIoKS5jX3N0cigpKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfc2l6ZV9pbnNwZWN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1NpemVEYXRhPGRvdWJsZT4qIHMgPSBqc19zaXplX2RhdGEoY3R4LCB0aGlzX3ZhbCk7CiAgSlNWYWx1ZSBvYmogPSBKU19OZXdPYmplY3RDbGFzcyhjdHgsIGpzX3NpemVfY2xhc3NfaWQpOwoKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAid2lkdGgiLCBKU19OZXdGbG9hdDY0KGN0eCwgcy0+d2lkdGgpLCBKU19QUk9QX0VOVU1FUkFCTEUpOwogIEpTX0RlZmluZVByb3BlcnR5VmFsdWVTdHIoY3R4LCBvYmosICJoZWlnaHQiLCBKU19OZXdGbG9hdDY0KGN0eCwgcy0+aGVpZ2h0KSwgSlNfUFJPUF9FTlVNRVJBQkxFKTsKICByZXR1cm4gb2JqOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19zaXplX2Z1bmNzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YsIGludCBtYWdpYykgewogIEpTU2l6ZURhdGE8ZG91YmxlPiBzaXplLCAqczsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoKHMgPSBqc19zaXplX2RhdGEoY3R4LCB0aGlzX3ZhbCkpID09IG51bGxwdHIpCiAgICByZXR1cm4gcmV0OwoKICBzaXplID0gKnM7CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBTSVpFX01FVEhPRF9FUVVBTFM6IHsKICAgICAgSlNTaXplRGF0YTxkb3VibGU+IG90aGVyLCAqYXJnOwogICAgICBib29sIGVxdWFscyA9IGZhbHNlOwogICAgICBpZihhcmdjID4gMCkgewogICAgICAgIGlmKChhcmcgPSBqc19zaXplX2RhdGEoY3R4LCBhcmd2WzBdKSkpIHsKICAgICAgICAgIGVxdWFscyA9IHMtPndpZHRoID09IGFyZy0+d2lkdGggJiYgcy0+aGVpZ2h0ID09IGFyZy0+aGVpZ2h0OwogICAgICAgIH0gZWxzZSBpZihqc19zaXplX3JlYWQoY3R4LCBhcmd2WzBdLCAmb3RoZXIpKSB7CiAgICAgICAgICBlcXVhbHMgPSBzLT53aWR0aCA9PSBvdGhlci53aWR0aCAmJiBzLT5oZWlnaHQgPT0gb3RoZXIuaGVpZ2h0OwogICAgICAgIH0KICAgICAgICByZXQgPSBKU19OZXdCb29sKGN0eCwgZXF1YWxzKTsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU0laRV9NRVRIT0RfUk9VTkQ6IHsKICAgICAgZG91YmxlIHdpZHRoLCBoZWlnaHQsIGY7CiAgICAgIGludDMyX3QgcHJlY2lzaW9uID0gMDsKICAgICAgaWYoYXJnYyA+IDApCiAgICAgICAgSlNfVG9JbnQzMihjdHgsICZwcmVjaXNpb24sIGFyZ3ZbMF0pOwogICAgICBmID0gc3RkOjpwb3coMTAsIHByZWNpc2lvbik7CiAgICAgIHdpZHRoID0gc3RkOjpyb3VuZChzaXplLndpZHRoICogZikgLyBmOwogICAgICBoZWlnaHQgPSBzdGQ6OnJvdW5kKHNpemUuaGVpZ2h0ICogZikgLyBmOwogICAgICByZXQgPSBqc19zaXplX25ldyhjdHgsIHdpZHRoLCBoZWlnaHQpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU0laRV9NRVRIT0RfVE9PQkpFQ1Q6IHsKICAgICAgcmV0ID0gSlNfTmV3T2JqZWN0KGN0eCk7CgogICAgICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIHJldCwgIndpZHRoIiwgSlNfTmV3RmxvYXQ2NChjdHgsIHNpemUud2lkdGgpKTsKICAgICAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJoZWlnaHQiLCBKU19OZXdGbG9hdDY0KGN0eCwgc2l6ZS5oZWlnaHQpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNJWkVfTUVUSE9EX1RPQVJSQVk6IHsKICAgICAgcmV0ID0gSlNfTmV3QXJyYXkoY3R4KTsKCiAgICAgIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCAwLCBKU19OZXdGbG9hdDY0KGN0eCwgc2l6ZS53aWR0aCkpOwogICAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgMSwgSlNfTmV3RmxvYXQ2NChjdHgsIHNpemUuaGVpZ2h0KSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBTSVpFX01FVEhPRF9GSVRXSURUSDoKICAgIGNhc2UgU0laRV9NRVRIT0RfRklUSEVJR0hUOgogICAgY2FzZSBTSVpFX01FVEhPRF9GSVRJTlNJREU6CiAgICBjYXNlIFNJWkVfTUVUSE9EX0ZJVE9VVFNJREU6IHsKICAgICAgSlNTaXplRGF0YTxkb3VibGU+IG90aGVyLCByZXN1bHQ7CiAgICAgIGRvdWJsZSBhcmc7CgogICAgICBqc19zaXplX2ZpdF90IGZpdF90eXBlID0ganNfc2l6ZV9maXRfdChtYWdpYyAtIDMpOwogICAgICBpZihtYWdpYyA+PSA2KSB7fQoKICAgICAgaWYoanNfc2l6ZV9yZWFkKGN0eCwgYXJndlswXSwgJm90aGVyKSkgewogICAgICAgIHJlc3VsdCA9IGpzX3NpemVfZml0KHNpemUsIG90aGVyLCBmaXRfdHlwZSk7CgogICAgICB9IGVsc2UgaWYoZml0X3R5cGUgPT0gSlNfU0laRV9GSVRfV0lEVEggfHwgZml0X3R5cGUgPT0gSlNfU0laRV9GSVRfSEVJR0hUKSB7CiAgICAgICAgSlNfVG9GbG9hdDY0KGN0eCwgJmFyZywgYXJndlswXSk7CiAgICAgICAgcmVzdWx0ID0ganNfc2l6ZV9maXQoc2l6ZSwgYXJnLCBmaXRfdHlwZSk7CiAgICAgIH0KCiAgICAgIGlmKCFyZXN1bHQuZW1wdHkoKSkKICAgICAgICByZXQgPSBqc19zaXplX25ldyhjdHgsIHJlc3VsdC53aWR0aCwgcmVzdWx0LmhlaWdodCk7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfc2l6ZV9hZGQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTU2l6ZURhdGE8ZG91YmxlPipzLCBzaXplOwoKICBpZigocyA9IGpzX3NpemVfZGF0YShjdHgsIHRoaXNfdmFsKSkgPT0gbnVsbHB0cikKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGlmKGpzX3NpemVfcmVhZChjdHgsIGFyZ3ZbMF0sICZzaXplKSkgewogICAgcy0+d2lkdGggKz0gc2l6ZS53aWR0aDsKICAgIHMtPmhlaWdodCArPSBzaXplLmhlaWdodDsKICB9IGVsc2UgaWYoYXJnYyA+PSAyICYmIEpTX0lzTnVtYmVyKGFyZ3ZbMF0pICYmIEpTX0lzTnVtYmVyKGFyZ3ZbMV0pKSB7CiAgICBkb3VibGUgd2lkdGgsIGhlaWdodDsKCiAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmd2lkdGgsIGFyZ3ZbMF0pOwogICAgSlNfVG9GbG9hdDY0KGN0eCwgJmhlaWdodCwgYXJndlsxXSk7CiAgICBzLT53aWR0aCArPSB3aWR0aDsKICAgIHMtPmhlaWdodCArPSBoZWlnaHQ7CiAgfQoKICByZXR1cm4gSlNfRHVwVmFsdWUoY3R4LCB0aGlzX3ZhbCk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3NpemVfc3ViKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1NpemVEYXRhPGRvdWJsZT4qcywgc2l6ZTsKCiAgaWYoKHMgPSBqc19zaXplX2RhdGEoY3R4LCB0aGlzX3ZhbCkpID09IG51bGxwdHIpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihqc19zaXplX3JlYWQoY3R4LCBhcmd2WzBdLCAmc2l6ZSkpIHsKICAgIHMtPndpZHRoIC09IHNpemUud2lkdGg7CiAgICBzLT5oZWlnaHQgLT0gc2l6ZS5oZWlnaHQ7CiAgfSBlbHNlIGlmKGFyZ2MgPj0gMiAmJiBKU19Jc051bWJlcihhcmd2WzBdKSAmJiBKU19Jc051bWJlcihhcmd2WzFdKSkgewogICAgZG91YmxlIHdpZHRoLCBoZWlnaHQ7CgogICAgSlNfVG9GbG9hdDY0KGN0eCwgJndpZHRoLCBhcmd2WzBdKTsKICAgIEpTX1RvRmxvYXQ2NChjdHgsICZoZWlnaHQsIGFyZ3ZbMV0pOwogICAgcy0+d2lkdGggLT0gd2lkdGg7CiAgICBzLT5oZWlnaHQgLT0gaGVpZ2h0OwogIH0KCiAgcmV0dXJuIEpTX0R1cFZhbHVlKGN0eCwgdGhpc192YWwpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19zaXplX211bChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNTaXplRGF0YTxkb3VibGU+IHNpemUsICpzID0ganNfc2l6ZV9kYXRhKGN0eCwgdGhpc192YWwpOwogIGRvdWJsZSBmYWN0b3I7CiAgSlNfVG9GbG9hdDY0KGN0eCwgJmZhY3RvciwgYXJndlswXSk7CgogIHNpemUgPSAqczsKICBzaXplLndpZHRoICo9IGZhY3RvcjsKICBzaXplLmhlaWdodCAqPSBmYWN0b3I7CgogIHJldHVybiBqc19zaXplX3dyYXAoY3R4LCBzaXplKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfc2l6ZV9kaXYoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTU2l6ZURhdGE8ZG91YmxlPiBzaXplLCBvdGhlciwgKnMsICphID0gbnVsbHB0cjsKICBKU1ZhbHVlIHJldCA9IEpTX0VYQ0VQVElPTjsKICBpZigocyA9IGpzX3NpemVfZGF0YShjdHgsIHRoaXNfdmFsKSkgIT0gbnVsbHB0cikgewogICAgc2l6ZSA9ICpzOwoKICAgIGlmKEpTX0lzTnVtYmVyKGFyZ3ZbMF0pKSB7CiAgICAgIGRvdWJsZSBkaXZpZGVyOwogICAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmZGl2aWRlciwgYXJndlswXSk7CiAgICAgIHNpemUud2lkdGggLz0gZGl2aWRlcjsKICAgICAgc2l6ZS5oZWlnaHQgLz0gZGl2aWRlcjsKICAgICAgcmV0ID0ganNfc2l6ZV93cmFwKGN0eCwgc2l6ZSk7CiAgICB9IGVsc2UgewogICAgICBpZigoYSA9IGpzX3NpemVfZGF0YShjdHgsIGFyZ3ZbMF0pKSAhPSBudWxscHRyKQogICAgICAgIG90aGVyID0gKmE7CiAgICAgIGVsc2UgewogICAgICAgIGpzX3NpemVfcmVhZChjdHgsIGFyZ3ZbMF0sICZvdGhlcik7CiAgICAgICAgYSA9ICZvdGhlcjsKICAgICAgfQogICAgICBzdGQ6OmFycmF5PGRvdWJsZSwgMj4gcmVzdWx0e3NpemUud2lkdGggLyBvdGhlci53aWR0aCwgc2l6ZS5oZWlnaHQgLyBvdGhlci5oZWlnaHR9OwogICAgICByZXQgPSBKU19OZXdBcnJheShjdHgpOwoKICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDAsIEpTX05ld0Zsb2F0NjQoY3R4LCByZXN1bHRbMF0pKTsKICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDEsIEpTX05ld0Zsb2F0NjQoY3R4LCByZXN1bHRbMV0pKTsKICAgIH0KICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTQXRvbSBpdGVyYXRvcl9zeW1ib2w7CgpzdGF0aWMgSlNWYWx1ZQpqc19zaXplX3N5bWJvbF9pdGVyYXRvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNWYWx1ZSBhcnIsIGl0ZXI7CiAgYXJyID0ganNfc2l6ZV9mdW5jcyhjdHgsIHRoaXNfdmFsLCBhcmdjLCBhcmd2LCAzKTsKCiAgaWYoaXRlcmF0b3Jfc3ltYm9sID09IDApCiAgICBpdGVyYXRvcl9zeW1ib2wgPSBqc19zeW1ib2xfYXRvbShjdHgsICJpdGVyYXRvciIpOwoKICBpZighSlNfSXNGdW5jdGlvbihjdHgsIChpdGVyID0gSlNfR2V0UHJvcGVydHkoY3R4LCBhcnIsIGl0ZXJhdG9yX3N5bWJvbCkpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgcmV0dXJuIEpTX0NhbGwoY3R4LCBpdGVyLCBhcnIsIDAsIGFyZ3YpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19zaXplX2Zyb20oSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBzaXplLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgc3RkOjphcnJheTxkb3VibGUsIDI+IGFycmF5OwogIEpTVmFsdWUgcmV0ID0gSlNfRVhDRVBUSU9OOwoKICBpZihKU19Jc1N0cmluZyhhcmd2WzBdKSkgewogICAgY29uc3QgY2hhciogc3RyID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlswXSk7CiAgICBjaGFyKiBlbmRwdHIgPSBudWxscHRyOwogICAgZm9yKHNpemVfdCBpID0gMDsgaSA8IDI7IGkrKykgewogICAgICB3aGlsZSghaXNkaWdpdCgqc3RyKSAmJiAqc3RyICE9ICctJyAmJiAqc3RyICE9ICcrJyAmJiAhKCpzdHIgPT0gJy4nICYmIGlzZGlnaXQoc3RyWzFdKSkpIHN0cisrOwogICAgICBpZigqc3RyID09ICdcMCcpCiAgICAgICAgYnJlYWs7CiAgICAgIGFycmF5W2ldID0gc3RydG9kKHN0ciwgJmVuZHB0cik7CiAgICAgIHN0ciA9IGVuZHB0cjsKICAgIH0KICB9IGVsc2UgaWYoanNfaXNfYXJyYXkoY3R4LCBhcmd2WzBdKSkgewogICAganNfYXJyYXlfdG88ZG91YmxlLCAyPihjdHgsIGFyZ3ZbMF0sIGFycmF5KTsKICB9CiAgaWYoYXJyYXlbMF0gPiAwICYmIGFycmF5WzFdID4gMCkKICAgIHJldCA9IGpzX3NpemVfbmV3KGN0eCwgYXJyYXlbMF0sIGFycmF5WzFdKTsKICByZXR1cm4gcmV0Owp9Cgp2b2lkCmpzX3NpemVfZmluYWxpemVyKEpTUnVudGltZSogcnQsIEpTVmFsdWUgdmFsKSB7CiAgSlNTaXplRGF0YTxkb3VibGU+KiBzID0gc3RhdGljX2Nhc3Q8SlNTaXplRGF0YTxkb3VibGU+Kj4oSlNfR2V0T3BhcXVlKHZhbCwganNfc2l6ZV9jbGFzc19pZCkpOwogIC8qIE5vdGU6ICdzJyBjYW4gYmUgTlVMTCBpbiBjYXNlIEpTX1NldE9wYXF1ZSgpIHdhcyBub3QgY2FsbGVkICovCiAgaWYocykKICAgIGpzX2RlYWxsb2NhdGUocnQsIHMpOwp9CgpKU0NsYXNzRGVmIGpzX3NpemVfY2xhc3MgPSB7CiAgICAuY2xhc3NfbmFtZSA9ICJTaXplIiwKICAgIC5maW5hbGl6ZXIgPSBqc19zaXplX2ZpbmFsaXplciwKfTsKCmNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IGpzX3NpemVfcHJvdG9fZnVuY3NbXSA9IHsKICAgIEpTX0NHRVRTRVRfRU5VTUVSQUJMRV9ERUYoIndpZHRoIiwganNfc2l6ZV9nZXQsIGpzX3NpemVfc2V0LCBTSVpFX1BST1BfV0lEVEgpLAogICAgSlNfQ0dFVFNFVF9FTlVNRVJBQkxFX0RFRigiaGVpZ2h0IiwganNfc2l6ZV9nZXQsIGpzX3NpemVfc2V0LCBTSVpFX1BST1BfSEVJR0hUKSwKICAgIEpTX0NHRVRTRVRfRU5VTUVSQUJMRV9ERUYoImFzcGVjdCIsIGpzX3NpemVfZ2V0LCAwLCBTSVpFX1BST1BfQVNQRUNUKSwKICAgIEpTX0NHRVRTRVRfRU5VTUVSQUJMRV9ERUYoImVtcHR5IiwganNfc2l6ZV9nZXQsIDAsIFNJWkVfUFJPUF9FTVBUWSksCiAgICBKU19DR0VUU0VUX0VOVU1FUkFCTEVfREVGKCJhcmVhIiwganNfc2l6ZV9nZXQsIDAsIFNJWkVfUFJPUF9BUkVBKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZXF1YWxzIiwgMSwganNfc2l6ZV9mdW5jcywgU0laRV9NRVRIT0RfRVFVQUxTKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigicm91bmQiLCAwLCBqc19zaXplX2Z1bmNzLCBTSVpFX01FVEhPRF9ST1VORCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInRvT2JqZWN0IiwgMCwganNfc2l6ZV9mdW5jcywgU0laRV9NRVRIT0RfVE9PQkpFQ1QpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJ0b0FycmF5IiwgMCwganNfc2l6ZV9mdW5jcywgU0laRV9NRVRIT0RfVE9BUlJBWSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImZpdFdpZHRoIiwgMCwganNfc2l6ZV9mdW5jcywgU0laRV9NRVRIT0RfRklUV0lEVEgpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJmaXRIZWlnaHQiLCAwLCBqc19zaXplX2Z1bmNzLCBTSVpFX01FVEhPRF9GSVRIRUlHSFQpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJmaXRJbnNpZGUiLCAwLCBqc19zaXplX2Z1bmNzLCBTSVpFX01FVEhPRF9GSVRJTlNJREUpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJmaXRPdXRzaWRlIiwgMCwganNfc2l6ZV9mdW5jcywgU0laRV9NRVRIT0RfRklUT1VUU0lERSksCiAgICBKU19DRlVOQ19ERUYoInRvU3RyaW5nIiwgMCwganNfc2l6ZV90b19zdHJpbmcpLAogICAgSlNfQ0ZVTkNfREVGKCJ0b1NvdXJjZSIsIDAsIGpzX3NpemVfdG9fc291cmNlKSwKICAgIEpTX0NGVU5DX0RFRigiYWRkIiwgMSwganNfc2l6ZV9hZGQpLAogICAgSlNfQ0ZVTkNfREVGKCJzdWIiLCAxLCBqc19zaXplX3N1YiksCiAgICBKU19DRlVOQ19ERUYoIm11bCIsIDEsIGpzX3NpemVfbXVsKSwKICAgIEpTX0NGVU5DX0RFRigiZGl2IiwgMSwganNfc2l6ZV9kaXYpLAogICAgSlNfQUxJQVNfREVGKCJ2YWx1ZXMiLCAidG9BcnJheSIpLAogICAgSlNfQ0ZVTkNfREVGKCJbU3ltYm9sLml0ZXJhdG9yXSIsIDAsIGpzX3NpemVfc3ltYm9sX2l0ZXJhdG9yKSwKICAgIEpTX1BST1BfU1RSSU5HX0RFRigiW1N5bWJvbC50b1N0cmluZ1RhZ10iLCAiU2l6ZSIsIEpTX1BST1BfQ09ORklHVVJBQkxFKSwKfTsKCmNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IGpzX3NpemVfc3RhdGljX2Z1bmNzW10gPSB7SlNfQ0ZVTkNfREVGKCJmcm9tIiwgMSwganNfc2l6ZV9mcm9tKX07CgppbnQKanNfc2l6ZV9pbml0KEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewoKICBpZihqc19zaXplX2NsYXNzX2lkID09IDApIHsKICAgIC8qIGNyZWF0ZSB0aGUgU2l6ZSBjbGFzcyAqLwogICAgSlNfTmV3Q2xhc3NJRCgmanNfc2l6ZV9jbGFzc19pZCk7CiAgICBKU19OZXdDbGFzcyhKU19HZXRSdW50aW1lKGN0eCksIGpzX3NpemVfY2xhc3NfaWQsICZqc19zaXplX2NsYXNzKTsKCiAgICBzaXplX3Byb3RvID0gSlNfTmV3T2JqZWN0KGN0eCk7CiAgICBKU19TZXRQcm9wZXJ0eUZ1bmN0aW9uTGlzdChjdHgsIHNpemVfcHJvdG8sIGpzX3NpemVfcHJvdG9fZnVuY3MsIGNvdW50b2YoanNfc2l6ZV9wcm90b19mdW5jcykpOwoKICAgIEpTX1NldENsYXNzUHJvdG8oY3R4LCBqc19zaXplX2NsYXNzX2lkLCBzaXplX3Byb3RvKTsKCiAgICBzaXplX2NsYXNzID0gSlNfTmV3Q0Z1bmN0aW9uMihjdHgsIGpzX3NpemVfY3RvciwgIlNpemUiLCAwLCBKU19DRlVOQ19jb25zdHJ1Y3RvciwgMCk7CiAgICAvKiBzZXQgcHJvdG8uY29uc3RydWN0b3IgYW5kIGN0b3IucHJvdG90eXBlICovCiAgICBKU19TZXRDb25zdHJ1Y3RvcihjdHgsIHNpemVfY2xhc3MsIHNpemVfcHJvdG8pOwogICAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBzaXplX2NsYXNzLCBqc19zaXplX3N0YXRpY19mdW5jcywgY291bnRvZihqc19zaXplX3N0YXRpY19mdW5jcykpOwoKICAgIGpzX3NldF9pbnNwZWN0X21ldGhvZChjdHgsIHNpemVfcHJvdG8sIGpzX3NpemVfaW5zcGVjdCk7CiAgfQoKICBpZihtKQogICAgSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgIlNpemUiLCBzaXplX2NsYXNzKTsKICAvKmVsc2UKICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgKnN0YXRpY19jYXN0PEpTVmFsdWUqPihtKSwgbmFtZSwgc2l6ZV9jbGFzcyk7Ki8KICByZXR1cm4gMDsKfQoKZXh0ZXJuICJDIiBWSVNJQkxFIHZvaWQKanNfc2l6ZV9leHBvcnQoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CiAgSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgIlNpemUiKTsKfQoKdm9pZApqc19zaXplX2NvbnN0cnVjdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlIHBhcmVudCwgY29uc3QgY2hhciogbmFtZSkgewogIGlmKEpTX0lzVW5kZWZpbmVkKHNpemVfY2xhc3MpKQogICAganNfc2l6ZV9pbml0KGN0eCwgMCk7CgogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcGFyZW50LCBuYW1lID8gbmFtZSA6ICJTaXplIiwgc2l6ZV9jbGFzcyk7Cn0KCiNpZmRlZiBKU19TSVpFX01PRFVMRQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIFZJU0lCTEUganNfaW5pdF9tb2R1bGUKI2Vsc2UKI2RlZmluZSBKU19JTklUX01PRFVMRSBqc19pbml0X21vZHVsZV9zaXplCiNlbmRpZgoKZXh0ZXJuICJDIiBKU01vZHVsZURlZioKSlNfSU5JVF9NT0RVTEUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG1vZHVsZV9uYW1lKSB7CiAgSlNNb2R1bGVEZWYqIG07CiAgbSA9IEpTX05ld0NNb2R1bGUoY3R4LCBtb2R1bGVfbmFtZSwgJmpzX3NpemVfaW5pdCk7CiAgaWYoIW0pCiAgICByZXR1cm4gTlVMTDsKICBqc19zaXplX2V4cG9ydChjdHgsIG0pOwogIHJldHVybiBtOwp9AAAAAAAAAABVOgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABFMwAAAAAAAFwzAAAAAAAAAAAAAAAA8L8"
				],
				[
					2,
					1,
					"revert",
					null,
					"AwAAAAAAAAAAAAAAAAAAAAAAAABWOgAAI2luY2x1ZGUgImpzYmluZGluZ3MuaHBwIgojaW5jbHVkZSAianNfc2l6ZS5ocHAiCiNpbmNsdWRlICJqc19hcnJheS5ocHAiCiNpbmNsdWRlICJqc19hbGxvYy5ocHAiCiNpbmNsdWRlICJ1dGlsLmhwcCIKCmVudW0ganNfc2l6ZV9maXRfdCB7IEpTX1NJWkVfRklUX1dJRFRIID0gMSwgSlNfU0laRV9GSVRfSEVJR0hUID0gMiwgSlNfU0laRV9GSVRfSU5TSURFLCBKU19TSVpFX0ZJVF9PVVRTSURFIH07CmVudW0geyBTSVpFX1BST1BfV0lEVEgsIFNJWkVfUFJPUF9IRUlHSFQsIFNJWkVfUFJPUF9BU1BFQ1QsIFNJWkVfUFJPUF9FTVBUWSwgU0laRV9QUk9QX0FSRUEgfTsKZW51bSB7CiAgU0laRV9NRVRIT0RfRVFVQUxTLAogIFNJWkVfTUVUSE9EX1JPVU5ELAogIFNJWkVfTUVUSE9EX1RPT0JKRUNULAogIFNJWkVfTUVUSE9EX1RPQVJSQVksCiAgU0laRV9NRVRIT0RfRklUV0lEVEgsCiAgU0laRV9NRVRIT0RfRklUSEVJR0hULAogIFNJWkVfTUVUSE9EX0ZJVElOU0lERSwKICBTSVpFX01FVEhPRF9GSVRPVVRTSURFCn07CmV4dGVybiAiQyIgewpKU1ZhbHVlIHNpemVfcHJvdG8gPSBKU19VTkRFRklORUQsIHNpemVfY2xhc3MgPSBKU19VTkRFRklORUQ7CkpTQ2xhc3NJRCBqc19zaXplX2NsYXNzX2lkID0gMDsKfQoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSBKU1NpemVEYXRhPFQ+CmpzX3NpemVfZml0KGNvbnN0IEpTU2l6ZURhdGE8VD4mIHNpemUsIFQgdG8sIGpzX3NpemVfZml0X3QgbW9kZSkgewogIEpTU2l6ZURhdGE8VD4gcmV0OwogIHN3aXRjaChtb2RlKSB7CiAgICBjYXNlIEpTX1NJWkVfRklUX1dJRFRIOiB7CiAgICAgIHJldC53aWR0aCA9IHRvOwogICAgICByZXQuaGVpZ2h0ID0gc2l6ZS5oZWlnaHQgKiAodG8gLyBzaXplLndpZHRoKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIEpTX1NJWkVfRklUX0hFSUdIVDogewogICAgICByZXQud2lkdGggPSBzaXplLndpZHRoICogKHRvIC8gc2l6ZS5oZWlnaHQpOwogICAgICByZXQuaGVpZ2h0ID0gdG87CiAgICAgIGJyZWFrOwogICAgfQogIH0KICByZXR1cm4gcmV0Owp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgSlNTaXplRGF0YTxUPgpqc19zaXplX2ZpdChjb25zdCBKU1NpemVEYXRhPFQ+JiBzaXplLCBjb25zdCBKU1NpemVEYXRhPFQ+JiB0bywganNfc2l6ZV9maXRfdCBtb2RlKSB7CiAgSlNTaXplRGF0YTxUPiByZXQ7CiAgc3dpdGNoKG1vZGUpIHsKICAgIGNhc2UgSlNfU0laRV9GSVRfSU5TSURFOgogICAgY2FzZSBKU19TSVpFX0ZJVF9PVVRTSURFOiB7CiAgICAgIHJldCA9IGpzX3NpemVfZml0KHNpemUsIHRvLCBKU19TSVpFX0ZJVF9XSURUSCk7CiAgICAgIGlmKG1vZGUgPT0gSlNfU0laRV9GSVRfSU5TSURFICYmIHJldC5oZWlnaHQgPiB0by5oZWlnaHQpCiAgICAgICAgcmV0ID0ganNfc2l6ZV9maXQoc2l6ZSwgdG8uaGVpZ2h0LCBKU19TSVpFX0ZJVF9IRUlHSFQpOwoKICAgICAgYnJlYWs7CiAgICB9CiAgICBkZWZhdWx0OiByZXQgPSBqc19zaXplX2ZpdChzaXplLCBtb2RlID09IEpTX1NJWkVfRklUX1dJRFRIID8gdG8ud2lkdGggOiB0by5oZWlnaHQsIG1vZGUpOyBicmVhazsKICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfc2l6ZV9jdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgbmV3X3RhcmdldCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTU2l6ZURhdGE8ZG91YmxlPiBzaXplLCAqczsKICBKU1ZhbHVlIG9iaiA9IEpTX1VOREVGSU5FRDsKICBKU1ZhbHVlIHByb3RvOwoKICBzID0ganNfYWxsb2NhdGU8SlNTaXplRGF0YTxkb3VibGU+PihjdHgpOwogIGlmKCFzKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICBuZXcocykgSlNTaXplRGF0YTxkb3VibGU+KCk7CgogIGlmKGFyZ2MgPiAwKSB7CiAgICBpZihqc19zaXplX3JlYWQoY3R4LCBhcmd2WzBdLCAmc2l6ZSkpIHsKICAgICAgKnMgPSBzaXplOwogICAgfSBlbHNlIHsKICAgICAgaWYoSlNfVG9GbG9hdDY0KGN0eCwgJnNpemUud2lkdGgsIGFyZ3ZbMF0pKQogICAgICAgIGdvdG8gZmFpbDsKICAgICAgaWYoYXJnYyA8IDIgfHwgSlNfVG9GbG9hdDY0KGN0eCwgJnNpemUuaGVpZ2h0LCBhcmd2WzFdKSkKICAgICAgICBnb3RvIGZhaWw7CgogICAgICAqcyA9IHNpemU7CiAgICB9CiAgfQoKICAvKiB1c2luZyBuZXdfdGFyZ2V0IHRvIGdldCB0aGUgcHJvdG90eXBlIGlzIG5lY2Vzc2FyeSB3aGVuIHRoZQogICAgIGNsYXNzIGlzIGV4dGVuZGVkLiAqLwogIHByb3RvID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBuZXdfdGFyZ2V0LCAicHJvdG90eXBlIik7CiAgaWYoSlNfSXNFeGNlcHRpb24ocHJvdG8pKQogICAgZ290byBmYWlsOwogIG9iaiA9IEpTX05ld09iamVjdFByb3RvQ2xhc3MoY3R4LCBwcm90bywganNfc2l6ZV9jbGFzc19pZCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcHJvdG8pOwogIGlmKEpTX0lzRXhjZXB0aW9uKG9iaikpCiAgICBnb3RvIGZhaWw7CiAgSlNfU2V0T3BhcXVlKG9iaiwgcyk7CiAgcmV0dXJuIG9iajsKZmFpbDoKICBqc19kZWFsbG9jYXRlKGN0eCwgcyk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpWSVNJQkxFIEpTU2l6ZURhdGE8ZG91YmxlPioKanNfc2l6ZV9kYXRhKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsKSB7CiAgcmV0dXJuIHN0YXRpY19jYXN0PEpTU2l6ZURhdGE8ZG91YmxlPio+KEpTX0dldE9wYXF1ZSh2YWwsIGpzX3NpemVfY2xhc3NfaWQpKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfc2l6ZV9nZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IG1hZ2ljKSB7CiAgSlNTaXplRGF0YTxkb3VibGU+KiBzOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBpZighKHMgPSBqc19zaXplX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIFNJWkVfUFJPUF9XSURUSDogewogICAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgcy0+d2lkdGgpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU0laRV9QUk9QX0hFSUdIVDogewogICAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgcy0+aGVpZ2h0KTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNJWkVfUFJPUF9BU1BFQ1Q6IHsKICAgICAgcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsIHMtPmFzcGVjdFJhdGlvKCkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU0laRV9QUk9QX0VNUFRZOiB7CiAgICAgIHJldCA9IEpTX05ld0Jvb2woY3R4LCBzLT5lbXB0eSgpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNJWkVfUFJPUF9BUkVBOiB7CiAgICAgIHJldCA9IEpTX05ld0Zsb2F0NjQoY3R4LCBzLT5hcmVhKCkpOwogICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiByZXQ7Cn0KClZJU0lCTEUgSlNWYWx1ZQpqc19zaXplX25ldyhKU0NvbnRleHQqIGN0eCwgZG91YmxlIHcsIGRvdWJsZSBoKSB7CiAgSlNWYWx1ZSByZXQ7CiAgSlNTaXplRGF0YTxkb3VibGU+KiBzOwoKICBpZihKU19Jc1VuZGVmaW5lZChzaXplX3Byb3RvKSkKICAgIGpzX3NpemVfaW5pdChjdHgsIE5VTEwpOwoKICByZXQgPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgc2l6ZV9wcm90bywganNfc2l6ZV9jbGFzc19pZCk7CgogIHMgPSBqc19hbGxvY2F0ZTxKU1NpemVEYXRhPGRvdWJsZT4+KGN0eCk7CiAgcy0+d2lkdGggPSAvKncgPD0gREJMX0VQU0lMT04gPyAwIDoqLyB3OwogIHMtPmhlaWdodCA9IC8qaCA8PSBEQkxfRVBTSUxPTiA/IDAgOiovIGg7CgogIEpTX1NldE9wYXF1ZShyZXQsIHMpOwogIHJldHVybiByZXQ7Cn0KClZJU0lCTEUgSlNWYWx1ZQpqc19zaXplX3dyYXAoSlNDb250ZXh0KiBjdHgsIGNvbnN0IEpTU2l6ZURhdGE8ZG91YmxlPiYgc3opIHsKICByZXR1cm4ganNfc2l6ZV9uZXcoY3R4LCBzei53aWR0aCwgc3ouaGVpZ2h0KTsKfQoKc3RhdGljIEpTVmFsdWUKanNfc2l6ZV9zZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgSlNWYWx1ZUNvbnN0IHZhbCwgaW50IG1hZ2ljKSB7CiAgSlNTaXplRGF0YTxkb3VibGU+KiBzID0ganNfc2l6ZV9kYXRhKGN0eCwgdGhpc192YWwpOwogIGRvdWJsZSB2OwogIGlmKCFzKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICBpZihKU19Ub0Zsb2F0NjQoY3R4LCAmdiwgdmFsKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgaWYobWFnaWMgPT0gMCkKICAgIHMtPndpZHRoID0gdjsKICBlbHNlCiAgICBzLT5oZWlnaHQgPSB2OwogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3NpemVfdG9fc3RyaW5nKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1NpemVEYXRhPGRvdWJsZT4gc2l6ZSwgKnM7CiAgc3RkOjpvc3RyaW5nc3RyZWFtIG9zOwogIGNvbnN0IGNoYXIqIGRlbGltID0gIsOXIjsKICBpZigocyA9IGpzX3NpemVfZGF0YShjdHgsIHRoaXNfdmFsKSkgPT0gbnVsbHB0cikgewogICAganNfc2l6ZV9yZWFkKGN0eCwgdGhpc192YWwsICZzaXplKTsKICB9IGVsc2UgewogICAgc2l6ZSA9ICpzOwogIH0KCiAgaWYoYXJnYyA+IDApCiAgICBkZWxpbSA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbMF0pOwoKICBvcyA8PCBzaXplLndpZHRoIDw8IGRlbGltIDw8IHNpemUuaGVpZ2h0OwoKICByZXR1cm4gSlNfTmV3U3RyaW5nKGN0eCwgb3Muc3RyKCkuY19zdHIoKSk7Cn0Kc3RhdGljIEpTVmFsdWUKanNfc2l6ZV90b19zb3VyY2UoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTU2l6ZURhdGE8ZG91YmxlPiBzaXplLCAqczsKICBzdGQ6Om9zdHJpbmdzdHJlYW0gb3M7CiAgaWYoKHMgPSBqc19zaXplX2RhdGEoY3R4LCB0aGlzX3ZhbCkpID09IG51bGxwdHIpIHsKICAgIGpzX3NpemVfcmVhZChjdHgsIHRoaXNfdmFsLCAmc2l6ZSk7CiAgfSBlbHNlIHsKICAgIHNpemUgPSAqczsKICB9CiAgb3MgPDwgInt3aWR0aDoiIDw8IHNpemUud2lkdGggPDwgIixoZWlnaHQ6IiA8PCBzaXplLmhlaWdodCA8PCAifSI7CgogIHJldHVybiBKU19OZXdTdHJpbmcoY3R4LCBvcy5zdHIoKS5jX3N0cigpKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfc2l6ZV9pbnNwZWN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1NpemVEYXRhPGRvdWJsZT4qIHMgPSBqc19zaXplX2RhdGEoY3R4LCB0aGlzX3ZhbCk7CiAgSlNWYWx1ZSBvYmogPSBKU19OZXdPYmplY3RDbGFzcyhjdHgsIGpzX3NpemVfY2xhc3NfaWQpOwoKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAid2lkdGgiLCBKU19OZXdGbG9hdDY0KGN0eCwgcy0+d2lkdGgpLCBKU19QUk9QX0VOVU1FUkFCTEUpOwogIEpTX0RlZmluZVByb3BlcnR5VmFsdWVTdHIoY3R4LCBvYmosICJoZWlnaHQiLCBKU19OZXdGbG9hdDY0KGN0eCwgcy0+aGVpZ2h0KSwgSlNfUFJPUF9FTlVNRVJBQkxFKTsKICByZXR1cm4gb2JqOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19zaXplX2Z1bmNzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YsIGludCBtYWdpYykgewogIEpTU2l6ZURhdGE8ZG91YmxlPiBzaXplLCAqczsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoKHMgPSBqc19zaXplX2RhdGEoY3R4LCB0aGlzX3ZhbCkpID09IG51bGxwdHIpCiAgICByZXR1cm4gcmV0OwoKICBzaXplID0gKnM7CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBTSVpFX01FVEhPRF9FUVVBTFM6IHsKICAgICAgSlNTaXplRGF0YTxkb3VibGU+IG90aGVyLCAqYXJnOwogICAgICBib29sIGVxdWFscyA9IGZhbHNlOwogICAgICBpZihhcmdjID4gMCkgewogICAgICAgIGlmKChhcmcgPSBqc19zaXplX2RhdGEoY3R4LCBhcmd2WzBdKSkpIHsKICAgICAgICAgIGVxdWFscyA9IHMtPndpZHRoID09IGFyZy0+d2lkdGggJiYgcy0+aGVpZ2h0ID09IGFyZy0+aGVpZ2h0OwogICAgICAgIH0gZWxzZSBpZihqc19zaXplX3JlYWQoY3R4LCBhcmd2WzBdLCAmb3RoZXIpKSB7CiAgICAgICAgICBlcXVhbHMgPSBzLT53aWR0aCA9PSBvdGhlci53aWR0aCAmJiBzLT5oZWlnaHQgPT0gb3RoZXIuaGVpZ2h0OwogICAgICAgIH0KICAgICAgICByZXQgPSBKU19OZXdCb29sKGN0eCwgZXF1YWxzKTsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU0laRV9NRVRIT0RfUk9VTkQ6IHsKICAgICAgZG91YmxlIHdpZHRoLCBoZWlnaHQsIGY7CiAgICAgIGludDMyX3QgcHJlY2lzaW9uID0gMDsKICAgICAgaWYoYXJnYyA+IDApCiAgICAgICAgSlNfVG9JbnQzMihjdHgsICZwcmVjaXNpb24sIGFyZ3ZbMF0pOwogICAgICBmID0gc3RkOjpwb3coMTAsIHByZWNpc2lvbik7CiAgICAgIHdpZHRoID0gc3RkOjpyb3VuZChzaXplLndpZHRoICogZikgLyBmOwogICAgICBoZWlnaHQgPSBzdGQ6OnJvdW5kKHNpemUuaGVpZ2h0ICogZikgLyBmOwogICAgICByZXQgPSBqc19zaXplX25ldyhjdHgsIHdpZHRoLCBoZWlnaHQpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgU0laRV9NRVRIT0RfVE9PQkpFQ1Q6IHsKICAgICAgcmV0ID0gSlNfTmV3T2JqZWN0KGN0eCk7CgogICAgICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIHJldCwgIndpZHRoIiwgSlNfTmV3RmxvYXQ2NChjdHgsIHNpemUud2lkdGgpKTsKICAgICAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJoZWlnaHQiLCBKU19OZXdGbG9hdDY0KGN0eCwgc2l6ZS5oZWlnaHQpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFNJWkVfTUVUSE9EX1RPQVJSQVk6IHsKICAgICAgcmV0ID0gSlNfTmV3QXJyYXkoY3R4KTsKCiAgICAgIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCAwLCBKU19OZXdGbG9hdDY0KGN0eCwgc2l6ZS53aWR0aCkpOwogICAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgMSwgSlNfTmV3RmxvYXQ2NChjdHgsIHNpemUuaGVpZ2h0KSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBTSVpFX01FVEhPRF9GSVRXSURUSDoKICAgIGNhc2UgU0laRV9NRVRIT0RfRklUSEVJR0hUOgogICAgY2FzZSBTSVpFX01FVEhPRF9GSVRJTlNJREU6CiAgICBjYXNlIFNJWkVfTUVUSE9EX0ZJVE9VVFNJREU6IHsKICAgICAgSlNTaXplRGF0YTxkb3VibGU+IG90aGVyLCByZXN1bHQ7CiAgICAgIGRvdWJsZSBhcmc7CgogICAgICBqc19zaXplX2ZpdF90IGZpdF90eXBlID0ganNfc2l6ZV9maXRfdChtYWdpYyAtIDMpOwogICAgICBpZihtYWdpYyA+PSA2KSB7fQoKICAgICAgaWYoanNfc2l6ZV9yZWFkKGN0eCwgYXJndlswXSwgJm90aGVyKSkgewogICAgICAgIHJlc3VsdCA9IGpzX3NpemVfZml0KHNpemUsIG90aGVyLCBmaXRfdHlwZSk7CgogICAgICB9IGVsc2UgaWYoZml0X3R5cGUgPT0gSlNfU0laRV9GSVRfV0lEVEggfHwgZml0X3R5cGUgPT0gSlNfU0laRV9GSVRfSEVJR0hUKSB7CiAgICAgICAgSlNfVG9GbG9hdDY0KGN0eCwgJmFyZywgYXJndlswXSk7CiAgICAgICAgcmVzdWx0ID0ganNfc2l6ZV9maXQoc2l6ZSwgYXJnLCBmaXRfdHlwZSk7CiAgICAgIH0KCiAgICAgIGlmKCFyZXN1bHQuZW1wdHkoKSkKICAgICAgICByZXQgPSBqc19zaXplX25ldyhjdHgsIHJlc3VsdC53aWR0aCwgcmVzdWx0LmhlaWdodCk7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfc2l6ZV9hZGQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTU2l6ZURhdGE8ZG91YmxlPipzLCBzaXplOwoKICBpZigocyA9IGpzX3NpemVfZGF0YShjdHgsIHRoaXNfdmFsKSkgPT0gbnVsbHB0cikKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGlmKGpzX3NpemVfcmVhZChjdHgsIGFyZ3ZbMF0sICZzaXplKSkgewogICAgcy0+d2lkdGggKz0gc2l6ZS53aWR0aDsKICAgIHMtPmhlaWdodCArPSBzaXplLmhlaWdodDsKICB9IGVsc2UgaWYoYXJnYyA+PSAyICYmIEpTX0lzTnVtYmVyKGFyZ3ZbMF0pICYmIEpTX0lzTnVtYmVyKGFyZ3ZbMV0pKSB7CiAgICBkb3VibGUgd2lkdGgsIGhlaWdodDsKCiAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmd2lkdGgsIGFyZ3ZbMF0pOwogICAgSlNfVG9GbG9hdDY0KGN0eCwgJmhlaWdodCwgYXJndlsxXSk7CiAgICBzLT53aWR0aCArPSB3aWR0aDsKICAgIHMtPmhlaWdodCArPSBoZWlnaHQ7CiAgfQoKICByZXR1cm4gSlNfRHVwVmFsdWUoY3R4LCB0aGlzX3ZhbCk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3NpemVfc3ViKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1NpemVEYXRhPGRvdWJsZT4qcywgc2l6ZTsKCiAgaWYoKHMgPSBqc19zaXplX2RhdGEoY3R4LCB0aGlzX3ZhbCkpID09IG51bGxwdHIpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihqc19zaXplX3JlYWQoY3R4LCBhcmd2WzBdLCAmc2l6ZSkpIHsKICAgIHMtPndpZHRoIC09IHNpemUud2lkdGg7CiAgICBzLT5oZWlnaHQgLT0gc2l6ZS5oZWlnaHQ7CiAgfSBlbHNlIGlmKGFyZ2MgPj0gMiAmJiBKU19Jc051bWJlcihhcmd2WzBdKSAmJiBKU19Jc051bWJlcihhcmd2WzFdKSkgewogICAgZG91YmxlIHdpZHRoLCBoZWlnaHQ7CgogICAgSlNfVG9GbG9hdDY0KGN0eCwgJndpZHRoLCBhcmd2WzBdKTsKICAgIEpTX1RvRmxvYXQ2NChjdHgsICZoZWlnaHQsIGFyZ3ZbMV0pOwogICAgcy0+d2lkdGggLT0gd2lkdGg7CiAgICBzLT5oZWlnaHQgLT0gaGVpZ2h0OwogIH0KCiAgcmV0dXJuIEpTX0R1cFZhbHVlKGN0eCwgdGhpc192YWwpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19zaXplX211bChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNTaXplRGF0YTxkb3VibGU+IHNpemUsICpzID0ganNfc2l6ZV9kYXRhKGN0eCwgdGhpc192YWwpOwogIGRvdWJsZSBmYWN0b3I7CiAgSlNfVG9GbG9hdDY0KGN0eCwgJmZhY3RvciwgYXJndlswXSk7CgogIHNpemUgPSAqczsKICBzaXplLndpZHRoICo9IGZhY3RvcjsKICBzaXplLmhlaWdodCAqPSBmYWN0b3I7CgogIHJldHVybiBqc19zaXplX3dyYXAoY3R4LCBzaXplKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfc2l6ZV9kaXYoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTU2l6ZURhdGE8ZG91YmxlPiBzaXplLCBvdGhlciwgKnMsICphID0gbnVsbHB0cjsKICBKU1ZhbHVlIHJldCA9IEpTX0VYQ0VQVElPTjsKICBpZigocyA9IGpzX3NpemVfZGF0YShjdHgsIHRoaXNfdmFsKSkgIT0gbnVsbHB0cikgewogICAgc2l6ZSA9ICpzOwoKICAgIGlmKEpTX0lzTnVtYmVyKGFyZ3ZbMF0pKSB7CiAgICAgIGRvdWJsZSBkaXZpZGVyOwogICAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmZGl2aWRlciwgYXJndlswXSk7CiAgICAgIHNpemUud2lkdGggLz0gZGl2aWRlcjsKICAgICAgc2l6ZS5oZWlnaHQgLz0gZGl2aWRlcjsKICAgICAgcmV0ID0ganNfc2l6ZV93cmFwKGN0eCwgc2l6ZSk7CiAgICB9IGVsc2UgewogICAgICBpZigoYSA9IGpzX3NpemVfZGF0YShjdHgsIGFyZ3ZbMF0pKSAhPSBudWxscHRyKQogICAgICAgIG90aGVyID0gKmE7CiAgICAgIGVsc2UgewogICAgICAgIGpzX3NpemVfcmVhZChjdHgsIGFyZ3ZbMF0sICZvdGhlcik7CiAgICAgICAgYSA9ICZvdGhlcjsKICAgICAgfQogICAgICBzdGQ6OmFycmF5PGRvdWJsZSwgMj4gcmVzdWx0e3NpemUud2lkdGggLyBvdGhlci53aWR0aCwgc2l6ZS5oZWlnaHQgLyBvdGhlci5oZWlnaHR9OwogICAgICByZXQgPSBKU19OZXdBcnJheShjdHgpOwoKICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDAsIEpTX05ld0Zsb2F0NjQoY3R4LCByZXN1bHRbMF0pKTsKICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDEsIEpTX05ld0Zsb2F0NjQoY3R4LCByZXN1bHRbMV0pKTsKICAgIH0KICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTQXRvbSBpdGVyYXRvcl9zeW1ib2w7CgpzdGF0aWMgSlNWYWx1ZQpqc19zaXplX3N5bWJvbF9pdGVyYXRvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNWYWx1ZSBhcnIsIGl0ZXI7CiAgYXJyID0ganNfc2l6ZV9mdW5jcyhjdHgsIHRoaXNfdmFsLCBhcmdjLCBhcmd2LCAzKTsKCiAgaWYoaXRlcmF0b3Jfc3ltYm9sID09IDApCiAgICBpdGVyYXRvcl9zeW1ib2wgPSBqc19zeW1ib2xfYXRvbShjdHgsICJpdGVyYXRvciIpOwoKICBpZighSlNfSXNGdW5jdGlvbihjdHgsIChpdGVyID0gSlNfR2V0UHJvcGVydHkoY3R4LCBhcnIsIGl0ZXJhdG9yX3N5bWJvbCkpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgcmV0dXJuIEpTX0NhbGwoY3R4LCBpdGVyLCBhcnIsIDAsIGFyZ3YpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19zaXplX2Zyb20oSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBzaXplLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgc3RkOjphcnJheTxkb3VibGUsIDI+IGFycmF5OwogIEpTVmFsdWUgcmV0ID0gSlNfRVhDRVBUSU9OOwoKICBpZihKU19Jc1N0cmluZyhhcmd2WzBdKSkgewogICAgY29uc3QgY2hhciogc3RyID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlswXSk7CiAgICBjaGFyKiBlbmRwdHIgPSBudWxscHRyOwogICAgZm9yKHNpemVfdCBpID0gMDsgaSA8IDI7IGkrKykgewogICAgICB3aGlsZSghaXNkaWdpdCgqc3RyKSAmJiAqc3RyICE9ICctJyAmJiAqc3RyICE9ICcrJyAmJiAhKCpzdHIgPT0gJy4nICYmIGlzZGlnaXQoc3RyWzFdKSkpIHN0cisrOwogICAgICBpZigqc3RyID09ICdcMCcpCiAgICAgICAgYnJlYWs7CiAgICAgIGFycmF5W2ldID0gc3RydG9kKHN0ciwgJmVuZHB0cik7CiAgICAgIHN0ciA9IGVuZHB0cjsKICAgIH0KICB9IGVsc2UgaWYoanNfaXNfYXJyYXkoY3R4LCBhcmd2WzBdKSkgewogICAganNfYXJyYXlfdG88ZG91YmxlLCAyPihjdHgsIGFyZ3ZbMF0sIGFycmF5KTsKICB9CiAgaWYoYXJyYXlbMF0gPiAwICYmIGFycmF5WzFdID4gMCkKICAgIHJldCA9IGpzX3NpemVfbmV3KGN0eCwgYXJyYXlbMF0sIGFycmF5WzFdKTsKICByZXR1cm4gcmV0Owp9Cgp2b2lkCmpzX3NpemVfZmluYWxpemVyKEpTUnVudGltZSogcnQsIEpTVmFsdWUgdmFsKSB7CiAgSlNTaXplRGF0YTxkb3VibGU+KiBzID0gc3RhdGljX2Nhc3Q8SlNTaXplRGF0YTxkb3VibGU+Kj4oSlNfR2V0T3BhcXVlKHZhbCwganNfc2l6ZV9jbGFzc19pZCkpOwogIC8qIE5vdGU6ICdzJyBjYW4gYmUgTlVMTCBpbiBjYXNlIEpTX1NldE9wYXF1ZSgpIHdhcyBub3QgY2FsbGVkICovCiAgaWYocykKICAgIGpzX2RlYWxsb2NhdGUocnQsIHMpOwp9CgpKU0NsYXNzRGVmIGpzX3NpemVfY2xhc3MgPSB7CiAgICAuY2xhc3NfbmFtZSA9ICJTaXplIiwKICAgIC5maW5hbGl6ZXIgPSBqc19zaXplX2ZpbmFsaXplciwKfTsKCmNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IGpzX3NpemVfcHJvdG9fZnVuY3NbXSA9IHsKICAgIEpTX0NHRVRTRVRfRU5VTUVSQUJMRV9ERUYoIndpZHRoIiwganNfc2l6ZV9nZXQsIGpzX3NpemVfc2V0LCBTSVpFX1BST1BfV0lEVEgpLAogICAgSlNfQ0dFVFNFVF9FTlVNRVJBQkxFX0RFRigiaGVpZ2h0IiwganNfc2l6ZV9nZXQsIGpzX3NpemVfc2V0LCBTSVpFX1BST1BfSEVJR0hUKSwKICAgIEpTX0NHRVRTRVRfRU5VTUVSQUJMRV9ERUYoImFzcGVjdCIsIGpzX3NpemVfZ2V0LCAwLCBTSVpFX1BST1BfQVNQRUNUKSwKICAgIEpTX0NHRVRTRVRfRU5VTUVSQUJMRV9ERUYoImVtcHR5IiwganNfc2l6ZV9nZXQsIDAsIFNJWkVfUFJPUF9FTVBUWSksCiAgICBKU19DR0VUU0VUX0VOVU1FUkFCTEVfREVGKCJhcmVhIiwganNfc2l6ZV9nZXQsIDAsIFNJWkVfUFJPUF9BUkVBKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZXF1YWxzIiwgMSwganNfc2l6ZV9mdW5jcywgU0laRV9NRVRIT0RfRVFVQUxTKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigicm91bmQiLCAwLCBqc19zaXplX2Z1bmNzLCBTSVpFX01FVEhPRF9ST1VORCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInRvT2JqZWN0IiwgMCwganNfc2l6ZV9mdW5jcywgU0laRV9NRVRIT0RfVE9PQkpFQ1QpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJ0b0FycmF5IiwgMCwganNfc2l6ZV9mdW5jcywgU0laRV9NRVRIT0RfVE9BUlJBWSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImZpdFdpZHRoIiwgMCwganNfc2l6ZV9mdW5jcywgU0laRV9NRVRIT0RfRklUV0lEVEgpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJmaXRIZWlnaHQiLCAwLCBqc19zaXplX2Z1bmNzLCBTSVpFX01FVEhPRF9GSVRIRUlHSFQpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJmaXRJbnNpZGUiLCAwLCBqc19zaXplX2Z1bmNzLCBTSVpFX01FVEhPRF9GSVRJTlNJREUpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJmaXRPdXRzaWRlIiwgMCwganNfc2l6ZV9mdW5jcywgU0laRV9NRVRIT0RfRklUT1VUU0lERSksCiAgICBKU19DRlVOQ19ERUYoInRvU3RyaW5nIiwgMCwganNfc2l6ZV90b19zdHJpbmcpLAogICAgSlNfQ0ZVTkNfREVGKCJ0b1NvdXJjZSIsIDAsIGpzX3NpemVfdG9fc291cmNlKSwKICAgIEpTX0NGVU5DX0RFRigiYWRkIiwgMSwganNfc2l6ZV9hZGQpLAogICAgSlNfQ0ZVTkNfREVGKCJzdWIiLCAxLCBqc19zaXplX3N1YiksCiAgICBKU19DRlVOQ19ERUYoIm11bCIsIDEsIGpzX3NpemVfbXVsKSwKICAgIEpTX0NGVU5DX0RFRigiZGl2IiwgMSwganNfc2l6ZV9kaXYpLAogICAgSlNfQUxJQVNfREVGKCJ2YWx1ZXMiLCAidG9BcnJheSIpLAogICAgSlNfQ0ZVTkNfREVGKCJbU3ltYm9sLml0ZXJhdG9yXSIsIDAsIGpzX3NpemVfc3ltYm9sX2l0ZXJhdG9yKSwKICAgIEpTX1BST1BfU1RSSU5HX0RFRigiW1N5bWJvbC50b1N0cmluZ1RhZ10iLCAiU2l6ZSIsIEpTX1BST1BfQ09ORklHVVJBQkxFKSwKfTsKCmNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IGpzX3NpemVfc3RhdGljX2Z1bmNzW10gPSB7SlNfQ0ZVTkNfREVGKCJmcm9tIiwgMSwganNfc2l6ZV9mcm9tKX07CgppbnQKanNfc2l6ZV9pbml0KEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewoKICBpZihqc19zaXplX2NsYXNzX2lkID09IDApIHsKICAgIC8qIGNyZWF0ZSB0aGUgU2l6ZSBjbGFzcyAqLwogICAgSlNfTmV3Q2xhc3NJRCgmanNfc2l6ZV9jbGFzc19pZCk7CiAgICBKU19OZXdDbGFzcyhKU19HZXRSdW50aW1lKGN0eCksIGpzX3NpemVfY2xhc3NfaWQsICZqc19zaXplX2NsYXNzKTsKCiAgICBzaXplX3Byb3RvID0gSlNfTmV3T2JqZWN0KGN0eCk7CiAgICBKU19TZXRQcm9wZXJ0eUZ1bmN0aW9uTGlzdChjdHgsIHNpemVfcHJvdG8sIGpzX3NpemVfcHJvdG9fZnVuY3MsIGNvdW50b2YoanNfc2l6ZV9wcm90b19mdW5jcykpOwoKICAgIEpTX1NldENsYXNzUHJvdG8oY3R4LCBqc19zaXplX2NsYXNzX2lkLCBzaXplX3Byb3RvKTsKCiAgICBzaXplX2NsYXNzID0gSlNfTmV3Q0Z1bmN0aW9uMihjdHgsIGpzX3NpemVfY3RvciwgIlNpemUiLCAwLCBKU19DRlVOQ19jb25zdHJ1Y3RvciwgMCk7CiAgICAvKiBzZXQgcHJvdG8uY29uc3RydWN0b3IgYW5kIGN0b3IucHJvdG90eXBlICovCiAgICBKU19TZXRDb25zdHJ1Y3RvcihjdHgsIHNpemVfY2xhc3MsIHNpemVfcHJvdG8pOwogICAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBzaXplX2NsYXNzLCBqc19zaXplX3N0YXRpY19mdW5jcywgY291bnRvZihqc19zaXplX3N0YXRpY19mdW5jcykpOwoKICAgIGpzX3NldF9pbnNwZWN0X21ldGhvZChjdHgsIHNpemVfcHJvdG8sIGpzX3NpemVfaW5zcGVjdCk7CiAgfQoKICBpZihtKQogICAgSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgIlNpemUiLCBzaXplX2NsYXNzKTsKICAvKmVsc2UKICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgKnN0YXRpY19jYXN0PEpTVmFsdWUqPihtKSwgbmFtZSwgc2l6ZV9jbGFzcyk7Ki8KICByZXR1cm4gMDsKfQoKZXh0ZXJuICJDIiBWSVNJQkxFIHZvaWQKanNfc2l6ZV9leHBvcnQoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CiAgSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgIlNpemUiKTsKfQoKdm9pZApqc19zaXplX2NvbnN0cnVjdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlIHBhcmVudCwgY29uc3QgY2hhciogbmFtZSkgewogIGlmKEpTX0lzVW5kZWZpbmVkKHNpemVfY2xhc3MpKQogICAganNfc2l6ZV9pbml0KGN0eCwgMCk7CgogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcGFyZW50LCBuYW1lID8gbmFtZSA6ICJTaXplIiwgc2l6ZV9jbGFzcyk7Cn0KCiNpZmRlZiBKU19TSVpFX01PRFVMRQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIFZJU0lCTEUganNfaW5pdF9tb2R1bGUKI2Vsc2UKI2RlZmluZSBKU19JTklUX01PRFVMRSBqc19pbml0X21vZHVsZV9zaXplCiNlbmRpZgoKZXh0ZXJuICJDIiBKU01vZHVsZURlZioKSlNfSU5JVF9NT0RVTEUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG1vZHVsZV9uYW1lKSB7CiAgSlNNb2R1bGVEZWYqIG07CiAgbSA9IEpTX05ld0NNb2R1bGUoY3R4LCBtb2R1bGVfbmFtZSwgJmpzX3NpemVfaW5pdCk7CiAgaWYoIW0pCiAgICByZXR1cm4gTlVMTDsKICBqc19zaXplX2V4cG9ydChjdHgsIG0pOwogIHJldHVybiBtOwp9AAAAAAAAAABVOgAAAAAAAAAAAAAAAAAAAAAAAFU6AAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABFMwAAAAAAAFwzAAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"file": "js_point.cpp",
			"settings":
			{
				"buffer_size": 12526,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADuMAAAI2luY2x1ZGUgImpzYmluZGluZ3MuaHBwIgojaW5jbHVkZSAianNfcG9pbnQuaHBwIgojaW5jbHVkZSAianNfcmVjdC5ocHAiCiNpbmNsdWRlICJqc19tYXQuaHBwIgojaW5jbHVkZSAianNfYXJyYXkuaHBwIgojaW5jbHVkZSAianNfYWxsb2MuaHBwIgojaW5jbHVkZSAianNfdHlwZWRfYXJyYXkuaHBwIgojaW5jbHVkZSAiY3V0aWxzLmgiCiNpbmNsdWRlICJxdWlja2pzLmgiCgojaW5jbHVkZSA8bGlzdD4KI2luY2x1ZGUgPG9wZW5jdjIvY29yZS9jb3JlLmhwcD4KI2luY2x1ZGUgPG9wZW5jdjIvaW1ncHJvYy9pbWdwcm9jLmhwcD4KCnN0ZDo6dmVjdG9yPEpTUG9pbnREYXRhPGRvdWJsZT4qPiBwb2ludHM7CgpleHRlcm4gIkMiIHsKCkpTVmFsdWUgcG9pbnRfcHJvdG8gPSBKU19VTkRFRklORUQ7CkpTQ2xhc3NJRCBqc19wb2ludF9jbGFzc19pZCA9IDA7CgpWSVNJQkxFIEpTVmFsdWUKanNfcG9pbnRfbmV3KEpTQ29udGV4dCogY3R4LCBkb3VibGUgeCwgZG91YmxlIHkpIHsKICBKU1ZhbHVlIHJldDsKICBKU1BvaW50RGF0YTxkb3VibGU+KiBzOwoKICBpZihKU19Jc1VuZGVmaW5lZChwb2ludF9wcm90bykpCiAgICBqc19wb2ludF9pbml0KGN0eCwgTlVMTCk7CgogIHJldCA9IEpTX05ld09iamVjdFByb3RvQ2xhc3MoY3R4LCBwb2ludF9wcm90bywganNfcG9pbnRfY2xhc3NfaWQpOwoKICBzID0ganNfYWxsb2NhdGU8SlNQb2ludERhdGE8ZG91YmxlPj4oY3R4KTsKCiAgbmV3KHMpIEpTUG9pbnREYXRhPGRvdWJsZT4oKTsKICBzLT54ID0geCA8PSBEQkxfRVBTSUxPTiA/IDAgOiB4OwogIHMtPnkgPSB5IDw9IERCTF9FUFNJTE9OID8gMCA6IHk7CgogIHBvaW50cy5wdXNoX2JhY2socyk7CgogIEpTX1NldE9wYXF1ZShyZXQsIHMpOwogIHJldHVybiByZXQ7Cn0KClZJU0lCTEUgSlNWYWx1ZQpqc19wb2ludF93cmFwKEpTQ29udGV4dCogY3R4LCBjb25zdCBKU1BvaW50RGF0YTxkb3VibGU+JiBwb2ludCkgewogIHJldHVybiBqc19wb2ludF9uZXcoY3R4LCBwb2ludC54LCBwb2ludC55KTsKfQoKSlNWYWx1ZQpqc19wb2ludF9jbG9uZShKU0NvbnRleHQqIGN0eCwgY29uc3QgSlNQb2ludERhdGE8ZG91YmxlPiYgcG9pbnQpIHsKICByZXR1cm4ganNfcG9pbnRfbmV3KGN0eCwgcG9pbnQueCwgcG9pbnQueSk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3BvaW50X2Nyb3NzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1BvaW50RGF0YTxkb3VibGU+KiBzID0ganNfcG9pbnRfZGF0YShjdHgsIHRoaXNfdmFsKTsKICBKU1BvaW50RGF0YTxkb3VibGU+KiBvdGhlciA9IGpzX3BvaW50X2RhdGEoY3R4LCBhcmd2WzBdKTsKICBkb3VibGUgcmV0dmFsOwogIGlmKCFzIHx8ICFvdGhlcikKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgcmV0dmFsID0gcy0+Y3Jvc3MoKm90aGVyKTsKICByZXR1cm4gSlNfTmV3RmxvYXQ2NChjdHgsIHJldHZhbCk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3BvaW50X2N0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBuZXdfdGFyZ2V0LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgZG91YmxlIHgsIHk7CiAgSlNQb2ludERhdGE8ZG91YmxlPiBwb2ludDsKCiAgaWYoYXJnYyA+IDApIHsKICAgIGlmKGpzX3BvaW50X3JlYWQoY3R4LCBhcmd2WzBdLCAmcG9pbnQpKSB7CiAgICAgIHggPSBwb2ludC54OwogICAgICB5ID0gcG9pbnQueTsKICAgIH0gZWxzZSB7CiAgICAgIGlmKEpTX1RvRmxvYXQ2NChjdHgsICZ4LCBhcmd2WzBdKSkKICAgICAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogICAgICBpZihhcmdjIDwgMiB8fCBKU19Ub0Zsb2F0NjQoY3R4LCAmeSwgYXJndlsxXSkpCiAgICAgICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICAgIH0KICB9CgogIHJldHVybiBqc19wb2ludF9uZXcoY3R4LCB4LCB5KTsKfQoKVklTSUJMRSBKU1BvaW50RGF0YTxkb3VibGU+Kgpqc19wb2ludF9kYXRhKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsKSB7CiAgcmV0dXJuIHN0YXRpY19jYXN0PEpTUG9pbnREYXRhPGRvdWJsZT4qPihKU19HZXRPcGFxdWUyKGN0eCwgdmFsLCBqc19wb2ludF9jbGFzc19pZCkpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19wb2ludF9kZG90KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1BvaW50RGF0YTxkb3VibGU+KiBzID0ganNfcG9pbnRfZGF0YShjdHgsIHRoaXNfdmFsKTsKICBKU1BvaW50RGF0YTxkb3VibGU+KiBvdGhlciA9IGpzX3BvaW50X2RhdGEoY3R4LCBhcmd2WzBdKTsKICBkb3VibGUgcmV0dmFsOwogIGlmKCFzIHx8ICFvdGhlcikKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgcmV0dmFsID0gcy0+ZGRvdCgqb3RoZXIpOwogIHJldHVybiBKU19OZXdGbG9hdDY0KGN0eCwgcmV0dmFsKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfcG9pbnRfZGlmZihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNQb2ludERhdGE8ZG91YmxlPiogcyA9IGpzX3BvaW50X2RhdGEoY3R4LCB0aGlzX3ZhbCk7CiAgSlNQb2ludERhdGE8ZG91YmxlPiogb3RoZXIgPSBqc19wb2ludF9kYXRhKGN0eCwgYXJndlswXSk7CgogIEpTVmFsdWUgcmV0OwogIGlmKCFzIHx8ICFvdGhlcikKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHJldCA9IGpzX3BvaW50X25ldyhjdHgsIHMtPnggLSBvdGhlci0+eCwgcy0+eSAtIG90aGVyLT55KTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19wb2ludF9nZXRfeHkoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IG1hZ2ljKSB7CiAgSlNQb2ludERhdGE8ZG91YmxlPiogcyA9IGpzX3BvaW50X2RhdGEoY3R4LCB0aGlzX3ZhbCk7CiAgaWYoIXMpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIGlmKG1hZ2ljID09IDApCiAgICByZXR1cm4gSlNfTmV3RmxvYXQ2NChjdHgsIHMtPngpOwogIGVsc2UgaWYobWFnaWMgPT0gMSkKICAgIHJldHVybiBKU19OZXdGbG9hdDY0KGN0eCwgcy0+eSk7CiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKanNfcG9pbnRfaW5zaWRlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1BvaW50RGF0YTxkb3VibGU+KiBzID0ganNfcG9pbnRfZGF0YShjdHgsIHRoaXNfdmFsKTsKICBKU1JlY3REYXRhPGRvdWJsZT4gciA9IGpzX3JlY3RfZ2V0KGN0eCwgYXJndlswXSk7CiAgYm9vbCByZXR2YWw7CiAgaWYoIXMgLyp8fCAhciovKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgcmV0dmFsID0gcy0+aW5zaWRlKHIpOwoKICByZXR1cm4gSlNfTmV3Qm9vbChjdHgsIHJldHZhbCk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3BvaW50X25vcm0oSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTUG9pbnREYXRhPGRvdWJsZT4qIHMgPSBqc19wb2ludF9kYXRhKGN0eCwgdGhpc192YWwpOwogIGlmKCFzKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICByZXR1cm4gSlNfTmV3RmxvYXQ2NChjdHgsIHNxcnQoKGRvdWJsZSlzLT54ICogcy0+eCArIChkb3VibGUpcy0+eSAqIHMtPnkpKTsKfQoKLyoKc3RhdGljIEpTVmFsdWUKanNfcG9pbnRfbXVsKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1BvaW50RGF0YTxkb3VibGU+KiBzID0ganNfcG9pbnRfZGF0YShjdHgsIHRoaXNfdmFsKTsKICBkb3VibGUgZmFjdG9yID0gMS4wOwogIEpTX1RvRmxvYXQ2NChjdHgsICZmYWN0b3IsIGFyZ3ZbMF0pOwogIEpTVmFsdWUgcmV0OwogIGlmKCFzIHx8IGFyZ2MgPCAxKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgcmV0dXJuIGpzX3BvaW50X25ldyhjdHgsIHMtPnggKiBmYWN0b3IsIHMtPnkgKiBmYWN0b3IpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19wb2ludF9xdW90KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1BvaW50RGF0YTxkb3VibGU+KiBzID0ganNfcG9pbnRfZGF0YShjdHgsIHRoaXNfdmFsKTsKICBkb3VibGUgZGl2aXNvciA9IDEuMDsKICBKU19Ub0Zsb2F0NjQoY3R4LCAmZGl2aXNvciwgYXJndlswXSk7CiAgSlNWYWx1ZSByZXQ7CiAgaWYoIXMgfHwgYXJnYyA8IDEpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICByZXQgPSBqc19wb2ludF9uZXcoY3R4LCBzLT54IC8gZGl2aXNvciwgcy0+eSAvIGRpdmlzb3IpOwogIHJldHVybiByZXQ7Cn0qLwoKc3RhdGljIEpTVmFsdWUKanNfcG9pbnRfc2V0X3h5KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIEpTVmFsdWVDb25zdCB2YWwsIGludCBtYWdpYykgewogIEpTUG9pbnREYXRhPGRvdWJsZT4qIHMgPSBqc19wb2ludF9kYXRhKGN0eCwgdGhpc192YWwpOwogIGRvdWJsZSB2OwogIGlmKCFzKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICBpZihKU19Ub0Zsb2F0NjQoY3R4LCAmdiwgdmFsKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgaWYobWFnaWMgPT0gMCkKICAgIHMtPnggPSB2OwogIGVsc2UKICAgIHMtPnkgPSB2OwogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3BvaW50X2FkZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2LCBpbnQgbWFnaWMpIHsKICBKU1BvaW50RGF0YTxkb3VibGU+IG90aGVyLCBwb2ludCwgKnMgPSBqc19wb2ludF9kYXRhKGN0eCwgdGhpc192YWwpOwogIGRvdWJsZSB4LCB5OwoKICBpZihqc19wb2ludF9yZWFkKGN0eCwgYXJndlswXSwgJm90aGVyKSkgewogICAgeCA9IG90aGVyLng7CiAgICB5ID0gb3RoZXIueTsKICB9IGVsc2UgewogICAgSlNfVG9GbG9hdDY0KGN0eCwgJngsIGFyZ3ZbMF0pOwogICAgaWYoYXJnYyA8IDIpCiAgICAgIHkgPSB4OwogICAgZWxzZQogICAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmeSwgYXJndlsxXSk7CiAgfQoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgMDoKICAgICAgcG9pbnQueCA9IHMtPnggKyB4OwogICAgICBwb2ludC55ID0gcy0+eSArIHk7CgogICAgICBicmVhazsKICAgIGNhc2UgMToKICAgICAgcG9pbnQueCA9IHMtPnggLSB4OwogICAgICBwb2ludC55ID0gcy0+eSAtIHk7CiAgICAgIGJyZWFrOwogICAgY2FzZSAyOgogICAgICBwb2ludC54ID0gcy0+eCAqIHg7CiAgICAgIHBvaW50LnkgPSBzLT55ICogeTsKICAgICAgYnJlYWs7CiAgICBjYXNlIDM6CiAgICAgIHBvaW50LnggPSBzLT54IC8geDsKICAgICAgcG9pbnQueSA9IHMtPnkgLyB5OwogICAgICBicmVhazsKICB9CiAgcmV0dXJuIGpzX3BvaW50X3dyYXAoY3R4LCBwb2ludCk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3BvaW50X3RvX3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2LCBpbnQgbWFnaWMpIHsKICBKU1BvaW50RGF0YTxkb3VibGU+KiBzID0ganNfcG9pbnRfZGF0YShjdHgsIHRoaXNfdmFsKTsKICBzdGQ6Om9zdHJpbmdzdHJlYW0gb3M7CiAgSlNWYWx1ZSB4diwgeXY7CiAgY29uc3QgY2hhciogZGVsaW0gPSAiLCI7CiAgZG91YmxlIHggPSAtMSwgeSA9IC0xOwogIC8qIGlmKCFzKQogICAgIHJldHVybiBKU19FWENFUFRJT047Ki8KICBpZihhcmdjID4gMCkKICAgIGRlbGltID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlswXSk7CgogIHh2ID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCB0aGlzX3ZhbCwgIngiKTsKICB5diA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgdGhpc192YWwsICJ5Iik7CgogIGlmKEpTX0lzTnVtYmVyKHh2KSAmJiBKU19Jc051bWJlcih5dikpIHsKICAgIEpTX1RvRmxvYXQ2NChjdHgsICZ4LCB4dik7CiAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmeSwgeXYpOwogIH0gZWxzZSBpZihzKSB7CiAgICB4ID0gcy0+eDsKICAgIHkgPSBzLT55OwogIH0KCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIDA6IHsKICAgICAgb3MgPDwgeCA8PCAiLCIgPDwgeTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIDE6IHsKICAgICAgb3MgPDwgIlsiIDw8IHggPDwgIiwiIDw8IHkgPDwgIl0iOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgMjogewoKICAgICAgb3MgPDwgInt4OiIgPDwgeCA8PCAiLHk6IiA8PCB5IDw8ICJ9IjsKICAgICAgYnJlYWs7CiAgICB9CiAgfQogIHJldHVybiBKU19OZXdTdHJpbmcoY3R4LCBvcy5zdHIoKS5jX3N0cigpKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfcG9pbnRfdG9fYXJyYXkoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTUG9pbnREYXRhPGRvdWJsZT4qIHMgPSBqc19wb2ludF9kYXRhKGN0eCwgdGhpc192YWwpOwogIHN0ZDo6YXJyYXk8ZG91YmxlLCAyPiBhcnI7CgogIGFyclswXSA9IHMtPng7CiAgYXJyWzFdID0gcy0+eTsKCiAgcmV0dXJuIGpzX2FycmF5X2Zyb20oY3R4LCBhcnIuY2JlZ2luKCksIGFyci5jZW5kKCkpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19wb2ludF9pbnNwZWN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1BvaW50RGF0YTxkb3VibGU+KiBzID0ganNfcG9pbnRfZGF0YShjdHgsIHRoaXNfdmFsKTsKICBKU1ZhbHVlIG9iaiA9IEpTX05ld09iamVjdENsYXNzKGN0eCwganNfcG9pbnRfY2xhc3NfaWQpOwoKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAieCIsIEpTX05ld0Zsb2F0NjQoY3R4LCBzLT54KSwgSlNfUFJPUF9FTlVNRVJBQkxFKTsKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAieSIsIEpTX05ld0Zsb2F0NjQoY3R4LCBzLT55KSwgSlNfUFJPUF9FTlVNRVJBQkxFKTsKCiAgcmV0dXJuIG9iajsKfQoKc3RhdGljIEpTQXRvbSBpdGVyYXRvcl9zeW1ib2w7CgpzdGF0aWMgSlNWYWx1ZQpqc19wb2ludF9zeW1ib2xfaXRlcmF0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTVmFsdWUgYXJyLCBpdGVyOwogIGFyciA9IGpzX3BvaW50X3RvX2FycmF5KGN0eCwgdGhpc192YWwsIGFyZ2MsIGFyZ3YpOwoKICBpZihpdGVyYXRvcl9zeW1ib2wgPT0gMCkKICAgIGl0ZXJhdG9yX3N5bWJvbCA9IGpzX3N5bWJvbF9hdG9tKGN0eCwgIml0ZXJhdG9yIik7CgogIGlmKCFKU19Jc0Z1bmN0aW9uKGN0eCwgKGl0ZXIgPSBKU19HZXRQcm9wZXJ0eShjdHgsIGFyciwgaXRlcmF0b3Jfc3ltYm9sKSkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICByZXR1cm4gSlNfQ2FsbChjdHgsIGl0ZXIsIGFyciwgMCwgYXJndik7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3BvaW50X3JvdW5kKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YsIGludCBtYWdpYykgewogIEpTUG9pbnREYXRhPGRvdWJsZT4gcG9pbnQsICpzID0ganNfcG9pbnRfZGF0YShjdHgsIHRoaXNfdmFsKTsKICBkb3VibGUgeCwgeTsKICBkb3VibGUgcHJlYyA9IDE7CiAgcG9pbnQgPSAqczsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIDA6CiAgICAgIGlmKGFyZ2MgPiAwKQogICAgICAgIEpTX1RvRmxvYXQ2NChjdHgsICZwcmVjLCBhcmd2WzBdKTsKCiAgICAgIHggPSByb3VuZChzLT54IC8gcHJlYyk7CiAgICAgIHkgPSByb3VuZChzLT55IC8gcHJlYyk7CiAgICAgIHJldCA9IGpzX3BvaW50X25ldyhjdHgsIHggKiBwcmVjLCB5ICogcHJlYyk7CiAgICAgIGJyZWFrOwogICAgY2FzZSAxOgogICAgICBpZihhcmdjID4gMCkKICAgICAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmcHJlYywgYXJndlswXSk7CgogICAgICB4ID0gZmxvb3Iocy0+eCAvIHByZWMpOwogICAgICB5ID0gZmxvb3Iocy0+eSAvIHByZWMpOwogICAgICByZXQgPSBqc19wb2ludF9uZXcoY3R4LCB4ICogcHJlYywgeSAqIHByZWMpOwogICAgICBicmVhazsKICAgIGNhc2UgMjoKICAgICAgaWYoYXJnYyA+IDApCiAgICAgICAgSlNfVG9GbG9hdDY0KGN0eCwgJnByZWMsIGFyZ3ZbMF0pOwoKICAgICAgeCA9IGNlaWwocy0+eCAvIHByZWMpOwogICAgICB5ID0gY2VpbChzLT55IC8gcHJlYyk7CiAgICAgIHJldCA9IGpzX3BvaW50X25ldyhjdHgsIHggKiBwcmVjLCB5ICogcHJlYyk7CiAgICAgIGJyZWFrOwogIH0KICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19wb2ludF9mcm9tKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgcG9pbnQsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBzdGQ6OmFycmF5PGRvdWJsZSwgMj4gYXJyYXk7CiAgSlNWYWx1ZSByZXQgPSBKU19FWENFUFRJT047CgogIGlmKEpTX0lzU3RyaW5nKGFyZ3ZbMF0pKSB7CiAgICBjb25zdCBjaGFyKiBzdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsKICAgIGNoYXIqIGVuZHB0ciA9IG51bGxwdHI7CiAgICBmb3Ioc2l6ZV90IGkgPSAwOyBpIDwgMjsgaSsrKSB7CiAgICAgIHdoaWxlKCFpc2RpZ2l0KCpzdHIpICYmICpzdHIgIT0gJy0nICYmICpzdHIgIT0gJysnICYmICEoKnN0ciA9PSAnLicgJiYgaXNkaWdpdChzdHJbMV0pKSkgc3RyKys7CiAgICAgIGlmKCpzdHIgPT0gJ1wwJykKICAgICAgICBicmVhazsKICAgICAgYXJyYXlbaV0gPSBzdHJ0b2Qoc3RyLCAmZW5kcHRyKTsKICAgICAgc3RyID0gZW5kcHRyOwogICAgfQogIH0gZWxzZSBpZihqc19pc19hcnJheShjdHgsIGFyZ3ZbMF0pKSB7CiAgICBqc19hcnJheV90bzxkb3VibGUsIDI+KGN0eCwgYXJndlswXSwgYXJyYXkpOwogIH0KICBpZihhcnJheVswXSA+IDAgJiYgYXJyYXlbMV0gPiAwKQogICAgcmV0ID0ganNfcG9pbnRfbmV3KGN0eCwgYXJyYXlbMF0sIGFycmF5WzFdKTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgdm9pZApqc19wb2ludF9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBKU1BvaW50RGF0YTxkb3VibGU+KiBzID0gc3RhdGljX2Nhc3Q8SlNQb2ludERhdGE8ZG91YmxlPio+KEpTX0dldE9wYXF1ZSh2YWwsIGpzX3BvaW50X2NsYXNzX2lkKSk7CgogIGlmKHMgIT0gbnVsbHB0cikgewogICAganNfZGVhbGxvY2F0ZShydCwgcyk7CiAgfQoKICAvLyBKU19GcmVlVmFsdWVSVChydCwgdmFsKTsKCiAgLyogIGlmKHBvaW50cy5zaXplKCkgPT0gMCkKICAgICAgSlNfRnJlZVZhbHVlUlQocnQsIHBvaW50X3Byb3RvKTsqLwp9CgpKU1ZhbHVlIHBvaW50X2NsYXNzID0gSlNfVU5ERUZJTkVEOwoKSlNDbGFzc0RlZiBqc19wb2ludF9jbGFzcyA9IHsKICAgIC5jbGFzc19uYW1lID0gIlBvaW50IiwKICAgIC5maW5hbGl6ZXIgPSBqc19wb2ludF9maW5hbGl6ZXIsCn07Cgpjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc19wb2ludF9wcm90b19mdW5jc1tdID0gewogICAgSlNfQ0dFVFNFVF9FTlVNRVJBQkxFX0RFRigieCIsIGpzX3BvaW50X2dldF94eSwganNfcG9pbnRfc2V0X3h5LCAwKSwKICAgIEpTX0NHRVRTRVRfRU5VTUVSQUJMRV9ERUYoInkiLCBqc19wb2ludF9nZXRfeHksIGpzX3BvaW50X3NldF94eSwgMSksCiAgICBKU19DRlVOQ19ERUYoImNyb3NzIiwgMSwganNfcG9pbnRfY3Jvc3MpLAogICAgSlNfQ0ZVTkNfREVGKCJkb3QiLCAxLCBqc19wb2ludF9kZG90KSwKICAgIEpTX0NGVU5DX0RFRigiaW5zaWRlIiwgMSwganNfcG9pbnRfaW5zaWRlKSwKICAgIEpTX0NGVU5DX0RFRigiZGlmZiIsIDEsIGpzX3BvaW50X2RpZmYpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJhZGQiLCAxLCBqc19wb2ludF9hZGQsIDApLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJzdWIiLCAxLCBqc19wb2ludF9hZGQsIDEpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJtdWwiLCAxLCBqc19wb2ludF9hZGQsIDIpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJkaXYiLCAxLCBqc19wb2ludF9hZGQsIDMpLAogICAgSlNfQ0ZVTkNfREVGKCJub3JtIiwgMCwganNfcG9pbnRfbm9ybSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInJvdW5kIiwgMCwganNfcG9pbnRfcm91bmQsIDApLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJmbG9vciIsIDAsIGpzX3BvaW50X3JvdW5kLCAxKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiY2VpbCIsIDAsIGpzX3BvaW50X3JvdW5kLCAyKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigidG9TdHJpbmciLCAwLCBqc19wb2ludF90b19zdHJpbmcsIDApLAogICAgSlNfQ0ZVTkNfREVGKCJ0b0FycmF5IiwgMCwganNfcG9pbnRfdG9fYXJyYXkpLAogICAgSlNfQ0ZVTkNfREVGKCJbU3ltYm9sLml0ZXJhdG9yXSIsIDAsIGpzX3BvaW50X3N5bWJvbF9pdGVyYXRvciksCiAgICBKU19QUk9QX1NUUklOR19ERUYoIltTeW1ib2wudG9TdHJpbmdUYWddIiwgIlBvaW50IiwgSlNfUFJPUF9DT05GSUdVUkFCTEUpLAoKICAgIC8vIEpTX0NGVU5DX01BR0lDX0RFRigiW1N5bWJvbC50b1N0cmluZ1RhZ10iLCAwLCBqc19wb2ludF90b19zdHJpbmcsIDEpLAp9Owpjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc19wb2ludF9zdGF0aWNfZnVuY3NbXSA9IHtKU19DRlVOQ19ERUYoImZyb20iLCAxLCBqc19wb2ludF9mcm9tKX07CgppbnQKanNfcG9pbnRfaW5pdChKU0NvbnRleHQqIGN0eCwgSlNNb2R1bGVEZWYqIG0pIHsKCiAgaWYoanNfcG9pbnRfY2xhc3NfaWQgPT0gMCkgewogICAgLyogY3JlYXRlIHRoZSBQb2ludCBjbGFzcyAqLwogICAgSlNfTmV3Q2xhc3NJRCgmanNfcG9pbnRfY2xhc3NfaWQpOwogICAgSlNfTmV3Q2xhc3MoSlNfR2V0UnVudGltZShjdHgpLCBqc19wb2ludF9jbGFzc19pZCwgJmpzX3BvaW50X2NsYXNzKTsKCiAgICBwb2ludF9wcm90byA9IEpTX05ld09iamVjdChjdHgpOwogICAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBwb2ludF9wcm90bywganNfcG9pbnRfcHJvdG9fZnVuY3MsIGNvdW50b2YoanNfcG9pbnRfcHJvdG9fZnVuY3MpKTsKICAgIEpTX1NldENsYXNzUHJvdG8oY3R4LCBqc19wb2ludF9jbGFzc19pZCwgcG9pbnRfcHJvdG8pOwoKICAgIHBvaW50X2NsYXNzID0gSlNfTmV3Q0Z1bmN0aW9uMihjdHgsIGpzX3BvaW50X2N0b3IsICJQb2ludCIsIDAsIEpTX0NGVU5DX2NvbnN0cnVjdG9yLCAwKTsKICAgIC8qIHNldCBwcm90by5jb25zdHJ1Y3RvciBhbmQgY3Rvci5wcm90b3R5cGUgKi8KICAgIEpTX1NldENvbnN0cnVjdG9yKGN0eCwgcG9pbnRfY2xhc3MsIHBvaW50X3Byb3RvKTsKICAgIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgcG9pbnRfY2xhc3MsIGpzX3BvaW50X3N0YXRpY19mdW5jcywgY291bnRvZihqc19wb2ludF9zdGF0aWNfZnVuY3MpKTsKCiAgICBqc19zZXRfaW5zcGVjdF9tZXRob2QoY3R4LCBwb2ludF9wcm90bywganNfcG9pbnRfaW5zcGVjdCk7CiAgfQoKICBpZihtKQogICAgSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgIlBvaW50IiwgcG9pbnRfY2xhc3MpOwogIC8qIGVsc2UKICAgICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsICpzdGF0aWNfY2FzdDxKU1ZhbHVlKj4obSksIG5hbWUsIHBvaW50X2NsYXNzKTsqLwogIHJldHVybiAwOwp9Cgp2b2lkCmpzX3BvaW50X2NvbnN0cnVjdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlIHBhcmVudCwgY29uc3QgY2hhciogbmFtZSkgewogIGlmKEpTX0lzVW5kZWZpbmVkKHBvaW50X2NsYXNzKSkKICAgIGpzX3BvaW50X2luaXQoY3R4LCAwKTsKCiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBwYXJlbnQsIG5hbWUgPyBuYW1lIDogIlBvaW50IiwgcG9pbnRfY2xhc3MpOwp9CgpleHRlcm4gIkMiIFZJU0lCTEUgdm9pZApqc19wb2ludF9leHBvcnQoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CiAgSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgIlBvaW50Iik7Cn0KCiNpZiBkZWZpbmVkKEpTX1BPSU5UX01PRFVMRSkKI2RlZmluZSBKU19JTklUX01PRFVMRSBWSVNJQkxFIGpzX2luaXRfbW9kdWxlCiNlbHNlCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUganNfaW5pdF9tb2R1bGVfcG9pbnQKI2VuZGlmCgpKU01vZHVsZURlZioKSlNfSU5JVF9NT0RVTEUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG1vZHVsZV9uYW1lKSB7CiAgSlNNb2R1bGVEZWYqIG07CiAgbSA9IEpTX05ld0NNb2R1bGUoY3R4LCBtb2R1bGVfbmFtZSwgJmpzX3BvaW50X2luaXQpOwogIGlmKCFtKQogICAgcmV0dXJuIE5VTEw7CiAganNfcG9pbnRfZXhwb3J0KGN0eCwgbSk7CiAgcmV0dXJuIG07Cn0KfQAAAAAAAAAA7jAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8"
				],
				[
					2,
					1,
					"revert",
					null,
					"AwAAAAAAAAAAAAAAAAAAAAAAAADuMAAAI2luY2x1ZGUgImpzYmluZGluZ3MuaHBwIgojaW5jbHVkZSAianNfcG9pbnQuaHBwIgojaW5jbHVkZSAianNfcmVjdC5ocHAiCiNpbmNsdWRlICJqc19tYXQuaHBwIgojaW5jbHVkZSAianNfYXJyYXkuaHBwIgojaW5jbHVkZSAianNfYWxsb2MuaHBwIgojaW5jbHVkZSAianNfdHlwZWRfYXJyYXkuaHBwIgojaW5jbHVkZSAiY3V0aWxzLmgiCiNpbmNsdWRlICJxdWlja2pzLmgiCgojaW5jbHVkZSA8bGlzdD4KI2luY2x1ZGUgPG9wZW5jdjIvY29yZS9jb3JlLmhwcD4KI2luY2x1ZGUgPG9wZW5jdjIvaW1ncHJvYy9pbWdwcm9jLmhwcD4KCnN0ZDo6dmVjdG9yPEpTUG9pbnREYXRhPGRvdWJsZT4qPiBwb2ludHM7CgpleHRlcm4gIkMiIHsKCkpTVmFsdWUgcG9pbnRfcHJvdG8gPSBKU19VTkRFRklORUQ7CkpTQ2xhc3NJRCBqc19wb2ludF9jbGFzc19pZCA9IDA7CgpWSVNJQkxFIEpTVmFsdWUKanNfcG9pbnRfbmV3KEpTQ29udGV4dCogY3R4LCBkb3VibGUgeCwgZG91YmxlIHkpIHsKICBKU1ZhbHVlIHJldDsKICBKU1BvaW50RGF0YTxkb3VibGU+KiBzOwoKICBpZihKU19Jc1VuZGVmaW5lZChwb2ludF9wcm90bykpCiAgICBqc19wb2ludF9pbml0KGN0eCwgTlVMTCk7CgogIHJldCA9IEpTX05ld09iamVjdFByb3RvQ2xhc3MoY3R4LCBwb2ludF9wcm90bywganNfcG9pbnRfY2xhc3NfaWQpOwoKICBzID0ganNfYWxsb2NhdGU8SlNQb2ludERhdGE8ZG91YmxlPj4oY3R4KTsKCiAgbmV3KHMpIEpTUG9pbnREYXRhPGRvdWJsZT4oKTsKICBzLT54ID0geCA8PSBEQkxfRVBTSUxPTiA/IDAgOiB4OwogIHMtPnkgPSB5IDw9IERCTF9FUFNJTE9OID8gMCA6IHk7CgogIHBvaW50cy5wdXNoX2JhY2socyk7CgogIEpTX1NldE9wYXF1ZShyZXQsIHMpOwogIHJldHVybiByZXQ7Cn0KClZJU0lCTEUgSlNWYWx1ZQpqc19wb2ludF93cmFwKEpTQ29udGV4dCogY3R4LCBjb25zdCBKU1BvaW50RGF0YTxkb3VibGU+JiBwb2ludCkgewogIHJldHVybiBqc19wb2ludF9uZXcoY3R4LCBwb2ludC54LCBwb2ludC55KTsKfQoKSlNWYWx1ZQpqc19wb2ludF9jbG9uZShKU0NvbnRleHQqIGN0eCwgY29uc3QgSlNQb2ludERhdGE8ZG91YmxlPiYgcG9pbnQpIHsKICByZXR1cm4ganNfcG9pbnRfbmV3KGN0eCwgcG9pbnQueCwgcG9pbnQueSk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3BvaW50X2Nyb3NzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1BvaW50RGF0YTxkb3VibGU+KiBzID0ganNfcG9pbnRfZGF0YShjdHgsIHRoaXNfdmFsKTsKICBKU1BvaW50RGF0YTxkb3VibGU+KiBvdGhlciA9IGpzX3BvaW50X2RhdGEoY3R4LCBhcmd2WzBdKTsKICBkb3VibGUgcmV0dmFsOwogIGlmKCFzIHx8ICFvdGhlcikKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgcmV0dmFsID0gcy0+Y3Jvc3MoKm90aGVyKTsKICByZXR1cm4gSlNfTmV3RmxvYXQ2NChjdHgsIHJldHZhbCk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3BvaW50X2N0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBuZXdfdGFyZ2V0LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgZG91YmxlIHgsIHk7CiAgSlNQb2ludERhdGE8ZG91YmxlPiBwb2ludDsKCiAgaWYoYXJnYyA+IDApIHsKICAgIGlmKGpzX3BvaW50X3JlYWQoY3R4LCBhcmd2WzBdLCAmcG9pbnQpKSB7CiAgICAgIHggPSBwb2ludC54OwogICAgICB5ID0gcG9pbnQueTsKICAgIH0gZWxzZSB7CiAgICAgIGlmKEpTX1RvRmxvYXQ2NChjdHgsICZ4LCBhcmd2WzBdKSkKICAgICAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogICAgICBpZihhcmdjIDwgMiB8fCBKU19Ub0Zsb2F0NjQoY3R4LCAmeSwgYXJndlsxXSkpCiAgICAgICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICAgIH0KICB9CgogIHJldHVybiBqc19wb2ludF9uZXcoY3R4LCB4LCB5KTsKfQoKVklTSUJMRSBKU1BvaW50RGF0YTxkb3VibGU+Kgpqc19wb2ludF9kYXRhKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsKSB7CiAgcmV0dXJuIHN0YXRpY19jYXN0PEpTUG9pbnREYXRhPGRvdWJsZT4qPihKU19HZXRPcGFxdWUyKGN0eCwgdmFsLCBqc19wb2ludF9jbGFzc19pZCkpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19wb2ludF9kZG90KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1BvaW50RGF0YTxkb3VibGU+KiBzID0ganNfcG9pbnRfZGF0YShjdHgsIHRoaXNfdmFsKTsKICBKU1BvaW50RGF0YTxkb3VibGU+KiBvdGhlciA9IGpzX3BvaW50X2RhdGEoY3R4LCBhcmd2WzBdKTsKICBkb3VibGUgcmV0dmFsOwogIGlmKCFzIHx8ICFvdGhlcikKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgcmV0dmFsID0gcy0+ZGRvdCgqb3RoZXIpOwogIHJldHVybiBKU19OZXdGbG9hdDY0KGN0eCwgcmV0dmFsKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfcG9pbnRfZGlmZihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNQb2ludERhdGE8ZG91YmxlPiogcyA9IGpzX3BvaW50X2RhdGEoY3R4LCB0aGlzX3ZhbCk7CiAgSlNQb2ludERhdGE8ZG91YmxlPiogb3RoZXIgPSBqc19wb2ludF9kYXRhKGN0eCwgYXJndlswXSk7CgogIEpTVmFsdWUgcmV0OwogIGlmKCFzIHx8ICFvdGhlcikKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHJldCA9IGpzX3BvaW50X25ldyhjdHgsIHMtPnggLSBvdGhlci0+eCwgcy0+eSAtIG90aGVyLT55KTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19wb2ludF9nZXRfeHkoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IG1hZ2ljKSB7CiAgSlNQb2ludERhdGE8ZG91YmxlPiogcyA9IGpzX3BvaW50X2RhdGEoY3R4LCB0aGlzX3ZhbCk7CiAgaWYoIXMpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIGlmKG1hZ2ljID09IDApCiAgICByZXR1cm4gSlNfTmV3RmxvYXQ2NChjdHgsIHMtPngpOwogIGVsc2UgaWYobWFnaWMgPT0gMSkKICAgIHJldHVybiBKU19OZXdGbG9hdDY0KGN0eCwgcy0+eSk7CiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKanNfcG9pbnRfaW5zaWRlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1BvaW50RGF0YTxkb3VibGU+KiBzID0ganNfcG9pbnRfZGF0YShjdHgsIHRoaXNfdmFsKTsKICBKU1JlY3REYXRhPGRvdWJsZT4gciA9IGpzX3JlY3RfZ2V0KGN0eCwgYXJndlswXSk7CiAgYm9vbCByZXR2YWw7CiAgaWYoIXMgLyp8fCAhciovKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgcmV0dmFsID0gcy0+aW5zaWRlKHIpOwoKICByZXR1cm4gSlNfTmV3Qm9vbChjdHgsIHJldHZhbCk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3BvaW50X25vcm0oSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTUG9pbnREYXRhPGRvdWJsZT4qIHMgPSBqc19wb2ludF9kYXRhKGN0eCwgdGhpc192YWwpOwogIGlmKCFzKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICByZXR1cm4gSlNfTmV3RmxvYXQ2NChjdHgsIHNxcnQoKGRvdWJsZSlzLT54ICogcy0+eCArIChkb3VibGUpcy0+eSAqIHMtPnkpKTsKfQoKLyoKc3RhdGljIEpTVmFsdWUKanNfcG9pbnRfbXVsKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1BvaW50RGF0YTxkb3VibGU+KiBzID0ganNfcG9pbnRfZGF0YShjdHgsIHRoaXNfdmFsKTsKICBkb3VibGUgZmFjdG9yID0gMS4wOwogIEpTX1RvRmxvYXQ2NChjdHgsICZmYWN0b3IsIGFyZ3ZbMF0pOwogIEpTVmFsdWUgcmV0OwogIGlmKCFzIHx8IGFyZ2MgPCAxKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgcmV0dXJuIGpzX3BvaW50X25ldyhjdHgsIHMtPnggKiBmYWN0b3IsIHMtPnkgKiBmYWN0b3IpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19wb2ludF9xdW90KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1BvaW50RGF0YTxkb3VibGU+KiBzID0ganNfcG9pbnRfZGF0YShjdHgsIHRoaXNfdmFsKTsKICBkb3VibGUgZGl2aXNvciA9IDEuMDsKICBKU19Ub0Zsb2F0NjQoY3R4LCAmZGl2aXNvciwgYXJndlswXSk7CiAgSlNWYWx1ZSByZXQ7CiAgaWYoIXMgfHwgYXJnYyA8IDEpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICByZXQgPSBqc19wb2ludF9uZXcoY3R4LCBzLT54IC8gZGl2aXNvciwgcy0+eSAvIGRpdmlzb3IpOwogIHJldHVybiByZXQ7Cn0qLwoKc3RhdGljIEpTVmFsdWUKanNfcG9pbnRfc2V0X3h5KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIEpTVmFsdWVDb25zdCB2YWwsIGludCBtYWdpYykgewogIEpTUG9pbnREYXRhPGRvdWJsZT4qIHMgPSBqc19wb2ludF9kYXRhKGN0eCwgdGhpc192YWwpOwogIGRvdWJsZSB2OwogIGlmKCFzKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICBpZihKU19Ub0Zsb2F0NjQoY3R4LCAmdiwgdmFsKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgaWYobWFnaWMgPT0gMCkKICAgIHMtPnggPSB2OwogIGVsc2UKICAgIHMtPnkgPSB2OwogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3BvaW50X2FkZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2LCBpbnQgbWFnaWMpIHsKICBKU1BvaW50RGF0YTxkb3VibGU+IG90aGVyLCBwb2ludCwgKnMgPSBqc19wb2ludF9kYXRhKGN0eCwgdGhpc192YWwpOwogIGRvdWJsZSB4LCB5OwoKICBpZihqc19wb2ludF9yZWFkKGN0eCwgYXJndlswXSwgJm90aGVyKSkgewogICAgeCA9IG90aGVyLng7CiAgICB5ID0gb3RoZXIueTsKICB9IGVsc2UgewogICAgSlNfVG9GbG9hdDY0KGN0eCwgJngsIGFyZ3ZbMF0pOwogICAgaWYoYXJnYyA8IDIpCiAgICAgIHkgPSB4OwogICAgZWxzZQogICAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmeSwgYXJndlsxXSk7CiAgfQoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgMDoKICAgICAgcG9pbnQueCA9IHMtPnggKyB4OwogICAgICBwb2ludC55ID0gcy0+eSArIHk7CgogICAgICBicmVhazsKICAgIGNhc2UgMToKICAgICAgcG9pbnQueCA9IHMtPnggLSB4OwogICAgICBwb2ludC55ID0gcy0+eSAtIHk7CiAgICAgIGJyZWFrOwogICAgY2FzZSAyOgogICAgICBwb2ludC54ID0gcy0+eCAqIHg7CiAgICAgIHBvaW50LnkgPSBzLT55ICogeTsKICAgICAgYnJlYWs7CiAgICBjYXNlIDM6CiAgICAgIHBvaW50LnggPSBzLT54IC8geDsKICAgICAgcG9pbnQueSA9IHMtPnkgLyB5OwogICAgICBicmVhazsKICB9CiAgcmV0dXJuIGpzX3BvaW50X3dyYXAoY3R4LCBwb2ludCk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3BvaW50X3RvX3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2LCBpbnQgbWFnaWMpIHsKICBKU1BvaW50RGF0YTxkb3VibGU+KiBzID0ganNfcG9pbnRfZGF0YShjdHgsIHRoaXNfdmFsKTsKICBzdGQ6Om9zdHJpbmdzdHJlYW0gb3M7CiAgSlNWYWx1ZSB4diwgeXY7CiAgY29uc3QgY2hhciogZGVsaW0gPSAiLCI7CiAgZG91YmxlIHggPSAtMSwgeSA9IC0xOwogIC8qIGlmKCFzKQogICAgIHJldHVybiBKU19FWENFUFRJT047Ki8KICBpZihhcmdjID4gMCkKICAgIGRlbGltID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlswXSk7CgogIHh2ID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCB0aGlzX3ZhbCwgIngiKTsKICB5diA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgdGhpc192YWwsICJ5Iik7CgogIGlmKEpTX0lzTnVtYmVyKHh2KSAmJiBKU19Jc051bWJlcih5dikpIHsKICAgIEpTX1RvRmxvYXQ2NChjdHgsICZ4LCB4dik7CiAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmeSwgeXYpOwogIH0gZWxzZSBpZihzKSB7CiAgICB4ID0gcy0+eDsKICAgIHkgPSBzLT55OwogIH0KCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIDA6IHsKICAgICAgb3MgPDwgeCA8PCAiLCIgPDwgeTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIDE6IHsKICAgICAgb3MgPDwgIlsiIDw8IHggPDwgIiwiIDw8IHkgPDwgIl0iOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgMjogewoKICAgICAgb3MgPDwgInt4OiIgPDwgeCA8PCAiLHk6IiA8PCB5IDw8ICJ9IjsKICAgICAgYnJlYWs7CiAgICB9CiAgfQogIHJldHVybiBKU19OZXdTdHJpbmcoY3R4LCBvcy5zdHIoKS5jX3N0cigpKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfcG9pbnRfdG9fYXJyYXkoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTUG9pbnREYXRhPGRvdWJsZT4qIHMgPSBqc19wb2ludF9kYXRhKGN0eCwgdGhpc192YWwpOwogIHN0ZDo6YXJyYXk8ZG91YmxlLCAyPiBhcnI7CgogIGFyclswXSA9IHMtPng7CiAgYXJyWzFdID0gcy0+eTsKCiAgcmV0dXJuIGpzX2FycmF5X2Zyb20oY3R4LCBhcnIuY2JlZ2luKCksIGFyci5jZW5kKCkpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19wb2ludF9pbnNwZWN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1BvaW50RGF0YTxkb3VibGU+KiBzID0ganNfcG9pbnRfZGF0YShjdHgsIHRoaXNfdmFsKTsKICBKU1ZhbHVlIG9iaiA9IEpTX05ld09iamVjdENsYXNzKGN0eCwganNfcG9pbnRfY2xhc3NfaWQpOwoKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAieCIsIEpTX05ld0Zsb2F0NjQoY3R4LCBzLT54KSwgSlNfUFJPUF9FTlVNRVJBQkxFKTsKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAieSIsIEpTX05ld0Zsb2F0NjQoY3R4LCBzLT55KSwgSlNfUFJPUF9FTlVNRVJBQkxFKTsKCiAgcmV0dXJuIG9iajsKfQoKc3RhdGljIEpTQXRvbSBpdGVyYXRvcl9zeW1ib2w7CgpzdGF0aWMgSlNWYWx1ZQpqc19wb2ludF9zeW1ib2xfaXRlcmF0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTVmFsdWUgYXJyLCBpdGVyOwogIGFyciA9IGpzX3BvaW50X3RvX2FycmF5KGN0eCwgdGhpc192YWwsIGFyZ2MsIGFyZ3YpOwoKICBpZihpdGVyYXRvcl9zeW1ib2wgPT0gMCkKICAgIGl0ZXJhdG9yX3N5bWJvbCA9IGpzX3N5bWJvbF9hdG9tKGN0eCwgIml0ZXJhdG9yIik7CgogIGlmKCFKU19Jc0Z1bmN0aW9uKGN0eCwgKGl0ZXIgPSBKU19HZXRQcm9wZXJ0eShjdHgsIGFyciwgaXRlcmF0b3Jfc3ltYm9sKSkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICByZXR1cm4gSlNfQ2FsbChjdHgsIGl0ZXIsIGFyciwgMCwgYXJndik7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3BvaW50X3JvdW5kKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YsIGludCBtYWdpYykgewogIEpTUG9pbnREYXRhPGRvdWJsZT4gcG9pbnQsICpzID0ganNfcG9pbnRfZGF0YShjdHgsIHRoaXNfdmFsKTsKICBkb3VibGUgeCwgeTsKICBkb3VibGUgcHJlYyA9IDE7CiAgcG9pbnQgPSAqczsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIDA6CiAgICAgIGlmKGFyZ2MgPiAwKQogICAgICAgIEpTX1RvRmxvYXQ2NChjdHgsICZwcmVjLCBhcmd2WzBdKTsKCiAgICAgIHggPSByb3VuZChzLT54IC8gcHJlYyk7CiAgICAgIHkgPSByb3VuZChzLT55IC8gcHJlYyk7CiAgICAgIHJldCA9IGpzX3BvaW50X25ldyhjdHgsIHggKiBwcmVjLCB5ICogcHJlYyk7CiAgICAgIGJyZWFrOwogICAgY2FzZSAxOgogICAgICBpZihhcmdjID4gMCkKICAgICAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmcHJlYywgYXJndlswXSk7CgogICAgICB4ID0gZmxvb3Iocy0+eCAvIHByZWMpOwogICAgICB5ID0gZmxvb3Iocy0+eSAvIHByZWMpOwogICAgICByZXQgPSBqc19wb2ludF9uZXcoY3R4LCB4ICogcHJlYywgeSAqIHByZWMpOwogICAgICBicmVhazsKICAgIGNhc2UgMjoKICAgICAgaWYoYXJnYyA+IDApCiAgICAgICAgSlNfVG9GbG9hdDY0KGN0eCwgJnByZWMsIGFyZ3ZbMF0pOwoKICAgICAgeCA9IGNlaWwocy0+eCAvIHByZWMpOwogICAgICB5ID0gY2VpbChzLT55IC8gcHJlYyk7CiAgICAgIHJldCA9IGpzX3BvaW50X25ldyhjdHgsIHggKiBwcmVjLCB5ICogcHJlYyk7CiAgICAgIGJyZWFrOwogIH0KICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19wb2ludF9mcm9tKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgcG9pbnQsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBzdGQ6OmFycmF5PGRvdWJsZSwgMj4gYXJyYXk7CiAgSlNWYWx1ZSByZXQgPSBKU19FWENFUFRJT047CgogIGlmKEpTX0lzU3RyaW5nKGFyZ3ZbMF0pKSB7CiAgICBjb25zdCBjaGFyKiBzdHIgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsKICAgIGNoYXIqIGVuZHB0ciA9IG51bGxwdHI7CiAgICBmb3Ioc2l6ZV90IGkgPSAwOyBpIDwgMjsgaSsrKSB7CiAgICAgIHdoaWxlKCFpc2RpZ2l0KCpzdHIpICYmICpzdHIgIT0gJy0nICYmICpzdHIgIT0gJysnICYmICEoKnN0ciA9PSAnLicgJiYgaXNkaWdpdChzdHJbMV0pKSkgc3RyKys7CiAgICAgIGlmKCpzdHIgPT0gJ1wwJykKICAgICAgICBicmVhazsKICAgICAgYXJyYXlbaV0gPSBzdHJ0b2Qoc3RyLCAmZW5kcHRyKTsKICAgICAgc3RyID0gZW5kcHRyOwogICAgfQogIH0gZWxzZSBpZihqc19pc19hcnJheShjdHgsIGFyZ3ZbMF0pKSB7CiAgICBqc19hcnJheV90bzxkb3VibGUsIDI+KGN0eCwgYXJndlswXSwgYXJyYXkpOwogIH0KICBpZihhcnJheVswXSA+IDAgJiYgYXJyYXlbMV0gPiAwKQogICAgcmV0ID0ganNfcG9pbnRfbmV3KGN0eCwgYXJyYXlbMF0sIGFycmF5WzFdKTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgdm9pZApqc19wb2ludF9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBKU1BvaW50RGF0YTxkb3VibGU+KiBzID0gc3RhdGljX2Nhc3Q8SlNQb2ludERhdGE8ZG91YmxlPio+KEpTX0dldE9wYXF1ZSh2YWwsIGpzX3BvaW50X2NsYXNzX2lkKSk7CgogIGlmKHMgIT0gbnVsbHB0cikgewogICAganNfZGVhbGxvY2F0ZShydCwgcyk7CiAgfQoKICAvLyBKU19GcmVlVmFsdWVSVChydCwgdmFsKTsKCiAgLyogIGlmKHBvaW50cy5zaXplKCkgPT0gMCkKICAgICAgSlNfRnJlZVZhbHVlUlQocnQsIHBvaW50X3Byb3RvKTsqLwp9CgpKU1ZhbHVlIHBvaW50X2NsYXNzID0gSlNfVU5ERUZJTkVEOwoKSlNDbGFzc0RlZiBqc19wb2ludF9jbGFzcyA9IHsKICAgIC5jbGFzc19uYW1lID0gIlBvaW50IiwKICAgIC5maW5hbGl6ZXIgPSBqc19wb2ludF9maW5hbGl6ZXIsCn07Cgpjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc19wb2ludF9wcm90b19mdW5jc1tdID0gewogICAgSlNfQ0dFVFNFVF9FTlVNRVJBQkxFX0RFRigieCIsIGpzX3BvaW50X2dldF94eSwganNfcG9pbnRfc2V0X3h5LCAwKSwKICAgIEpTX0NHRVRTRVRfRU5VTUVSQUJMRV9ERUYoInkiLCBqc19wb2ludF9nZXRfeHksIGpzX3BvaW50X3NldF94eSwgMSksCiAgICBKU19DRlVOQ19ERUYoImNyb3NzIiwgMSwganNfcG9pbnRfY3Jvc3MpLAogICAgSlNfQ0ZVTkNfREVGKCJkb3QiLCAxLCBqc19wb2ludF9kZG90KSwKICAgIEpTX0NGVU5DX0RFRigiaW5zaWRlIiwgMSwganNfcG9pbnRfaW5zaWRlKSwKICAgIEpTX0NGVU5DX0RFRigiZGlmZiIsIDEsIGpzX3BvaW50X2RpZmYpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJhZGQiLCAxLCBqc19wb2ludF9hZGQsIDApLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJzdWIiLCAxLCBqc19wb2ludF9hZGQsIDEpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJtdWwiLCAxLCBqc19wb2ludF9hZGQsIDIpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJkaXYiLCAxLCBqc19wb2ludF9hZGQsIDMpLAogICAgSlNfQ0ZVTkNfREVGKCJub3JtIiwgMCwganNfcG9pbnRfbm9ybSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInJvdW5kIiwgMCwganNfcG9pbnRfcm91bmQsIDApLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJmbG9vciIsIDAsIGpzX3BvaW50X3JvdW5kLCAxKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiY2VpbCIsIDAsIGpzX3BvaW50X3JvdW5kLCAyKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigidG9TdHJpbmciLCAwLCBqc19wb2ludF90b19zdHJpbmcsIDApLAogICAgSlNfQ0ZVTkNfREVGKCJ0b0FycmF5IiwgMCwganNfcG9pbnRfdG9fYXJyYXkpLAogICAgSlNfQ0ZVTkNfREVGKCJbU3ltYm9sLml0ZXJhdG9yXSIsIDAsIGpzX3BvaW50X3N5bWJvbF9pdGVyYXRvciksCiAgICBKU19QUk9QX1NUUklOR19ERUYoIltTeW1ib2wudG9TdHJpbmdUYWddIiwgIlBvaW50IiwgSlNfUFJPUF9DT05GSUdVUkFCTEUpLAoKICAgIC8vIEpTX0NGVU5DX01BR0lDX0RFRigiW1N5bWJvbC50b1N0cmluZ1RhZ10iLCAwLCBqc19wb2ludF90b19zdHJpbmcsIDEpLAp9Owpjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc19wb2ludF9zdGF0aWNfZnVuY3NbXSA9IHtKU19DRlVOQ19ERUYoImZyb20iLCAxLCBqc19wb2ludF9mcm9tKX07CgppbnQKanNfcG9pbnRfaW5pdChKU0NvbnRleHQqIGN0eCwgSlNNb2R1bGVEZWYqIG0pIHsKCiAgaWYoanNfcG9pbnRfY2xhc3NfaWQgPT0gMCkgewogICAgLyogY3JlYXRlIHRoZSBQb2ludCBjbGFzcyAqLwogICAgSlNfTmV3Q2xhc3NJRCgmanNfcG9pbnRfY2xhc3NfaWQpOwogICAgSlNfTmV3Q2xhc3MoSlNfR2V0UnVudGltZShjdHgpLCBqc19wb2ludF9jbGFzc19pZCwgJmpzX3BvaW50X2NsYXNzKTsKCiAgICBwb2ludF9wcm90byA9IEpTX05ld09iamVjdChjdHgpOwogICAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBwb2ludF9wcm90bywganNfcG9pbnRfcHJvdG9fZnVuY3MsIGNvdW50b2YoanNfcG9pbnRfcHJvdG9fZnVuY3MpKTsKICAgIEpTX1NldENsYXNzUHJvdG8oY3R4LCBqc19wb2ludF9jbGFzc19pZCwgcG9pbnRfcHJvdG8pOwoKICAgIHBvaW50X2NsYXNzID0gSlNfTmV3Q0Z1bmN0aW9uMihjdHgsIGpzX3BvaW50X2N0b3IsICJQb2ludCIsIDAsIEpTX0NGVU5DX2NvbnN0cnVjdG9yLCAwKTsKICAgIC8qIHNldCBwcm90by5jb25zdHJ1Y3RvciBhbmQgY3Rvci5wcm90b3R5cGUgKi8KICAgIEpTX1NldENvbnN0cnVjdG9yKGN0eCwgcG9pbnRfY2xhc3MsIHBvaW50X3Byb3RvKTsKICAgIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgcG9pbnRfY2xhc3MsIGpzX3BvaW50X3N0YXRpY19mdW5jcywgY291bnRvZihqc19wb2ludF9zdGF0aWNfZnVuY3MpKTsKCiAgICBqc19zZXRfaW5zcGVjdF9tZXRob2QoY3R4LCBwb2ludF9wcm90bywganNfcG9pbnRfaW5zcGVjdCk7CiAgfQoKICBpZihtKQogICAgSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgIlBvaW50IiwgcG9pbnRfY2xhc3MpOwogIC8qIGVsc2UKICAgICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsICpzdGF0aWNfY2FzdDxKU1ZhbHVlKj4obSksIG5hbWUsIHBvaW50X2NsYXNzKTsqLwogIHJldHVybiAwOwp9Cgp2b2lkCmpzX3BvaW50X2NvbnN0cnVjdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlIHBhcmVudCwgY29uc3QgY2hhciogbmFtZSkgewogIGlmKEpTX0lzVW5kZWZpbmVkKHBvaW50X2NsYXNzKSkKICAgIGpzX3BvaW50X2luaXQoY3R4LCAwKTsKCiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBwYXJlbnQsIG5hbWUgPyBuYW1lIDogIlBvaW50IiwgcG9pbnRfY2xhc3MpOwp9CgpleHRlcm4gIkMiIFZJU0lCTEUgdm9pZApqc19wb2ludF9leHBvcnQoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CiAgSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgIlBvaW50Iik7Cn0KCiNpZiBkZWZpbmVkKEpTX1BPSU5UX01PRFVMRSkKI2RlZmluZSBKU19JTklUX01PRFVMRSBWSVNJQkxFIGpzX2luaXRfbW9kdWxlCiNlbHNlCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUganNfaW5pdF9tb2R1bGVfcG9pbnQKI2VuZGlmCgpKU01vZHVsZURlZioKSlNfSU5JVF9NT0RVTEUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG1vZHVsZV9uYW1lKSB7CiAgSlNNb2R1bGVEZWYqIG07CiAgbSA9IEpTX05ld0NNb2R1bGUoY3R4LCBtb2R1bGVfbmFtZSwgJmpzX3BvaW50X2luaXQpOwogIGlmKCFtKQogICAgcmV0dXJuIE5VTEw7CiAganNfcG9pbnRfZXhwb3J0KGN0eCwgbSk7CiAgcmV0dXJuIG07Cn0KfQAAAAAAAAAA7jAAAAAAAAAAAAAAAAAAAAAAAADuMAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"file": "js_cv.cpp",
			"settings":
			{
				"buffer_size": 84703,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					13,
					1,
					"revert",
					null,
					"AwAAAAAAAAAAAAAAAAAAAAAAAADfSgEAI2luY2x1ZGUgImpzYmluZGluZ3MuaHBwIgojaW5jbHVkZSAianNfc2l6ZS5ocHAiCiNpbmNsdWRlICJqc19wb2ludC5ocHAiCiNpbmNsdWRlICJqc19yZWN0LmhwcCIKI2luY2x1ZGUgImpzX3VtYXQuaHBwIgojaW5jbHVkZSAianNfY29udG91ci5ocHAiCiNpbmNsdWRlICJqc19hcnJheS5ocHAiCiNpbmNsdWRlICJqc19hbGxvYy5ocHAiCiNpbmNsdWRlICJqc190eXBlZF9hcnJheS5ocHAiCiNpbmNsdWRlICJqc19jdi5ocHAiCiNpbmNsdWRlICJnZW9tZXRyeS5ocHAiCiNpbmNsdWRlICJza2VsZXRvbml6YXRpb24uaHBwIgojaW5jbHVkZSAicGl4ZWxfbmVpZ2hib3Job29kLmhwcCIKI2luY2x1ZGUgInBuZ193cml0ZS5ocHAiCiNpbmNsdWRlICJwYWxldHRlLmhwcCIKI2luY2x1ZGUgInV0aWwuaHBwIgojaW5jbHVkZSAiY3V0aWxzLmgiCgojaW5jbHVkZSA8YXJyYXk+CiNpbmNsdWRlIDxjYXNzZXJ0PgojaW5jbHVkZSA8b3BlbmN2Mi9pbWdjb2RlY3MuaHBwPgojaW5jbHVkZSA8b3BlbmN2Mi9pbWdwcm9jLmhwcD4KI2luY2x1ZGUgPG9wZW5jdjIvaGlnaGd1aS5ocHA+CgojZGVmaW5lIEpTX0NWX0NPTlNUQU5UKG5hbWUpIEpTX1BST1BfSU5UMzJfREVGKCNuYW1lLCBjdjo6bmFtZSwgMCkKCmVudW0geyBESVNQTEFZX09WRVJMQVkgfTsKCnN0YXRpYyBzdGQ6OnZlY3Rvcjxjdjo6U3RyaW5nPiB3aW5kb3dfbGlzdDsKCnN0YXRpYyBKU1ZhbHVlCmpzX2N2X2JsdXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIGN2OjpNYXQqIGltYWdlOwogIEpTU2l6ZURhdGE8aW50PiBzaXplOwogIEpTUG9pbnREYXRhPGludD4gYW5jaG9yID0gey0xLCAtMX07CiAgZG91YmxlIHNpZ21hWCwgc2lnbWFZID0gMDsKICBKU0lucHV0T3V0cHV0QXJyYXkgaW5wdXQsIG91dHB1dDsKICBpbnQzMl90IGJvcmRlclR5cGUgPSBjdjo6Qk9SREVSX0RFRkFVTFQ7CgogIEpTVmFsdWUgcmV0OwoKICBpZihqc19pc19ub2FycmF5KChpbnB1dCA9IGpzX3VtYXRfb3JfbWF0KGN0eCwgYXJndlswXSkpKSkKICAgIHJldHVybiBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAiYXJndW1lbnQgMSBub3QgYW4gYXJyYXkhIik7CgogIGlmKGpzX2lzX25vYXJyYXkoKG91dHB1dCA9IGpzX3VtYXRfb3JfbWF0KGN0eCwgYXJndlsxXSkpKSkKICAgIHJldHVybiBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAiYXJndW1lbnQgMiBub3QgYW4gYXJyYXkhIik7CgogIGlmKGFyZ2MgPCAzKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc2l6ZSA9IGpzX3NpemVfZ2V0KGN0eCwgYXJndlsyXSk7CgogIGlmKGFyZ2MgPiAzKQogICAganNfcG9pbnRfcmVhZChjdHgsIGFyZ3ZbM10sICZhbmNob3IpOwoKICBjdjo6Ymx1cihpbnB1dCwgb3V0cHV0LCBzaXplLCBhbmNob3IpOwoKICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jdl9ib3VuZGluZ19yZWN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0lucHV0QXJyYXkgaW5wdXQ7CiAgSlNSZWN0RGF0YTxkb3VibGU+IHJlY3Q7CgogIGlucHV0ID0ganNfY3ZfaW5wdXRvdXRwdXRhcnJheShjdHgsIGFyZ3ZbMF0pOwoKICByZWN0ID0gY3Y6OmJvdW5kaW5nUmVjdChpbnB1dCk7CiAgcmV0dXJuIGpzX3JlY3Rfd3JhcChjdHgsIHJlY3QpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jdl9nYXVzc2lhbl9ibHVyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1NpemVEYXRhPGRvdWJsZT4gc2l6ZTsKICBkb3VibGUgc2lnbWFYLCBzaWdtYVkgPSAwOwogIEpTSW5wdXRPdXRwdXRBcnJheSBpbnB1dCwgb3V0cHV0OwogIGludDMyX3QgYm9yZGVyVHlwZSA9IGN2OjpCT1JERVJfREVGQVVMVDsKCiAgaW5wdXQgPSBqc191bWF0X29yX21hdChjdHgsIGFyZ3ZbMF0pOwogIG91dHB1dCA9IGpzX3VtYXRfb3JfbWF0KGN0eCwgYXJndlsxXSk7CgogIGlmKGpzX2lzX25vYXJyYXkoaW5wdXQpIHx8IGpzX2lzX25vYXJyYXkob3V0cHV0KSkKICAgIHJldHVybiBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAiYXJndW1lbnQgMSBvciBhcmd1bWVudCAyIG5vdCBhbiBhcnJheSEiKTsKCiAgc2l6ZSA9IGpzX3NpemVfZ2V0KGN0eCwgYXJndlsyXSk7CgogIEpTX1RvRmxvYXQ2NChjdHgsICZzaWdtYVgsIGFyZ3ZbM10pOwogIGlmKGFyZ2MgPj0gNSkKICAgIEpTX1RvRmxvYXQ2NChjdHgsICZzaWdtYVksIGFyZ3ZbNF0pOwogIGlmKGFyZ2MgPj0gNikKICAgIEpTX1RvSW50MzIoY3R4LCAmYm9yZGVyVHlwZSwgYXJndls1XSk7CgogIC8vIHN0ZDo6Y2VyciA8PCAiY3Y6OkdhdXNzaWFuQmx1ciBzaXplPSIgPDwgc2l6ZSA8PCAiIHNpZ21hWD0iIDw8IHNpZ21hWCA8PCAiIHNpZ21hWT0iIDw8IHNpZ21hWQogIC8vIDw8ICIgYm9yZGVyVHlwZT0iIDw8IGJvcmRlclR5cGUgPDwgc3RkOjplbmRsOwogIGN2OjpHYXVzc2lhbkJsdXIoaW5wdXQsIG91dHB1dCwgc2l6ZSwgc2lnbWFYLCBzaWdtYVksIGJvcmRlclR5cGUpOwoKICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jdl9jb3JuZXJfaGFycmlzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBjdjo6TWF0KiBpbWFnZTsKICBkb3VibGUgazsKICBKU0lucHV0T3V0cHV0QXJyYXkgaW5wdXQsIG91dHB1dDsKICBpbnQzMl90IGJsb2NrU2l6ZSwga3NpemUsIGJvcmRlclR5cGUgPSBjdjo6Qk9SREVSX0RFRkFVTFQ7CgogIGlucHV0ID0ganNfdW1hdF9vcl9tYXQoY3R4LCBhcmd2WzBdKTsKICBvdXRwdXQgPSBqc191bWF0X29yX21hdChjdHgsIGFyZ3ZbMV0pOwoKICBpZihqc19pc19ub2FycmF5KGlucHV0KSB8fCBqc19pc19ub2FycmF5KG91dHB1dCkpCiAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgImFyZ3VtZW50IDEgb3IgYXJndW1lbnQgMiBub3QgYW4gYXJyYXkhIik7CiAgSlNfVG9JbnQzMihjdHgsICZibG9ja1NpemUsIGFyZ3ZbMl0pOwogIEpTX1RvSW50MzIoY3R4LCAma3NpemUsIGFyZ3ZbM10pOwoKICBKU19Ub0Zsb2F0NjQoY3R4LCAmaywgYXJndls0XSk7CgogIGlmKGFyZ2MgPj0gNikKICAgIEpTX1RvSW50MzIoY3R4LCAmYm9yZGVyVHlwZSwgYXJndls1XSk7CgogIGN2Ojpjb3JuZXJIYXJyaXMoaW5wdXQsIG91dHB1dCwgYmxvY2tTaXplLCBrc2l6ZSwgaywgYm9yZGVyVHlwZSk7CgogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2N2X2hvdWdoX2xpbmVzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0lucHV0T3V0cHV0QXJyYXkgaW1hZ2U7CiAgSlNWYWx1ZUNvbnN0IGFycmF5OwogIGRvdWJsZSByaG8sIHRoZXRhOwogIGludDMyX3QgdGhyZXNob2xkOwogIGRvdWJsZSBzcm4gPSAwLCBzdG4gPSAwLCBtaW5fdGhldGEgPSAwLCBtYXhfdGhldGEgPSBDVl9QSTsKICBzdGQ6OnZlY3Rvcjxjdjo6VmVjMmY+IGxpbmVzOwogIHNpemVfdCBpOwoKICBkb3VibGUgYW5nbGUgPSAwLCBzY2FsZSA9IDE7CiAgY3Y6Ok1hdCBtOwoKICBKU1ZhbHVlIHJldDsKICBpZihhcmdjIDwgNSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGltYWdlID0ganNfdW1hdF9vcl9tYXQoY3R4LCBhcmd2WzBdKTsKCiAgaWYoanNfaXNfbm9hcnJheShpbWFnZSkgfHwgIWpzX2lzX2FycmF5KGN0eCwgYXJndlsxXSkpCiAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgImFyZ3VtZW50IDEgb3IgYXJndW1lbnQgMiBub3QgYW4gYXJyYXkhIik7CgogIGFycmF5ID0gYXJndlsxXTsKICBKU19Ub0Zsb2F0NjQoY3R4LCAmcmhvLCBhcmd2WzJdKTsKICBKU19Ub0Zsb2F0NjQoY3R4LCAmdGhldGEsIGFyZ3ZbM10pOwogIEpTX1RvSW50MzIoY3R4LCAmdGhyZXNob2xkLCBhcmd2WzRdKTsKCiAgaWYoYXJnYyA+PSA2KQogICAgSlNfVG9GbG9hdDY0KGN0eCwgJnNybiwgYXJndls1XSk7CiAgaWYoYXJnYyA+PSA3KQogICAgSlNfVG9GbG9hdDY0KGN0eCwgJnN0biwgYXJndls2XSk7CgogIGlmKGFyZ2MgPj0gOCkKICAgIEpTX1RvRmxvYXQ2NChjdHgsICZtaW5fdGhldGEsIGFyZ3ZbN10pOwogIGlmKGFyZ2MgPj0gOSkKICAgIEpTX1RvRmxvYXQ2NChjdHgsICZtYXhfdGhldGEsIGFyZ3ZbOF0pOwoKICBjdjo6SG91Z2hMaW5lcyhpbWFnZSwgbGluZXMsIHJobywgdGhldGEsIHRocmVzaG9sZCwgc3JuLCBzdG4sIG1pbl90aGV0YSwgbWF4X3RoZXRhKTsKCiAgaSA9IDA7CgogIGZvcihjb25zdCBjdjo6VmVjMmYmIGxpbmUgOiBsaW5lcykgewogICAgSlNWYWx1ZSB2ID0gSlNfTmV3QXJyYXkoY3R4KTsKCiAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHYsIDAsIEpTX05ld0Zsb2F0NjQoY3R4LCBsaW5lWzBdKSk7CiAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHYsIDEsIEpTX05ld0Zsb2F0NjQoY3R4LCBsaW5lWzFdKSk7CgogICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCBhcmd2WzFdLCBpKyssIHYpOwogIH0KCiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY3ZfaG91Z2hfbGluZXNfcChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNJbnB1dE91dHB1dEFycmF5IHNyYywgZHN0OwogIEpTVmFsdWVDb25zdCBhcnJheTsKICBkb3VibGUgcmhvLCB0aGV0YTsKICBpbnQzMl90IHRocmVzaG9sZDsKICBkb3VibGUgbWluTGluZUxlbmd0aCA9IDAsIG1heExpbmVHYXAgPSAwOwoKICBzdGQ6OnZlY3Rvcjxjdjo6VmVjNGk+IGxpbmVzOwogIHNpemVfdCBpOwoKICBkb3VibGUgYW5nbGUgPSAwLCBzY2FsZSA9IDE7CiAgY3Y6Ok1hdCBtOwoKICBKU1ZhbHVlIHJldDsKICBpZihhcmdjIDwgNSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHNyYyA9IGpzX3VtYXRfb3JfbWF0KGN0eCwgYXJndlswXSk7CiAgZHN0ID0ganNfY3ZfaW5wdXRvdXRwdXRhcnJheShjdHgsIGFyZ3ZbMV0pOwoKICBpZihqc19pc19ub2FycmF5KHNyYykgfHwganNfaXNfbm9hcnJheShkc3QpKQogICAgcmV0dXJuIEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJzcmMgb3IgZHN0IG5vdCBhbiBhcnJheSEiKTsKCiAgYXJyYXkgPSBhcmd2WzFdOwogIEpTX1RvRmxvYXQ2NChjdHgsICZyaG8sIGFyZ3ZbMl0pOwogIEpTX1RvRmxvYXQ2NChjdHgsICZ0aGV0YSwgYXJndlszXSk7CiAgSlNfVG9JbnQzMihjdHgsICZ0aHJlc2hvbGQsIGFyZ3ZbNF0pOwoKICBpZihhcmdjID49IDYpCiAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmbWluTGluZUxlbmd0aCwgYXJndls1XSk7CiAgaWYoYXJnYyA+PSA3KQogICAgSlNfVG9GbG9hdDY0KGN0eCwgJm1heExpbmVHYXAsIGFyZ3ZbNl0pOwoKICBjdjo6SG91Z2hMaW5lc1Aoc3JjLCBsaW5lcywgcmhvLCB0aGV0YSwgdGhyZXNob2xkLCBtaW5MaW5lTGVuZ3RoLCBtYXhMaW5lR2FwKTsKCiAgY3Y6Ok1hdChsaW5lcykuY29weVRvKGRzdCk7CiAgLyoKICAgIGkgPSAwOwogICAganNfYXJyYXlfdHJ1bmNhdGUoY3R4LCBhcnJheSwgMCk7CgogICAgZm9yKGNvbnN0IGF1dG8mIGxpbmUgOiBsaW5lcykgewogICAgICBKU1ZhbHVlIHYgPSBqc19saW5lX25ldyhjdHgsIGxpbmVbMF0sIGxpbmVbMV0sIGxpbmVbMl0sIGxpbmVbM10pOwoKICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCBhcnJheSwgaSsrLCB2KTsKICAgIH0KICAqLwogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2N2X2hvdWdoX2NpcmNsZXMoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTSW5wdXRBcnJheSBpbWFnZTsKICBKU1ZhbHVlQ29uc3QgYXJyYXk7CiAgaW50MzJfdCBtZXRob2QsIG1pblJhZGl1cyA9IDAsIG1heFJhZGl1cyA9IDA7CiAgZG91YmxlIGRwLCBtaW5EaXN0LCBwYXJhbTEgPSAxMDAsIHBhcmFtMiA9IDEwMDsKCiAgc3RkOjp2ZWN0b3I8Y3Y6OlZlYzxmbG9hdCwgND4+IGNpcmNsZXM7CiAgc2l6ZV90IGk7CgogIEpTVmFsdWUgcmV0OwogIGlmKGFyZ2MgPCA1KQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaW1hZ2UgPSBqc191bWF0X29yX21hdChjdHgsIGFyZ3ZbMF0pOwoKICBpZihqc19pc19ub2FycmF5KGltYWdlKSB8fCAhanNfaXNfYXJyYXkoY3R4LCBhcmd2WzFdKSkKICAgIHJldHVybiBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAiYXJndW1lbnQgMSBvciBhcmd1bWVudCAyIG5vdCBhbiBhcnJheSEiKTsKCiAgYXJyYXkgPSBhcmd2WzFdOwogIEpTX1RvSW50MzIoY3R4LCAmbWV0aG9kLCBhcmd2WzJdKTsKICBKU19Ub0Zsb2F0NjQoY3R4LCAmZHAsIGFyZ3ZbM10pOwogIEpTX1RvRmxvYXQ2NChjdHgsICZtaW5EaXN0LCBhcmd2WzRdKTsKCiAgaWYoYXJnYyA+PSA2KQogICAgSlNfVG9GbG9hdDY0KGN0eCwgJnBhcmFtMSwgYXJndls1XSk7CiAgaWYoYXJnYyA+PSA3KQogICAgSlNfVG9GbG9hdDY0KGN0eCwgJnBhcmFtMiwgYXJndls2XSk7CiAgaWYoYXJnYyA+PSA4KQogICAgSlNfVG9JbnQzMihjdHgsICZtaW5SYWRpdXMsIGFyZ3ZbN10pOwogIGlmKGFyZ2MgPj0gOSkKICAgIEpTX1RvSW50MzIoY3R4LCAmbWF4UmFkaXVzLCBhcmd2WzhdKTsKCiAgY3Y6OkhvdWdoQ2lyY2xlcyhpbWFnZSwgY2lyY2xlcywgbWV0aG9kLCBkcCwgbWluRGlzdCwgcGFyYW0xLCBwYXJhbTIsIG1pblJhZGl1cywgbWF4UmFkaXVzKTsKCiAgaSA9IDA7CiAganNfYXJyYXlfdHJ1bmNhdGUoY3R4LCBhcnJheSwgMCk7CgogIGZvcihhdXRvJiBjaXJjbGUgOiBjaXJjbGVzKSB7CgogICAgSlNWYWx1ZSB2ID0ganNfYXJyYXlfZnJvbShjdHgsIGJlZ2luKGNpcmNsZSksIGVuZChjaXJjbGUpKTsKCiAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGFycmF5LCBpKyssIHYpOwogIH0KCiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY3ZfY2FubnkoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTSW5wdXRPdXRwdXRBcnJheSBpbWFnZSwgZWRnZXM7CiAgZG91YmxlIHRocmVzaG9sZDEsIHRocmVzaG9sZDI7CiAgaW50MzJfdCBhcGVydHVyZVNpemUgPSAzOwogIGJvb2wgTDJncmFkaWVudCA9IGZhbHNlOwoKICBpbWFnZSA9IGpzX3VtYXRfb3JfbWF0KGN0eCwgYXJndlswXSk7CiAgZWRnZXMgPSBqc19jdl9pbnB1dG91dHB1dGFycmF5KGN0eCwgYXJndlsxXSk7CgogIGlmKGpzX2lzX25vYXJyYXkoaW1hZ2UpIHx8IGpzX2lzX25vYXJyYXkoZWRnZXMpKQogICAgcmV0dXJuIEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJhcmd1bWVudCAxIG9yIGFyZ3VtZW50IDIgbm90IGFuIGFycmF5ISIpOwoKICBKU19Ub0Zsb2F0NjQoY3R4LCAmdGhyZXNob2xkMSwgYXJndlsyXSk7CiAgSlNfVG9GbG9hdDY0KGN0eCwgJnRocmVzaG9sZDIsIGFyZ3ZbM10pOwoKICBpZihhcmdjID49IDUpCiAgICBKU19Ub0ludDMyKGN0eCwgJmFwZXJ0dXJlU2l6ZSwgYXJndls0XSk7CgogIGlmKGFyZ2MgPj0gNikKICAgIEwyZ3JhZGllbnQgPSBKU19Ub0Jvb2woY3R4LCBhcmd2WzVdKTsKCiAgLy8gc3RkOjpjZXJyIDw8ICJjdjo6Q2FubnkgdGhyZXNob2xkMT0iIDw8IHRocmVzaG9sZDEgPDwgIiB0aHJlc2hvbGQyPSIgPDwgdGhyZXNob2xkMiA8PCAiCiAgLy8gYXBlcnR1cmVTaXplPSIgPDwgYXBlcnR1cmVTaXplIDw8ICIgTDJncmFkaWVudD0iIDw8IEwyZ3JhZGllbnQgPDwgc3RkOjplbmRsOwoKICBjdjo6Q2FubnkoaW1hZ2UsIGVkZ2VzLCB0aHJlc2hvbGQxLCB0aHJlc2hvbGQyLCBhcGVydHVyZVNpemUsIEwyZ3JhZGllbnQpOwoKICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jdl9nb29kX2ZlYXR1cmVzX3RvX3RyYWNrKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBjdjo6TWF0ICppbWFnZSwgKmNvcm5lcnMsICptYXNrID0gbnVsbHB0cjsKICBpbnQzMl90IG1heENvcm5lcnMsIGJsb2NrU2l6ZSA9IDMsIGdyYWRpZW50U2l6ZTsKICBkb3VibGUgcXVhbGl0eUxldmVsLCBtaW5EaXN0YW5jZSwgayA9IDAuMDQ7CiAgYm9vbCB1c2VIYXJyaXNEZXRlY3RvciA9IGZhbHNlOwogIGludCBhcmdpbmQ7CgogIGltYWdlID0ganNfbWF0X2RhdGEoY3R4LCBhcmd2WzBdKTsKICBjb3JuZXJzID0ganNfbWF0X2RhdGEoY3R4LCBhcmd2WzFdKTsKCiAgaWYoaW1hZ2UgPT0gbnVsbHB0ciB8fCBjb3JuZXJzID09IG51bGxwdHIgfHwgaW1hZ2UtPmVtcHR5KCkpCiAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgImFyZ3VtZW50IDEgb3IgYXJndW1lbnQgMiBub3QgYW4gYXJyYXkhIik7CgogIEpTX1RvSW50MzIoY3R4LCAmbWF4Q29ybmVycywgYXJndlsyXSk7CiAgSlNfVG9GbG9hdDY0KGN0eCwgJnF1YWxpdHlMZXZlbCwgYXJndlszXSk7CiAgSlNfVG9GbG9hdDY0KGN0eCwgJm1pbkRpc3RhbmNlLCBhcmd2WzRdKTsKCiAgaWYoYXJnYyA+PSA2KQogICAgbWFzayA9IGpzX21hdF9kYXRhKGN0eCwgYXJndls1XSk7CgogIGlmKGFyZ2MgPj0gNykKICAgIEpTX1RvSW50MzIoY3R4LCAmYmxvY2tTaXplLCBhcmd2WzZdKTsKCiAgYXJnaW5kID0gNzsKCiAgaWYoYXJnYyA+IGFyZ2luZCkgewogICAgaWYoSlNfSXNOdW1iZXIoYXJndlthcmdpbmRdKSkgewogICAgICBKU19Ub0ludDMyKGN0eCwgJmdyYWRpZW50U2l6ZSwgYXJndlthcmdpbmRdKTsKICAgICAgYXJnaW5kKys7CiAgICB9CiAgfQogIGlmKGFyZ2MgPiBhcmdpbmQpIHsKICAgIHVzZUhhcnJpc0RldGVjdG9yID0gSlNfVG9Cb29sKGN0eCwgYXJndlthcmdpbmRdKTsKICAgIGFyZ2luZCsrOwogIH0KICBpZihhcmdjID4gYXJnaW5kKQogICAgSlNfVG9GbG9hdDY0KGN0eCwgJmssIGFyZ3ZbYXJnaW5kXSk7CgogIGlmKGFyZ2luZCA9PSA5KQogICAgY3Y6Omdvb2RGZWF0dXJlc1RvVHJhY2soKmltYWdlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgKmNvcm5lcnMsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhDb3JuZXJzLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVhbGl0eUxldmVsLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluRGlzdGFuY2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXNrID8gKm1hc2sgOiBjdjo6bm9BcnJheSgpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tTaXplLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnRTaXplLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlSGFycmlzRGV0ZWN0b3IsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrKTsKICBlbHNlCiAgICBjdjo6Z29vZEZlYXR1cmVzVG9UcmFjaygKICAgICAgICAqaW1hZ2UsICpjb3JuZXJzLCBtYXhDb3JuZXJzLCBxdWFsaXR5TGV2ZWwsIG1pbkRpc3RhbmNlLCBtYXNrID8gKm1hc2sgOiBjdjo6bm9BcnJheSgpLCBibG9ja1NpemUsIHVzZUhhcnJpc0RldGVjdG9yLCBrKTsKCiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY3ZfaW1yZWFkKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKCiAgY29uc3QgY2hhciogZmlsZW5hbWUgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsKCiAgY3Y6Ok1hdCBtYXQgPSBjdjo6aW1yZWFkKGZpbGVuYW1lKTsKCiAgcmV0dXJuIGpzX21hdF93cmFwKGN0eCwgbWF0KTsKfQoKc3RhdGljIEpTVmFsdWUKanNfY3ZfaW13cml0ZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CgogIGNvbnN0IGNoYXIqIGZpbGVuYW1lID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlswXSk7CiAgSlNJbnB1dE91dHB1dEFycmF5IGltYWdlID0ganNfY3ZfaW5wdXRvdXRwdXRhcnJheShjdHgsIGFyZ3ZbMV0pOwoKICBpZihpbWFnZS5lbXB0eSgpKQogICAgcmV0dXJuIEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJFbXB0eSBpbWFnZSIpOwoKICBpZihhcmdjID4gMiAmJiAvKmltYWdlLnR5cGUoKSA9PSBDVl84VUMxICYmKi8gc3RyX2VuZChmaWxlbmFtZSwgIi5wbmciKSAmJiBpbWFnZS5pc01hdCgpKSB7CiAgICBkb3VibGUgbWF4OwoKICAgIHN0ZDo6dmVjdG9yPEpTQ29sb3JEYXRhPHVpbnQ4X3Q+PiBwYWxldHRlOwoKICAgIGpzX2FycmF5X3RvKGN0eCwgYXJndlsyXSwgcGFsZXR0ZSk7CgogICAgY3Y6Om1pbk1heExvYyhpbWFnZSwgbnVsbHB0ciwgJm1heCk7CgogICAgaWYocGFsZXR0ZS5zaXplKCkgPCBzaXplX3QobWF4KSkKICAgICAgcGFsZXR0ZS5yZXNpemUoc2l6ZV90KG1heCkpOwoKICAgIHByaW50ZigicG5nKysgd3JpdGVfbWF0ICclcycgWyV6dV1cbiIsIGZpbGVuYW1lLCBwYWxldHRlLnNpemUoKSk7CgogICAgd3JpdGVfbWF0KGZpbGVuYW1lLCBpbWFnZS5nZXRNYXRSZWYoKSwgcGFsZXR0ZSk7CgogIH0gZWxzZSB7CiAgICBjdjo6aW13cml0ZShmaWxlbmFtZSwgaW1hZ2UpOwogIH0KCiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY3ZfaW1zaG93KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBjb25zdCBjaGFyKiB3aW5uYW1lID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlswXSk7CiAgSlNJbnB1dE91dHB1dEFycmF5IGltYWdlID0ganNfdW1hdF9vcl9tYXQoY3R4LCBhcmd2WzFdKTsKCiAgaWYoaW1hZ2UuZW1wdHkoKSkKICAgIHJldHVybiBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAiRW1wdHkgaW1hZ2UiKTsKICBjdjo6X0lucHV0QXJyYXkgaW5wdXRfYXJyYXkoaW1hZ2UpOwoKICAvKiAgaWYoaW5wdXRfYXJyYXkuaXNVTWF0KCkpCiAgICAgIGlucHV0X2FycmF5LmdldFVNYXQoKS5hZGRyZWYoKTsKICAgIGVsc2UgaWYoaW5wdXRfYXJyYXkuaXNNYXQoKSkKICAgICAgaW5wdXRfYXJyYXkuZ2V0TWF0KCkuYWRkcmVmKCk7Ki8KCiAgY3Y6Omltc2hvdyh3aW5uYW1lLCBpbWFnZSk7CgogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2N2X2N2dF9jb2xvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CgogIEpTSW5wdXRPdXRwdXRBcnJheSBzcmMsIGRzdDsKICBpbnQgY29kZSwgZHN0Q24gPSAwOwogIC8qaW50NjRfdCBiZWZvcmUsIGFmdGVyOwogIGJlZm9yZSA9IGN2OjpnZXRUaWNrQ291bnQoKTsqLwoKICBzcmMgPSBqc191bWF0X29yX21hdChjdHgsIGFyZ3ZbMF0pOwogIGRzdCA9IGpzX3VtYXRfb3JfbWF0KGN0eCwgYXJndlsxXSk7CgogIGlmKGpzX2lzX25vYXJyYXkoc3JjKSB8fCBqc19pc19ub2FycmF5KGRzdCkpCiAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgInNyYyBvciBkc3Qgbm90IGFuIGFycmF5ISIpOwoKICBKU19Ub0ludDMyKGN0eCwgJmNvZGUsIGFyZ3ZbMl0pOwoKICBpZihhcmdjID49IDQpCiAgICBKU19Ub0ludDMyKGN0eCwgJmRzdENuLCBhcmd2WzNdKTsKCiAgdHJ5IHsKCiAgICBjdjo6Y3Z0Q29sb3Ioc3JjLCBkc3QsIGNvZGUsIGRzdENuKTsKCiAgfSBjYXRjaChjb25zdCBjdjo6RXhjZXB0aW9uJiBlKSB7CiAgICBzdGQ6OmNlcnIgPDwgZS53aGF0KCkgPDwgc3RkOjplbmRsOwogICAgcmV0dXJuIEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJDKysgZXhjZXB0aW9uOiAlcyIsIGUud2hhdCgpKTsKICB9CgogIC8qYWZ0ZXIgPSBjdjo6Z2V0VGlja0NvdW50KCk7CiAgZG91YmxlIHQgPSBzdGF0aWNfY2FzdDxkb3VibGU+KGFmdGVyIC0gYmVmb3JlKSAvIGN2OjpnZXRUaWNrRnJlcXVlbmN5KCk7CiAgc3RkOjpjZXJyIDw8ICJjdjo6Y3Z0Q29sb3IgZHVyYXRpb24gPSAiIDw8IHQgPDwgInMiIDw8IHN0ZDo6ZW5kbDsqLwoKICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jdl9zcGxpdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CgogIGN2OjpNYXQqIHNyYzsKICBzdGQ6OnZlY3Rvcjxjdjo6TWF0PiBkc3Q7CiAgaW50IGNvZGUsIGRzdENuID0gMDsKICBpbnQzMl90IGxlbmd0aDsKCiAgc3JjID0ganNfbWF0X2RhdGEoY3R4LCBhcmd2WzBdKTsKCiAgaWYoc3JjID09IG51bGxwdHIpCiAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgInNyYyBub3QgYW4gYXJyYXkhIik7CgogIGxlbmd0aCA9IGpzX2FycmF5X2xlbmd0aChjdHgsIGFyZ3ZbMV0pOwoKICBmb3IoaW50MzJfdCBpID0gMDsgaSA8IHNyYy0+Y2hhbm5lbHMoKTsgaSsrKSB7IGRzdC5wdXNoX2JhY2soY3Y6Ok1hdChzcmMtPnNpemUoKSwgc3JjLT50eXBlKCkgJiAweDcpKTsgfQoKICAvLyBkc3QucmVzaXplKHNyYy0+Y2hhbm5lbHMoKSk7CgogIGlmKGRzdC5zaXplKCkgPj0gc3JjLT5jaGFubmVscygpKSB7CgogICAgLyogIHN0ZDo6dHJhbnNmb3JtKGpzX2JlZ2luKGN0eCwgYXJndlsxXSksIGpzX2VuZChjdHgsIGFyZ3ZbMV0pLCBzdGQ6OmJhY2tfaW5zZXJ0ZXIoZHN0KSwgW2N0eCwKICAgICAgc3JjXShjb25zdCBKU1ZhbHVlJiB2KSAtPiBjdjo6TWF0IHsgY3Y6Ok1hdCogbWF0ID0ganNfbWF0X2RhdGEoY3R4LCB2KTsgcmV0dXJuIG1hdCA9PSBudWxscHRyCiAgICAgID8gY3Y6Ok1hdDo6emVyb3Moc3JjLT5yb3dzLCBzcmMtPmNvbHMsIHNyYy0+dHlwZSgpKSA6ICptYXQ7CiAgICAgIH0pOwogICovCgogICAgY3Y6OnNwbGl0KCpzcmMsIGRzdC5kYXRhKCkpOwoKICAgIGZvcihpbnQzMl90IGkgPSAwOyBpIDwgc3JjLT5jaGFubmVscygpOyBpKyspIHsgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCBhcmd2WzFdLCBpLCBqc19tYXRfd3JhcChjdHgsIGRzdFtpXSkpOyB9CgogICAgcmV0dXJuIEpTX1VOREVGSU5FRDsKICB9CiAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKfQoKc3RhdGljIEpTVmFsdWUKanNfY3Zfbm9ybWFsaXplKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKCiAgSlNJbnB1dE91dHB1dEFycmF5IHNyYywgZHN0OwogIGRvdWJsZSBhbHBoYSA9IDEsIGJldGEgPSAwOwogIGludDMyX3Qgbm9ybV90eXBlID0gY3Y6Ok5PUk1fTDIsIGR0eXBlID0gLTE7CgogIHNyYyA9IGpzX3VtYXRfb3JfbWF0KGN0eCwgYXJndlswXSk7CiAgZHN0ID0ganNfdW1hdF9vcl9tYXQoY3R4LCBhcmd2WzFdKTsKCiAgaWYoanNfaXNfbm9hcnJheShzcmMpIHx8IGpzX2lzX25vYXJyYXkoZHN0KSkKICAgIHJldHVybiBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAic3JjIG9yIGRzdCBub3QgYW4gYXJyYXkhIik7CgogIGlmKGFyZ2MgPj0gMykKICAgIEpTX1RvRmxvYXQ2NChjdHgsICZhbHBoYSwgYXJndlsyXSk7CiAgaWYoYXJnYyA+PSA0KQogICAgSlNfVG9GbG9hdDY0KGN0eCwgJmJldGEsIGFyZ3ZbM10pOwogIGlmKGFyZ2MgPj0gNSkKICAgIEpTX1RvSW50MzIoY3R4LCAmbm9ybV90eXBlLCBhcmd2WzRdKTsKICBpZihhcmdjID49IDYpCiAgICBKU19Ub0ludDMyKGN0eCwgJmR0eXBlLCBhcmd2WzVdKTsKCiAgY3Y6Om5vcm1hbGl6ZShzcmMsIGRzdCwgYWxwaGEsIGJldGEsIG5vcm1fdHlwZSwgZHR5cGUpOwogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2N2X2FkZF93ZWlnaHRlZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNJbnB1dE91dHB1dEFycmF5IGExLCBhMiwgZHN0OwoKICBkb3VibGUgYWxwaGEsIGJldGEsIGdhbW1hOwogIGludDMyX3QgZHR5cGUgPSAtMTsKCiAgYTEgPSBqc191bWF0X29yX21hdChjdHgsIGFyZ3ZbMF0pOwogIGEyID0ganNfdW1hdF9vcl9tYXQoY3R4LCBhcmd2WzJdKTsKCiAgaWYoanNfaXNfbm9hcnJheShhMSkgfHwganNfaXNfbm9hcnJheShhMikpCiAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgImExIG9yIGEyIG5vdCBhbiBhcnJheSEiKTsKCiAgLyoKICAgIHNyYzEgPSBqc19tYXRfZGF0YShjdHgsIGFyZ3ZbMF0pOwoKICAgIHNyYzIgPSBqc19tYXRfZGF0YShjdHgsIGFyZ3ZbMl0pOyovCiAgaWYoYXJnYyA+PSA2KQogICAgZHN0ID0ganNfdW1hdF9vcl9tYXQoY3R4LCBhcmd2WzVdKTsKCiAgaWYoanNfaXNfbm9hcnJheShkc3QpKQogICAgcmV0dXJuIEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJkc3Qgbm90IGFuIGFycmF5ISIpOwoKICBpZihhcmdjID49IDIpCiAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmYWxwaGEsIGFyZ3ZbMV0pOwogIGlmKGFyZ2MgPj0gNCkKICAgIEpTX1RvRmxvYXQ2NChjdHgsICZiZXRhLCBhcmd2WzNdKTsKICBpZihhcmdjID49IDUpCiAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmZ2FtbWEsIGFyZ3ZbNF0pOwoKICBpZihhcmdjID49IDcpCiAgICBKU19Ub0ludDMyKGN0eCwgJmR0eXBlLCBhcmd2WzZdKTsKCiAgY3Y6OmFkZFdlaWdodGVkKGExLCBhbHBoYSwgYTIsIGJldGEsIGdhbW1hLCBkc3QsIGR0eXBlKTsKICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jdl9yZXNpemUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTSW5wdXRPdXRwdXRBcnJheSBzcmMsIGRzdDsKICBkb3VibGUgZngsIGZ5OwogIEpTU2l6ZURhdGE8ZG91YmxlPiBkc2l6ZTsKICBpbnQzMl90IGludGVycG9sYXRpb247CgogIHNyYyA9IGpzX3VtYXRfb3JfbWF0KGN0eCwgYXJndlswXSk7CiAgZHN0ID0ganNfdW1hdF9vcl9tYXQoY3R4LCBhcmd2WzFdKTsKCiAgaWYoanNfaXNfbm9hcnJheShzcmMpIHx8IGpzX2lzX25vYXJyYXkoZHN0KSkKICAgIHJldHVybiBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAic3JjIG9yIGRzdCBub3QgYW4gYXJyYXkhIik7CgogIGlmKCFqc19zaXplX3JlYWQoY3R4LCBhcmd2WzJdLCAmZHNpemUpIHx8IGRzaXplLndpZHRoID09IDAgfHwgZHNpemUuaGVpZ2h0ID09IDApIHsKICAgIHVpbnQzMl90IHcsIGg7CgogICAgdyA9IGRzdC5jb2xzKCkgPiAwID8gZHN0LmNvbHMoKSA6IHNyYy5jb2xzKCk7CiAgICBoID0gZHN0LnJvd3MoKSA+IDAgPyBkc3Qucm93cygpIDogc3JjLnJvd3MoKTsKCiAgICBkc2l6ZSA9IEpTU2l6ZURhdGE8ZG91YmxlPih3LCBoKTsKICB9CgogIGlmKGFyZ2MgPiAzKQogICAgSlNfVG9GbG9hdDY0KGN0eCwgJmZ4LCBhcmd2WzNdKTsKICBpZihhcmdjID4gNCkKICAgIEpTX1RvRmxvYXQ2NChjdHgsICZmeSwgYXJndls0XSk7CiAgaWYoYXJnYyA+IDUpCiAgICBKU19Ub0ludDMyKGN0eCwgJmludGVycG9sYXRpb24sIGFyZ3ZbNV0pOwoKICBjdjo6cmVzaXplKHNyYywgZHN0LCBkc2l6ZSwgZngsIGZ5LCBpbnRlcnBvbGF0aW9uKTsKCiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY3Zfc2tlbGV0b25pemF0aW9uKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0lucHV0T3V0cHV0QXJyYXkgc3JjLCBkc3Q7CiAgY3Y6Ok1hdCBvdXRwdXQ7CiAgc3JjID0ganNfdW1hdF9vcl9tYXQoY3R4LCBhcmd2WzBdKTsKICBkc3QgPSBqc191bWF0X29yX21hdChjdHgsIGFyZ3ZbMV0pOwoKICBpZihqc19pc19ub2FycmF5KHNyYykgfHwganNfaXNfbm9hcnJheShkc3QpKQogICAgcmV0dXJuIEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJzcmMgb3IgZHN0IG5vdCBhbiBhcnJheSEiKTsKCiAgb3V0cHV0ID0gc2tlbGV0b25pemF0aW9uKHNyYyk7CiAgb3V0cHV0LmNvcHlUbyhkc3QpOwoKICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jdl9waXhlbF9uZWlnaGJvcmhvb2QoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndiwgaW50IG1hZ2ljKSB7CiAgSlNNYXREYXRhKiBzcmM7CiAgSlNPdXRwdXRBcnJheSBkc3Q7CiAgY3Y6Ok1hdCBvdXRwdXQ7CiAgaW50IGNvdW50OwoKICBzcmMgPSBqc19tYXRfZGF0YShjdHgsIGFyZ3ZbMF0pOwogIGRzdCA9IGpzX3VtYXRfb3JfbWF0KGN0eCwgYXJndlsxXSk7CgogIGlmKHNyYyA9PSBudWxscHRyIHx8IGpzX2lzX25vYXJyYXkoZHN0KSkKICAgIHJldHVybiBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAic3JjIG9yIGRzdCBub3QgYW4gYXJyYXkhIik7CgogIGlmKGFyZ2MgPiAyKSB7CiAgICBpbnQzMl90IGNvdW50OwoKICAgIEpTX1RvSW50MzIoY3R4LCAmY291bnQsIGFyZ3ZbMl0pOwogICAgb3V0cHV0ID0gbWFnaWMgPyBwaXhlbF9uZWlnaGJvcmhvb2RfY3Jvc3NfaWYoKnNyYywgY291bnQpIDogcGl4ZWxfbmVpZ2hib3Job29kX2lmKCpzcmMsIGNvdW50KTsKICB9IGVsc2UgewogICAgb3V0cHV0ID0gbWFnaWMgPyBwaXhlbF9uZWlnaGJvcmhvb2RfY3Jvc3MoKnNyYykgOiBwaXhlbF9uZWlnaGJvcmhvb2QoKnNyYyk7CiAgfQoKICBkc3QuZ2V0TWF0UmVmKCkgPSBvdXRwdXQ7CiAgLy8gIG91dHB1dC5jb3B5VG8oKTsKCiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY3ZfcGl4ZWxfZmluZF92YWx1ZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNNYXREYXRhKiBzcmM7CiAgc3RkOjp2ZWN0b3I8SlNQb2ludERhdGE8aW50Pj4gb3V0cHV0OwogIHVpbnQzMl90IHZhbHVlOwoKICBzcmMgPSBqc19tYXRfZGF0YShjdHgsIGFyZ3ZbMF0pOwoKICBpZihzcmMgPT0gbnVsbHB0cikKICAgIHJldHVybiBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAic3JjIG5vdCBhbiBhcnJheSEiKTsKCiAgSlNfVG9VaW50MzIoY3R4LCAmdmFsdWUsIGFyZ3ZbMV0pOwogIG91dHB1dCA9IHBpeGVsX2ZpbmRfdmFsdWUoKnNyYywgdmFsdWUpOwoKICByZXR1cm4ganNfYXJyYXlfZnJvbShjdHgsIG91dHB1dCk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2N2X3BhbGV0dGVfYXBwbHkoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTTWF0RGF0YSogc3JjOwogIEpTT3V0cHV0QXJyYXkgZHN0OwogIHN0ZDo6YXJyYXk8dWludDMyX3QsIDI1Nj4gcGFsZXR0ZTMyOwogIHN0ZDo6dmVjdG9yPGN2OjpWZWMzYj4gcGFsZXR0ZTsKCiAgc3JjID0ganNfbWF0X2RhdGEoY3R4LCBhcmd2WzBdKTsKICBkc3QgPSBqc191bWF0X29yX21hdChjdHgsIGFyZ3ZbMV0pOwoKICBpZihzcmMgPT0gbnVsbHB0ciB8fCBqc19pc19ub2FycmF5KGRzdCkpCiAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgInNyYyBvciBkc3Qgbm90IGFuIGFycmF5ISIpOwoKICB7CiAgICBjdjo6TWF0JiBvdXRwdXQgPSBkc3QuZ2V0TWF0UmVmKCk7CiAgICBpbnQgY2hhbm5lbHMgPSBvdXRwdXQuY2hhbm5lbHMoKTsKCiAgICBzdGQ6OmNvdXQgPDwgIm91dHB1dC5jaGFubmVscygpID0gIiA8PCBjaGFubmVscyA8PCBzdGQ6OmVuZGw7CiAgICAvKmlmKGpzX2lzX3R5cGVkYXJyYXkoY3R4LCBhcmd2WzJdKSkgewogICAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgInR5cGVkIGFycmF5IG5vdCBoYW5kbGVkIik7CiAgICB9IGVsc2UqLwoKICAgIGlmKGNoYW5uZWxzID09IDEpCiAgICAgIGNoYW5uZWxzID0gMzsKCiAgICBpZihjaGFubmVscyA9PSA0KSB7CiAgICAgIHN0ZDo6dmVjdG9yPEpTQ29sb3JEYXRhPHVpbnQ4X3Q+PiBwYWxldHRlOwogICAgICBzdGQ6OnZlY3Rvcjxjdjo6VmVjNGI+IHBhbGV0dGU0YjsKICAgICAgc3RkOjp2ZWN0b3I8Y3Y6OlNjYWxhcj4gcGFsZXR0ZXNjOwoKICAgICAganNfYXJyYXlfdG8oY3R4LCBhcmd2WzJdLCBwYWxldHRlKTsKCiAgICAgIGZvcihhdXRvJiBjb2xvciA6IHBhbGV0dGUpIHsKICAgICAgICBwYWxldHRlNGIucHVzaF9iYWNrKGN2OjpWZWM0Yihjb2xvci5hcnJbMF0sIGNvbG9yLmFyclsxXSwgY29sb3IuYXJyWzJdLCBjb2xvci5hcnJbM10pKTsKICAgICAgICBwYWxldHRlc2MucHVzaF9iYWNrKGN2OjpTY2FsYXIoY29sb3IuYXJyWzBdLCBjb2xvci5hcnJbMV0sIGNvbG9yLmFyclsyXSwgY29sb3IuYXJyWzNdKSk7CiAgICAgIH0KCiAgICAgIHBhbGV0dGVfYXBwbHk8Y3Y6OlZlYzRiPigqc3JjLCBkc3QsICZwYWxldHRlNGJbMF0pOwoKICAgIH0gZWxzZSBpZihjaGFubmVscyA9PSAzKSB7CiAgICAgIHN0ZDo6dmVjdG9yPEpTQ29sb3JEYXRhPHVpbnQ4X3Q+PiBwYWxldHRlOwogICAgICBzdGQ6OnZlY3Rvcjxjdjo6VmVjM2I+IHBhbGV0dGUzYjsKICAgICAgc3RkOjp2ZWN0b3I8Y3Y6OlNjYWxhcj4gcGFsZXR0ZXNjOwoKICAgICAganNfYXJyYXlfdG8oY3R4LCBhcmd2WzJdLCBwYWxldHRlKTsKCiAgICAgIGZvcihhdXRvJiBjb2xvciA6IHBhbGV0dGUpIHsKICAgICAgICBwYWxldHRlM2IucHVzaF9iYWNrKGN2OjpWZWMzYihjb2xvci5hcnJbMl0sIGNvbG9yLmFyclsxXSwgY29sb3IuYXJyWzBdKSk7CiAgICAgICAgcGFsZXR0ZXNjLnB1c2hfYmFjayhjdjo6U2NhbGFyKGNvbG9yLmFyclsyXSwgY29sb3IuYXJyWzFdLCBjb2xvci5hcnJbMF0pKTsKICAgICAgfQoKICAgICAgcGFsZXR0ZV9hcHBseTxjdjo6VmVjM2I+KCpzcmMsIGRzdCwgJnBhbGV0dGUzYlswXSk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgIm91dHB1dCBtYXQgY2hhbm5lbHMgPSAldSIsIG91dHB1dC5jaGFubmVscygpKTsKICAgIH0KICB9CiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKZW51bSB7IE1BVF9DT1VOVE5PTlpFUk8gPSAwLCBNQVRfRklORE5PTlpFUk8sIE1BVF9IQ09OQ0FULCBNQVRfVkNPTkNBVCB9OwoKc3RhdGljIEpTVmFsdWUKanNfY3ZfbWF0X2Z1bmN0aW9ucyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2LCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBKU0lucHV0T3V0cHV0QXJyYXkgbWF0OwogIG1hdCA9IGpzX3VtYXRfb3JfbWF0KGN0eCwgYXJndlswXSk7CgogIGlmKGpzX2lzX25vYXJyYXkobWF0KSkKICAgIHJldHVybiBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAibWF0IG5vdCBhbiBhcnJheSEiKTsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIE1BVF9DT1VOVE5PTlpFUk86IHsKICAgICAgcmV0ID0gSlNfTmV3SW50NjQoY3R4LCBjdjo6Y291bnROb25aZXJvKG1hdCkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTUFUX0ZJTkROT05aRVJPOiB7CiAgICAgIHN0ZDo6dmVjdG9yPEpTUG9pbnREYXRhPGludD4+IG91dHB1dDsKICAgICAgY3Y6OmZpbmROb25aZXJvKG1hdCwgb3V0cHV0KTsKICAgICAgcmV0ID0ganNfYXJyYXlfZnJvbShjdHgsIG91dHB1dCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBNQVRfSENPTkNBVDogewogICAgICBzdGQ6OnZlY3Rvcjxjdjo6TWF0PiBhOwogICAgICBKU0lucHV0T3V0cHV0QXJyYXkgZHN0OwogICAgICBpZihqc19pc19ub2FycmF5KChkc3QgPSBqc191bWF0X29yX21hdChjdHgsIGFyZ3ZbMV0pKSkpCiAgICAgICAgcmV0dXJuIEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJkc3Qgbm90IGFuIGFycmF5ISIpOwoKICAgICAganNfYXJyYXlfdG8oY3R4LCBhcmd2WzBdLCBhKTsKICAgICAgY3Y6Omhjb25jYXQoYS5kYXRhKCksIGEuc2l6ZSgpLCBkc3QpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTUFUX1ZDT05DQVQ6IHsKICAgICAgc3RkOjp2ZWN0b3I8Y3Y6Ok1hdD4gYTsKICAgICAgSlNJbnB1dE91dHB1dEFycmF5IGRzdDsKICAgICAgaWYoanNfaXNfbm9hcnJheSgoZHN0ID0ganNfdW1hdF9vcl9tYXQoY3R4LCBhcmd2WzFdKSkpKQogICAgICAgIHJldHVybiBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAiZHN0IG5vdCBhbiBhcnJheSEiKTsKCiAgICAgIGpzX2FycmF5X3RvKGN0eCwgYXJndlswXSwgYSk7CiAgICAgIGN2Ojp2Y29uY2F0KGEuZGF0YSgpLCBhLnNpemUoKSwgZHN0KTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2N2X2VxdWFsaXplX2hpc3QoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTSW5wdXRPdXRwdXRBcnJheSBzcmMsIGRzdDsKICBzcmMgPSBqc191bWF0X29yX21hdChjdHgsIGFyZ3ZbMF0pOwogIGRzdCA9IGpzX3VtYXRfb3JfbWF0KGN0eCwgYXJndlsxXSk7CgogIGlmKGpzX2lzX25vYXJyYXkoc3JjKSB8fCBqc19pc19ub2FycmF5KGRzdCkpCiAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgInNyYyBvciBkc3Qgbm90IGFuIGFycmF5ISIpOwoKICBjdjo6ZXF1YWxpemVIaXN0KHNyYywgZHN0KTsKICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jdl9jb252ZXJ0X3NjYWxlX2FicyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CgogIEpTSW5wdXRPdXRwdXRBcnJheSBzcmMsIGRzdDsKICBkb3VibGUgYWxwaGEgPSAxLCBiZXRhID0gMDsKCiAgc3JjID0ganNfdW1hdF9vcl9tYXQoY3R4LCBhcmd2WzBdKTsKICBkc3QgPSBqc191bWF0X29yX21hdChjdHgsIGFyZ3ZbMV0pOwoKICBpZihqc19pc19ub2FycmF5KHNyYykgfHwganNfaXNfbm9hcnJheShkc3QpKQogICAgcmV0dXJuIEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJzcmMgb3IgZHN0IG5vdCBhbiBhcnJheSEiKTsKCiAgaWYoYXJnYyA+PSAzKQogICAgSlNfVG9GbG9hdDY0KGN0eCwgJmFscGhhLCBhcmd2WzJdKTsKICBpZihhcmdjID49IDQpCiAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmYmV0YSwgYXJndlszXSk7CgogIGN2Ojpjb252ZXJ0U2NhbGVBYnMoc3JjLCBkc3QsIGFscGhhLCBiZXRhKTsKICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jdl90aHJlc2hvbGQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTSW5wdXRPdXRwdXRBcnJheSBzcmMsIGRzdDsKICBkb3VibGUgdGhyZXNoLCBtYXh2YWw7CiAgaW50MzJfdCB0eXBlOwoKICBzcmMgPSBqc191bWF0X29yX21hdChjdHgsIGFyZ3ZbMF0pOwogIGRzdCA9IGpzX3VtYXRfb3JfbWF0KGN0eCwgYXJndlsxXSk7CgogIGlmKGpzX2lzX25vYXJyYXkoc3JjKSB8fCBqc19pc19ub2FycmF5KGRzdCkpCiAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgInNyYyBvciBkc3Qgbm90IGFuIGFycmF5ISIpOwoKICBKU19Ub0Zsb2F0NjQoY3R4LCAmdGhyZXNoLCBhcmd2WzJdKTsKICBKU19Ub0Zsb2F0NjQoY3R4LCAmbWF4dmFsLCBhcmd2WzNdKTsKICBKU19Ub0ludDMyKGN0eCwgJnR5cGUsIGFyZ3ZbNF0pOwoKICBjdjo6dGhyZXNob2xkKHNyYywgZHN0LCB0aHJlc2gsIG1heHZhbCwgdHlwZSk7CiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY3ZfYmlsYXRlcmFsX2ZpbHRlcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNJbnB1dE91dHB1dEFycmF5IHNyYywgZHN0OwogIGRvdWJsZSBzaWdtYUNvbG9yLCBzaWdtYVNwYWNlOwogIGludDMyX3QgZCwgYm9yZGVyVHlwZSA9IGN2OjpCT1JERVJfREVGQVVMVDsKCiAgc3JjID0ganNfdW1hdF9vcl9tYXQoY3R4LCBhcmd2WzBdKTsKICBkc3QgPSBqc191bWF0X29yX21hdChjdHgsIGFyZ3ZbMV0pOwoKICBpZihqc19pc19ub2FycmF5KHNyYykgfHwganNfaXNfbm9hcnJheShkc3QpKQogICAgcmV0dXJuIEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJzcmMgb3IgZHN0IG5vdCBhbiBhcnJheSEiKTsKCiAgSlNfVG9JbnQzMihjdHgsICZkLCBhcmd2WzJdKTsKCiAgSlNfVG9GbG9hdDY0KGN0eCwgJnNpZ21hQ29sb3IsIGFyZ3ZbM10pOwogIEpTX1RvRmxvYXQ2NChjdHgsICZzaWdtYVNwYWNlLCBhcmd2WzRdKTsKCiAgaWYoYXJnYyA+PSA2KQogICAgSlNfVG9JbnQzMihjdHgsICZib3JkZXJUeXBlLCBhcmd2WzVdKTsKCiAgY3Y6OmJpbGF0ZXJhbEZpbHRlcihzcmMsIGRzdCwgZCwgc2lnbWFDb2xvciwgc2lnbWFTcGFjZSwgYm9yZGVyVHlwZSk7CiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY3ZfY2FsY19oaXN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBzdGQ6OnZlY3Rvcjxjdjo6TWF0PiBpbWFnZXM7CiAgc3RkOjp2ZWN0b3I8aW50PiBjaGFubmVscywgaGlzdFNpemU7CiAgc3RkOjp2ZWN0b3I8c3RkOjp2ZWN0b3I8ZmxvYXQ+PiByYW5nZXM7CgogIGN2OjpNYXQgKm1hc2ssICpoaXN0OwogIGludDMyX3QgZGltczsKICBib29sIHVuaWZvcm0gPSB0cnVlLCBhY2N1bXVsYXRlID0gZmFsc2U7CgogIGlmKGpzX2FycmF5X3RvKGN0eCwgYXJndlswXSwgaW1hZ2VzKSA9PSAtMSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGlmKGpzX2FycmF5X3RvKGN0eCwgYXJndlsxXSwgY2hhbm5lbHMpID09IC0xKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICBtYXNrID0ganNfbWF0X2RhdGEoY3R4LCBhcmd2WzJdKTsKICBoaXN0ID0ganNfbWF0X2RhdGEoY3R4LCBhcmd2WzNdKTsKCiAgaWYobWFzayA9PSBudWxscHRyIHx8IGhpc3QgPT0gbnVsbHB0ciB8fCBhcmdjIDwgOCkKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgSlNfVG9JbnQzMihjdHgsICZkaW1zLCBhcmd2WzRdKTsKCiAgaWYoanNfYXJyYXlfdG8oY3R4LCBhcmd2WzVdLCBoaXN0U2l6ZSkgPT0gLTEpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihqc19hcnJheV90byhjdHgsIGFyZ3ZbNl0sIHJhbmdlcykgPT0gLTEpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihhcmdjID49IDgpCiAgICB1bmlmb3JtID0gSlNfVG9Cb29sKGN0eCwgYXJndls3XSk7CiAgaWYoYXJnYyA+PSA5KQogICAgYWNjdW11bGF0ZSA9IEpTX1RvQm9vbChjdHgsIGFyZ3ZbOF0pOwoKICB7CiAgICBzdGQ6OnZlY3Rvcjxjb25zdCBmbG9hdCo+IHJhbmdlUHRyKHJhbmdlcy5zaXplKCkpOwoKICAgIGZvcihzaXplX3QgaSA9IDA7IGkgPCByYW5nZXMuc2l6ZSgpOyBpKyspIHsKICAgICAgaWYocmFuZ2VzW2ldLnNpemUoKSA8IDIpCiAgICAgICAgcmFuZ2VzW2ldLnJlc2l6ZSgyKTsKCiAgICAgIHJhbmdlUHRyW2ldID0gcmFuZ2VzW2ldLmRhdGEoKTsKICAgIH0KCiAgICBjdjo6Y2FsY0hpc3QoY29uc3RfY2FzdDxjb25zdCBjdjo6TWF0Kj4oaW1hZ2VzLmRhdGEoKSksCiAgICAgICAgICAgICAgICAgaW1hZ2VzLnNpemUoKSwKICAgICAgICAgICAgICAgICBjaGFubmVscy5kYXRhKCksCiAgICAgICAgICAgICAgICAgKm1hc2ssCiAgICAgICAgICAgICAgICAgKmhpc3QsCiAgICAgICAgICAgICAgICAgZGltcywKICAgICAgICAgICAgICAgICBoaXN0U2l6ZS5kYXRhKCksCiAgICAgICAgICAgICAgICAgcmFuZ2VQdHIuZGF0YSgpLAogICAgICAgICAgICAgICAgIHVuaWZvcm0sCiAgICAgICAgICAgICAgICAgYWNjdW11bGF0ZSk7CiAgfQogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2N2X21vcnBob2xvZ3koSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndiwgaW50IG1hZ2ljKSB7CiAgSlNJbnB1dE91dHB1dEFycmF5IHNyYywgZHN0LCBrZXJuZWw7CiAgSlNQb2ludERhdGE8ZG91YmxlPiBhbmNob3IgPSBjdjo6UG9pbnQoLTEsIC0xKTsKICBpbnQzMl90IGl0ZXJhdGlvbnMgPSAxLCBib3JkZXJUeXBlID0gY3Y6OkJPUkRFUl9DT05TVEFOVDsKICBjdjo6U2NhbGFyIGJvcmRlclZhbHVlID0gY3Y6Om1vcnBob2xvZ3lEZWZhdWx0Qm9yZGVyVmFsdWUoKTsKCiAgc3JjID0ganNfdW1hdF9vcl9tYXQoY3R4LCBhcmd2WzBdKTsKICBkc3QgPSBqc191bWF0X29yX21hdChjdHgsIGFyZ3ZbMV0pOwogIGtlcm5lbCA9IGpzX2N2X2lucHV0b3V0cHV0YXJyYXkoY3R4LCBhcmd2WzJdKTsKCiAgaWYoanNfaXNfbm9hcnJheShzcmMpIHx8IGpzX2lzX25vYXJyYXkoZHN0KSB8fCBqc19pc19ub2FycmF5KGtlcm5lbCkgfHwgYXJnYyA8IDMpCiAgICByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgInNyYyBvciBkc3Qgb3Iga2VybmVsIG5vdCBhbiBhcnJheSEiKTsKCiAgaWYoYXJnYyA+PSA0KQogICAgaWYoIWpzX3BvaW50X3JlYWQoY3R4LCBhcmd2WzNdLCAmYW5jaG9yKSkKICAgICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYoYXJnYyA+PSA1KQogICAgSlNfVG9JbnQzMihjdHgsICZpdGVyYXRpb25zLCBhcmd2WzRdKTsKCiAgaWYoYXJnYyA+PSA2KQogICAgSlNfVG9JbnQzMihjdHgsICZib3JkZXJUeXBlLCBhcmd2WzVdKTsKCiAgaWYoYXJnYyA+PSA3KSB7CiAgICBzdGQ6OnZlY3Rvcjxkb3VibGU+IHZhbHVlOwogICAgaWYoIWpzX2lzX2FycmF5KGN0eCwgYXJndls2XSkpCiAgICAgIHJldHVybiBKU19FWENFUFRJT047CgogICAganNfYXJyYXlfdG8oY3R4LCBhcmd2WzZdLCB2YWx1ZSk7CiAgICBib3JkZXJWYWx1ZSA9IGN2OjpTY2FsYXIodmFsdWVbMF0sIHZhbHVlWzFdLCB2YWx1ZVsyXSwgdmFsdWVbM10pOwogIH0KCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIDA6IGN2OjpkaWxhdGUoc3JjLCBkc3QsIGtlcm5lbCwgYW5jaG9yLCBpdGVyYXRpb25zLCBib3JkZXJUeXBlLCBib3JkZXJWYWx1ZSk7IGJyZWFrOwogICAgY2FzZSAxOiBjdjo6ZXJvZGUoc3JjLCBkc3QsIGtlcm5lbCwgYW5jaG9yLCBpdGVyYXRpb25zLCBib3JkZXJUeXBlLCBib3JkZXJWYWx1ZSk7IGJyZWFrOwogIH0KCiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY3ZfbW9ycGhvbG9neV9leChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CgogIEpTSW5wdXRPdXRwdXRBcnJheSBzcmMsIGRzdCwga2VybmVsOwogIEpTUG9pbnREYXRhPGRvdWJsZT4gYW5jaG9yID0gY3Y6OlBvaW50KC0xLCAtMSk7CgogIGludDMyX3Qgb3AsIGl0ZXJhdGlvbnMgPSAxLCBib3JkZXJUeXBlID0gY3Y6OkJPUkRFUl9DT05TVEFOVDsKICBjdjo6U2NhbGFyIGJvcmRlclZhbHVlID0gY3Y6Om1vcnBob2xvZ3lEZWZhdWx0Qm9yZGVyVmFsdWUoKTsKCiAgc3JjID0ganNfdW1hdF9vcl9tYXQoY3R4LCBhcmd2WzBdKTsKICBkc3QgPSBqc191bWF0X29yX21hdChjdHgsIGFyZ3ZbMV0pOwoKICBKU19Ub0ludDMyKGN0eCwgJm9wLCBhcmd2WzJdKTsKICBrZXJuZWwgPSBqc191bWF0X29yX21hdChjdHgsIGFyZ3ZbM10pOwoKICBpZihqc19pc19ub2FycmF5KHNyYykgfHwganNfaXNfbm9hcnJheShkc3QpIHx8IGpzX2lzX25vYXJyYXkoa2VybmVsKSB8fCBhcmdjIDwgMykKICAgIHJldHVybiBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAic3JjIG9yIGRzdCBvciBrZXJuZWwgbm90IGFuIGFycmF5ISIpOwoKICBpZihhcmdjID49IDUpCiAgICBpZighanNfcG9pbnRfcmVhZChjdHgsIGFyZ3ZbNF0sICZhbmNob3IpKQogICAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihhcmdjID49IDYpCiAgICBKU19Ub0ludDMyKGN0eCwgJml0ZXJhdGlvbnMsIGFyZ3ZbNV0pOwoKICBpZihhcmdjID49IDcpCiAgICBKU19Ub0ludDMyKGN0eCwgJmJvcmRlclR5cGUsIGFyZ3ZbNl0pOwoKICBpZihhcmdjID49IDgpIHsKICAgIHN0ZDo6dmVjdG9yPGRvdWJsZT4gdmFsdWU7CiAgICBpZighanNfaXNfYXJyYXkoY3R4LCBhcmd2WzddKSkKICAgICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgICBqc19hcnJheV90byhjdHgsIGFyZ3ZbN10sIHZhbHVlKTsKICAgIGJvcmRlclZhbHVlID0gY3Y6OlNjYWxhcih2YWx1ZVswXSwgdmFsdWVbMV0sIHZhbHVlWzJdLCB2YWx1ZVszXSk7CiAgfQoKICBjdjo6bW9ycGhvbG9neUV4KHNyYywgZHN0LCBvcCwga2VybmVsLCBhbmNob3IsIGl0ZXJhdGlvbnMsIGJvcmRlclR5cGUsIGJvcmRlclZhbHVlKTsKICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jdl9nZXRfc3RydWN0dXJpbmdfZWxlbWVudChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgaW50MzJfdCBzaGFwZTsKICBKU1NpemVEYXRhPGRvdWJsZT4ga3NpemU7CiAgSlNQb2ludERhdGE8ZG91YmxlPiBhbmNob3IgPSBjdjo6UG9pbnQoLTEsIC0xKTsKCiAgaWYoYXJnYyA8IDIpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihKU19Ub0ludDMyKGN0eCwgJnNoYXBlLCBhcmd2WzBdKSA9PSAtMSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGlmKCFqc19zaXplX3JlYWQoY3R4LCBhcmd2WzFdLCAma3NpemUpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICBpZihhcmdjID49IDMpCiAgICBpZighanNfcG9pbnRfcmVhZChjdHgsIGFyZ3ZbMl0sICZhbmNob3IpKQogICAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICByZXR1cm4ganNfbWF0X3dyYXAoY3R4LCBjdjo6Z2V0U3RydWN0dXJpbmdFbGVtZW50KHNoYXBlLCBrc2l6ZSwgYW5jaG9yKSk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2N2X21lZGlhbl9ibHVyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0lucHV0T3V0cHV0QXJyYXkgc3JjLCBkc3Q7CiAgaW50MzJfdCBrc2l6ZTsKCiAgc3JjID0ganNfdW1hdF9vcl9tYXQoY3R4LCBhcmd2WzBdKTsKICBkc3QgPSBqc191bWF0X29yX21hdChjdHgsIGFyZ3ZbMV0pOwoKICBpZihqc19pc19ub2FycmF5KHNyYykgfHwganNfaXNfbm9hcnJheShkc3QpKQogICAgcmV0dXJuIEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJzcmMgb3IgZHN0IG5vdCBhbiBhcnJheSEiKTsKCiAgSlNfVG9JbnQzMihjdHgsICZrc2l6ZSwgYXJndlsyXSk7CgogIGFzc2VydChrc2l6ZSA+PSAxKTsKICBhc3NlcnQoa3NpemUgJSAyID09IDEpOwoKICBjdjo6bWVkaWFuQmx1cihzcmMsIGRzdCwga3NpemUpOwogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2N2X21lcmdlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBzdGQ6OnZlY3Rvcjxjdjo6TWF0PiBtdjsKICBjdjo6TWF0KiBkc3Q7CgogIGlmKGpzX2FycmF5X3RvKGN0eCwgYXJndlswXSwgbXYpID09IC0xKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgZHN0ID0ganNfbWF0X2RhdGEoY3R4LCBhcmd2WzFdKTsKCiAgaWYoZHN0ID09IG51bGxwdHIpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBjdjo6bWVyZ2UoY29uc3RfY2FzdDxjb25zdCBjdjo6TWF0Kj4obXYuZGF0YSgpKSwgbXYuc2l6ZSgpLCAqZHN0KTsKCiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY3ZfbWl4X2NoYW5uZWxzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBzdGQ6OnZlY3Rvcjxjdjo6TWF0PiBzcmNzLCBkc3RzOwogIHN0ZDo6dmVjdG9yPGludD4gZnJvbVRvOwoKICBjdjo6TWF0KiBkc3Q7CgogIGlmKGpzX2FycmF5X3RvKGN0eCwgYXJndlswXSwgc3JjcykgPT0gLTEpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIGlmKGpzX2FycmF5X3RvKGN0eCwgYXJndlsxXSwgZHN0cykgPT0gLTEpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihqc19hcnJheV90byhjdHgsIGFyZ3ZbMl0sIGZyb21UbykgPT0gLTEpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBjdjo6bWl4Q2hhbm5lbHMoCiAgICAgIGNvbnN0X2Nhc3Q8Y29uc3QgY3Y6Ok1hdCo+KHNyY3MuZGF0YSgpKSwgc3Jjcy5zaXplKCksIGRzdHMuZGF0YSgpLCBkc3RzLnNpemUoKSwgZnJvbVRvLmRhdGEoKSwgZnJvbVRvLnNpemUoKSA+PiAxKTsKCiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY3ZfbWluX21heF9sb2MoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIGN2OjpNYXQgKnNyYywgKm1hc2sgPSBudWxscHRyOwogIGRvdWJsZSBtaW5WYWwsIG1heFZhbDsKICBjdjo6UG9pbnQgbWluTG9jLCBtYXhMb2M7CiAgSlNWYWx1ZSByZXQ7CgogIHNyYyA9IGpzX21hdF9kYXRhKGN0eCwgYXJndlswXSk7CgogIGlmKHNyYyA9PSBudWxscHRyKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYoYXJnYyA+PSAyKQogICAgaWYoKG1hc2sgPSBqc19tYXRfZGF0YShjdHgsIGFyZ3ZbMV0pKSA9PSBudWxscHRyKQogICAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBjdjo6bWluTWF4TG9jKCpzcmMsICZtaW5WYWwsICZtYXhWYWwsICZtaW5Mb2MsICZtYXhMb2MsIG1hc2sgPT0gbnVsbHB0ciA/IGN2Ojpub0FycmF5KCkgOiAqbWFzayk7CgogIHJldCA9IEpTX05ld09iamVjdChjdHgpOwogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAibWluVmFsIiwgSlNfTmV3RmxvYXQ2NChjdHgsIG1pblZhbCkpOwogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAibWF4VmFsIiwgSlNfTmV3RmxvYXQ2NChjdHgsIG1heFZhbCkpOwogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwKICAgICAgICAgICAgICAgICAgICByZXQsCiAgICAgICAgICAgICAgICAgICAgIm1pbkxvYyIsCiAgICAgICAgICAgICAgICAgICAganNfYXJyYXlfZnJvbShjdHgsIHN0ZDo6YXJyYXk8aW50LCAyPnttaW5Mb2MueCwgbWluTG9jLnl9KSk7IC8vIGpzX3BvaW50X3dyYXAoY3R4LCBtaW5Mb2MpKTsKICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsCiAgICAgICAgICAgICAgICAgICAgcmV0LAogICAgICAgICAgICAgICAgICAgICJtYXhMb2MiLAogICAgICAgICAgICAgICAgICAgIGpzX29iamVjdDo6ZnJvbV9tYXAoY3R4LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkOjptYXA8c3RkOjpzdHJpbmcsIGludD57CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RkOjpwYWlyPHN0ZDo6c3RyaW5nLCBpbnQ+eyJ4IiwgbWF4TG9jLnh9LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZDo6cGFpcjxzdGQ6OnN0cmluZywgaW50PnsieSIsIG1heExvYy55fX0pKTsgLy8ganNfcG9pbnRfd3JhcChjdHgsIG1heExvYykpOwoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jdl9uYW1lZF93aW5kb3coSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIGNvbnN0IGNoYXIqIG5hbWU7CiAgaW50MzJfdCBmbGFncyA9IGN2OjpXSU5ET1dfTk9STUFMOwogIG5hbWUgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsKCiAgaWYoYXJnYyA+IDEpCiAgICBKU19Ub0ludDMyKGN0eCwgJmZsYWdzLCBhcmd2WzFdKTsKCiAgY3Y6Om5hbWVkV2luZG93KG5hbWUsIGZsYWdzKTsKCiAgaWYoc3RkOjpmaW5kKHdpbmRvd19saXN0LmNiZWdpbigpLCB3aW5kb3dfbGlzdC5jZW5kKCksIG5hbWUpID09IHdpbmRvd19saXN0LmNlbmQoKSkKICAgIHdpbmRvd19saXN0LnB1c2hfYmFjayhuYW1lKTsKCiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY3ZfbW92ZV93aW5kb3coSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIGNvbnN0IGNoYXIqIG5hbWU7CiAgaW50MzJfdCB4LCB5OwogIEpTUG9pbnREYXRhPGRvdWJsZT4gcG9pbnQ7CiAgbmFtZSA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbMF0pOwoKICBpZihqc19wb2ludF9yZWFkKGN0eCwgYXJndlsxXSwgJnBvaW50KSkgewogICAgeCA9IHBvaW50Lng7CiAgICB5ID0gcG9pbnQueTsKICB9IGVsc2UgewogICAgSlNfVG9JbnQzMihjdHgsICZ4LCBhcmd2WzFdKTsKICAgIEpTX1RvSW50MzIoY3R4LCAmeSwgYXJndlsyXSk7CiAgfQogIGN2Ojptb3ZlV2luZG93KG5hbWUsIHgsIHkpOwogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2N2X3Jlc2l6ZV93aW5kb3coSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIGNvbnN0IGNoYXIqIG5hbWU7CiAgdWludDMyX3QgdywgaDsKICBKU1NpemVEYXRhPGludD4gc2l6ZTsKICBuYW1lID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlswXSk7CgogIGlmKGpzX3NpemVfcmVhZChjdHgsIGFyZ3ZbMV0sICZzaXplKSkgewogICAgdyA9IHNpemUud2lkdGg7CiAgICBoID0gc2l6ZS5oZWlnaHQ7CiAgfSBlbHNlIHsKICAgIEpTX1RvVWludDMyKGN0eCwgJncsIGFyZ3ZbMV0pOwogICAgSlNfVG9VaW50MzIoY3R4LCAmaCwgYXJndlsyXSk7CiAgfQoKICBjdjo6cmVzaXplV2luZG93KG5hbWUsIHcsIGgpOwogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2N2X2dldF93aW5kb3dfaW1hZ2VfcmVjdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgY29uc3QgY2hhciogbmFtZTsKICBKU1JlY3REYXRhPGludD4gcmVjdDsKICBuYW1lID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlswXSk7CgogIHJlY3QgPSBjdjo6Z2V0V2luZG93SW1hZ2VSZWN0KG5hbWUpOwogIHJldHVybiBqc19yZWN0X3dyYXAoY3R4LCByZWN0KTsKfQoKc3RhdGljIEpTVmFsdWUKanNfY3ZfZ2V0X3dpbmRvd19wcm9wZXJ0eShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgY29uc3QgY2hhciogbmFtZTsKICBpbnQzMl90IHByb3BJZDsKICBuYW1lID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlswXSk7CiAgSlNfVG9JbnQzMihjdHgsICZwcm9wSWQsIGFyZ3ZbMV0pOwoKICByZXR1cm4gSlNfTmV3RmxvYXQ2NChjdHgsIGN2OjpnZXRXaW5kb3dQcm9wZXJ0eShuYW1lLCBwcm9wSWQpKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfY3Zfc2V0X3dpbmRvd19wcm9wZXJ0eShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgY29uc3QgY2hhciogbmFtZTsKICBpbnQzMl90IHByb3BJZDsKICBkb3VibGUgdmFsdWU7CiAgbmFtZSA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbMF0pOwogIEpTX1RvSW50MzIoY3R4LCAmcHJvcElkLCBhcmd2WzFdKTsKICBKU19Ub0Zsb2F0NjQoY3R4LCAmdmFsdWUsIGFyZ3ZbMl0pOwogIGN2OjpzZXRXaW5kb3dQcm9wZXJ0eShuYW1lLCBwcm9wSWQsIHZhbHVlKTsKICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jdl9zZXRfd2luZG93X3RpdGxlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBjb25zdCBjaGFyICpuYW1lLCAqdGl0bGU7CiAgbmFtZSA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbMF0pOwogIHRpdGxlID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlsxXSk7CgogIGN2OjpzZXRXaW5kb3dUaXRsZShuYW1lLCB0aXRsZSk7CiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY3ZfZGVzdHJveV93aW5kb3coSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIGNvbnN0IGNoYXIqIG5hbWU7CiAgaW50MzJfdCBwcm9wSWQ7CiAgbmFtZSA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbMF0pOwoKICBjdjo6ZGVzdHJveVdpbmRvdyhuYW1lKTsKICBhdXRvIGl0ID0gc3RkOjpmaW5kKHdpbmRvd19saXN0LmNiZWdpbigpLCB3aW5kb3dfbGlzdC5jZW5kKCksIG5hbWUpOwoKICBpZihpdCAhPSB3aW5kb3dfbGlzdC5jZW5kKCkpCiAgICB3aW5kb3dfbGlzdC5lcmFzZShpdCk7CgogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2N2X2NyZWF0ZV90cmFja2JhcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgY29uc3QgY2hhciAqbmFtZSwgKndpbmRvdzsKICBpbnQzMl90IHJldCwgY291bnQ7CiAgc3RydWN0IFRyYWNrYmFyIHsKICAgIGludDMyX3QgdmFsdWU7CiAgICBKU1ZhbHVlIG5hbWUsIHdpbmRvdywgY291bnQ7CiAgICBKU1ZhbHVlQ29uc3QgaGFuZGxlcjsKICAgIEpTQ29udGV4dCogY3R4OwogIH07CiAgVHJhY2tiYXIqIHVzZXJkYXRhOwoKICBuYW1lID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlswXSk7CiAgd2luZG93ID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlsxXSk7CgogIGlmKG5hbWUgPT0gbnVsbHB0ciB8fCB3aW5kb3cgPT0gbnVsbHB0cikKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHVzZXJkYXRhID0ganNfYWxsb2NhdGU8VHJhY2tiYXI+KGN0eCk7CgogIEpTX1RvSW50MzIoY3R4LCAmdXNlcmRhdGEtPnZhbHVlLCBhcmd2WzJdKTsKICBKU19Ub0ludDMyKGN0eCwgJmNvdW50LCBhcmd2WzNdKTsKCiAgdXNlcmRhdGEtPm5hbWUgPSBKU19OZXdTdHJpbmcoY3R4LCBuYW1lKTsKICB1c2VyZGF0YS0+d2luZG93ID0gSlNfTmV3U3RyaW5nKGN0eCwgd2luZG93KTsKICB1c2VyZGF0YS0+Y291bnQgPSBKU19OZXdJbnQzMihjdHgsIGNvdW50KTsKICB1c2VyZGF0YS0+aGFuZGxlciA9IEpTX0R1cFZhbHVlKGN0eCwgYXJndls0XSk7CiAgdXNlcmRhdGEtPmN0eCA9IGN0eDsKCiAgLypKU1ZhbHVlIHN0ciA9IEpTX1RvU3RyaW5nKGN0eCwgdXNlcmRhdGEtPmhhbmRsZXIpOwogIHN0ZDo6Y291dCA8PCAiaGFuZGxlcjogIiA8PCBKU19Ub0NTdHJpbmcoY3R4LCBzdHIpIDw8IHN0ZDo6ZW5kbDsqLwoKICByZXQgPSBjdjo6Y3JlYXRlVHJhY2tiYXIoCiAgICAgIG5hbWUsCiAgICAgIHdpbmRvdywKICAgICAgJnVzZXJkYXRhLT52YWx1ZSwKICAgICAgY291bnQsCiAgICAgIFtdKGludCBuZXdWYWx1ZSwgdm9pZCogcHRyKSB7CiAgICAgICAgVHJhY2tiYXIgY29uc3QmIGRhdGEgPSAqc3RhdGljX2Nhc3Q8VHJhY2tiYXIqPihwdHIpOwoKICAgICAgICBpZihKU19Jc0Z1bmN0aW9uKGRhdGEuY3R4LCBkYXRhLmhhbmRsZXIpKSB7CiAgICAgICAgICBKU1ZhbHVlQ29uc3QgYXJndltdID0ge0pTX05ld0ludDMyKGRhdGEuY3R4LCBuZXdWYWx1ZSksIGRhdGEuY291bnQsIGRhdGEubmFtZSwgZGF0YS53aW5kb3d9OwoKICAgICAgICAgIEpTX0NhbGwoZGF0YS5jdHgsIGRhdGEuaGFuZGxlciwgSlNfVU5ERUZJTkVELCA0LCBhcmd2KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHVzZXJkYXRhKTsKCiAgcmV0dXJuIEpTX05ld0ludDMyKGN0eCwgcmV0KTsKfQoKc3RhdGljIEpTVmFsdWUKanNfY3ZfY3JlYXRlX2J1dHRvbihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgY29uc3QgY2hhciogYmFyX25hbWU7CiAgaW50MzJfdCByZXQsIHR5cGU7CiAgYm9vbCBpbml0aWFsX2J1dHRvbl9zdGF0ZSA9IGZhbHNlOwoKICBzdHJ1Y3QgQnV0dG9uIHsKICAgIGludDMyX3Qgc3RhdGU7CiAgICBKU1ZhbHVlIGJhcl9uYW1lLCB0eXBlOwogICAgSlNWYWx1ZUNvbnN0IGNhbGxiYWNrOwogICAgSlNDb250ZXh0KiBjdHg7CiAgfTsKICBCdXR0b24qIHVzZXJkYXRhOwoKICBiYXJfbmFtZSA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbMF0pOwoKICBpZihiYXJfbmFtZSA9PSBudWxscHRyKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgdXNlcmRhdGEgPSBqc19hbGxvY2F0ZTxCdXR0b24+KGN0eCk7CiAgdXNlcmRhdGEtPmNhbGxiYWNrID0gSlNfRHVwVmFsdWUoY3R4LCBhcmd2WzFdKTsKCiAgSlNfVG9JbnQzMihjdHgsICZ0eXBlLCBhcmd2WzJdKTsKICBKU19Ub0ludDMyKGN0eCwgJnVzZXJkYXRhLT5zdGF0ZSwgYXJndlszXSk7CgogIHVzZXJkYXRhLT5iYXJfbmFtZSA9IEpTX05ld1N0cmluZyhjdHgsIGJhcl9uYW1lKTsKICB1c2VyZGF0YS0+dHlwZSA9IEpTX05ld0ludDMyKGN0eCwgdHlwZSk7CgogIHVzZXJkYXRhLT5jdHggPSBjdHg7CgogIC8vIGluaXRpYWxfYnV0dG9uX3N0YXRlID0gSlNfVG9Cb29sKGN0eCwgYXJndls0XSk7CgogIC8qSlNWYWx1ZSBzdHIgPSBKU19Ub1N0cmluZyhjdHgsIHVzZXJkYXRhLT5jYWxsYmFjayk7CiAgc3RkOjpjb3V0IDw8ICJjYWxsYmFjazogIiA8PCBKU19Ub0NTdHJpbmcoY3R4LCBzdHIpIDw8IHN0ZDo6ZW5kbDsqLwoKICByZXQgPSBjdjo6Y3JlYXRlQnV0dG9uKAogICAgICBiYXJfbmFtZSwKICAgICAgW10oaW50IHN0YXRlLCB2b2lkKiBwdHIpIHsKICAgICAgICBCdXR0b24gY29uc3QmIGRhdGEgPSAqc3RhdGljX2Nhc3Q8QnV0dG9uKj4ocHRyKTsKICAgICAgICBpZihKU19Jc0Z1bmN0aW9uKGRhdGEuY3R4LCBkYXRhLmNhbGxiYWNrKSkgewogICAgICAgICAgSlNWYWx1ZUNvbnN0IGFyZ3ZbXSA9IHtKU19OZXdJbnQzMihkYXRhLmN0eCwgc3RhdGUpLCBkYXRhLmJhcl9uYW1lLCBkYXRhLnR5cGV9OwogICAgICAgICAgSlNfQ2FsbChkYXRhLmN0eCwgZGF0YS5jYWxsYmFjaywgSlNfVU5ERUZJTkVELCAzLCBhcmd2KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIHVzZXJkYXRhLAogICAgICB0eXBlLAogICAgICBpbml0aWFsX2J1dHRvbl9zdGF0ZSk7CgogIHJldHVybiBKU19OZXdJbnQzMihjdHgsIHJldCk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2N2X2dldF90cmFja2Jhcl9wb3MoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIGNvbnN0IGNoYXIgKm5hbWUsICp3aW5kb3c7CgogIG5hbWUgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzBdKTsKICB3aW5kb3cgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzFdKTsKCiAgaWYobmFtZSA9PSBudWxscHRyIHx8IHdpbmRvdyA9PSBudWxscHRyKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgcmV0dXJuIEpTX05ld0ludDMyKGN0eCwgY3Y6OmdldFRyYWNrYmFyUG9zKG5hbWUsIHdpbmRvdykpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jdl9zZXRfdHJhY2tiYXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndiwgaW50IG1hZ2ljKSB7CiAgY29uc3QgY2hhciAqbmFtZSwgKndpbmRvdzsKICBpbnQzMl90IHZhbDsKCiAgbmFtZSA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbMF0pOwogIHdpbmRvdyA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbMV0pOwoKICBpZihuYW1lID09IG51bGxwdHIgfHwgd2luZG93ID09IG51bGxwdHIpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBKU19Ub0ludDMyKGN0eCwgJnZhbCwgYXJndlsyXSk7CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSAwOiBjdjo6c2V0VHJhY2tiYXJQb3MobmFtZSwgd2luZG93LCB2YWwpOyBicmVhazsKICAgIGNhc2UgMTogY3Y6OnNldFRyYWNrYmFyTWluKG5hbWUsIHdpbmRvdywgdmFsKTsgYnJlYWs7CiAgICBjYXNlIDI6IGN2OjpzZXRUcmFja2Jhck1heChuYW1lLCB3aW5kb3csIHZhbCk7IGJyZWFrOwogIH0KCiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY3ZfZ2V0X21vdXNlX3doZWVsX2RlbHRhKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBpbnQzMl90IGZsYWdzOwoKICBKU19Ub0ludDMyKGN0eCwgJmZsYWdzLCBhcmd2WzBdKTsKCiAgcmV0dXJuIEpTX05ld0ludDMyKGN0eCwgY3Y6OmdldE1vdXNlV2hlZWxEZWx0YShmbGFncykpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jdl9zZXRfbW91c2VfY2FsbGJhY2soSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIGNvbnN0IGNoYXIqIG5hbWU7CiAgc3RydWN0IE1vdXNlSGFuZGxlciB7CiAgICBKU1ZhbHVlIHdpbmRvdzsKICAgIEpTVmFsdWVDb25zdCBoYW5kbGVyOwogICAgSlNDb250ZXh0KiBjdHg7CiAgfTsKICBNb3VzZUhhbmRsZXIqIHVzZXJkYXRhOwoKICB1c2VyZGF0YSA9IGpzX2FsbG9jYXRlPE1vdXNlSGFuZGxlcj4oY3R4KTsKCiAgbmFtZSA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbMF0pOwoKICB1c2VyZGF0YS0+d2luZG93ID0gSlNfRHVwVmFsdWUoY3R4LCBhcmd2WzBdKTsKICB1c2VyZGF0YS0+aGFuZGxlciA9IEpTX0R1cFZhbHVlKGN0eCwgYXJndlsxXSk7CiAgdXNlcmRhdGEtPmN0eCA9IGN0eDsKCiAgY3Y6OnNldE1vdXNlQ2FsbGJhY2soCiAgICAgIG5hbWUsCiAgICAgIFtdKGludCBldmVudCwgaW50IHgsIGludCB5LCBpbnQgZmxhZ3MsIHZvaWQqIHB0cikgewogICAgICAgIE1vdXNlSGFuZGxlciBjb25zdCYgZGF0YSA9ICpzdGF0aWNfY2FzdDxNb3VzZUhhbmRsZXIqPihwdHIpOwoKICAgICAgICBpZihKU19Jc0Z1bmN0aW9uKGRhdGEuY3R4LCBkYXRhLmhhbmRsZXIpKSB7CiAgICAgICAgICBKU1ZhbHVlQ29uc3QgYXJndltdID0ge0pTX05ld0ludDMyKGRhdGEuY3R4LCBldmVudCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTX05ld0ludDMyKGRhdGEuY3R4LCB4KSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNfTmV3SW50MzIoZGF0YS5jdHgsIHkpLAoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNfTmV3SW50MzIoZGF0YS5jdHgsIGZsYWdzKX07CgogICAgICAgICAgSlNfQ2FsbChkYXRhLmN0eCwgZGF0YS5oYW5kbGVyLCBKU19VTkRFRklORUQsIDQsIGFyZ3YpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgdXNlcmRhdGEpOwogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2N2X3dhaXRfa2V5KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBpbnQzMl90IGRlbGF5ID0gMDsKICB1bmlvbiB7CiAgICBpbnQzMl90IGk7CiAgICBjaGFyIGM7CiAgfSBrZXk7CiAgSlNWYWx1ZSByZXQ7CgogIGlmKGFyZ2MgPiAwKQogICAgSlNfVG9JbnQzMihjdHgsICZkZWxheSwgYXJndlswXSk7CgogIGtleS5pID0gY3Y6OndhaXRLZXkoZGVsYXkpOwoKICBpZigwICYmIGlzYWxudW0oa2V5LmMpKSB7CiAgICBjaGFyIGNoWzJdID0ge2tleS5jLCAwfTsKCiAgICByZXQgPSBKU19OZXdTdHJpbmcoY3R4LCBjaCk7CiAgfSBlbHNlIHsKICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwga2V5LmkpOwogIH0KICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jdl93YWl0X2tleV9leChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgaW50MzJfdCBkZWxheSA9IDA7CiAgaW50IGtleUNvZGU7CiAgSlNWYWx1ZSByZXQ7CgogIGlmKGFyZ2MgPiAwKQogICAgSlNfVG9JbnQzMihjdHgsICZkZWxheSwgYXJndlswXSk7CgogIGtleUNvZGUgPSBjdjo6d2FpdEtleUV4KGRlbGF5KTsKCiAgcmV0dXJuIEpTX05ld0ludDMyKGN0eCwga2V5Q29kZSk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2N2X2dldHBlcnNwZWN0aXZldHJhbnNmb3JtKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qdiwgKm90aGVyID0gbnVsbHB0ciwgKnB0cjsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBib29sIGhhbmRsZU5lc3RlZCA9IHRydWU7CiAgSlNDb250b3VyRGF0YTxmbG9hdD4gYSwgYjsKICBjdjo6TWF0IG1hdHJpeDsKICBpbnQzMl90IHNvbHZlTWV0aG9kID0gY3Y6OkRFQ09NUF9MVTsKCiAgdiA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIGFyZ3ZbMF0pOwogIGlmKCF2KQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYoYXJnYyA+IDEpIHsKICAgIG90aGVyID0gc3RhdGljX2Nhc3Q8SlNDb250b3VyRGF0YTxkb3VibGU+Kj4oSlNfR2V0T3BhcXVlMihjdHgsIGFyZ3ZbMV0sIGpzX2NvbnRvdXJfY2xhc3NfaWQpKTsKCiAgICBpZihhcmdjID4gMikKICAgICAgSlNfVG9JbnQzMihjdHgsICZzb2x2ZU1ldGhvZCwgYXJndlsyXSk7CiAgfQoKICBzdGQ6OnRyYW5zZm9ybSh2LT5iZWdpbigpLCB2LT5lbmQoKSwgc3RkOjpiYWNrX2luc2VydGVyKGEpLCBbXShjb25zdCBKU1BvaW50RGF0YTxkb3VibGU+JiBwdCkgLT4gSlNQb2ludERhdGE8ZmxvYXQ+IHsKICAgIHJldHVybiBKU1BvaW50RGF0YTxmbG9hdD4ocHQueCwgcHQueSk7CiAgfSk7CiAgc3RkOjp0cmFuc2Zvcm0ob3RoZXItPmJlZ2luKCksIG90aGVyLT5lbmQoKSwgc3RkOjpiYWNrX2luc2VydGVyKGIpLCBbXShjb25zdCBKU1BvaW50RGF0YTxkb3VibGU+JiBwdCkgLT4gSlNQb2ludERhdGE8ZmxvYXQ+IHsKICAgIHJldHVybiBKU1BvaW50RGF0YTxmbG9hdD4ocHQueCwgcHQueSk7CiAgfSk7CiAgbWF0cml4ID0gY3Y6OmdldFBlcnNwZWN0aXZlVHJhbnNmb3JtKGEsIGIgLyosIHNvbHZlTWV0aG9kKi8pOwoKICByZXQgPSBqc19tYXRfd3JhcChjdHgsIG1hdHJpeCk7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY3ZfZ2V0YWZmaW5ldHJhbnNmb3JtKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qdiwgKm90aGVyID0gbnVsbHB0ciwgKnB0cjsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBib29sIGhhbmRsZU5lc3RlZCA9IHRydWU7CiAgSlNDb250b3VyRGF0YTxmbG9hdD4gYSwgYjsKICBjdjo6TWF0IG1hdHJpeDsKCiAgdiA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIGFyZ3ZbMF0pOwogIGlmKCF2KQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYoYXJnYyA+IDEpCiAgICBvdGhlciA9IHN0YXRpY19jYXN0PEpTQ29udG91ckRhdGE8ZG91YmxlPio+KEpTX0dldE9wYXF1ZTIoY3R4LCBhcmd2WzFdLCBqc19jb250b3VyX2NsYXNzX2lkKSk7CgogIHN0ZDo6dHJhbnNmb3JtKHYtPmJlZ2luKCksIHYtPmVuZCgpLCBzdGQ6OmJhY2tfaW5zZXJ0ZXIoYSksIFtdKGNvbnN0IEpTUG9pbnREYXRhPGRvdWJsZT4mIHB0KSAtPiBKU1BvaW50RGF0YTxmbG9hdD4gewogICAgcmV0dXJuIEpTUG9pbnREYXRhPGZsb2F0PihwdC54LCBwdC55KTsKICB9KTsKICBzdGQ6OnRyYW5zZm9ybShvdGhlci0+YmVnaW4oKSwgb3RoZXItPmVuZCgpLCBzdGQ6OmJhY2tfaW5zZXJ0ZXIoYiksIFtdKGNvbnN0IEpTUG9pbnREYXRhPGRvdWJsZT4mIHB0KSAtPiBKU1BvaW50RGF0YTxmbG9hdD4gewogICAgcmV0dXJuIEpTUG9pbnREYXRhPGZsb2F0PihwdC54LCBwdC55KTsKICB9KTsKICBtYXRyaXggPSBjdjo6Z2V0QWZmaW5lVHJhbnNmb3JtKGEsIGIpOwoKICByZXQgPSBqc19tYXRfd3JhcChjdHgsIG1hdHJpeCk7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY3ZfZmluZF9jb250b3VycyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgY3Y6Ok1hdCogbSA9IGpzX21hdF9kYXRhKGN0eCwgYXJndlswXSk7CiAgSlNWYWx1ZSBhcnJheV9idWZmZXIsIHJldCA9IEpTX1VOREVGSU5FRDsKICBpbnQgbW9kZSA9IGN2OjpSRVRSX1RSRUU7CiAgaW50IGFwcHJveCA9IGN2OjpDSEFJTl9BUFBST1hfU0lNUExFOwogIGJvb2wgaGllcl9jYWxsYmFjayA9IEpTX0lzRnVuY3Rpb24oY3R4LCBhcmd2WzJdKTsKICBjdjo6UG9pbnQgb2Zmc2V0KDAsIDApOwoKICBKU0NvbnRvdXJzRGF0YTxpbnQ+IGNvbnRvdXJzOwogIHN0ZDo6dmVjdG9yPGN2OjpWZWM0aT4gaGllcjsKICBKU0NvbnRvdXJzRGF0YTxkb3VibGU+IHBvbHk7CgogIGN2OjpmaW5kQ29udG91cnMoKm0sIGNvbnRvdXJzLCBoaWVyLCBtb2RlLCBhcHByb3gsIG9mZnNldCk7CgogIC8qcHJpbnRmKCJqc19jdl9maW5kX2NvbnRvdXJzIGNvbnRvdXJzLnNpemUoKSA9ICV6dVxuIiwgY29udG91cnMuc2l6ZSgpKTsKICBpZihjb250b3Vycy5zaXplKCkpCiAgICBwcmludGYoImpzX2N2X2ZpbmRfY29udG91cnMgY29udG91cnMuYmFjaygpLnNpemUoKSA9ICV6dVxuIiwgY29udG91cnMuYmFjaygpLnNpemUoKSk7Ki8KCiAgaWYoanNfaXNfYXJyYXkoY3R4LCBhcmd2WzFdKSkgewogICAganNfYXJyYXlfdHJ1bmNhdGUoY3R4LCBhcmd2WzFdLCAwKTsKICB9CgogIHBvbHkucmVzaXplKGNvbnRvdXJzLnNpemUoKSk7CgogIHRyYW5zZm9ybV9jb250b3Vycyhjb250b3Vycy5iZWdpbigpLCBjb250b3Vycy5lbmQoKSwgcG9seS5iZWdpbigpKTsKCiAgLypwcmludGYoImpzX2N2X2ZpbmRfY29udG91cnMgcG9seS5zaXplKCkgPSAlenVcbiIsIHBvbHkuc2l6ZSgpKTsKICBpZihwb2x5LnNpemUoKSkKICAgIHByaW50ZigianNfY3ZfZmluZF9jb250b3VycyBwb2x5LmJhY2soKS5zaXplKCkgPSAlenVcbiIsIHBvbHkuYmFjaygpLnNpemUoKSk7Ki8KCiAgYXJyYXlfYnVmZmVyID0ganNfYXJyYXlidWZmZXJfZnJvbShjdHgsIGJlZ2luKGhpZXIpLCBlbmQoaGllcikpOwoKICB7CiAgICBzaXplX3QgaSwgbGVuZ3RoID0gY29udG91cnMuc2l6ZSgpOwogICAgSlNWYWx1ZSBjdG9yID0ganNfZ2xvYmFsX2dldChjdHgsICJJbnQzMkFycmF5Iik7CgogICAgZm9yKGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHsKICAgICAgSlNWYWx1ZSBhcnJheSA9IGpzX3R5cGVkYXJyYXlfbmV3KGN0eCwgYXJyYXlfYnVmZmVyLCBpICogc2l6ZW9mKGN2OjpWZWM0aSksIDQsIGN0b3IpOwoKICAgICAgLypzdGQ6OmFycmF5PGludDMyX3QsIDQ+IHY7CgogICAgICB2WzBdID0gaGllcltpXVswXTsKICAgICAgdlsxXSA9IGhpZXJbaV1bMV07CiAgICAgIHZbMl0gPSBoaWVyW2ldWzJdOwogICAgICB2WzNdID0gaGllcltpXVszXTsqLwoKICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCBhcmd2WzFdLCBpLCBqc19jb250b3VyX25ldyhjdHgsIHBvbHlbaV0pKTsKCiAgICAgIGlmKCFoaWVyX2NhbGxiYWNrKSB7CiAgICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCBhcmd2WzJdLCBpLCBhcnJheSk7CiAgICAgICAgLy8gSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCBhcmd2WzJdLCBpLCBqc190eXBlZGFycmF5X2Zyb20oY3R4LCB2LmNiZWdpbigpLCB2LmNlbmQoKSkpOwogICAgICAgIC8vIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgYXJndlsyXSwgaSwganNfdHlwZWRhcnJheV9mcm9tKGN0eCwgYmVnaW4oaGllcltpXSksCiAgICAgICAgLy8gZW5kKGhpZXJbaV0pKSk7CiAgICAgIH0KICAgIH0KICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGN0b3IpOwogIH0KCiAgaWYoaGllcl9jYWxsYmFjaykgewogICAgSlNWYWx1ZUNvbnN0IHRhcnJheTsKICAgIGludDMyX3QgKmhzdGFydCwgKmhlbmQ7CiAgICBoc3RhcnQgPSByZWludGVycHJldF9jYXN0PGludDMyX3QqPigmaGllclswXSk7CiAgICBoZW5kID0gcmVpbnRlcnByZXRfY2FzdDxpbnQzMl90Kj4oJmhpZXJbaGllci5zaXplKCldKTsKCiAgICB0YXJyYXkgPSBqc19hcnJheV9mcm9tKGN0eCwgaHN0YXJ0LCBoZW5kKTsKCiAgICBKU19DYWxsKGN0eCwgYXJndlsyXSwgSlNfTlVMTCwgMSwgJnRhcnJheSk7CiAgfQoKICAvKnsKICAgICAgSlNWYWx1ZSBoaWVyX2FyciA9IGpzX3ZlY3Rvcl92ZWM0aV90b19hcnJheShjdHgsIGhpZXIpOwogICAgICBKU1ZhbHVlIGNvbnRvdXJzX29iaiA9IGpzX2NvbnRvdXJzX25ldyhjdHgsIHBvbHkpOwoKICAgICAgcmV0ID0gSlNfTmV3T2JqZWN0KGN0eCk7CgogICAgICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIHJldCwgImhpZXIiLCBoaWVyX2Fycik7CiAgICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAiY29udG91cnMiLCBjb250b3Vyc19vYmopOwogICAgfSovCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY3ZfZHJhd19jb250b3VycyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNJbnB1dE91dHB1dEFycmF5IG1hdDsKICBKU0NvbnRvdXJzRGF0YTxpbnQ+IGNvbnRvdXJzOwogIEpTQ29sb3JEYXRhPGRvdWJsZT4gY29sb3I7CiAgaW50MzJfdCBjb250b3VySWR4ID0gLTEsIHRoaWNrbmVzcyA9IDEsIGxpbmVUeXBlID0gY3Y6OkxJTkVfODsKCiAgbWF0ID0ganNfdW1hdF9vcl9tYXQoY3R4LCBhcmd2WzBdKTsKCiAgaWYoanNfaXNfbm9hcnJheShtYXQpKQogICAgcmV0dXJuIEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJtYXQgbm90IGFuIGFycmF5ISIpOwoKICBpZighanNfaXNfYXJyYXkoY3R4LCBhcmd2WzFdKSkKICAgIHJldHVybiBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAiYXJndW1lbnQgMiBub3QgYW4gYXJyYXkhIik7CgogIGpzX2FycmF5X3RvKGN0eCwgYXJndlsxXSwgY29udG91cnMpOwoKICAvKnByaW50ZigianNfY3ZfZHJhd19jb250b3VycyBjb250b3Vycy5zaXplKCkgPSAlenVcbiIsIGNvbnRvdXJzLnNpemUoKSk7CiAgaWYoY29udG91cnMuc2l6ZSgpKQogICAgcHJpbnRmKCJqc19jdl9kcmF3X2NvbnRvdXJzIGNvbnRvdXJzLmJhY2soKS5zaXplKCkgPSAlenVcbiIsIGNvbnRvdXJzLmJhY2soKS5zaXplKCkpOyovCgogIEpTX1RvSW50MzIoY3R4LCAmY29udG91cklkeCwgYXJndlsyXSk7CgogIGpzX2NvbG9yX3JlYWQoY3R4LCBhcmd2WzNdLCAmY29sb3IpOwoKICBpZihhcmdjID4gNCkKICAgIEpTX1RvSW50MzIoY3R4LCAmdGhpY2tuZXNzLCBhcmd2WzRdKTsKCiAgaWYoYXJnYyA+IDUpCiAgICBKU19Ub0ludDMyKGN0eCwgJmxpbmVUeXBlLCBhcmd2WzVdKTsKCiAgY3Y6OmRyYXdDb250b3VycyhtYXQsIGNvbnRvdXJzLCBjb250b3VySWR4LCAqcmVpbnRlcnByZXRfY2FzdDxjdjo6U2NhbGFyKj4oJmNvbG9yKSwgdGhpY2tuZXNzLCBsaW5lVHlwZSk7CiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY3ZfcG9pbnRfcG9seWdvbl90ZXN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qIGNvbnRvdXI7CiAgSlNQb2ludERhdGE8ZmxvYXQ+IHBvaW50OwogIGJvb2wgbWVhc3VyZURpc3QgPSBmYWxzZTsKCiAgY29udG91ciA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIGFyZ3ZbMF0pOwoKICBpZihjb250b3VyID09IG51bGxwdHIpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBwb2ludCA9IGpzX3BvaW50X2dldChjdHgsIGFyZ3ZbMV0pOwogIGlmKGFyZ2MgPj0gMykKICAgIG1lYXN1cmVEaXN0ID0gSlNfVG9Cb29sKGN0eCwgYXJndlsyXSk7CgogIHJldHVybiBKU19OZXdGbG9hdDY0KGN0eCwgY3Y6OnBvaW50UG9seWdvblRlc3QoKmNvbnRvdXIsIHBvaW50LCBtZWFzdXJlRGlzdCkpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jdl9nZXR0aWNrcyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2LCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgMDogcmV0ID0gSlNfTmV3SW50NjQoY3R4LCBjdjo6Z2V0VGlja0NvdW50KCkpOyBicmVhazsKICAgIGNhc2UgMTogcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsIGN2OjpnZXRUaWNrRnJlcXVlbmN5KCkpOyBicmVhazsKICAgIGNhc2UgMjogcmV0ID0gSlNfTmV3SW50NjQoY3R4LCBjdjo6Z2V0Q1BVVGlja0NvdW50KCkpOwogICAgZGVmYXVsdDogcmV0ID0gSlNfRVhDRVBUSU9OOwogIH0KICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jdl9iaXR3aXNlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YsIGludCBtYWdpYykgewoKICBKU0lucHV0T3V0cHV0QXJyYXkgc3JjLCBkc3Q7CiAgSlNJbnB1dEFycmF5IG90aGVyLCBtYXNrOwoKICBzcmMgPSBqc191bWF0X29yX21hdChjdHgsIGFyZ3ZbMF0pOwogIG90aGVyID0ganNfaW5wdXRfYXJyYXkoY3R4LCBhcmd2WzFdKTsKICBkc3QgPSBzcmM7CiAgaWYoYXJnYyA+IDIpCiAgICBkc3QgPSBqc191bWF0X29yX21hdChjdHgsIGFyZ3ZbMl0pOwoKICBtYXNrID0gY3Y6Om5vQXJyYXkoKTsKICBpZihhcmdjID4gMykKCiAgICBtYXNrID0ganNfaW5wdXRfYXJyYXkoY3R4LCBhcmd2WzNdKTsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIDA6IGN2OjpiaXR3aXNlX2FuZChzcmMsIG90aGVyLCBkc3QsIG1hc2spOyBicmVhazsKICAgIGNhc2UgMTogY3Y6OmJpdHdpc2Vfb3Ioc3JjLCBvdGhlciwgZHN0LCBtYXNrKTsgYnJlYWs7CiAgICBjYXNlIDI6IGN2OjpiaXR3aXNlX3hvcihzcmMsIG90aGVyLCBkc3QsIG1hc2spOyBicmVhazsKICAgIGNhc2UgMzogY3Y6OmJpdHdpc2Vfbm90KHNyYywgZHN0LCBtYXNrKTsgYnJlYWs7CiAgICBkZWZhdWx0OiByZXR1cm4gSlNfRVhDRVBUSU9OOwogIH0KICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jdl9ndWlfbWV0aG9kcyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2LCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgRElTUExBWV9PVkVSTEFZOiB7CiAgICAgIGNvbnN0IGNoYXIgKndpbm5hbWUsICp0ZXh0OwogICAgICBpbnQzMl90IGRlbGF5bXMgPSAwOwogICAgICB3aW5uYW1lID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlswXSk7CiAgICAgIHRleHQgPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2WzFdKTsKICAgICAgaWYoYXJnYyA+IDIpCiAgICAgICAgSlNfVG9JbnQzMihjdHgsICZkZWxheW1zLCBhcmd2WzJdKTsKCiAgICAgIGN2OjpkaXNwbGF5T3ZlcmxheSh3aW5uYW1lLCB0ZXh0LCBkZWxheW1zKTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQogIHJldHVybiByZXQ7Cn0KCkpTVmFsdWUgY3ZfcHJvdG8gPSBKU19VTkRFRklORUQsIGN2X2NsYXNzID0gSlNfVU5ERUZJTkVEOwpKU0NsYXNzSUQganNfY3ZfY2xhc3NfaWQgPSAwOwoKdm9pZApqc19jdl9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKCiAgZm9yKGNvbnN0IGF1dG8mIG5hbWUgOiB3aW5kb3dfbGlzdCkgewogICAgc3RkOjpjZXJyIDw8ICJEZXN0cm95IHdpbmRvdyAnIiA8PCBuYW1lIDw8ICInIiA8PCBzdGQ6OmVuZGw7CiAgICBjdjo6ZGVzdHJveVdpbmRvdyhuYW1lKTsKICB9CgogIC8vIEpTX0ZyZWVWYWx1ZVJUKHJ0LCB2YWwpOwogIC8vIEpTX0ZyZWVWYWx1ZVJUKHJ0LCBjdl9jbGFzcyk7Cn0KCkpTQ2xhc3NEZWYganNfY3ZfY2xhc3MgPSB7LmNsYXNzX25hbWUgPSAiY3YiLCAuZmluYWxpemVyID0ganNfY3ZfZmluYWxpemVyfTsKCnR5cGVkZWYgc3RkOjp2ZWN0b3I8SlNDRnVuY3Rpb25MaXN0RW50cnk+IGpzX2Z1bmN0aW9uX2xpc3RfdDsKCmpzX2Z1bmN0aW9uX2xpc3RfdCBqc19jdl9zdGF0aWNfZnVuY3N7CiAgICBKU19DRlVOQ19ERUYoImJsdXIiLCAzLCBqc19jdl9ibHVyKSwKICAgIEpTX0NGVU5DX0RFRigiYm91bmRpbmdSZWN0IiwgMSwganNfY3ZfYm91bmRpbmdfcmVjdCksCiAgICBKU19DRlVOQ19ERUYoIkdhdXNzaWFuQmx1ciIsIDQsIGpzX2N2X2dhdXNzaWFuX2JsdXIpLAogICAgSlNfQ0ZVTkNfREVGKCJIb3VnaExpbmVzIiwgNSwganNfY3ZfaG91Z2hfbGluZXMpLAogICAgSlNfQ0ZVTkNfREVGKCJIb3VnaExpbmVzUCIsIDUsIGpzX2N2X2hvdWdoX2xpbmVzX3ApLAogICAgSlNfQ0ZVTkNfREVGKCJIb3VnaENpcmNsZXMiLCA1LCBqc19jdl9ob3VnaF9jaXJjbGVzKSwKICAgIEpTX0NGVU5DX0RFRigiQ2FubnkiLCA0LCBqc19jdl9jYW5ueSksCiAgICBKU19DRlVOQ19ERUYoImdvb2RGZWF0dXJlc1RvVHJhY2siLCA1LCBqc19jdl9nb29kX2ZlYXR1cmVzX3RvX3RyYWNrKSwKICAgIEpTX0NGVU5DX0RFRigiaW1yZWFkIiwgMSwganNfY3ZfaW1yZWFkKSwKICAgIEpTX0NGVU5DX0RFRigiaW13cml0ZSIsIDIsIGpzX2N2X2ltd3JpdGUpLAogICAgSlNfQ0ZVTkNfREVGKCJpbXNob3ciLCAyLCBqc19jdl9pbXNob3cpLAogICAgSlNfQ0ZVTkNfREVGKCJjdnRDb2xvciIsIDMsIGpzX2N2X2N2dF9jb2xvciksCiAgICBKU19DRlVOQ19ERUYoInNwbGl0IiwgMiwganNfY3Zfc3BsaXQpLAogICAgSlNfQ0ZVTkNfREVGKCJub3JtYWxpemUiLCAyLCBqc19jdl9ub3JtYWxpemUpLAogICAgSlNfQ0ZVTkNfREVGKCJlcXVhbGl6ZUhpc3QiLCAyLCBqc19jdl9lcXVhbGl6ZV9oaXN0KSwKICAgIEpTX0NGVU5DX0RFRigiY29udmVydFNjYWxlQWJzIiwgMiwganNfY3ZfY29udmVydF9zY2FsZV9hYnMpLAogICAgSlNfQ0ZVTkNfREVGKCJ0aHJlc2hvbGQiLCA1LCBqc19jdl90aHJlc2hvbGQpLAogICAgSlNfQ0ZVTkNfREVGKCJiaWxhdGVyYWxGaWx0ZXIiLCA1LCBqc19jdl9iaWxhdGVyYWxfZmlsdGVyKSwKICAgIEpTX0NGVU5DX0RFRigibmFtZWRXaW5kb3ciLCAxLCBqc19jdl9uYW1lZF93aW5kb3cpLAogICAgSlNfQ0ZVTkNfREVGKCJtb3ZlV2luZG93IiwgMiwganNfY3ZfbW92ZV93aW5kb3cpLAogICAgSlNfQ0ZVTkNfREVGKCJyZXNpemVXaW5kb3ciLCAyLCBqc19jdl9yZXNpemVfd2luZG93KSwKICAgIEpTX0NGVU5DX0RFRigiZGVzdHJveVdpbmRvdyIsIDEsIGpzX2N2X2Rlc3Ryb3lfd2luZG93KSwKICAgIEpTX0NGVU5DX0RFRigiZ2V0V2luZG93SW1hZ2VSZWN0IiwgMSwganNfY3ZfZ2V0X3dpbmRvd19pbWFnZV9yZWN0KSwKICAgIEpTX0NGVU5DX0RFRigiZ2V0V2luZG93UHJvcGVydHkiLCAyLCBqc19jdl9nZXRfd2luZG93X3Byb3BlcnR5KSwKICAgIEpTX0NGVU5DX0RFRigic2V0V2luZG93UHJvcGVydHkiLCAzLCBqc19jdl9zZXRfd2luZG93X3Byb3BlcnR5KSwKICAgIEpTX0NGVU5DX0RFRigic2V0V2luZG93VGl0bGUiLCAyLCBqc19jdl9zZXRfd2luZG93X3RpdGxlKSwKICAgIEpTX0NGVU5DX0RFRigiY3JlYXRlVHJhY2tiYXIiLCA1LCBqc19jdl9jcmVhdGVfdHJhY2tiYXIpLAogICAgSlNfQ0ZVTkNfREVGKCJjcmVhdGVCdXR0b24iLCAyLCBqc19jdl9jcmVhdGVfYnV0dG9uKSwKICAgIEpTX0NGVU5DX0RFRigiZ2V0VHJhY2tiYXJQb3MiLCAyLCBqc19jdl9nZXRfdHJhY2tiYXJfcG9zKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigic2V0VHJhY2tiYXJQb3MiLCAzLCBqc19jdl9zZXRfdHJhY2tiYXIsIDApLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJzZXRUcmFja2Jhck1pbiIsIDMsIGpzX2N2X3NldF90cmFja2JhciwgMSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInNldFRyYWNrYmFyTWF4IiwgMywganNfY3Zfc2V0X3RyYWNrYmFyLCAyKSwKICAgIEpTX0NGVU5DX0RFRigiZ2V0TW91c2VXaGVlbERlbHRhIiwgMSwganNfY3ZfZ2V0X21vdXNlX3doZWVsX2RlbHRhKSwKICAgIEpTX0NGVU5DX0RFRigic2V0TW91c2VDYWxsYmFjayIsIDIsIGpzX2N2X3NldF9tb3VzZV9jYWxsYmFjayksCiAgICBKU19DRlVOQ19ERUYoIndhaXRLZXkiLCAwLCBqc19jdl93YWl0X2tleSksCiAgICBKU19DRlVOQ19ERUYoIndhaXRLZXlFeCIsIDAsIGpzX2N2X3dhaXRfa2V5X2V4KSwKICAgIEpTX0NGVU5DX0RFRigiZ2V0UGVyc3BlY3RpdmVUcmFuc2Zvcm0iLCAyLCBqc19jdl9nZXRwZXJzcGVjdGl2ZXRyYW5zZm9ybSksCiAgICBKU19DRlVOQ19ERUYoImdldEFmZmluZVRyYW5zZm9ybSIsIDIsIGpzX2N2X2dldGFmZmluZXRyYW5zZm9ybSksCiAgICBKU19DRlVOQ19ERUYoImZpbmRDb250b3VycyIsIDEsIGpzX2N2X2ZpbmRfY29udG91cnMpLAogICAgSlNfQ0ZVTkNfREVGKCJkcmF3Q29udG91cnMiLCA0LCBqc19jdl9kcmF3X2NvbnRvdXJzKSwKICAgIEpTX0NGVU5DX0RFRigicG9pbnRQb2x5Z29uVGVzdCIsIDIsIGpzX2N2X3BvaW50X3BvbHlnb25fdGVzdCksCiAgICBKU19DRlVOQ19ERUYoImNvcm5lckhhcnJpcyIsIDUsIGpzX2N2X2Nvcm5lcl9oYXJyaXMpLAogICAgSlNfQ0ZVTkNfREVGKCJjYWxjSGlzdCIsIDgsIGpzX2N2X2NhbGNfaGlzdCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImRpbGF0ZSIsIDMsIGpzX2N2X21vcnBob2xvZ3ksIDApLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJlcm9kZSIsIDMsIGpzX2N2X21vcnBob2xvZ3ksIDEpLAogICAgSlNfQ0ZVTkNfREVGKCJtb3JwaG9sb2d5RXgiLCA0LCBqc19jdl9tb3JwaG9sb2d5X2V4KSwKICAgIEpTX0NGVU5DX0RFRigiZ2V0U3RydWN0dXJpbmdFbGVtZW50IiwgMiwganNfY3ZfZ2V0X3N0cnVjdHVyaW5nX2VsZW1lbnQpLAogICAgSlNfQ0ZVTkNfREVGKCJtZWRpYW5CbHVyIiwgMywganNfY3ZfbWVkaWFuX2JsdXIpLAogICAgSlNfQ0ZVTkNfREVGKCJtZXJnZSIsIDIsIGpzX2N2X21lcmdlKSwKICAgIEpTX0NGVU5DX0RFRigibWl4Q2hhbm5lbHMiLCAzLCBqc19jdl9taXhfY2hhbm5lbHMpLAogICAgSlNfQ0ZVTkNfREVGKCJtaW5NYXhMb2MiLCAyLCBqc19jdl9taW5fbWF4X2xvYyksCiAgICBKU19DRlVOQ19ERUYoImFkZFdlaWdodGVkIiwgNiwganNfY3ZfYWRkX3dlaWdodGVkKSwKICAgIEpTX0NGVU5DX0RFRigicmVzaXplIiwgMywganNfY3ZfcmVzaXplKSwKICAgIEpTX0NGVU5DX0RFRigic2tlbGV0b25pemF0aW9uIiwgMSwganNfY3Zfc2tlbGV0b25pemF0aW9uKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigicGl4ZWxOZWlnaGJvcmhvb2QiLCAyLCBqc19jdl9waXhlbF9uZWlnaGJvcmhvb2QsIDApLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJwaXhlbE5laWdoYm9yaG9vZENyb3NzIiwgMiwganNfY3ZfcGl4ZWxfbmVpZ2hib3Job29kLCAxKSwKICAgIEpTX0NGVU5DX0RFRigicGl4ZWxGaW5kVmFsdWUiLCAyLCBqc19jdl9waXhlbF9maW5kX3ZhbHVlKSwKICAgIEpTX0NGVU5DX0RFRigicGFsZXR0ZUFwcGx5IiwgMiwganNfY3ZfcGFsZXR0ZV9hcHBseSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImRpc3BsYXlPdmVybGF5IiwgMiwganNfY3ZfZ3VpX21ldGhvZHMsIERJU1BMQVlfT1ZFUkxBWSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImdldFRpY2tDb3VudCIsIDAsIGpzX2N2X2dldHRpY2tzLCAwKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZ2V0VGlja0ZyZXF1ZW5jeSIsIDAsIGpzX2N2X2dldHRpY2tzLCAxKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZ2V0Q1BVVGlja0NvdW50IiwgMCwganNfY3ZfZ2V0dGlja3MsIDIpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJiaXR3aXNlX2FuZCIsIDMsIGpzX2N2X2JpdHdpc2UsIDApLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJiaXR3aXNlX29yIiwgMywganNfY3ZfYml0d2lzZSwgMSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImJpdHdpc2VfeG9yIiwgMywganNfY3ZfYml0d2lzZSwgMiksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImJpdHdpc2Vfbm90IiwgMiwganNfY3ZfYml0d2lzZSwgMyksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImNvdW50Tm9uWmVybyIsIDEsIGpzX2N2X21hdF9mdW5jdGlvbnMsIE1BVF9DT1VOVE5PTlpFUk8pLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJmaW5kTm9uWmVybyIsIDEsIGpzX2N2X21hdF9mdW5jdGlvbnMsIE1BVF9GSU5ETk9OWkVSTyksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImhjb25jYXQiLCAyLCBqc19jdl9tYXRfZnVuY3Rpb25zLCBNQVRfSENPTkNBVCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInZjb25jYXQiLCAyLCBqc19jdl9tYXRfZnVuY3Rpb25zLCBNQVRfVkNPTkNBVCksCiAgICAvKn07CiAgICBjb25zdCBqc19mdW5jdGlvbl9saXN0X3QganNfY3ZfY29yZV9mbGFnc3sqLwogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNWX1ZFUlNJT05fTUFKT1IiLCBDVl9WRVJTSU9OX01BSk9SLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDVl9WRVJTSU9OX01JTk9SIiwgQ1ZfVkVSU0lPTl9NSU5PUiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ1ZfVkVSU0lPTl9SRVZJU0lPTiIsIENWX1ZFUlNJT05fUkVWSVNJT04sIDApLAogICAgSlNfUFJPUF9TVFJJTkdfREVGKCJDVl9WRVJTSU9OX1NUQVRVUyIsIENWX1ZFUlNJT05fU1RBVFVTLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDVl9DTVBfRVEiLCBDVl9DTVBfRVEsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNWX0NNUF9HVCIsIENWX0NNUF9HVCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ1ZfQ01QX0dFIiwgQ1ZfQ01QX0dFLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDVl9DTVBfTFQiLCBDVl9DTVBfTFQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNWX0NNUF9MRSIsIENWX0NNUF9MRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ1ZfQ01QX05FIiwgQ1ZfQ01QX05FLCAwKSwKICAgIEpTX1BST1BfRE9VQkxFX0RFRigiQ1ZfUEkiLCBDVl9QSSwgMCksCiAgICBKU19QUk9QX0RPVUJMRV9ERUYoIkNWXzJQSSIsIENWXzJQSSwgMCksCiAgICBKU19QUk9QX0RPVUJMRV9ERUYoIkNWX0xPRzIiLCBDVl9MT0cyLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDVl84VSIsIENWXzhVLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDVl84UyIsIENWXzhTLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDVl8xNlUiLCBDVl8xNlUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNWXzE2UyIsIENWXzE2UywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ1ZfMzJTIiwgQ1ZfMzJTLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDVl8zMkYiLCBDVl8zMkYsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNWXzY0RiIsIENWXzY0RiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ1ZfOFVDMSIsIENWXzhVQzEsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNWXzhVQzIiLCBDVl84VUMyLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDVl84VUMzIiwgQ1ZfOFVDMywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ1ZfOFVDNCIsIENWXzhVQzQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNWXzhTQzEiLCBDVl84U0MxLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDVl84U0MyIiwgQ1ZfOFNDMiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ1ZfOFNDMyIsIENWXzhTQzMsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNWXzhTQzQiLCBDVl84U0M0LCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDVl8xNlVDMSIsIENWXzE2VUMxLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDVl8xNlVDMiIsIENWXzE2VUMyLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDVl8xNlVDMyIsIENWXzE2VUMzLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDVl8xNlVDNCIsIENWXzE2VUM0LCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDVl8xNlNDMSIsIENWXzE2U0MxLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDVl8xNlNDMiIsIENWXzE2U0MyLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDVl8xNlNDMyIsIENWXzE2U0MzLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDVl8xNlNDNCIsIENWXzE2U0M0LCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDVl8zMlNDMSIsIENWXzMyU0MxLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDVl8zMlNDMiIsIENWXzMyU0MyLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDVl8zMlNDMyIsIENWXzMyU0MzLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDVl8zMlNDNCIsIENWXzMyU0M0LCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDVl8zMkZDMSIsIENWXzMyRkMxLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDVl8zMkZDMiIsIENWXzMyRkMyLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDVl8zMkZDMyIsIENWXzMyRkMzLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDVl8zMkZDNCIsIENWXzMyRkM0LCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDVl82NEZDMSIsIENWXzY0RkMxLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDVl82NEZDMiIsIENWXzY0RkMyLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDVl82NEZDMyIsIENWXzY0RkMzLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDVl82NEZDNCIsIENWXzY0RkM0LCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJOT1JNX0hBTU1JTkciLCBjdjo6Tk9STV9IQU1NSU5HLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJOT1JNX0hBTU1JTkcyIiwgY3Y6Ok5PUk1fSEFNTUlORzIsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIk5PUk1fSU5GIiwgY3Y6Ok5PUk1fSU5GLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJOT1JNX0wxIiwgY3Y6Ok5PUk1fTDEsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIk5PUk1fTDIiLCBjdjo6Tk9STV9MMiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiTk9STV9MMlNRUiIsIGN2OjpOT1JNX0wyU1FSLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJOT1JNX01JTk1BWCIsIGN2OjpOT1JNX01JTk1BWCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiTk9STV9SRUxBVElWRSIsIGN2OjpOT1JNX1JFTEFUSVZFLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJOT1JNX1RZUEVfTUFTSyIsIGN2OjpOT1JNX1RZUEVfTUFTSywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfQkdSMkJHUkEiLCBjdjo6Q09MT1JfQkdSMkJHUkEsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1JHQjJSR0JBIiwgY3Y6OkNPTE9SX1JHQjJSR0JBLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9CR1JBMkJHUiIsIGN2OjpDT0xPUl9CR1JBMkJHUiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfUkdCQTJSR0IiLCBjdjo6Q09MT1JfUkdCQTJSR0IsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX0JHUjJSR0JBIiwgY3Y6OkNPTE9SX0JHUjJSR0JBLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9SR0IyQkdSQSIsIGN2OjpDT0xPUl9SR0IyQkdSQSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfUkdCQTJCR1IiLCBjdjo6Q09MT1JfUkdCQTJCR1IsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX0JHUkEyUkdCIiwgY3Y6OkNPTE9SX0JHUkEyUkdCLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9CR1IyUkdCIiwgY3Y6OkNPTE9SX0JHUjJSR0IsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1JHQjJCR1IiLCBjdjo6Q09MT1JfUkdCMkJHUiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfQkdSQTJSR0JBIiwgY3Y6OkNPTE9SX0JHUkEyUkdCQSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfUkdCQTJCR1JBIiwgY3Y6OkNPTE9SX1JHQkEyQkdSQSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfQkdSMkdSQVkiLCBjdjo6Q09MT1JfQkdSMkdSQVksIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1JHQjJHUkFZIiwgY3Y6OkNPTE9SX1JHQjJHUkFZLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9HUkFZMkJHUiIsIGN2OjpDT0xPUl9HUkFZMkJHUiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfR1JBWTJSR0IiLCBjdjo6Q09MT1JfR1JBWTJSR0IsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX0dSQVkyQkdSQSIsIGN2OjpDT0xPUl9HUkFZMkJHUkEsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX0dSQVkyUkdCQSIsIGN2OjpDT0xPUl9HUkFZMlJHQkEsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX0JHUkEyR1JBWSIsIGN2OjpDT0xPUl9CR1JBMkdSQVksIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1JHQkEyR1JBWSIsIGN2OjpDT0xPUl9SR0JBMkdSQVksIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX0JHUjJCR1I1NjUiLCBjdjo6Q09MT1JfQkdSMkJHUjU2NSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfUkdCMkJHUjU2NSIsIGN2OjpDT0xPUl9SR0IyQkdSNTY1LCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9CR1I1NjUyQkdSIiwgY3Y6OkNPTE9SX0JHUjU2NTJCR1IsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX0JHUjU2NTJSR0IiLCBjdjo6Q09MT1JfQkdSNTY1MlJHQiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfQkdSQTJCR1I1NjUiLCBjdjo6Q09MT1JfQkdSQTJCR1I1NjUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1JHQkEyQkdSNTY1IiwgY3Y6OkNPTE9SX1JHQkEyQkdSNTY1LCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9CR1I1NjUyQkdSQSIsIGN2OjpDT0xPUl9CR1I1NjUyQkdSQSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfQkdSNTY1MlJHQkEiLCBjdjo6Q09MT1JfQkdSNTY1MlJHQkEsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX0dSQVkyQkdSNTY1IiwgY3Y6OkNPTE9SX0dSQVkyQkdSNTY1LCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9CR1I1NjUyR1JBWSIsIGN2OjpDT0xPUl9CR1I1NjUyR1JBWSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfQkdSMkJHUjU1NSIsIGN2OjpDT0xPUl9CR1IyQkdSNTU1LCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9SR0IyQkdSNTU1IiwgY3Y6OkNPTE9SX1JHQjJCR1I1NTUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX0JHUjU1NTJCR1IiLCBjdjo6Q09MT1JfQkdSNTU1MkJHUiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfQkdSNTU1MlJHQiIsIGN2OjpDT0xPUl9CR1I1NTUyUkdCLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9CR1JBMkJHUjU1NSIsIGN2OjpDT0xPUl9CR1JBMkJHUjU1NSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfUkdCQTJCR1I1NTUiLCBjdjo6Q09MT1JfUkdCQTJCR1I1NTUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX0JHUjU1NTJCR1JBIiwgY3Y6OkNPTE9SX0JHUjU1NTJCR1JBLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9CR1I1NTUyUkdCQSIsIGN2OjpDT0xPUl9CR1I1NTUyUkdCQSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfR1JBWTJCR1I1NTUiLCBjdjo6Q09MT1JfR1JBWTJCR1I1NTUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX0JHUjU1NTJHUkFZIiwgY3Y6OkNPTE9SX0JHUjU1NTJHUkFZLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9CR1IyWFlaIiwgY3Y6OkNPTE9SX0JHUjJYWVosIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1JHQjJYWVoiLCBjdjo6Q09MT1JfUkdCMlhZWiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWFlaMkJHUiIsIGN2OjpDT0xPUl9YWVoyQkdSLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9YWVoyUkdCIiwgY3Y6OkNPTE9SX1hZWjJSR0IsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX0JHUjJZQ3JDYiIsIGN2OjpDT0xPUl9CR1IyWUNyQ2IsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1JHQjJZQ3JDYiIsIGN2OjpDT0xPUl9SR0IyWUNyQ2IsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1lDckNiMkJHUiIsIGN2OjpDT0xPUl9ZQ3JDYjJCR1IsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1lDckNiMlJHQiIsIGN2OjpDT0xPUl9ZQ3JDYjJSR0IsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX0JHUjJIU1YiLCBjdjo6Q09MT1JfQkdSMkhTViwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfUkdCMkhTViIsIGN2OjpDT0xPUl9SR0IySFNWLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9CR1IyTGFiIiwgY3Y6OkNPTE9SX0JHUjJMYWIsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1JHQjJMYWIiLCBjdjo6Q09MT1JfUkdCMkxhYiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfQkdSMkx1diIsIGN2OjpDT0xPUl9CR1IyTHV2LCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9SR0IyTHV2IiwgY3Y6OkNPTE9SX1JHQjJMdXYsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX0JHUjJITFMiLCBjdjo6Q09MT1JfQkdSMkhMUywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfUkdCMkhMUyIsIGN2OjpDT0xPUl9SR0IySExTLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9IU1YyQkdSIiwgY3Y6OkNPTE9SX0hTVjJCR1IsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX0hTVjJSR0IiLCBjdjo6Q09MT1JfSFNWMlJHQiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfTGFiMkJHUiIsIGN2OjpDT0xPUl9MYWIyQkdSLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9MYWIyUkdCIiwgY3Y6OkNPTE9SX0xhYjJSR0IsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX0x1djJCR1IiLCBjdjo6Q09MT1JfTHV2MkJHUiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfTHV2MlJHQiIsIGN2OjpDT0xPUl9MdXYyUkdCLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9ITFMyQkdSIiwgY3Y6OkNPTE9SX0hMUzJCR1IsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX0hMUzJSR0IiLCBjdjo6Q09MT1JfSExTMlJHQiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfQkdSMkhTVl9GVUxMIiwgY3Y6OkNPTE9SX0JHUjJIU1ZfRlVMTCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfUkdCMkhTVl9GVUxMIiwgY3Y6OkNPTE9SX1JHQjJIU1ZfRlVMTCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfQkdSMkhMU19GVUxMIiwgY3Y6OkNPTE9SX0JHUjJITFNfRlVMTCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfUkdCMkhMU19GVUxMIiwgY3Y6OkNPTE9SX1JHQjJITFNfRlVMTCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfSFNWMkJHUl9GVUxMIiwgY3Y6OkNPTE9SX0hTVjJCR1JfRlVMTCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfSFNWMlJHQl9GVUxMIiwgY3Y6OkNPTE9SX0hTVjJSR0JfRlVMTCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfSExTMkJHUl9GVUxMIiwgY3Y6OkNPTE9SX0hMUzJCR1JfRlVMTCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfSExTMlJHQl9GVUxMIiwgY3Y6OkNPTE9SX0hMUzJSR0JfRlVMTCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfTEJHUjJMYWIiLCBjdjo6Q09MT1JfTEJHUjJMYWIsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX0xSR0IyTGFiIiwgY3Y6OkNPTE9SX0xSR0IyTGFiLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9MQkdSMkx1diIsIGN2OjpDT0xPUl9MQkdSMkx1diwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfTFJHQjJMdXYiLCBjdjo6Q09MT1JfTFJHQjJMdXYsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX0xhYjJMQkdSIiwgY3Y6OkNPTE9SX0xhYjJMQkdSLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9MYWIyTFJHQiIsIGN2OjpDT0xPUl9MYWIyTFJHQiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfTHV2MkxCR1IiLCBjdjo6Q09MT1JfTHV2MkxCR1IsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX0x1djJMUkdCIiwgY3Y6OkNPTE9SX0x1djJMUkdCLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9CR1IyWVVWIiwgY3Y6OkNPTE9SX0JHUjJZVVYsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1JHQjJZVVYiLCBjdjo6Q09MT1JfUkdCMllVViwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWMkJHUiIsIGN2OjpDT0xPUl9ZVVYyQkdSLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9ZVVYyUkdCIiwgY3Y6OkNPTE9SX1lVVjJSR0IsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1lVVjJSR0JfTlYxMiIsIGN2OjpDT0xPUl9ZVVYyUkdCX05WMTIsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1lVVjJCR1JfTlYxMiIsIGN2OjpDT0xPUl9ZVVYyQkdSX05WMTIsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1lVVjJSR0JfTlYyMSIsIGN2OjpDT0xPUl9ZVVYyUkdCX05WMjEsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1lVVjJCR1JfTlYyMSIsIGN2OjpDT0xPUl9ZVVYyQkdSX05WMjEsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1lVVjQyMHNwMlJHQiIsIGN2OjpDT0xPUl9ZVVY0MjBzcDJSR0IsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1lVVjQyMHNwMkJHUiIsIGN2OjpDT0xPUl9ZVVY0MjBzcDJCR1IsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1lVVjJSR0JBX05WMTIiLCBjdjo6Q09MT1JfWVVWMlJHQkFfTlYxMiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWMkJHUkFfTlYxMiIsIGN2OjpDT0xPUl9ZVVYyQkdSQV9OVjEyLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9ZVVYyUkdCQV9OVjIxIiwgY3Y6OkNPTE9SX1lVVjJSR0JBX05WMjEsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1lVVjJCR1JBX05WMjEiLCBjdjo6Q09MT1JfWVVWMkJHUkFfTlYyMSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWNDIwc3AyUkdCQSIsIGN2OjpDT0xPUl9ZVVY0MjBzcDJSR0JBLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9ZVVY0MjBzcDJCR1JBIiwgY3Y6OkNPTE9SX1lVVjQyMHNwMkJHUkEsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1lVVjJSR0JfWVYxMiIsIGN2OjpDT0xPUl9ZVVYyUkdCX1lWMTIsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1lVVjJCR1JfWVYxMiIsIGN2OjpDT0xPUl9ZVVYyQkdSX1lWMTIsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1lVVjJSR0JfSVlVViIsIGN2OjpDT0xPUl9ZVVYyUkdCX0lZVVYsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1lVVjJCR1JfSVlVViIsIGN2OjpDT0xPUl9ZVVYyQkdSX0lZVVYsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1lVVjJSR0JfSTQyMCIsIGN2OjpDT0xPUl9ZVVYyUkdCX0k0MjAsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1lVVjJCR1JfSTQyMCIsIGN2OjpDT0xPUl9ZVVYyQkdSX0k0MjAsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1lVVjQyMHAyUkdCIiwgY3Y6OkNPTE9SX1lVVjQyMHAyUkdCLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9ZVVY0MjBwMkJHUiIsIGN2OjpDT0xPUl9ZVVY0MjBwMkJHUiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWMlJHQkFfWVYxMiIsIGN2OjpDT0xPUl9ZVVYyUkdCQV9ZVjEyLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9ZVVYyQkdSQV9ZVjEyIiwgY3Y6OkNPTE9SX1lVVjJCR1JBX1lWMTIsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1lVVjJSR0JBX0lZVVYiLCBjdjo6Q09MT1JfWVVWMlJHQkFfSVlVViwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWMkJHUkFfSVlVViIsIGN2OjpDT0xPUl9ZVVYyQkdSQV9JWVVWLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9ZVVYyUkdCQV9JNDIwIiwgY3Y6OkNPTE9SX1lVVjJSR0JBX0k0MjAsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1lVVjJCR1JBX0k0MjAiLCBjdjo6Q09MT1JfWVVWMkJHUkFfSTQyMCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWNDIwcDJSR0JBIiwgY3Y6OkNPTE9SX1lVVjQyMHAyUkdCQSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWNDIwcDJCR1JBIiwgY3Y6OkNPTE9SX1lVVjQyMHAyQkdSQSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWMkdSQVlfNDIwIiwgY3Y6OkNPTE9SX1lVVjJHUkFZXzQyMCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWMkdSQVlfTlYyMSIsIGN2OjpDT0xPUl9ZVVYyR1JBWV9OVjIxLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9ZVVYyR1JBWV9OVjEyIiwgY3Y6OkNPTE9SX1lVVjJHUkFZX05WMTIsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1lVVjJHUkFZX1lWMTIiLCBjdjo6Q09MT1JfWVVWMkdSQVlfWVYxMiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWMkdSQVlfSVlVViIsIGN2OjpDT0xPUl9ZVVYyR1JBWV9JWVVWLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9ZVVYyR1JBWV9JNDIwIiwgY3Y6OkNPTE9SX1lVVjJHUkFZX0k0MjAsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1lVVjQyMHNwMkdSQVkiLCBjdjo6Q09MT1JfWVVWNDIwc3AyR1JBWSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWNDIwcDJHUkFZIiwgY3Y6OkNPTE9SX1lVVjQyMHAyR1JBWSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWMlJHQl9VWVZZIiwgY3Y6OkNPTE9SX1lVVjJSR0JfVVlWWSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWMkJHUl9VWVZZIiwgY3Y6OkNPTE9SX1lVVjJCR1JfVVlWWSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWMlJHQl9ZNDIyIiwgY3Y6OkNPTE9SX1lVVjJSR0JfWTQyMiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWMkJHUl9ZNDIyIiwgY3Y6OkNPTE9SX1lVVjJCR1JfWTQyMiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWMlJHQl9VWU5WIiwgY3Y6OkNPTE9SX1lVVjJSR0JfVVlOViwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWMkJHUl9VWU5WIiwgY3Y6OkNPTE9SX1lVVjJCR1JfVVlOViwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWMlJHQkFfVVlWWSIsIGN2OjpDT0xPUl9ZVVYyUkdCQV9VWVZZLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9ZVVYyQkdSQV9VWVZZIiwgY3Y6OkNPTE9SX1lVVjJCR1JBX1VZVlksIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1lVVjJSR0JBX1k0MjIiLCBjdjo6Q09MT1JfWVVWMlJHQkFfWTQyMiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWMkJHUkFfWTQyMiIsIGN2OjpDT0xPUl9ZVVYyQkdSQV9ZNDIyLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9ZVVYyUkdCQV9VWU5WIiwgY3Y6OkNPTE9SX1lVVjJSR0JBX1VZTlYsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1lVVjJCR1JBX1VZTlYiLCBjdjo6Q09MT1JfWVVWMkJHUkFfVVlOViwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWMlJHQl9ZVVkyIiwgY3Y6OkNPTE9SX1lVVjJSR0JfWVVZMiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWMkJHUl9ZVVkyIiwgY3Y6OkNPTE9SX1lVVjJCR1JfWVVZMiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWMlJHQl9ZVllVIiwgY3Y6OkNPTE9SX1lVVjJSR0JfWVZZVSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWMkJHUl9ZVllVIiwgY3Y6OkNPTE9SX1lVVjJCR1JfWVZZVSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWMlJHQl9ZVVlWIiwgY3Y6OkNPTE9SX1lVVjJSR0JfWVVZViwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWMkJHUl9ZVVlWIiwgY3Y6OkNPTE9SX1lVVjJCR1JfWVVZViwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWMlJHQl9ZVU5WIiwgY3Y6OkNPTE9SX1lVVjJSR0JfWVVOViwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWMkJHUl9ZVU5WIiwgY3Y6OkNPTE9SX1lVVjJCR1JfWVVOViwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWMlJHQkFfWVVZMiIsIGN2OjpDT0xPUl9ZVVYyUkdCQV9ZVVkyLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9ZVVYyQkdSQV9ZVVkyIiwgY3Y6OkNPTE9SX1lVVjJCR1JBX1lVWTIsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1lVVjJSR0JBX1lWWVUiLCBjdjo6Q09MT1JfWVVWMlJHQkFfWVZZVSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWMkJHUkFfWVZZVSIsIGN2OjpDT0xPUl9ZVVYyQkdSQV9ZVllVLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9ZVVYyUkdCQV9ZVVlWIiwgY3Y6OkNPTE9SX1lVVjJSR0JBX1lVWVYsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1lVVjJCR1JBX1lVWVYiLCBjdjo6Q09MT1JfWVVWMkJHUkFfWVVZViwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWMlJHQkFfWVVOViIsIGN2OjpDT0xPUl9ZVVYyUkdCQV9ZVU5WLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9ZVVYyQkdSQV9ZVU5WIiwgY3Y6OkNPTE9SX1lVVjJCR1JBX1lVTlYsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1lVVjJHUkFZX1VZVlkiLCBjdjo6Q09MT1JfWVVWMkdSQVlfVVlWWSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWMkdSQVlfWVVZMiIsIGN2OjpDT0xPUl9ZVVYyR1JBWV9ZVVkyLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9ZVVYyR1JBWV9ZNDIyIiwgY3Y6OkNPTE9SX1lVVjJHUkFZX1k0MjIsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1lVVjJHUkFZX1VZTlYiLCBjdjo6Q09MT1JfWVVWMkdSQVlfVVlOViwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfWVVWMkdSQVlfWVZZVSIsIGN2OjpDT0xPUl9ZVVYyR1JBWV9ZVllVLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9ZVVYyR1JBWV9ZVVlWIiwgY3Y6OkNPTE9SX1lVVjJHUkFZX1lVWVYsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1lVVjJHUkFZX1lVTlYiLCBjdjo6Q09MT1JfWVVWMkdSQVlfWVVOViwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfUkdCQTJtUkdCQSIsIGN2OjpDT0xPUl9SR0JBMm1SR0JBLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9tUkdCQTJSR0JBIiwgY3Y6OkNPTE9SX21SR0JBMlJHQkEsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1JHQjJZVVZfSTQyMCIsIGN2OjpDT0xPUl9SR0IyWVVWX0k0MjAsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX0JHUjJZVVZfSTQyMCIsIGN2OjpDT0xPUl9CR1IyWVVWX0k0MjAsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1JHQjJZVVZfSVlVViIsIGN2OjpDT0xPUl9SR0IyWVVWX0lZVVYsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX0JHUjJZVVZfSVlVViIsIGN2OjpDT0xPUl9CR1IyWVVWX0lZVVYsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX1JHQkEyWVVWX0k0MjAiLCBjdjo6Q09MT1JfUkdCQTJZVVZfSTQyMCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfQkdSQTJZVVZfSTQyMCIsIGN2OjpDT0xPUl9CR1JBMllVVl9JNDIwLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9SR0JBMllVVl9JWVVWIiwgY3Y6OkNPTE9SX1JHQkEyWVVWX0lZVVYsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX0JHUkEyWVVWX0lZVVYiLCBjdjo6Q09MT1JfQkdSQTJZVVZfSVlVViwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfUkdCMllVVl9ZVjEyIiwgY3Y6OkNPTE9SX1JHQjJZVVZfWVYxMiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfQkdSMllVVl9ZVjEyIiwgY3Y6OkNPTE9SX0JHUjJZVVZfWVYxMiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfUkdCQTJZVVZfWVYxMiIsIGN2OjpDT0xPUl9SR0JBMllVVl9ZVjEyLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9CR1JBMllVVl9ZVjEyIiwgY3Y6OkNPTE9SX0JHUkEyWVVWX1lWMTIsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX0JheWVyQkcyQkdSIiwgY3Y6OkNPTE9SX0JheWVyQkcyQkdSLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9CYXllckdCMkJHUiIsIGN2OjpDT0xPUl9CYXllckdCMkJHUiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfQmF5ZXJSRzJCR1IiLCBjdjo6Q09MT1JfQmF5ZXJSRzJCR1IsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX0JheWVyR1IyQkdSIiwgY3Y6OkNPTE9SX0JheWVyR1IyQkdSLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9CYXllckJHMlJHQiIsIGN2OjpDT0xPUl9CYXllckJHMlJHQiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfQmF5ZXJHQjJSR0IiLCBjdjo6Q09MT1JfQmF5ZXJHQjJSR0IsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX0JheWVyUkcyUkdCIiwgY3Y6OkNPTE9SX0JheWVyUkcyUkdCLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9CYXllckdSMlJHQiIsIGN2OjpDT0xPUl9CYXllckdSMlJHQiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfQmF5ZXJCRzJHUkFZIiwgY3Y6OkNPTE9SX0JheWVyQkcyR1JBWSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfQmF5ZXJHQjJHUkFZIiwgY3Y6OkNPTE9SX0JheWVyR0IyR1JBWSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfQmF5ZXJSRzJHUkFZIiwgY3Y6OkNPTE9SX0JheWVyUkcyR1JBWSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfQmF5ZXJHUjJHUkFZIiwgY3Y6OkNPTE9SX0JheWVyR1IyR1JBWSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfQmF5ZXJCRzJCR1JfVk5HIiwgY3Y6OkNPTE9SX0JheWVyQkcyQkdSX1ZORywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfQmF5ZXJHQjJCR1JfVk5HIiwgY3Y6OkNPTE9SX0JheWVyR0IyQkdSX1ZORywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfQmF5ZXJSRzJCR1JfVk5HIiwgY3Y6OkNPTE9SX0JheWVyUkcyQkdSX1ZORywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfQmF5ZXJHUjJCR1JfVk5HIiwgY3Y6OkNPTE9SX0JheWVyR1IyQkdSX1ZORywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfQmF5ZXJCRzJSR0JfVk5HIiwgY3Y6OkNPTE9SX0JheWVyQkcyUkdCX1ZORywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfQmF5ZXJHQjJSR0JfVk5HIiwgY3Y6OkNPTE9SX0JheWVyR0IyUkdCX1ZORywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfQmF5ZXJSRzJSR0JfVk5HIiwgY3Y6OkNPTE9SX0JheWVyUkcyUkdCX1ZORywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfQmF5ZXJHUjJSR0JfVk5HIiwgY3Y6OkNPTE9SX0JheWVyR1IyUkdCX1ZORywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfQmF5ZXJCRzJCR1JfRUEiLCBjdjo6Q09MT1JfQmF5ZXJCRzJCR1JfRUEsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX0JheWVyR0IyQkdSX0VBIiwgY3Y6OkNPTE9SX0JheWVyR0IyQkdSX0VBLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9CYXllclJHMkJHUl9FQSIsIGN2OjpDT0xPUl9CYXllclJHMkJHUl9FQSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfQmF5ZXJHUjJCR1JfRUEiLCBjdjo6Q09MT1JfQmF5ZXJHUjJCR1JfRUEsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX0JheWVyQkcyUkdCX0VBIiwgY3Y6OkNPTE9SX0JheWVyQkcyUkdCX0VBLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9CYXllckdCMlJHQl9FQSIsIGN2OjpDT0xPUl9CYXllckdCMlJHQl9FQSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09MT1JfQmF5ZXJSRzJSR0JfRUEiLCBjdjo6Q09MT1JfQmF5ZXJSRzJSR0JfRUEsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTE9SX0JheWVyR1IyUkdCX0VBIiwgY3Y6OkNPTE9SX0JheWVyR1IyUkdCX0VBLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9CYXllckJHMkJHUkEiLCBjdjo6Q09MT1JfQmF5ZXJCRzJCR1JBLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9CYXllckdCMkJHUkEiLCBjdjo6Q09MT1JfQmF5ZXJHQjJCR1JBLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9CYXllclJHMkJHUkEiLCBjdjo6Q09MT1JfQmF5ZXJSRzJCR1JBLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9CYXllckdSMkJHUkEiLCBjdjo6Q09MT1JfQmF5ZXJHUjJCR1JBLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9CYXllckJHMlJHQkEiLCBjdjo6Q09MT1JfQmF5ZXJCRzJSR0JBLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9CYXllckdCMlJHQkEiLCBjdjo6Q09MT1JfQmF5ZXJHQjJSR0JBLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9CYXllclJHMlJHQkEiLCBjdjo6Q09MT1JfQmF5ZXJSRzJSR0JBLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT0xPUl9CYXllckdSMlJHQkEiLCBjdjo6Q09MT1JfQmF5ZXJHUjJSR0JBLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJSRVRSX0VYVEVSTkFMIiwgY3Y6OlJFVFJfRVhURVJOQUwsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIlJFVFJfTElTVCIsIGN2OjpSRVRSX0xJU1QsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIlJFVFJfQ0NPTVAiLCBjdjo6UkVUUl9DQ09NUCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiUkVUUl9UUkVFIiwgY3Y6OlJFVFJfVFJFRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiUkVUUl9GTE9PREZJTEwiLCBjdjo6UkVUUl9GTE9PREZJTEwsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNIQUlOX0FQUFJPWF9OT05FIiwgY3Y6OkNIQUlOX0FQUFJPWF9OT05FLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDSEFJTl9BUFBST1hfU0lNUExFIiwgY3Y6OkNIQUlOX0FQUFJPWF9TSU1QTEUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNIQUlOX0FQUFJPWF9UQzg5X0wxIiwgY3Y6OkNIQUlOX0FQUFJPWF9UQzg5X0wxLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDSEFJTl9BUFBST1hfVEM4OV9LQ09TIiwgY3Y6OkNIQUlOX0FQUFJPWF9UQzg5X0tDT1MsIDApLAoKICAgIEpTX1BST1BfSU5UMzJfREVGKCJCT1JERVJfQ09OU1RBTlQiLCBjdjo6Qk9SREVSX0NPTlNUQU5ULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJCT1JERVJfUkVQTElDQVRFIiwgY3Y6OkJPUkRFUl9SRVBMSUNBVEUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkJPUkRFUl9SRUZMRUNUIiwgY3Y6OkJPUkRFUl9SRUZMRUNULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJCT1JERVJfV1JBUCIsIGN2OjpCT1JERVJfV1JBUCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQk9SREVSX1JFRkxFQ1RfMTAxIiwgY3Y6OkJPUkRFUl9SRUZMRUNUXzEwMSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQk9SREVSX1RSQU5TUEFSRU5UIiwgY3Y6OkJPUkRFUl9UUkFOU1BBUkVOVCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQk9SREVSX1JFRkxFQ1QxMDEiLCBjdjo6Qk9SREVSX1JFRkxFQ1QxMDEsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkJPUkRFUl9ERUZBVUxUIiwgY3Y6OkJPUkRFUl9ERUZBVUxULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJCT1JERVJfSVNPTEFURUQiLCBjdjo6Qk9SREVSX0lTT0xBVEVELCAwKSwKCiAgICBKU19QUk9QX0lOVDMyX0RFRigiVEhSRVNIX0JJTkFSWSIsIGN2OjpUSFJFU0hfQklOQVJZLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJUSFJFU0hfQklOQVJZX0lOViIsIGN2OjpUSFJFU0hfQklOQVJZX0lOViwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiVEhSRVNIX1RSVU5DIiwgY3Y6OlRIUkVTSF9UUlVOQywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiVEhSRVNIX1RPWkVSTyIsIGN2OjpUSFJFU0hfVE9aRVJPLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJUSFJFU0hfVE9aRVJPX0lOViIsIGN2OjpUSFJFU0hfVE9aRVJPX0lOViwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiVEhSRVNIX01BU0siLCBjdjo6VEhSRVNIX01BU0ssIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIlRIUkVTSF9PVFNVIiwgY3Y6OlRIUkVTSF9PVFNVLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJUSFJFU0hfVFJJQU5HTEUiLCBjdjo6VEhSRVNIX1RSSUFOR0xFLCAwKSwKCiAgICBKU19QUk9QX0lOVDMyX0RFRigiTU9SUEhfUkVDVCIsIGN2OjpNT1JQSF9SRUNULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJNT1JQSF9DUk9TUyIsIGN2OjpNT1JQSF9DUk9TUywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiTU9SUEhfRUxMSVBTRSIsIGN2OjpNT1JQSF9FTExJUFNFLCAwKSwKICAgIC8qfTsKICAgIGNvbnN0IGpzX2Z1bmN0aW9uX2xpc3RfdCBqc19jdl92aWRlb2NhcHR1cmVfZmxhZ3N7Ki8KICAgIEpTX1BST1BfSU5UMzJfREVGKCJDQVBfQU5ZIiwgY3Y6OkNBUF9BTlksIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNBUF9WRlciLCBjdjo6Q0FQX1ZGVywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0FQX1Y0TCIsIGN2OjpDQVBfVjRMLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDQVBfVjRMMiIsIGN2OjpDQVBfVjRMMiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0FQX0ZJUkVXSVJFIiwgY3Y6OkNBUF9GSVJFV0lSRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0FQX0ZJUkVXQVJFIiwgY3Y6OkNBUF9GSVJFV0FSRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0FQX0lFRUUxMzk0IiwgY3Y6OkNBUF9JRUVFMTM5NCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0FQX0RDMTM5NCIsIGN2OjpDQVBfREMxMzk0LCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDQVBfQ01VMTM5NCIsIGN2OjpDQVBfQ01VMTM5NCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0FQX1FUIiwgY3Y6OkNBUF9RVCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0FQX1VOSUNBUCIsIGN2OjpDQVBfVU5JQ0FQLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDQVBfRFNIT1ciLCBjdjo6Q0FQX0RTSE9XLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDQVBfUFZBUEkiLCBjdjo6Q0FQX1BWQVBJLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDQVBfT1BFTk5JIiwgY3Y6OkNBUF9PUEVOTkksIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNBUF9PUEVOTklfQVNVUyIsIGN2OjpDQVBfT1BFTk5JX0FTVVMsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNBUF9BTkRST0lEIiwgY3Y6OkNBUF9BTkRST0lELCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDQVBfWElBUEkiLCBjdjo6Q0FQX1hJQVBJLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDQVBfQVZGT1VOREFUSU9OIiwgY3Y6OkNBUF9BVkZPVU5EQVRJT04sIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNBUF9HSUdBTkVUSVgiLCBjdjo6Q0FQX0dJR0FORVRJWCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0FQX01TTUYiLCBjdjo6Q0FQX01TTUYsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNBUF9XSU5SVCIsIGN2OjpDQVBfV0lOUlQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNBUF9JTlRFTFBFUkMiLCBjdjo6Q0FQX0lOVEVMUEVSQywgMCksCiAgICAvLyBKU19QUk9QX0lOVDMyX0RFRigiQ0FQX1JFQUxTRU5TRSIsIGN2OjpDQVBfUkVBTFNFTlNFLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDQVBfT1BFTk5JMiIsIGN2OjpDQVBfT1BFTk5JMiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0FQX09QRU5OSTJfQVNVUyIsIGN2OjpDQVBfT1BFTk5JMl9BU1VTLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDQVBfR1BIT1RPMiIsIGN2OjpDQVBfR1BIT1RPMiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0FQX0dTVFJFQU1FUiIsIGN2OjpDQVBfR1NUUkVBTUVSLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDQVBfRkZNUEVHIiwgY3Y6OkNBUF9GRk1QRUcsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNBUF9JTUFHRVMiLCBjdjo6Q0FQX0lNQUdFUywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0FQX0FSQVZJUyIsIGN2OjpDQVBfQVJBVklTLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDQVBfT1BFTkNWX01KUEVHIiwgY3Y6OkNBUF9PUEVOQ1ZfTUpQRUcsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNBUF9JTlRFTF9NRlgiLCBjdjo6Q0FQX0lOVEVMX01GWCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0FQX1hJTkUiLCBjdjo6Q0FQX1hJTkUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNBUF9QUk9QX1BPU19NU0VDIiwgY3Y6OkNBUF9QUk9QX1BPU19NU0VDLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDQVBfUFJPUF9QT1NfRlJBTUVTIiwgY3Y6OkNBUF9QUk9QX1BPU19GUkFNRVMsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNBUF9QUk9QX1BPU19BVklfUkFUSU8iLCBjdjo6Q0FQX1BST1BfUE9TX0FWSV9SQVRJTywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0FQX1BST1BfRlJBTUVfV0lEVEgiLCBjdjo6Q0FQX1BST1BfRlJBTUVfV0lEVEgsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNBUF9QUk9QX0ZSQU1FX0hFSUdIVCIsIGN2OjpDQVBfUFJPUF9GUkFNRV9IRUlHSFQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNBUF9QUk9QX0ZQUyIsIGN2OjpDQVBfUFJPUF9GUFMsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNBUF9QUk9QX0ZPVVJDQyIsIGN2OjpDQVBfUFJPUF9GT1VSQ0MsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNBUF9QUk9QX0ZSQU1FX0NPVU5UIiwgY3Y6OkNBUF9QUk9QX0ZSQU1FX0NPVU5ULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDQVBfUFJPUF9GT1JNQVQiLCBjdjo6Q0FQX1BST1BfRk9STUFULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDQVBfUFJPUF9NT0RFIiwgY3Y6OkNBUF9QUk9QX01PREUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNBUF9QUk9QX0JSSUdIVE5FU1MiLCBjdjo6Q0FQX1BST1BfQlJJR0hUTkVTUywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0FQX1BST1BfQ09OVFJBU1QiLCBjdjo6Q0FQX1BST1BfQ09OVFJBU1QsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNBUF9QUk9QX1NBVFVSQVRJT04iLCBjdjo6Q0FQX1BST1BfU0FUVVJBVElPTiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0FQX1BST1BfSFVFIiwgY3Y6OkNBUF9QUk9QX0hVRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0FQX1BST1BfR0FJTiIsIGN2OjpDQVBfUFJPUF9HQUlOLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDQVBfUFJPUF9FWFBPU1VSRSIsIGN2OjpDQVBfUFJPUF9FWFBPU1VSRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0FQX1BST1BfQ09OVkVSVF9SR0IiLCBjdjo6Q0FQX1BST1BfQ09OVkVSVF9SR0IsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNBUF9QUk9QX1dISVRFX0JBTEFOQ0VfQkxVRV9VIiwgY3Y6OkNBUF9QUk9QX1dISVRFX0JBTEFOQ0VfQkxVRV9VLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDQVBfUFJPUF9SRUNUSUZJQ0FUSU9OIiwgY3Y6OkNBUF9QUk9QX1JFQ1RJRklDQVRJT04sIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNBUF9QUk9QX01PTk9DSFJPTUUiLCBjdjo6Q0FQX1BST1BfTU9OT0NIUk9NRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0FQX1BST1BfU0hBUlBORVNTIiwgY3Y6OkNBUF9QUk9QX1NIQVJQTkVTUywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0FQX1BST1BfQVVUT19FWFBPU1VSRSIsIGN2OjpDQVBfUFJPUF9BVVRPX0VYUE9TVVJFLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDQVBfUFJPUF9HQU1NQSIsIGN2OjpDQVBfUFJPUF9HQU1NQSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0FQX1BST1BfVEVNUEVSQVRVUkUiLCBjdjo6Q0FQX1BST1BfVEVNUEVSQVRVUkUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNBUF9QUk9QX1RSSUdHRVIiLCBjdjo6Q0FQX1BST1BfVFJJR0dFUiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0FQX1BST1BfVFJJR0dFUl9ERUxBWSIsIGN2OjpDQVBfUFJPUF9UUklHR0VSX0RFTEFZLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDQVBfUFJPUF9XSElURV9CQUxBTkNFX1JFRF9WIiwgY3Y6OkNBUF9QUk9QX1dISVRFX0JBTEFOQ0VfUkVEX1YsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNBUF9QUk9QX1pPT00iLCBjdjo6Q0FQX1BST1BfWk9PTSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0FQX1BST1BfRk9DVVMiLCBjdjo6Q0FQX1BST1BfRk9DVVMsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNBUF9QUk9QX0dVSUQiLCBjdjo6Q0FQX1BST1BfR1VJRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0FQX1BST1BfSVNPX1NQRUVEIiwgY3Y6OkNBUF9QUk9QX0lTT19TUEVFRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0FQX1BST1BfQkFDS0xJR0hUIiwgY3Y6OkNBUF9QUk9QX0JBQ0tMSUdIVCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0FQX1BST1BfUEFOIiwgY3Y6OkNBUF9QUk9QX1BBTiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0FQX1BST1BfVElMVCIsIGN2OjpDQVBfUFJPUF9USUxULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDQVBfUFJPUF9ST0xMIiwgY3Y6OkNBUF9QUk9QX1JPTEwsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNBUF9QUk9QX0lSSVMiLCBjdjo6Q0FQX1BST1BfSVJJUywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0FQX1BST1BfU0VUVElOR1MiLCBjdjo6Q0FQX1BST1BfU0VUVElOR1MsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNBUF9QUk9QX0JVRkZFUlNJWkUiLCBjdjo6Q0FQX1BST1BfQlVGRkVSU0laRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0FQX1BST1BfQVVUT0ZPQ1VTIiwgY3Y6OkNBUF9QUk9QX0FVVE9GT0NVUywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0FQX1BST1BfU0FSX05VTSIsIGN2OjpDQVBfUFJPUF9TQVJfTlVNLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDQVBfUFJPUF9TQVJfREVOIiwgY3Y6OkNBUF9QUk9QX1NBUl9ERU4sIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNBUF9QUk9QX0JBQ0tFTkQiLCBjdjo6Q0FQX1BST1BfQkFDS0VORCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ0FQX1BST1BfQ0hBTk5FTCIsIGN2OjpDQVBfUFJPUF9DSEFOTkVMLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDQVBfUFJPUF9BVVRPX1dCIiwgY3Y6OkNBUF9QUk9QX0FVVE9fV0IsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNBUF9QUk9QX1dCX1RFTVBFUkFUVVJFIiwgY3Y6OkNBUF9QUk9QX1dCX1RFTVBFUkFUVVJFLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDQVBfUFJPUF9DT0RFQ19QSVhFTF9GT1JNQVQiLCBjdjo6Q0FQX1BST1BfQ09ERUNfUElYRUxfRk9STUFULCAwKSwKICAgIC8qfTsKICAgIGNvbnN0IGpzX2Z1bmN0aW9uX2xpc3RfdCBqc19jdl9oaWdoZ3VpX2ZsYWdzeyovCiAgICBKU19QUk9QX0lOVDMyX0RFRigiV0lORE9XX05PUk1BTCIsIGN2OjpXSU5ET1dfTk9STUFMLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJXSU5ET1dfQVVUT1NJWkUiLCBjdjo6V0lORE9XX0FVVE9TSVpFLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJXSU5ET1dfT1BFTkdMIiwgY3Y6OldJTkRPV19PUEVOR0wsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIldJTkRPV19GVUxMU0NSRUVOIiwgY3Y6OldJTkRPV19GVUxMU0NSRUVOLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJXSU5ET1dfRlJFRVJBVElPIiwgY3Y6OldJTkRPV19GUkVFUkFUSU8sIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIldJTkRPV19LRUVQUkFUSU8iLCBjdjo6V0lORE9XX0tFRVBSQVRJTywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiV0lORE9XX0dVSV9FWFBBTkRFRCIsIGN2OjpXSU5ET1dfR1VJX0VYUEFOREVELCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJXSU5ET1dfR1VJX05PUk1BTCIsIGN2OjpXSU5ET1dfR1VJX05PUk1BTCwgMCksCgogICAgSlNfUFJPUF9JTlQzMl9ERUYoIldORF9QUk9QX0ZVTExTQ1JFRU4iLCBjdjo6V05EX1BST1BfRlVMTFNDUkVFTiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiV05EX1BST1BfQVVUT1NJWkUiLCBjdjo6V05EX1BST1BfQVVUT1NJWkUsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIldORF9QUk9QX0FTUEVDVF9SQVRJTyIsIGN2OjpXTkRfUFJPUF9BU1BFQ1RfUkFUSU8sIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIldORF9QUk9QX09QRU5HTCIsIGN2OjpXTkRfUFJPUF9PUEVOR0wsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIldORF9QUk9QX1ZJU0lCTEUiLCBjdjo6V05EX1BST1BfVklTSUJMRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiV05EX1BST1BfVE9QTU9TVCIsIGN2OjpXTkRfUFJPUF9UT1BNT1NULCAwKSwKCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRVZFTlRfTU9VU0VNT1ZFIiwgY3Y6OkVWRU5UX01PVVNFTU9WRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRVZFTlRfTEJVVFRPTkRPV04iLCBjdjo6RVZFTlRfTEJVVFRPTkRPV04sIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVWRU5UX1JCVVRUT05ET1dOIiwgY3Y6OkVWRU5UX1JCVVRUT05ET1dOLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFVkVOVF9NQlVUVE9ORE9XTiIsIGN2OjpFVkVOVF9NQlVUVE9ORE9XTiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRVZFTlRfTEJVVFRPTlVQIiwgY3Y6OkVWRU5UX0xCVVRUT05VUCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRVZFTlRfUkJVVFRPTlVQIiwgY3Y6OkVWRU5UX1JCVVRUT05VUCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRVZFTlRfTUJVVFRPTlVQIiwgY3Y6OkVWRU5UX01CVVRUT05VUCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRVZFTlRfTEJVVFRPTkRCTENMSyIsIGN2OjpFVkVOVF9MQlVUVE9OREJMQ0xLLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFVkVOVF9SQlVUVE9OREJMQ0xLIiwgY3Y6OkVWRU5UX1JCVVRUT05EQkxDTEssIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVWRU5UX01CVVRUT05EQkxDTEsiLCBjdjo6RVZFTlRfTUJVVFRPTkRCTENMSywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRVZFTlRfTU9VU0VXSEVFTCIsIGN2OjpFVkVOVF9NT1VTRVdIRUVMLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJFVkVOVF9NT1VTRUhXSEVFTCIsIGN2OjpFVkVOVF9NT1VTRUhXSEVFTCwgMCksCgogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVWRU5UX0ZMQUdfTEJVVFRPTiIsIGN2OjpFVkVOVF9GTEFHX0xCVVRUT04sIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVWRU5UX0ZMQUdfUkJVVFRPTiIsIGN2OjpFVkVOVF9GTEFHX1JCVVRUT04sIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVWRU5UX0ZMQUdfTUJVVFRPTiIsIGN2OjpFVkVOVF9GTEFHX01CVVRUT04sIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVWRU5UX0ZMQUdfQ1RSTEtFWSIsIGN2OjpFVkVOVF9GTEFHX0NUUkxLRVksIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkVWRU5UX0ZMQUdfU0hJRlRLRVkiLCBjdjo6RVZFTlRfRkxBR19TSElGVEtFWSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRVZFTlRfRkxBR19BTFRLRVkiLCBjdjo6RVZFTlRfRkxBR19BTFRLRVksIDApLAoKICAgIEpTX1BST1BfSU5UMzJfREVGKCJGT05UX0hFUlNIRVlfU0lNUExFWCIsIGN2OjpGT05UX0hFUlNIRVlfU0lNUExFWCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRk9OVF9IRVJTSEVZX1BMQUlOIiwgY3Y6OkZPTlRfSEVSU0hFWV9QTEFJTiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRk9OVF9IRVJTSEVZX0RVUExFWCIsIGN2OjpGT05UX0hFUlNIRVlfRFVQTEVYLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJGT05UX0hFUlNIRVlfQ09NUExFWCIsIGN2OjpGT05UX0hFUlNIRVlfQ09NUExFWCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRk9OVF9IRVJTSEVZX1RSSVBMRVgiLCBjdjo6Rk9OVF9IRVJTSEVZX1RSSVBMRVgsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkZPTlRfSEVSU0hFWV9DT01QTEVYX1NNQUxMIiwgY3Y6OkZPTlRfSEVSU0hFWV9DT01QTEVYX1NNQUxMLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJGT05UX0hFUlNIRVlfU0NSSVBUX1NJTVBMRVgiLCBjdjo6Rk9OVF9IRVJTSEVZX1NDUklQVF9TSU1QTEVYLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJGT05UX0hFUlNIRVlfU0NSSVBUX0NPTVBMRVgiLCBjdjo6Rk9OVF9IRVJTSEVZX1NDUklQVF9DT01QTEVYLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJGT05UX0lUQUxJQyIsIGN2OjpGT05UX0lUQUxJQywgMCksCgogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhJRVJfTkVYVCIsIDAsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhJRVJfUFJFViIsIDEsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkhJRVJfQ0hJTEQiLCAyLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJISUVSX1BBUkVOVCIsIDMsIDApLAoKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIT1VHSF9TVEFOREFSRCIsIGN2OjpIT1VHSF9TVEFOREFSRCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSE9VR0hfUFJPQkFCSUxJU1RJQyIsIGN2OjpIT1VHSF9QUk9CQUJJTElTVElDLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJIT1VHSF9NVUxUSV9TQ0FMRSIsIGN2OjpIT1VHSF9NVUxUSV9TQ0FMRSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSE9VR0hfR1JBRElFTlQiLCBjdjo6SE9VR0hfR1JBRElFTlQsIDApLAogICAgLy8gSlNfUFJPUF9JTlQzMl9ERUYoIkhPVUdIX0dSQURJRU5UX0FMVCIsIGN2OjpIT1VHSF9HUkFESUVOVF9BTFQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIklOVEVSX05FQVJFU1QiLCBjdjo6SU5URVJfTkVBUkVTVCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSU5URVJfTElORUFSIiwgY3Y6OklOVEVSX0xJTkVBUiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSU5URVJfQ1VCSUMiLCBjdjo6SU5URVJfQ1VCSUMsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIklOVEVSX0FSRUEiLCBjdjo6SU5URVJfQVJFQSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiSU5URVJfTEFOQ1pPUzQiLCBjdjo6SU5URVJfTEFOQ1pPUzQsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIklOVEVSX0xJTkVBUl9FWEFDVCIsIGN2OjpJTlRFUl9MSU5FQVJfRVhBQ1QsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIklOVEVSX01BWCIsIGN2OjpJTlRFUl9NQVgsIDApLAoKICAgIEpTX1BST1BfSU5UMzJfREVGKCJDT05UT1VSU19NQVRDSF9JMSIsIGN2OjpDT05UT1VSU19NQVRDSF9JMSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ09OVE9VUlNfTUFUQ0hfSTIiLCBjdjo6Q09OVE9VUlNfTUFUQ0hfSTIsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkNPTlRPVVJTX01BVENIX0kzIiwgY3Y6OkNPTlRPVVJTX01BVENIX0kzLCAwKSwKCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQUNDRVNTX1JFQUQgIiwgY3Y6OkFDQ0VTU19SRUFELCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJBQ0NFU1NfV1JJVEUgIiwgY3Y6OkFDQ0VTU19XUklURSwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQUNDRVNTX1JXICIsIGN2OjpBQ0NFU1NfUlcsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkFDQ0VTU19NQVNLICIsIGN2OjpBQ0NFU1NfTUFTSywgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQUNDRVNTX0ZBU1QgIiwgY3Y6OkFDQ0VTU19GQVNULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJVU0FHRV9ERUZBVUxUICIsIGN2OjpVU0FHRV9ERUZBVUxULCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJVU0FHRV9BTExPQ0FURV9IT1NUX01FTU9SWSAiLCBjdjo6VVNBR0VfQUxMT0NBVEVfSE9TVF9NRU1PUlksIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIlVTQUdFX0FMTE9DQVRFX0RFVklDRV9NRU1PUlkgIiwgY3Y6OlVTQUdFX0FMTE9DQVRFX0RFVklDRV9NRU1PUlksIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIlVTQUdFX0FMTE9DQVRFX1NIQVJFRF9NRU1PUlkgIiwgY3Y6OlVTQUdFX0FMTE9DQVRFX1NIQVJFRF9NRU1PUlksIDApLAoKICAgIEpTX0NWX0NPTlNUQU5UKElNV1JJVEVfSlBFR19RVUFMSVRZKSwKICAgIEpTX0NWX0NPTlNUQU5UKElNV1JJVEVfSlBFR19QUk9HUkVTU0lWRSksCiAgICBKU19DVl9DT05TVEFOVChJTVdSSVRFX0pQRUdfT1BUSU1JWkUpLAogICAgSlNfQ1ZfQ09OU1RBTlQoSU1XUklURV9KUEVHX1JTVF9JTlRFUlZBTCksCiAgICBKU19DVl9DT05TVEFOVChJTVdSSVRFX0pQRUdfTFVNQV9RVUFMSVRZKSwKICAgIEpTX0NWX0NPTlNUQU5UKElNV1JJVEVfSlBFR19DSFJPTUFfUVVBTElUWSksCiAgICBKU19DVl9DT05TVEFOVChJTVdSSVRFX1BOR19DT01QUkVTU0lPTiksCiAgICBKU19DVl9DT05TVEFOVChJTVdSSVRFX1BOR19TVFJBVEVHWSksCiAgICBKU19DVl9DT05TVEFOVChJTVdSSVRFX1BOR19CSUxFVkVMKSwKICAgIEpTX0NWX0NPTlNUQU5UKElNV1JJVEVfUFhNX0JJTkFSWSksCiAgICBKU19DVl9DT05TVEFOVChJTVdSSVRFX0VYUl9UWVBFKSwKICAgIEpTX0NWX0NPTlNUQU5UKElNV1JJVEVfV0VCUF9RVUFMSVRZKSwKICAgIEpTX0NWX0NPTlNUQU5UKElNV1JJVEVfUEFNX1RVUExFVFlQRSksCiAgICBKU19DVl9DT05TVEFOVChJTVdSSVRFX1RJRkZfUkVTVU5JVCksCiAgICBKU19DVl9DT05TVEFOVChJTVdSSVRFX1RJRkZfWERQSSksCiAgICBKU19DVl9DT05TVEFOVChJTVdSSVRFX1RJRkZfWURQSSksCiAgICBKU19DVl9DT05TVEFOVChJTVdSSVRFX1RJRkZfQ09NUFJFU1NJT04pLAogICAgSlNfQ1ZfQ09OU1RBTlQoSU1XUklURV9KUEVHMjAwMF9DT01QUkVTU0lPTl9YMTAwMCksCiAgICBKU19DVl9DT05TVEFOVChJTVdSSVRFX0VYUl9UWVBFX0hBTEYpLAogICAgSlNfQ1ZfQ09OU1RBTlQoSU1XUklURV9FWFJfVFlQRV9GTE9BVCksCiAgICBKU19DVl9DT05TVEFOVChJTVdSSVRFX1BOR19TVFJBVEVHWV9ERUZBVUxUKSwKICAgIEpTX0NWX0NPTlNUQU5UKElNV1JJVEVfUE5HX1NUUkFURUdZX0ZJTFRFUkVEKSwKICAgIEpTX0NWX0NPTlNUQU5UKElNV1JJVEVfUE5HX1NUUkFURUdZX0hVRkZNQU5fT05MWSksCiAgICBKU19DVl9DT05TVEFOVChJTVdSSVRFX1BOR19TVFJBVEVHWV9STEUpLAogICAgSlNfQ1ZfQ09OU1RBTlQoSU1XUklURV9QTkdfU1RSQVRFR1lfRklYRUQpLAogICAgSlNfQ1ZfQ09OU1RBTlQoSU1XUklURV9QQU1fRk9STUFUX05VTEwpLAogICAgSlNfQ1ZfQ09OU1RBTlQoSU1XUklURV9QQU1fRk9STUFUX0JMQUNLQU5EV0hJVEUpLAogICAgSlNfQ1ZfQ09OU1RBTlQoSU1XUklURV9QQU1fRk9STUFUX0dSQVlTQ0FMRSksCiAgICBKU19DVl9DT05TVEFOVChJTVdSSVRFX1BBTV9GT1JNQVRfR1JBWVNDQUxFX0FMUEhBKSwKICAgIEpTX0NWX0NPTlNUQU5UKElNV1JJVEVfUEFNX0ZPUk1BVF9SR0IpLAogICAgSlNfQ1ZfQ09OU1RBTlQoSU1XUklURV9QQU1fRk9STUFUX1JHQl9BTFBIQSksCgogICAgSlNfQ1ZfQ09OU1RBTlQoRklMTEVEKSwKICAgIEpTX0NWX0NPTlNUQU5UKExJTkVfOCksCiAgICBKU19DVl9DT05TVEFOVChMSU5FX0FBKSwKfTsKCnN0ZDo6c3RyaW5nCmpzX3Byb3BfZmxhZ3MoaW50IGZsYWdzKSB7CiAgc3RkOjp2ZWN0b3I8Y29uc3QgY2hhcio+IG5hbWVzOwogIGlmKGZsYWdzICYgSlNfUFJPUF9DT05GSUdVUkFCTEUpCiAgICBuYW1lcy5wdXNoX2JhY2soIkNPTkZJR1VSQUJMRSIpOwogIGlmKGZsYWdzICYgSlNfUFJPUF9XUklUQUJMRSkKICAgIG5hbWVzLnB1c2hfYmFjaygiV1JJVEFCTEUiKTsKICBpZihmbGFncyAmIEpTX1BST1BfRU5VTUVSQUJMRSkKICAgIG5hbWVzLnB1c2hfYmFjaygiRU5VTUVSQUJMRSIpOwogIGlmKGZsYWdzICYgSlNfUFJPUF9OT1JNQUwpCiAgICBuYW1lcy5wdXNoX2JhY2soIk5PUk1BTCIpOwogIGlmKGZsYWdzICYgSlNfUFJPUF9HRVRTRVQpCiAgICBuYW1lcy5wdXNoX2JhY2soIkdFVFNFVCIpOwogIGlmKGZsYWdzICYgSlNfUFJPUF9WQVJSRUYpCiAgICBuYW1lcy5wdXNoX2JhY2soIlZBUlJFRiIpOwogIGlmKGZsYWdzICYgSlNfUFJPUF9BVVRPSU5JVCkKICAgIG5hbWVzLnB1c2hfYmFjaygiQVVUT0lOSVQiKTsKICByZXR1cm4gam9pbihuYW1lcy5jYmVnaW4oKSwgbmFtZXMuY2VuZCgpLCAifCIpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBTdHJlYW0+ClN0cmVhbSYKb3BlcmF0b3I8PChTdHJlYW0mIHMsIGNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5JiBlbnRyeSkgewogIHN0ZDo6c3RyaW5nIG5hbWUoZW50cnkubmFtZSk7CiAgcyA8PCBuYW1lIDw8IHN0ZDo6c2V0dygzMCAtIG5hbWUuc2l6ZSgpKSA8PCAnICc7CiAgcyA8PCAidHlwZSA9ICIKICAgIDw8IChzdGQ6OnZlY3Rvcjxjb25zdCBjaGFyKj57IkNGVU5DIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkNHRVRTRVQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiQ0dFVFNFVF9NQUdJQyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJQUk9QX1NUUklORyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJQUk9QX0lOVDMyIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIlBST1BfSU5UNjQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiUFJPUF9ET1VCTEUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiUFJPUF9VTkRFRklORUQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAiT0JKRUNUIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkFMSUFTIn0pW2VudHJ5LmRlZl90eXBlXQogICAgPDwgIiwgIjsKICBzd2l0Y2goZW50cnkuZGVmX3R5cGUpIHsKICAgIGNhc2UgSlNfREVGX0NHRVRTRVRfTUFHSUM6IHMgPDwgIm1hZ2ljID0gIiA8PCAodW5zaWduZWQgaW50KWVudHJ5Lm1hZ2ljIDw8ICIsICI7IGJyZWFrOwogICAgY2FzZSBKU19ERUZfUFJPUF9JTlQzMjogcyA8PCAidmFsdWUgPSAiIDw8IHN0ZDo6c2V0dyg5KSA8PCBlbnRyeS51LmkzMiA8PCAiLCAiOyBicmVhazsKICAgIGNhc2UgSlNfREVGX1BST1BfSU5UNjQ6IHMgPDwgInZhbHVlID0gIiA8PCBzdGQ6OnNldHcoOSkgPDwgZW50cnkudS5pNjQgPDwgIiwgIjsgYnJlYWs7CiAgICBjYXNlIEpTX0RFRl9QUk9QX0RPVUJMRTogcyA8PCAidmFsdWUgPSAiIDw8IHN0ZDo6c2V0dyg5KSA8PCBlbnRyeS51LmY2NCA8PCAiLCAiOyBicmVhazsKICAgIGNhc2UgSlNfREVGX1BST1BfVU5ERUZJTkVEOgogICAgICBzIDw8ICJ2YWx1ZSA9ICIgPDwgc3RkOjpzZXR3KDkpIDw8ICJ1bmRlZmluZWQiCiAgICAgICAgPDwgIiwgIjsKICAgICAgYnJlYWs7CiAgICBjYXNlIEpTX0RFRl9QUk9QX1NUUklORzogcyA8PCAidmFsdWUgPSAiIDw8IHN0ZDo6c2V0dyg5KSA8PCBlbnRyeS51LnN0ciA8PCAiLCAiOyBicmVhazsKICB9CiAgcyA8PCAiZmxhZ3MgPSAiIDw8IGpzX3Byb3BfZmxhZ3MoZW50cnkucHJvcF9mbGFncykgPDwgc3RkOjplbmRsOwogIHJldHVybiBzOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBTdHJlYW0sIGNsYXNzIEl0ZW0+ClN0cmVhbSYKb3BlcmF0b3I8PChTdHJlYW0mIHMsIGNvbnN0IHN0ZDo6dmVjdG9yPEl0ZW0+JiB2ZWN0b3IpIHsKICBzaXplX3QgaSA9IDA7CiAgZm9yKGF1dG8gZW50cnkgOiB2ZWN0b3IpIHsKCiAgICBzIDw8ICIjIiA8PCBpIDw8ICIgIjsKICAgIHMgPDwgZW50cnk7CiAgICBpKys7CiAgfQogIHJldHVybiBzOwp9CgpleHRlcm4gIkMiIGludApqc19jdl9pbml0KEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewoKICAvKiBzdGQ6OmNlcnIgPDwgImpzX2N2X3N0YXRpY19mdW5jczoiIDw8IHN0ZDo6ZW5kbCA8PCBqc19jdl9zdGF0aWNfZnVuY3M7CiAgIHN0ZDo6Y2VyciA8PCAianNfY3Zfc3RhdGljX2Z1bmNzLnNpemUoKSA9ICIgPDwganNfY3Zfc3RhdGljX2Z1bmNzLnNpemUoKSA8PCBzdGQ6OmVuZGw7Ki8KICBpZihtKQogICAgSlNfU2V0TW9kdWxlRXhwb3J0TGlzdChjdHgsIG0sIGpzX2N2X3N0YXRpY19mdW5jcy5kYXRhKCksIGpzX2N2X3N0YXRpY19mdW5jcy5zaXplKCkpOwoKICBKU1ZhbHVlIGcgPSBKU19HZXRHbG9iYWxPYmplY3QoY3R4KTsKICBjdl9jbGFzcyA9IEpTX05ld09iamVjdChjdHgpOwogIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgY3ZfY2xhc3MsIGpzX2N2X3N0YXRpY19mdW5jcy5kYXRhKCksIGpzX2N2X3N0YXRpY19mdW5jcy5zaXplKCkpOwoKICBpZihKU19Jc09iamVjdChnKSkgewogICAgSlNBdG9tIGF0b207CiAgICBhdG9tID0gSlNfTmV3QXRvbShjdHgsICJjdiIpOwogICAgSlNfU2V0UHJvcGVydHlJbnRlcm5hbChjdHgsIGcsIGF0b20sIGN2X2NsYXNzLCAwKTsKICB9CgogIEpTX0ZyZWVWYWx1ZShjdHgsIGcpOwogIHJldHVybiAwOwp9CgpleHRlcm4gIkMiIFZJU0lCTEUgdm9pZApqc19jdl9leHBvcnQoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CiAgSlNfQWRkTW9kdWxlRXhwb3J0TGlzdChjdHgsIG0sIGpzX2N2X3N0YXRpY19mdW5jcy5kYXRhKCksIGpzX2N2X3N0YXRpY19mdW5jcy5zaXplKCkpOwogIEpTX0FkZE1vZHVsZUV4cG9ydChjdHgsIG0sICJkZWZhdWx0Iik7Cn0KCiNpZiBkZWZpbmVkKEpTX0NWX01PRFVMRSkKI2RlZmluZSBKU19JTklUX01PRFVMRSBWSVNJQkxFIGpzX2luaXRfbW9kdWxlCiNlbHNlCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUganNfaW5pdF9tb2R1bGVfY3YKI2VuZGlmCgpleHRlcm4gIkMiIEpTTW9kdWxlRGVmKgpKU19JTklUX01PRFVMRShKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbW9kdWxlX25hbWUpIHsKICBKU01vZHVsZURlZiogbTsKICBtID0gSlNfTmV3Q01vZHVsZShjdHgsIG1vZHVsZV9uYW1lLCAmanNfY3ZfaW5pdCk7CiAgaWYoIW0pCiAgICByZXR1cm4gTlVMTDsKICBqc19jdl9leHBvcnQoY3R4LCBtKTsKICByZXR1cm4gbTsKfQAAAAAAAAAA30oBAAAAAAAAAAAAAAAAAAAAAADfSgEAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADD1AAAAAAAAMnUAAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"file": "js_utility.cpp",
			"settings":
			{
				"buffer_size": 5972,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					1,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABUFwAAI2luY2x1ZGUgImpzYmluZGluZ3MuaHBwIgojaW5jbHVkZSAianNfYWxsb2MuaHBwIgoKZXh0ZXJuICJDIiBWSVNJQkxFIGludCBqc191dGlsaXR5X2luaXQoSlNDb250ZXh0KiwgSlNNb2R1bGVEZWYqKTsKCmV4dGVybiAiQyIgewoKSlNWYWx1ZSB0aWNrX21ldGVyX3Byb3RvID0gSlNfVU5ERUZJTkVELCB0aWNrX21ldGVyX2NsYXNzID0gSlNfVU5ERUZJTkVEOwpKU0NsYXNzSUQganNfdGlja19tZXRlcl9jbGFzc19pZCA9IDA7CgpWSVNJQkxFIEpTVmFsdWUKanNfdGlja19tZXRlcl9uZXcoSlNDb250ZXh0KiBjdHgpIHsKICBKU1ZhbHVlIHJldDsKICBKU1RpY2tNZXRlckRhdGEqIHM7CgogIHJldCA9IEpTX05ld09iamVjdFByb3RvQ2xhc3MoY3R4LCB0aWNrX21ldGVyX3Byb3RvLCBqc190aWNrX21ldGVyX2NsYXNzX2lkKTsKCiAgcyA9IGpzX2FsbG9jYXRlPEpTVGlja01ldGVyRGF0YT4oY3R4KTsKCiAgbmV3KHMpIGN2OjpUaWNrTWV0ZXIoKTsKCiAgSlNfU2V0T3BhcXVlKHJldCwgcyk7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfdGlja19tZXRlcl9jdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgbmV3X3RhcmdldCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTVGlja01ldGVyRGF0YSogczsKICBKU1ZhbHVlIG9iaiA9IEpTX1VOREVGSU5FRDsKICBKU1ZhbHVlIHByb3RvOwoKICBzID0ganNfYWxsb2NhdGU8SlNUaWNrTWV0ZXJEYXRhPihjdHgpOwogIGlmKCFzKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICBuZXcocykgY3Y6OlRpY2tNZXRlcigpOwoKICAvKiB1c2luZyBuZXdfdGFyZ2V0IHRvIGdldCB0aGUgcHJvdG90eXBlIGlzIG5lY2Vzc2FyeSB3aGVuIHRoZQogICAgIGNsYXNzIGlzIGV4dGVuZGVkLiAqLwogIHByb3RvID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBuZXdfdGFyZ2V0LCAicHJvdG90eXBlIik7CiAgaWYoSlNfSXNFeGNlcHRpb24ocHJvdG8pKQogICAgZ290byBmYWlsOwogIG9iaiA9IEpTX05ld09iamVjdFByb3RvQ2xhc3MoY3R4LCBwcm90bywganNfdGlja19tZXRlcl9jbGFzc19pZCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcHJvdG8pOwogIGlmKEpTX0lzRXhjZXB0aW9uKG9iaikpCiAgICBnb3RvIGZhaWw7CiAgSlNfU2V0T3BhcXVlKG9iaiwgcyk7CiAgcmV0dXJuIG9iajsKZmFpbDoKICBqc19kZWFsbG9jYXRlKGN0eCwgcyk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpKU1RpY2tNZXRlckRhdGEqCmpzX3RpY2tfbWV0ZXJfZGF0YShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbCkgewogIHJldHVybiBzdGF0aWNfY2FzdDxKU1RpY2tNZXRlckRhdGEqPihKU19HZXRPcGFxdWUyKGN0eCwgdmFsLCBqc190aWNrX21ldGVyX2NsYXNzX2lkKSk7Cn0KCnZvaWQKanNfdGlja19tZXRlcl9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBKU1RpY2tNZXRlckRhdGEqIHMgPSBzdGF0aWNfY2FzdDxKU1RpY2tNZXRlckRhdGEqPihKU19HZXRPcGFxdWUodmFsLCBqc190aWNrX21ldGVyX2NsYXNzX2lkKSk7CiAgLyogTm90ZTogJ3MnIGNhbiBiZSBOVUxMIGluIGNhc2UgSlNfU2V0T3BhcXVlKCkgd2FzIG5vdCBjYWxsZWQgKi8KICBqc19kZWFsbG9jYXRlKHJ0LCBzKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfdGlja19tZXRlcl9nZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IG1hZ2ljKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgSlNUaWNrTWV0ZXJEYXRhKiBzID0gc3RhdGljX2Nhc3Q8SlNUaWNrTWV0ZXJEYXRhKj4oSlNfR2V0T3BhcXVlMihjdHgsIHRoaXNfdmFsLCBqc190aWNrX21ldGVyX2NsYXNzX2lkKSk7CiAgaWYoIXMpCiAgICByZXQgPSBKU19FWENFUFRJT047CiAgZWxzZSBpZihtYWdpYyA9PSAwKQogICAgcmV0ID0gSlNfTmV3SW50NjQoY3R4LCBzLT5nZXRDb3VudGVyKCkpOwogIGVsc2UgaWYobWFnaWMgPT0gMSkKICAgIHJldCA9IEpTX05ld0Zsb2F0NjQoY3R4LCBzLT5nZXRUaW1lTWljcm8oKSk7CiAgZWxzZSBpZihtYWdpYyA9PSAyKQogICAgcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsIHMtPmdldFRpbWVNaWxsaSgpKTsKICBlbHNlIGlmKG1hZ2ljID09IDMpCiAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgcy0+Z2V0VGltZVNlYygpKTsKICBlbHNlIGlmKG1hZ2ljID09IDQpCiAgICByZXQgPSBKU19OZXdJbnQ2NChjdHgsIHMtPmdldFRpbWVUaWNrcygpKTsKI2lmIENWX1ZFUlNJT05fTUFKT1IgPj0gNCAmJiBDVl9WRVJTSU9OX01JTk9SID49IDQKICBlbHNlIGlmKG1hZ2ljID09IDUpCiAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgcy0+Z2V0QXZnVGltZU1pbGxpKCkpOwogIGVsc2UgaWYobWFnaWMgPT0gNikKICAgIHJldCA9IEpTX05ld0Zsb2F0NjQoY3R4LCBzLT5nZXRBdmdUaW1lU2VjKCkpOwogIGVsc2UgaWYobWFnaWMgPT0gNykKICAgIHJldCA9IEpTX05ld0Zsb2F0NjQoY3R4LCBzLT5nZXRGUFMoKSk7CiNlbmRpZgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3RpY2tfbWV0ZXJfbWV0aG9kKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YsIGludCBtYWdpYykgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIEpTVGlja01ldGVyRGF0YSogcyA9IHN0YXRpY19jYXN0PEpTVGlja01ldGVyRGF0YSo+KEpTX0dldE9wYXF1ZTIoY3R4LCB0aGlzX3ZhbCwganNfdGlja19tZXRlcl9jbGFzc19pZCkpOwogIGlmKCFzKQogICAgcmV0ID0gSlNfRVhDRVBUSU9OOwogIGVsc2UgaWYobWFnaWMgPT0gMCkKICAgIHMtPnJlc2V0KCk7CiAgZWxzZSBpZihtYWdpYyA9PSAxKQogICAgcy0+c3RhcnQoKTsKICBlbHNlIGlmKG1hZ2ljID09IDIpCiAgICBzLT5zdG9wKCk7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3RpY2tfbWV0ZXJfdG9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTVGlja01ldGVyRGF0YSogczsKCiAgaWYoKHMgPSBzdGF0aWNfY2FzdDxKU1RpY2tNZXRlckRhdGEqPihKU19HZXRPcGFxdWUyKGN0eCwgdGhpc192YWwsIGpzX3RpY2tfbWV0ZXJfY2xhc3NfaWQpKSkpIHsKICAgIHN0ZDo6b3N0cmluZ3N0cmVhbSBvczsKICAgIG9zIDw8ICpzOwogICAgc3RkOjpzdHJpbmcgc3RyID0gb3Muc3RyKCk7CiAgICByZXR1cm4gSlNfTmV3U3RyaW5nTGVuKGN0eCwgc3RyLmRhdGEoKSwgc3RyLnNpemUoKSk7CiAgfQoKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpKU0NsYXNzRGVmIGpzX3RpY2tfbWV0ZXJfY2xhc3MgPSB7CiAgICAuY2xhc3NfbmFtZSA9ICJUaWNrTWV0ZXIiLAogICAgLmZpbmFsaXplciA9IGpzX3RpY2tfbWV0ZXJfZmluYWxpemVyLAp9OwoKY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfdGlja19tZXRlcl9wcm90b19mdW5jc1tdID0gewogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJyZXNldCIsIDAsIGpzX3RpY2tfbWV0ZXJfbWV0aG9kLCAwKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigic3RhcnQiLCAwLCBqc190aWNrX21ldGVyX21ldGhvZCwgMSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInN0b3AiLCAwLCBqc190aWNrX21ldGVyX21ldGhvZCwgMiksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigiY291bnRlciIsIGpzX3RpY2tfbWV0ZXJfZ2V0LCBOVUxMLCAwKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJ0aW1lTWljcm8iLCBqc190aWNrX21ldGVyX2dldCwgTlVMTCwgMSksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigidGltZU1pbGxpIiwganNfdGlja19tZXRlcl9nZXQsIE5VTEwsIDIpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoInRpbWVTZWMiLCBqc190aWNrX21ldGVyX2dldCwgTlVMTCwgMyksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigidGltZVRpY2tzIiwganNfdGlja19tZXRlcl9nZXQsIE5VTEwsIDQpLAojaWYgQ1ZfVkVSU0lPTl9NQUpPUiA+PSA0ICYmIENWX1ZFUlNJT05fTUlOT1IgPj0gNAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImF2Z1RpbWVNaWxsaSIsIGpzX3RpY2tfbWV0ZXJfZ2V0LCBOVUxMLCA1KSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJhdmdUaW1lU2VjIiwganNfdGlja19tZXRlcl9nZXQsIE5VTEwsIDYpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImZwcyIsIGpzX3RpY2tfbWV0ZXJfZ2V0LCBOVUxMLCA3KSwKI2VuZGlmCiAgICBKU19DRlVOQ19ERUYoInRvU3RyaW5nIiwgMCwganNfdGlja19tZXRlcl90b3N0cmluZyksCgogICAgSlNfUFJPUF9TVFJJTkdfREVGKCJbU3ltYm9sLnRvU3RyaW5nVGFnXSIsICJUaWNrTWV0ZXIiLCBKU19QUk9QX0NPTkZJR1VSQUJMRSksCn07CgpleHRlcm4gIkMiIGludApqc191dGlsaXR5X2luaXQoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CgogIGlmKGpzX3RpY2tfbWV0ZXJfY2xhc3NfaWQgPT0gMCkgewogICAgLyogY3JlYXRlIHRoZSBUaWNrTWV0ZXIgY2xhc3MgKi8KICAgIEpTX05ld0NsYXNzSUQoJmpzX3RpY2tfbWV0ZXJfY2xhc3NfaWQpOwogICAgSlNfTmV3Q2xhc3MoSlNfR2V0UnVudGltZShjdHgpLCBqc190aWNrX21ldGVyX2NsYXNzX2lkLCAmanNfdGlja19tZXRlcl9jbGFzcyk7CgogICAgdGlja19tZXRlcl9wcm90byA9IEpTX05ld09iamVjdChjdHgpOwogICAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCB0aWNrX21ldGVyX3Byb3RvLCBqc190aWNrX21ldGVyX3Byb3RvX2Z1bmNzLCBjb3VudG9mKGpzX3RpY2tfbWV0ZXJfcHJvdG9fZnVuY3MpKTsKICAgIEpTX1NldENsYXNzUHJvdG8oY3R4LCBqc190aWNrX21ldGVyX2NsYXNzX2lkLCB0aWNrX21ldGVyX3Byb3RvKTsKCiAgICB0aWNrX21ldGVyX2NsYXNzID0gSlNfTmV3Q0Z1bmN0aW9uMihjdHgsIGpzX3RpY2tfbWV0ZXJfY3RvciwgIlRpY2tNZXRlciIsIDAsIEpTX0NGVU5DX2NvbnN0cnVjdG9yLCAwKTsKICAgIC8qIHNldCBwcm90by5jb25zdHJ1Y3RvciBhbmQgY3Rvci5wcm90b3R5cGUgKi8KICAgIEpTX1NldENvbnN0cnVjdG9yKGN0eCwgdGlja19tZXRlcl9jbGFzcywgdGlja19tZXRlcl9wcm90byk7CiAgfQoKICBpZihtKQogICAgSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgIlRpY2tNZXRlciIsIHRpY2tfbWV0ZXJfY2xhc3MpOwoKICByZXR1cm4gMDsKfQoKZXh0ZXJuICJDIiBWSVNJQkxFIHZvaWQKanNfdXRpbGl0eV9leHBvcnQoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CiAgSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgIlRpY2tNZXRlciIpOwp9Cgp2b2lkCmpzX3RpY2tfbWV0ZXJfY29uc3RydWN0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWUgcGFyZW50LCBjb25zdCBjaGFyKiBuYW1lKSB7CiAgaWYoSlNfSXNVbmRlZmluZWQodGlja19tZXRlcl9jbGFzcykpCiAgICBqc191dGlsaXR5X2luaXQoY3R4LCAwKTsKCiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBwYXJlbnQsIG5hbWUgPyBuYW1lIDogIlRpY2tNZXRlciIsIHRpY2tfbWV0ZXJfY2xhc3MpOwp9CgojaWZkZWYgSlNfVVRJTElUWV9NT0RVTEUKI2RlZmluZSBKU19JTklUX01PRFVMRSBWSVNJQkxFIGpzX2luaXRfbW9kdWxlCiNlbHNlCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUganNfaW5pdF9tb2R1bGVfdXRpbGl0eQojZW5kaWYKCkpTTW9kdWxlRGVmKgpKU19JTklUX01PRFVMRShKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbW9kdWxlX25hbWUpIHsKICBKU01vZHVsZURlZiogbTsKICBtID0gSlNfTmV3Q01vZHVsZShjdHgsIG1vZHVsZV9uYW1lLCAmanNfdXRpbGl0eV9pbml0KTsKICBpZighbSkKICAgIHJldHVybiBOVUxMOwogIGpzX3V0aWxpdHlfZXhwb3J0KGN0eCwgbSk7CiAgcmV0dXJuIG07Cn0KfQoAAAAAAAAAAFQXAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8"
				],
				[
					2,
					1,
					"revert",
					null,
					"AwAAAAAAAAAAAAAAAAAAAAAAAABUFwAAI2luY2x1ZGUgImpzYmluZGluZ3MuaHBwIgojaW5jbHVkZSAianNfYWxsb2MuaHBwIgoKZXh0ZXJuICJDIiBWSVNJQkxFIGludCBqc191dGlsaXR5X2luaXQoSlNDb250ZXh0KiwgSlNNb2R1bGVEZWYqKTsKCmV4dGVybiAiQyIgewoKSlNWYWx1ZSB0aWNrX21ldGVyX3Byb3RvID0gSlNfVU5ERUZJTkVELCB0aWNrX21ldGVyX2NsYXNzID0gSlNfVU5ERUZJTkVEOwpKU0NsYXNzSUQganNfdGlja19tZXRlcl9jbGFzc19pZCA9IDA7CgpWSVNJQkxFIEpTVmFsdWUKanNfdGlja19tZXRlcl9uZXcoSlNDb250ZXh0KiBjdHgpIHsKICBKU1ZhbHVlIHJldDsKICBKU1RpY2tNZXRlckRhdGEqIHM7CgogIHJldCA9IEpTX05ld09iamVjdFByb3RvQ2xhc3MoY3R4LCB0aWNrX21ldGVyX3Byb3RvLCBqc190aWNrX21ldGVyX2NsYXNzX2lkKTsKCiAgcyA9IGpzX2FsbG9jYXRlPEpTVGlja01ldGVyRGF0YT4oY3R4KTsKCiAgbmV3KHMpIGN2OjpUaWNrTWV0ZXIoKTsKCiAgSlNfU2V0T3BhcXVlKHJldCwgcyk7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfdGlja19tZXRlcl9jdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgbmV3X3RhcmdldCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTVGlja01ldGVyRGF0YSogczsKICBKU1ZhbHVlIG9iaiA9IEpTX1VOREVGSU5FRDsKICBKU1ZhbHVlIHByb3RvOwoKICBzID0ganNfYWxsb2NhdGU8SlNUaWNrTWV0ZXJEYXRhPihjdHgpOwogIGlmKCFzKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICBuZXcocykgY3Y6OlRpY2tNZXRlcigpOwoKICAvKiB1c2luZyBuZXdfdGFyZ2V0IHRvIGdldCB0aGUgcHJvdG90eXBlIGlzIG5lY2Vzc2FyeSB3aGVuIHRoZQogICAgIGNsYXNzIGlzIGV4dGVuZGVkLiAqLwogIHByb3RvID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBuZXdfdGFyZ2V0LCAicHJvdG90eXBlIik7CiAgaWYoSlNfSXNFeGNlcHRpb24ocHJvdG8pKQogICAgZ290byBmYWlsOwogIG9iaiA9IEpTX05ld09iamVjdFByb3RvQ2xhc3MoY3R4LCBwcm90bywganNfdGlja19tZXRlcl9jbGFzc19pZCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcHJvdG8pOwogIGlmKEpTX0lzRXhjZXB0aW9uKG9iaikpCiAgICBnb3RvIGZhaWw7CiAgSlNfU2V0T3BhcXVlKG9iaiwgcyk7CiAgcmV0dXJuIG9iajsKZmFpbDoKICBqc19kZWFsbG9jYXRlKGN0eCwgcyk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpKU1RpY2tNZXRlckRhdGEqCmpzX3RpY2tfbWV0ZXJfZGF0YShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbCkgewogIHJldHVybiBzdGF0aWNfY2FzdDxKU1RpY2tNZXRlckRhdGEqPihKU19HZXRPcGFxdWUyKGN0eCwgdmFsLCBqc190aWNrX21ldGVyX2NsYXNzX2lkKSk7Cn0KCnZvaWQKanNfdGlja19tZXRlcl9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBKU1RpY2tNZXRlckRhdGEqIHMgPSBzdGF0aWNfY2FzdDxKU1RpY2tNZXRlckRhdGEqPihKU19HZXRPcGFxdWUodmFsLCBqc190aWNrX21ldGVyX2NsYXNzX2lkKSk7CiAgLyogTm90ZTogJ3MnIGNhbiBiZSBOVUxMIGluIGNhc2UgSlNfU2V0T3BhcXVlKCkgd2FzIG5vdCBjYWxsZWQgKi8KICBqc19kZWFsbG9jYXRlKHJ0LCBzKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfdGlja19tZXRlcl9nZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IG1hZ2ljKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgSlNUaWNrTWV0ZXJEYXRhKiBzID0gc3RhdGljX2Nhc3Q8SlNUaWNrTWV0ZXJEYXRhKj4oSlNfR2V0T3BhcXVlMihjdHgsIHRoaXNfdmFsLCBqc190aWNrX21ldGVyX2NsYXNzX2lkKSk7CiAgaWYoIXMpCiAgICByZXQgPSBKU19FWENFUFRJT047CiAgZWxzZSBpZihtYWdpYyA9PSAwKQogICAgcmV0ID0gSlNfTmV3SW50NjQoY3R4LCBzLT5nZXRDb3VudGVyKCkpOwogIGVsc2UgaWYobWFnaWMgPT0gMSkKICAgIHJldCA9IEpTX05ld0Zsb2F0NjQoY3R4LCBzLT5nZXRUaW1lTWljcm8oKSk7CiAgZWxzZSBpZihtYWdpYyA9PSAyKQogICAgcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsIHMtPmdldFRpbWVNaWxsaSgpKTsKICBlbHNlIGlmKG1hZ2ljID09IDMpCiAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgcy0+Z2V0VGltZVNlYygpKTsKICBlbHNlIGlmKG1hZ2ljID09IDQpCiAgICByZXQgPSBKU19OZXdJbnQ2NChjdHgsIHMtPmdldFRpbWVUaWNrcygpKTsKI2lmIENWX1ZFUlNJT05fTUFKT1IgPj0gNCAmJiBDVl9WRVJTSU9OX01JTk9SID49IDQKICBlbHNlIGlmKG1hZ2ljID09IDUpCiAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgcy0+Z2V0QXZnVGltZU1pbGxpKCkpOwogIGVsc2UgaWYobWFnaWMgPT0gNikKICAgIHJldCA9IEpTX05ld0Zsb2F0NjQoY3R4LCBzLT5nZXRBdmdUaW1lU2VjKCkpOwogIGVsc2UgaWYobWFnaWMgPT0gNykKICAgIHJldCA9IEpTX05ld0Zsb2F0NjQoY3R4LCBzLT5nZXRGUFMoKSk7CiNlbmRpZgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3RpY2tfbWV0ZXJfbWV0aG9kKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YsIGludCBtYWdpYykgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIEpTVGlja01ldGVyRGF0YSogcyA9IHN0YXRpY19jYXN0PEpTVGlja01ldGVyRGF0YSo+KEpTX0dldE9wYXF1ZTIoY3R4LCB0aGlzX3ZhbCwganNfdGlja19tZXRlcl9jbGFzc19pZCkpOwogIGlmKCFzKQogICAgcmV0ID0gSlNfRVhDRVBUSU9OOwogIGVsc2UgaWYobWFnaWMgPT0gMCkKICAgIHMtPnJlc2V0KCk7CiAgZWxzZSBpZihtYWdpYyA9PSAxKQogICAgcy0+c3RhcnQoKTsKICBlbHNlIGlmKG1hZ2ljID09IDIpCiAgICBzLT5zdG9wKCk7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3RpY2tfbWV0ZXJfdG9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTVGlja01ldGVyRGF0YSogczsKCiAgaWYoKHMgPSBzdGF0aWNfY2FzdDxKU1RpY2tNZXRlckRhdGEqPihKU19HZXRPcGFxdWUyKGN0eCwgdGhpc192YWwsIGpzX3RpY2tfbWV0ZXJfY2xhc3NfaWQpKSkpIHsKICAgIHN0ZDo6b3N0cmluZ3N0cmVhbSBvczsKICAgIG9zIDw8ICpzOwogICAgc3RkOjpzdHJpbmcgc3RyID0gb3Muc3RyKCk7CiAgICByZXR1cm4gSlNfTmV3U3RyaW5nTGVuKGN0eCwgc3RyLmRhdGEoKSwgc3RyLnNpemUoKSk7CiAgfQoKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpKU0NsYXNzRGVmIGpzX3RpY2tfbWV0ZXJfY2xhc3MgPSB7CiAgICAuY2xhc3NfbmFtZSA9ICJUaWNrTWV0ZXIiLAogICAgLmZpbmFsaXplciA9IGpzX3RpY2tfbWV0ZXJfZmluYWxpemVyLAp9OwoKY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfdGlja19tZXRlcl9wcm90b19mdW5jc1tdID0gewogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJyZXNldCIsIDAsIGpzX3RpY2tfbWV0ZXJfbWV0aG9kLCAwKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigic3RhcnQiLCAwLCBqc190aWNrX21ldGVyX21ldGhvZCwgMSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInN0b3AiLCAwLCBqc190aWNrX21ldGVyX21ldGhvZCwgMiksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigiY291bnRlciIsIGpzX3RpY2tfbWV0ZXJfZ2V0LCBOVUxMLCAwKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJ0aW1lTWljcm8iLCBqc190aWNrX21ldGVyX2dldCwgTlVMTCwgMSksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigidGltZU1pbGxpIiwganNfdGlja19tZXRlcl9nZXQsIE5VTEwsIDIpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoInRpbWVTZWMiLCBqc190aWNrX21ldGVyX2dldCwgTlVMTCwgMyksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigidGltZVRpY2tzIiwganNfdGlja19tZXRlcl9nZXQsIE5VTEwsIDQpLAojaWYgQ1ZfVkVSU0lPTl9NQUpPUiA+PSA0ICYmIENWX1ZFUlNJT05fTUlOT1IgPj0gNAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImF2Z1RpbWVNaWxsaSIsIGpzX3RpY2tfbWV0ZXJfZ2V0LCBOVUxMLCA1KSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJhdmdUaW1lU2VjIiwganNfdGlja19tZXRlcl9nZXQsIE5VTEwsIDYpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImZwcyIsIGpzX3RpY2tfbWV0ZXJfZ2V0LCBOVUxMLCA3KSwKI2VuZGlmCiAgICBKU19DRlVOQ19ERUYoInRvU3RyaW5nIiwgMCwganNfdGlja19tZXRlcl90b3N0cmluZyksCgogICAgSlNfUFJPUF9TVFJJTkdfREVGKCJbU3ltYm9sLnRvU3RyaW5nVGFnXSIsICJUaWNrTWV0ZXIiLCBKU19QUk9QX0NPTkZJR1VSQUJMRSksCn07CgpleHRlcm4gIkMiIGludApqc191dGlsaXR5X2luaXQoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CgogIGlmKGpzX3RpY2tfbWV0ZXJfY2xhc3NfaWQgPT0gMCkgewogICAgLyogY3JlYXRlIHRoZSBUaWNrTWV0ZXIgY2xhc3MgKi8KICAgIEpTX05ld0NsYXNzSUQoJmpzX3RpY2tfbWV0ZXJfY2xhc3NfaWQpOwogICAgSlNfTmV3Q2xhc3MoSlNfR2V0UnVudGltZShjdHgpLCBqc190aWNrX21ldGVyX2NsYXNzX2lkLCAmanNfdGlja19tZXRlcl9jbGFzcyk7CgogICAgdGlja19tZXRlcl9wcm90byA9IEpTX05ld09iamVjdChjdHgpOwogICAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCB0aWNrX21ldGVyX3Byb3RvLCBqc190aWNrX21ldGVyX3Byb3RvX2Z1bmNzLCBjb3VudG9mKGpzX3RpY2tfbWV0ZXJfcHJvdG9fZnVuY3MpKTsKICAgIEpTX1NldENsYXNzUHJvdG8oY3R4LCBqc190aWNrX21ldGVyX2NsYXNzX2lkLCB0aWNrX21ldGVyX3Byb3RvKTsKCiAgICB0aWNrX21ldGVyX2NsYXNzID0gSlNfTmV3Q0Z1bmN0aW9uMihjdHgsIGpzX3RpY2tfbWV0ZXJfY3RvciwgIlRpY2tNZXRlciIsIDAsIEpTX0NGVU5DX2NvbnN0cnVjdG9yLCAwKTsKICAgIC8qIHNldCBwcm90by5jb25zdHJ1Y3RvciBhbmQgY3Rvci5wcm90b3R5cGUgKi8KICAgIEpTX1NldENvbnN0cnVjdG9yKGN0eCwgdGlja19tZXRlcl9jbGFzcywgdGlja19tZXRlcl9wcm90byk7CiAgfQoKICBpZihtKQogICAgSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgIlRpY2tNZXRlciIsIHRpY2tfbWV0ZXJfY2xhc3MpOwoKICByZXR1cm4gMDsKfQoKZXh0ZXJuICJDIiBWSVNJQkxFIHZvaWQKanNfdXRpbGl0eV9leHBvcnQoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CiAgSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgIlRpY2tNZXRlciIpOwp9Cgp2b2lkCmpzX3RpY2tfbWV0ZXJfY29uc3RydWN0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWUgcGFyZW50LCBjb25zdCBjaGFyKiBuYW1lKSB7CiAgaWYoSlNfSXNVbmRlZmluZWQodGlja19tZXRlcl9jbGFzcykpCiAgICBqc191dGlsaXR5X2luaXQoY3R4LCAwKTsKCiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBwYXJlbnQsIG5hbWUgPyBuYW1lIDogIlRpY2tNZXRlciIsIHRpY2tfbWV0ZXJfY2xhc3MpOwp9CgojaWZkZWYgSlNfVVRJTElUWV9NT0RVTEUKI2RlZmluZSBKU19JTklUX01PRFVMRSBWSVNJQkxFIGpzX2luaXRfbW9kdWxlCiNlbHNlCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUganNfaW5pdF9tb2R1bGVfdXRpbGl0eQojZW5kaWYKCkpTTW9kdWxlRGVmKgpKU19JTklUX01PRFVMRShKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbW9kdWxlX25hbWUpIHsKICBKU01vZHVsZURlZiogbTsKICBtID0gSlNfTmV3Q01vZHVsZShjdHgsIG1vZHVsZV9uYW1lLCAmanNfdXRpbGl0eV9pbml0KTsKICBpZighbSkKICAgIHJldHVybiBOVUxMOwogIGpzX3V0aWxpdHlfZXhwb3J0KGN0eCwgbSk7CiAgcmV0dXJuIG07Cn0KfQoAAAAAAAAAAFQXAAAAAAAAAAAAAAAAAAAAAAAAVBcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"file": "util.hpp",
			"settings":
			{
				"buffer_size": 7579,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					3,
					1,
					"insert",
					{
						"characters": "'"
					},
					"AQAAALEYAAAAAAAAshgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACxGAAAAAAAALEYAAAAAAAAAAAAAAAA8L8"
				],
				[
					4,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAALIYAAAAAAAAsxgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACyGAAAAAAAALIYAAAAAAAAAAAAAAAA8L8"
				],
				[
					5,
					2,
					"left_delete",
					null,
					"AgAAALIYAAAAAAAAshgAAAAAAAABAAAAILEYAAAAAAAAsRgAAAAAAAABAAAAJw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACzGAAAAAAAALMYAAAAAAAAAAAAAAAA8L8"
				],
				[
					6,
					1,
					"insert",
					{
						"characters": "0"
					},
					"AQAAALEYAAAAAAAAshgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACxGAAAAAAAALEYAAAAAAAAAAAAAAAA8L8"
				],
				[
					7,
					1,
					"insert",
					{
						"characters": " &&"
					},
					"AwAAALIYAAAAAAAAsxgAAAAAAAAAAAAAsxgAAAAAAAC0GAAAAAAAAAAAAAC0GAAAAAAAALUYAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACyGAAAAAAAALIYAAAAAAAAAAAAAAAA8L8"
				],
				[
					8,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAALUYAAAAAAAAthgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC1GAAAAAAAALUYAAAAAAAAAAAAAAAA8L8"
				],
				[
					13,
					1,
					"paste",
					null,
					"AQAAAKwYAAAAAAAA3BkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACsGAAAAAAAAKwYAAAAAAAAAAAAAAAA8L8"
				],
				[
					21,
					1,
					"paste",
					null,
					"AgAAALIYAAAAAAAAwBgAAAAAAAAAAAAAwBgAAAAAAADAGAAAAAAAAAoAAABhcmd2X3Jhbmdl",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC8GAAAAAAAALIYAAAAAAAAAAAAAAAA8L8"
				],
				[
					27,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAKsYAAAAAAAArBgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACrGAAAAAAAAKsYAAAAAAAAAAAAAAAA8L8"
				],
				[
					38,
					1,
					"paste",
					null,
					"AQAAAKwYAAAAAAAAvhgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACsGAAAAAAAAKwYAAAAAAAAAAAAAAAA8L8"
				],
				[
					39,
					1,
					"left_delete",
					null,
					"AQAAAL0YAAAAAAAAvRgAAAAAAAABAAAACg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC+GAAAAAAAAL4YAAAAAAAAAAAAAAAA8L8"
				],
				[
					41,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAKsYAAAAAAAArBgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACrGAAAAAAAAKsYAAAAAAAAAAAAAAAAYUA"
				],
				[
					44,
					1,
					"cut",
					null,
					"AQAAAPcYAAAAAAAA9xgAAAAAAAAKAAAAY29uc3QgY2hhcg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD3GAAAAAAAAAEZAAAAAAAAAAAAAAAA8L8"
				],
				[
					45,
					1,
					"insert",
					{
						"characters": "T"
					},
					"AQAAAPcYAAAAAAAA+BgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD3GAAAAAAAAPcYAAAAAAAAAAAAAAAA8L8"
				],
				[
					48,
					1,
					"insert",
					{
						"characters": "T"
					},
					"AgAAADoZAAAAAAAAOxkAAAAAAAAAAAAAOxkAAAAAAAA7GQAAAAAAAAsAAABjb25zdCBjaGFyIA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAA6GQAAAAAAAEUZAAAAAAAAAAAAAAAA8L8"
				],
				[
					51,
					1,
					"insert",
					{
						"characters": "T"
					},
					"AgAAAGcZAAAAAAAAaBkAAAAAAAAAAAAAaBkAAAAAAABoGQAAAAAAAAoAAABjb25zdCBjaGFy",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABnGQAAAAAAAHEZAAAAAAAAAAAAAAAA8L8"
				],
				[
					54,
					1,
					"insert",
					{
						"characters": "T"
					},
					"AgAAALoZAAAAAAAAuxkAAAAAAAAAAAAAuxkAAAAAAAC7GQAAAAAAAAoAAABjb25zdCBjaGFy",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC6GQAAAAAAAMQZAAAAAAAAAAAAAAAA8L8"
				],
				[
					70,
					1,
					"insert",
					{
						"characters": "view"
					},
					"BQAAAM4YAAAAAAAAzxgAAAAAAAAAAAAAzxgAAAAAAADPGAAAAAAAAAUAAAByYW5nZc8YAAAAAAAA0BgAAAAAAAAAAAAA0BgAAAAAAADRGAAAAAAAAAAAAADRGAAAAAAAANIYAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADOGAAAAAAAANMYAAAAAAAAAAAAAAAA8L8"
				],
				[
					82,
					1,
					"insert",
					{
						"characters": "\n\n"
					},
					"AgAAAM0ZAAAAAAAAzhkAAAAAAAAAAAAAzhkAAAAAAADPGQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADNGQAAAAAAAM0ZAAAAAAAAAAAAAAAA8L8"
				],
				[
					83,
					1,
					"paste",
					null,
					"AQAAAM8ZAAAAAAAAZxoAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADPGQAAAAAAAM8ZAAAAAAAAAAAAAAAA8L8"
				],
				[
					90,
					1,
					"insert",
					{
						"characters": " "
					},
					"AgAAAPAZAAAAAAAA8RkAAAAAAAAAAAAA8RkAAAAAAADxGQAAAAAAABkAAABzdGQ6OnJhbmdlczo6c3VicmFuZ2U8VCo+",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADwGQAAAAAAAAkaAAAAAAAAAAAAAAAA8L8"
				],
				[
					97,
					1,
					"paste",
					null,
					"AQAAAPEZAAAAAAAA/hkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADxGQAAAAAAAPEZAAAAAAAAAAAAAAAA8L8"
				],
				[
					98,
					1,
					"insert",
					{
						"characters": "<T>"
					},
					"AwAAAP4ZAAAAAAAA/xkAAAAAAAAAAAAA/xkAAAAAAAAAGgAAAAAAAAAAAAAAGgAAAAAAAAEaAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD+GQAAAAAAAP4ZAAAAAAAAAAAAAAAA8L8"
				],
				[
					116,
					1,
					"paste",
					null,
					"AgAAAC8aAAAAAAAAPxoAAAAAAAAAAAAAPxoAAAAAAAA/GgAAAAAAAC0AAABzdGQ6OnJhbmdlczo6c3VicmFuZ2U8VCo+KGFyZ3YsIGFyZ3YgKyBhcmdjKTs",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAvGgAAAAAAAFwaAAAAAAAAAAAAAAAA8L8"
				],
				[
					117,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAD8aAAAAAAAAQRoAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAA/GgAAAAAAAD8aAAAAAAAAAAAAAAAA8L8"
				],
				[
					118,
					1,
					"insert",
					{
						"characters": "argc,"
					},
					"BQAAAEAaAAAAAAAAQRoAAAAAAAAAAAAAQRoAAAAAAABCGgAAAAAAAAAAAABCGgAAAAAAAEMaAAAAAAAAAAAAAEMaAAAAAAAARBoAAAAAAAAAAAAARBoAAAAAAABFGgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABAGgAAAAAAAEAaAAAAAAAAAAAAAAAA8L8"
				],
				[
					119,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAEUaAAAAAAAARhoAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABFGgAAAAAAAEUaAAAAAAAAAAAAAAAA8L8"
				],
				[
					120,
					1,
					"left_delete",
					null,
					"AQAAAEUaAAAAAAAARRoAAAAAAAABAAAAIA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABGGgAAAAAAAEYaAAAAAAAAAAAAAAAA8L8"
				],
				[
					121,
					1,
					"insert",
					{
						"characters": "argv"
					},
					"BAAAAEUaAAAAAAAARhoAAAAAAAAAAAAARhoAAAAAAABHGgAAAAAAAAAAAABHGgAAAAAAAEgaAAAAAAAAAAAAAEgaAAAAAAAASRoAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABFGgAAAAAAAEUaAAAAAAAAAAAAAAAA8L8"
				],
				[
					123,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAAEoaAAAAAAAASxoAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABKGgAAAAAAAEoaAAAAAAAAAAAAAAAA8L8"
				],
				[
					141,
					1,
					"paste",
					null,
					"AgAAAOEYAAAAAAAA7hgAAAAAAAAAAAAA7hgAAAAAAADuGAAAAAAAAAoAAABhcmd2X3Jhbmdl",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADhGAAAAAAAAOsYAAAAAAAAAAAAAAAA8L8"
				],
				[
					145,
					1,
					"paste",
					null,
					"AgAAAK0YAAAAAAAAtBkAAAAAAAAAAAAAtBkAAAAAAAC0GQAAAAAAACMBAAB0ZW1wbGF0ZTxjbGFzcyBUPgpjbGFzcyBhcmd1bWVudF92aWV3IHsKIHB1YmxpYzoKICAgYXJndW1lbnRfdmlldyhpbnQgYXJnYywgVCAqIGNvbnN0IGFyZ3ZbXSkKICAgICAgICA6IGFyZ2NfKGFyZ2MpLCBhcmd2Xyhhcmd2KQogICB7CiAgIH0KCiAgIFQqIGNvbnN0ICpiZWdpbigpIGNvbnN0IHsgcmV0dXJuIGFyZ3ZfOyB9CiAgIFQgKiBjb25zdCAqZW5kKCkgY29uc3QgeyByZXR1cm4gYXJndl8gKyBhcmdjXzsgfQoKIHByaXZhdGU6CiAgIGNvbnN0IGludCBhcmdjXzsKICAgVCAqIGNvbnN0ICphcmd2XzsKfTs",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADQGQAAAAAAAK0YAAAAAAAAAAAAAAAA8L8"
				],
				[
					147,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAAKwYAAAAAAAArRgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACsGAAAAAAAAKwYAAAAAAAAAAAAAAAAMEA"
				],
				[
					149,
					1,
					"left_delete",
					null,
					"AQAAALYZAAAAAAAAthkAAAAAAAABAAAACg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC3GQAAAAAAALcZAAAAAAAAAAAAAAAAAAA"
				],
				[
					151,
					1,
					"left_delete",
					null,
					"AQAAAK0YAAAAAAAArRgAAAAAAAABAAAACg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACuGAAAAAAAAK4YAAAAAAAAAAAAAAAAAAA"
				],
				[
					152,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAADDHQAAI2lmbmRlZiBVVElMX0hQUAojZGVmaW5lIFVUSUxfSFBQCgojaW5jbHVkZSA8c3RyaW5nPgojaW5jbHVkZSA8bnVtZXJpYz4KI2luY2x1ZGUgPGlvc3RyZWFtPgojaW5jbHVkZSA8aW9tYW5pcD4KI2luY2x1ZGUgPHN5cy9zdGF0Lmg+CgojaW5jbHVkZSA8b3BlbmN2Mi9jb3JlLmhwcD4KCiNpZiBkZWZpbmVkKF9XSU4zMikgfHwgZGVmaW5lZChfX01JTkdXMzJfXykKI2RlZmluZSBWSVNJQkxFIF9fZGVjbHNwZWMoZGxsZXhwb3J0KQojZGVmaW5lIEhJRERFTgojZWxzZQojZGVmaW5lIFZJU0lCTEUgX19hdHRyaWJ1dGVfXygodmlzaWJpbGl0eSgiZGVmYXVsdCIpKSkKI2RlZmluZSBISURERU4gX19hdHRyaWJ1dGVfXygodmlzaWJpbGl0eSgiaGlkZGVuIikpKQojZW5kaWYKCiNkZWZpbmUgQ09MT1JfQkxBQ0sgIlx4MWJbMzBtIgojZGVmaW5lIENPTE9SX1JFRCAiXHgxYlszMW0iCiNkZWZpbmUgQ09MT1JfR1JFRU4gIlx4MWJbMzJtIgojZGVmaW5lIENPTE9SX1lFTExPVyAiXHgxYlszM20iCiNkZWZpbmUgQ09MT1JfQkxVRSAiXHgxYlszNG0iCiNkZWZpbmUgQ09MT1JfTUFHRU5UQSAiXHgxYlszNW0iCiNkZWZpbmUgQ09MT1JfQ1lBTiAiXHgxYlszNm0iCiNkZWZpbmUgQ09MT1JfV0hJVEUgIlx4MWJbMzdtIgoKI2RlZmluZSBDT0xPUl9HUkFZICJceDFiWzE7MzBtIgojZGVmaW5lIENPTE9SX0xJR0hUUkVEICJceDFiWzE7MzFtIgojZGVmaW5lIENPTE9SX0xJR0hUR1JFRU4gIlx4MWJbMTszMm0iCiNkZWZpbmUgQ09MT1JfTElHSFRZRUxMT1cgIlx4MWJbMTszM20iCiNkZWZpbmUgQ09MT1JfTElHSFRCTFVFICJceDFiWzE7MzRtIgojZGVmaW5lIENPTE9SX0xJR0hUTUFHRU5UQSAiXHgxYlsxOzM1bSIKI2RlZmluZSBDT0xPUl9MSUdIVENZQU4gIlx4MWJbMTszNm0iCiNkZWZpbmUgQ09MT1JfTElHSFRXSElURSAiXHgxYlsxOzM3bSIKCiNkZWZpbmUgQ09MT1JfTk9ORSAiXHgxYlttIgoKYm9vbCBzdHJfZW5kKGNvbnN0IGNoYXIqIHN0ciwgY29uc3QgY2hhciogc3VmZml4KTsKYm9vbCBzdHJfZW5kKGNvbnN0IHN0ZDo6c3RyaW5nJiBzdHIsIGNvbnN0IHN0ZDo6c3RyaW5nJiBzdWZmaXgpOwoKc3RkOjpzdHJpbmcgdG9fc3RyaW5nKGNvbnN0IGN2OjpTY2FsYXImIHNjYWxhcik7CgpzdGQ6OnN0cmluZyBtYWtlX2ZpbGVuYW1lKGNvbnN0IHN0ZDo6c3RyaW5nJiBuYW1lLCBpbnQgY291bnQsIGNvbnN0IHN0ZDo6c3RyaW5nJiBleHQsIGNvbnN0IHN0ZDo6c3RyaW5nJiBkaXIgPSAidG1wIik7CgppbmxpbmUgaW50MzJfdApnZXRfbXRpbWUoY29uc3QgY2hhciogZmlsZW5hbWUpIHsKI2lmIF9fU1REQ19WRVJTSU9OX18gPj0gMjAxNzEwTAogIHJldHVybiBzdGQ6OmZpbGVzeXN0ZW06Omxhc3Rfd3JpdGVfdGltZShmaWxlbmFtZSk7CiNlbHNlCiAgc3RydWN0IHN0YXQgc3Q7CiAgaWYoc3RhdChmaWxlbmFtZSwgJnN0KSAhPSAtMSkgewogICAgdWludDMyX3QgcmV0ID0gc3Quc3RfbXRpbWU7CiAgICByZXR1cm4gcmV0OwogIH0KI2VuZGlmCiAgcmV0dXJuIC0xOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBDaGFyLCBjbGFzcyBWYWx1ZT4KaW5saW5lIHN0ZDo6b3N0cmVhbSYKb3BlcmF0b3I8PChzdGQ6Om9zdHJlYW0mIG9zLCBjb25zdCBzdGQ6OnZlY3RvcjxWYWx1ZT4mIGMpIHsKICB0eXBlZGVmIHR5cGVuYW1lIHN0ZDo6dmVjdG9yPFZhbHVlPjo6Y29uc3RfaXRlcmF0b3IgaXRlcmF0b3JfdHlwZTsKICBpdGVyYXRvcl90eXBlIGVuZCA9IGMuZW5kKCk7CiAgZm9yKGl0ZXJhdG9yX3R5cGUgaXQgPSBjLmJlZ2luKCk7IGl0ICE9IGVuZDsgKytpdCkgewogICAgb3MgPDwgJyAnOwogICAgb3MgPDwgdG9fc3RyaW5nKCppdCk7CiAgfQogIHJldHVybiBvczsKfQoKaW5saW5lIHN0ZDo6c3RyaW5nCnRvX3N0cmluZyhjb25zdCBjdjo6U2NhbGFyJiBzY2FsYXIpIHsKICBjb25zdCBpbnQgcGFkID0gMzsKICBzdGQ6Om9zdHJpbmdzdHJlYW0gb3NzOwogIG9zcyA8PCAnWycgPDwgc3RkOjpzZXRmaWxsKCcgJykgPDwgc3RkOjpzZXR3KHBhZCkgPDwgc2NhbGFyWzBdIDw8ICcsJyA8PCBzdGQ6OnNldGZpbGwoJyAnKSA8PCBzdGQ6OnNldHcocGFkKSA8PCBzY2FsYXJbMV0KICAgICAgPDwgJywnIDw8IHN0ZDo6c2V0ZmlsbCgnICcpIDw8IHN0ZDo6c2V0dyhwYWQpIDw8IHNjYWxhclsyXSA8PCAnLCcgPDwgc3RkOjpzZXRmaWxsKCcgJykgPDwgc3RkOjpzZXR3KHBhZCkgPDwgc2NhbGFyWzNdCiAgICAgIDw8ICddJzsKICByZXR1cm4gb3NzLnN0cigpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBJdGVyYXRvcj4Kc3RhdGljIGlubGluZSBzdGQ6OnN0cmluZwpqb2luKGNvbnN0IEl0ZXJhdG9yJiBzdGFydCwgY29uc3QgSXRlcmF0b3ImIGVuZCwgY29uc3Qgc3RkOjpzdHJpbmcmIGRlbGltKSB7CiAgcmV0dXJuIHN0ZDo6YWNjdW11bGF0ZShzdGFydCwgZW5kLCBzdGQ6OnN0cmluZygpLCBbJmRlbGltXShjb25zdCBzdGQ6OnN0cmluZyYgYSwgY29uc3Qgc3RkOjpzdHJpbmcmIGIpIC0+IHN0ZDo6c3RyaW5nIHsKICAgIHJldHVybiBhICsgKGEubGVuZ3RoKCkgPiAwID8gZGVsaW0gOiAiIikgKyBiOwogIH0pOwp9CgpleHRlcm4gIkMiIHZvaWQqIGdldF9oZWFwX2Jhc2UoKTsKCnR5cGVkZWYgc3RydWN0IEpTTWF0RGltZW5zaW9ucyB7CiAgdWludDMyX3Qgcm93cywgY29sczsKCiAgb3BlcmF0b3IgY3Y6OlNpemUoKSBjb25zdCB7IHJldHVybiBjdjo6U2l6ZShjb2xzLCByb3dzKTsgfQp9IEpTTWF0RGltZW5zaW9uczsKCnN0YXRpYyBpbmxpbmUgaW50Cm1hdHR5cGVfZGVwdGgoaW50IHR5cGUpIHsKICByZXR1cm4gdHlwZSAmIDB4NzsKfQpzdGF0aWMgaW5saW5lIGludAptYXR0eXBlX2NoYW5uZWxzKGludCB0eXBlKSB7CiAgcmV0dXJuICh0eXBlID4+IDMpICsgMTsKfQpzdGF0aWMgaW5saW5lIGJvb2wKbWF0dHlwZV9mbG9hdGluZyhpbnQgdHlwZSkgewogIHN3aXRjaChtYXR0eXBlX2RlcHRoKHR5cGUpKSB7CiAgICBjYXNlIENWXzMyRjoKICAgIGNhc2UgQ1ZfNjRGOiByZXR1cm4gdHJ1ZTsKICAgIGRlZmF1bHQ6IHJldHVybiBmYWxzZTsKICB9Cn0Kc3RhdGljIGlubGluZSBib29sCm1hdHR5cGVfc2lnbmVkKGludCB0eXBlKSB7CiAgc3dpdGNoKG1hdHR5cGVfZGVwdGgodHlwZSkpIHsKICAgIGNhc2UgQ1ZfOFM6CiAgICBjYXNlIENWXzE2UzoKICAgIGNhc2UgQ1ZfMzJTOiByZXR1cm4gdHJ1ZTsKICAgIGRlZmF1bHQ6IHJldHVybiBmYWxzZTsKICB9Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgSlNNYXREaW1lbnNpb25zCm1hdF9kaW1lbnNpb25zKGNvbnN0IFQmIG1hdCkgewogIEpTTWF0RGltZW5zaW9ucyByZXQ7CiAgcmV0LnJvd3MgPSBtYXQucm93czsKICByZXQuY29scyA9IG1hdC5jb2xzOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBpbmxpbmUgdWludDhfdCoKbWF0X3B0cihjdjo6TWF0JiBtYXQpIHsKICByZXR1cm4gcmVpbnRlcnByZXRfY2FzdDx1aW50OF90Kj4obWF0LnB0cigpKTsKfQoKc3RhdGljIGlubGluZSB1aW50OF90KgptYXRfcHRyKGN2OjpVTWF0JiBtYXQpIHsKICBjdjo6VU1hdERhdGEqIHU7CgogIGlmKCh1ID0gbWF0LnUpKQogICAgcmV0dXJuIHJlaW50ZXJwcmV0X2Nhc3Q8dWludDhfdCo+KHUtPmRhdGEpOwoKICByZXR1cm4gbnVsbHB0cjsKfQoKc3RhdGljIGlubGluZSBzaXplX3QKbWF0X29mZnNldChjb25zdCBjdjo6TWF0JiBtYXQsIHVpbnQzMl90IHJvdywgdWludDMyX3QgY29sKSB7CiAgY29uc3QgdWNoYXIgKmJhc2UsICpwdHI7CgogIGJhc2UgPSBtYXQucHRyPHVjaGFyPigpOwogIHB0ciA9IG1hdC5wdHI8dWNoYXI+KHJvdywgY29sKTsKCiAgcmV0dXJuIHB0ciAtIGJhc2U7Cn0KCnN0YXRpYyBpbmxpbmUgc2l6ZV90Cm1hdF9vZmZzZXQoY29uc3QgY3Y6OlVNYXQmIG1hdCwgdWludDMyX3Qgcm93LCB1aW50MzJfdCBjb2wpIHsKICByZXR1cm4gKHNpemVfdChtYXQuY29scykgKiByb3cgKyBjb2wpICogbWF0LmVsZW1TaXplKCk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgVCYKbWF0X2F0KGN2OjpNYXQmIG1hdCwgdWludDMyX3Qgcm93LCB1aW50MzJfdCBjb2wpIHsKICByZXR1cm4gKm1hdC5wdHI8VD4ocm93LCBjb2wpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIFQmCm1hdF9hdChjdjo6VU1hdCYgbWF0LCB1aW50MzJfdCByb3csIHVpbnQzMl90IGNvbCkgewogIHNpemVfdCBvZmZzID0gbWF0X29mZnNldChtYXQsIHJvdywgY29sKTsKICByZXR1cm4gKnJlaW50ZXJwcmV0X2Nhc3Q8VCo+KG1hdF9wdHIobWF0KSArIG9mZnMpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIHNpemVfdAptYXRfYnl0ZXNpemUoY29uc3QgVCYgbWF0KSB7CiAgcmV0dXJuIG1hdC5lbGVtU2l6ZSgpICogbWF0LnRvdGFsKCk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgaW50Cm1hdF9kZXB0aChjb25zdCBUJiBtYXQpIHsKICByZXR1cm4gbWF0dHlwZV9kZXB0aChtYXQudHlwZSgpKTsKfQoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSBpbnQKbWF0X2NoYW5uZWxzKGNvbnN0IFQmIG1hdCkgewogIHJldHVybiBtYXR0eXBlX2NoYW5uZWxzKG1hdC50eXBlKCkpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIGJvb2wKbWF0X3NpZ25lZChjb25zdCBUJiBtYXQpIHsKICByZXR1cm4gbWF0dHlwZV9zaWduZWQobWF0LnR5cGUoKSk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgYm9vbAptYXRfZmxvYXRpbmcoY29uc3QgVCYgbWF0KSB7CiAgcmV0dXJuIG1hdHR5cGVfZmxvYXRpbmcobWF0LnR5cGUoKSk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQsIGludCBOPgpzdGF0aWMgaW5saW5lIFQqCmJlZ2luKGN2OjpWZWM8VCwgTj4mIHYpIHsKICByZXR1cm4gJnZbMF07Cn0KdGVtcGxhdGU8Y2xhc3MgVCwgaW50IE4+CnN0YXRpYyBpbmxpbmUgVCoKZW5kKGN2OjpWZWM8VCwgTj4mIHYpIHsKICByZXR1cm4gJnZbTl07Cn0KCnRlbXBsYXRlPGNsYXNzIFQsIGludCBOPgpzdGF0aWMgaW5saW5lIFQgY29uc3QqCmJlZ2luKGN2OjpWZWM8VCwgTj4gY29uc3QmIHYpIHsKICByZXR1cm4gJnZbMF07Cn0KdGVtcGxhdGU8Y2xhc3MgVCwgaW50IE4+CnN0YXRpYyBpbmxpbmUgVCBjb25zdCoKZW5kKGN2OjpWZWM8VCwgTj4gY29uc3QmIHYpIHsKICByZXR1cm4gJnZbTl07Cn0KLyoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSB0eXBlbmFtZSBUOjp2YWx1ZV90eXBlIGNvbnN0KgpiZWdpbihjb25zdCBUJiBvYmopIHsKICByZXR1cm4gb2JqLmJlZ2luKCk7Cn0KdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSB0eXBlbmFtZSBUOjp2YWx1ZV90eXBlKgpiZWdpbihUJiBvYmopIHsKICByZXR1cm4gb2JqLmJlZ2luKCk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgdHlwZW5hbWUgVDo6dmFsdWVfdHlwZSBjb25zdCoKZW5kKGNvbnN0IFQmIG9iaikgewogIHJldHVybiBvYmouZW5kKCk7Cn0KdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSB0eXBlbmFtZSBUOjp2YWx1ZV90eXBlKgplbmQoVCYgb2JqKSB7CiAgcmV0dXJuIG9iai5lbmQoKTsKfQoqLwp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIFQqCmJlZ2luKHN0ZDo6dmVjdG9yPFQ+JiB2KSB7CiAgcmV0dXJuICZ2WzBdOwp9CnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgVCoKZW5kKHN0ZDo6dmVjdG9yPFQ+JiB2KSB7CiAgcmV0dXJuICZ2W3Yuc2l6ZSgpXTsKfQp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIFQgY29uc3QqCmJlZ2luKHN0ZDo6dmVjdG9yPFQ+IGNvbnN0JiB2KSB7CiAgcmV0dXJuICZ2WzBdOwp9CnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgVCBjb25zdCoKZW5kKHN0ZDo6dmVjdG9yPFQ+IGNvbnN0JiB2KSB7CiAgcmV0dXJuICZ2W3Yuc2l6ZSgpXTsKfQoKc3RhdGljIGlubGluZSB1aW50OF90KgpiZWdpbihjdjo6TWF0JiBtYXQpIHsKICByZXR1cm4gbWF0LnB0cjx1aW50OF90PigpOwp9CnN0YXRpYyBpbmxpbmUgdWludDhfdCoKZW5kKGN2OjpNYXQmIG1hdCkgewogIHJldHVybiBtYXQucHRyPHVpbnQ4X3Q+KCkgKyAobWF0LnRvdGFsKCkgKiBtYXQuZWxlbVNpemUoKSk7Cn0KCnN0YXRpYyBpbmxpbmUgdWludDhfdCBjb25zdCoKYmVnaW4oY3Y6Ok1hdCBjb25zdCYgbWF0KSB7CiAgcmV0dXJuIG1hdC5wdHI8dWludDhfdCBjb25zdD4oKTsKfQpzdGF0aWMgaW5saW5lIHVpbnQ4X3QgY29uc3QqCmVuZChjdjo6TWF0IGNvbnN0JiBtYXQpIHsKICByZXR1cm4gbWF0LnB0cjx1aW50OF90IGNvbnN0PigpICsgKG1hdC50b3RhbCgpICogbWF0LmVsZW1TaXplKCkpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpjbGFzcyBhcmd1bWVudF92aWV3IHsKIHB1YmxpYzoKICAgYXJndW1lbnRfdmlldyhpbnQgYXJnYywgVCAqIGNvbnN0IGFyZ3ZbXSkKICAgICAgICA6IGMoYXJnYyksIHYoYXJndikKICAgewogICB9CgogICBUKiBjb25zdCAqYmVnaW4oKSBjb25zdCB7IHJldHVybiB2OyB9CiAgIFQgKiBjb25zdCAqZW5kKCkgY29uc3QgeyByZXR1cm4gdiArIGM7IH0KCiBwcml2YXRlOgogICBjb25zdCBpbnQgYzsKICAgVCAqIGNvbnN0ICp2Owp9OwoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSAgYXJndW1lbnRfdmlldzxUPgphcmd1bWVudF9yYW5nZShpbnQgYXJnYywgVCogYXJndikgewogIHJldHVybiBhcmd1bWVudF92aWV3PFQ+KGFyZ2MsYXJndik7Cn0KCiNpZiAwICYmIENYWF9TVEFOREFSRCA+PSAyMAojaW5jbHVkZSA8cmFuZ2VzPgoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSBzdGQ6OnJhbmdlczo6c3VicmFuZ2U8VD4Kc2l6ZWRfcmFuZ2UoVCBwdHIsIHNpemVfdCBsZW4pIHsKICByZXR1cm4gc3RkOjpyYW5nZXM6OnN1YnJhbmdlPFQ+KHB0ciwgcHRyICsgbGVuKTsKfQoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSBzdGQ6OnJhbmdlczo6c3VicmFuZ2U8VCo+CmFyZ3VtZW50X3JhbmdlKGludCBhcmdjLCBUKiBhcmd2KSB7CiAgcmV0dXJuIHN0ZDo6cmFuZ2VzOjpzdWJyYW5nZTxUKj4oYXJndiwgYXJndiArIGFyZ2MpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIHN0ZDo6cmFuZ2VzOjpzdWJyYW5nZTxUKj4KcmFuZ2UoVCogYmVnaW4sIFQqIGVuZCkgewogIHJldHVybiBzdGQ6OnJhbmdlczo6c3VicmFuZ2U8VCo+KGJlZ2luLCBlbmQpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBDb250YWluZXI+CnN0YXRpYyBpbmxpbmUgc3RkOjpyYW5nZXM6OnN1YnJhbmdlPHR5cGVuYW1lIENvbnRhaW5lcjo6dmFsdWVfdHlwZSo+CnJhbmdlKENvbnRhaW5lciYgYykgewogIHJldHVybiBzdGQ6OnJhbmdlczo6c3VicmFuZ2U8dHlwZW5hbWUgQ29udGFpbmVyOjp2YWx1ZV90eXBlKj4oYmVnaW4oYyksIGVuZChjKSk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQsIGNsYXNzIENvbnRhaW5lcj4Kc3RhdGljIGlubGluZSBzdGQ6OnJhbmdlczo6c3VicmFuZ2U8VD4KcmFuZ2UoQ29udGFpbmVyJiBjKSB7CiAgcmV0dXJuIHN0ZDo6cmFuZ2VzOjpzdWJyYW5nZTxUPihyZWludGVycHJldF9jYXN0PFQ+KGJlZ2luKGMpKSwgcmVpbnRlcnByZXRfY2FzdDxUPihlbmQoYykpKTsKfQojZW5kaWYKCiNlbmRpZiAvLyBkZWZpbmVkKFVUSUxfSFBQKQoAAAAAAAAAALodAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACtGAAAAAAAAK0YAAAAAAAAAAAAAAAA8L8"
				],
				[
					254,
					1,
					"left_delete",
					null,
					"AQAAACkZAAAAAAAAKRkAAAAAAAABAAAAKg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAqGQAAAAAAACoZAAAAAAAAAAAAAAAA8L8"
				],
				[
					258,
					1,
					"left_delete",
					null,
					"AQAAAFgZAAAAAAAAWBkAAAAAAAABAAAAKg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABZGQAAAAAAAFkZAAAAAAAA////////738"
				],
				[
					261,
					1,
					"left_delete",
					null,
					"AQAAAKIZAAAAAAAAohkAAAAAAAABAAAAKg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACjGQAAAAAAAKMZAAAAAAAAAAAAAAAA8L8"
				],
				[
					268,
					1,
					"left_delete",
					null,
					"AQAAAPgYAAAAAAAA+BgAAAAAAAABAAAAKg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD5GAAAAAAAAPkYAAAAAAAAAAAAAAAA8L8"
				],
				[
					280,
					1,
					"insert",
					{
						"characters": "s"
					},
					"AQAAAB4ZAAAAAAAAHxkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAeGQAAAAAAAB4ZAAAAAAAAAAAAAAAA8L8"
				],
				[
					281,
					1,
					"left_delete",
					null,
					"AQAAAB4ZAAAAAAAAHhkAAAAAAAABAAAAcw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAfGQAAAAAAAB8ZAAAAAAAAAAAAAAAA8L8"
				],
				[
					284,
					1,
					"cut",
					null,
					"AQAAACEZAAAAAAAAIRkAAAAAAAACAAAAKiA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAhGQAAAAAAACMZAAAAAAAAAAAAAAAA8L8"
				],
				[
					285,
					1,
					"paste",
					null,
					"AQAAACEZAAAAAAAAIxkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAhGQAAAAAAACEZAAAAAAAAAAAAAAAA8L8"
				],
				[
					288,
					1,
					"paste",
					null,
					"AQAAAPgYAAAAAAAA+hgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD4GAAAAAAAAPgYAAAAAAAAAAAAAAAA8L8"
				],
				[
					291,
					2,
					"left_delete",
					null,
					"AgAAAAYZAAAAAAAABhkAAAAAAAABAAAAXQUZAAAAAAAABRkAAAAAAAABAAAAWw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAHGQAAAAAAAAcZAAAAAAAAAAAAAAAA8L8"
				],
				[
					299,
					1,
					"left_delete",
					null,
					"AQAAAPQZAAAAAAAA9BkAAAAAAAABAAAAKg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD1GQAAAAAAAPUZAAAAAAAAAAAAAAAA8L8"
				],
				[
					300,
					1,
					"insert",
					{
						"characters": "0"
					},
					"AQAAAPQZAAAAAAAA9RkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD0GQAAAAAAAPQZAAAAAAAAAAAAAAAA8L8"
				],
				[
					301,
					1,
					"left_delete",
					null,
					"AQAAAPQZAAAAAAAA9BkAAAAAAAABAAAAMA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD1GQAAAAAAAPUZAAAAAAAAAAAAAAAA8L8"
				],
				[
					303,
					1,
					"insert_snippet",
					{
						"contents": "[$0]"
					},
					"AQAAAPkZAAAAAAAA+xkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD5GQAAAAAAAPkZAAAAAAAAAAAAAAAA8L8"
				],
				[
					308,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAC3HQAAI2lmbmRlZiBVVElMX0hQUAojZGVmaW5lIFVUSUxfSFBQCgojaW5jbHVkZSA8c3RyaW5nPgojaW5jbHVkZSA8bnVtZXJpYz4KI2luY2x1ZGUgPGlvc3RyZWFtPgojaW5jbHVkZSA8aW9tYW5pcD4KI2luY2x1ZGUgPHN5cy9zdGF0Lmg+CgojaW5jbHVkZSA8b3BlbmN2Mi9jb3JlLmhwcD4KCiNpZiBkZWZpbmVkKF9XSU4zMikgfHwgZGVmaW5lZChfX01JTkdXMzJfXykKI2RlZmluZSBWSVNJQkxFIF9fZGVjbHNwZWMoZGxsZXhwb3J0KQojZGVmaW5lIEhJRERFTgojZWxzZQojZGVmaW5lIFZJU0lCTEUgX19hdHRyaWJ1dGVfXygodmlzaWJpbGl0eSgiZGVmYXVsdCIpKSkKI2RlZmluZSBISURERU4gX19hdHRyaWJ1dGVfXygodmlzaWJpbGl0eSgiaGlkZGVuIikpKQojZW5kaWYKCiNkZWZpbmUgQ09MT1JfQkxBQ0sgIlx4MWJbMzBtIgojZGVmaW5lIENPTE9SX1JFRCAiXHgxYlszMW0iCiNkZWZpbmUgQ09MT1JfR1JFRU4gIlx4MWJbMzJtIgojZGVmaW5lIENPTE9SX1lFTExPVyAiXHgxYlszM20iCiNkZWZpbmUgQ09MT1JfQkxVRSAiXHgxYlszNG0iCiNkZWZpbmUgQ09MT1JfTUFHRU5UQSAiXHgxYlszNW0iCiNkZWZpbmUgQ09MT1JfQ1lBTiAiXHgxYlszNm0iCiNkZWZpbmUgQ09MT1JfV0hJVEUgIlx4MWJbMzdtIgoKI2RlZmluZSBDT0xPUl9HUkFZICJceDFiWzE7MzBtIgojZGVmaW5lIENPTE9SX0xJR0hUUkVEICJceDFiWzE7MzFtIgojZGVmaW5lIENPTE9SX0xJR0hUR1JFRU4gIlx4MWJbMTszMm0iCiNkZWZpbmUgQ09MT1JfTElHSFRZRUxMT1cgIlx4MWJbMTszM20iCiNkZWZpbmUgQ09MT1JfTElHSFRCTFVFICJceDFiWzE7MzRtIgojZGVmaW5lIENPTE9SX0xJR0hUTUFHRU5UQSAiXHgxYlsxOzM1bSIKI2RlZmluZSBDT0xPUl9MSUdIVENZQU4gIlx4MWJbMTszNm0iCiNkZWZpbmUgQ09MT1JfTElHSFRXSElURSAiXHgxYlsxOzM3bSIKCiNkZWZpbmUgQ09MT1JfTk9ORSAiXHgxYlttIgoKYm9vbCBzdHJfZW5kKGNvbnN0IGNoYXIqIHN0ciwgY29uc3QgY2hhciogc3VmZml4KTsKYm9vbCBzdHJfZW5kKGNvbnN0IHN0ZDo6c3RyaW5nJiBzdHIsIGNvbnN0IHN0ZDo6c3RyaW5nJiBzdWZmaXgpOwoKc3RkOjpzdHJpbmcgdG9fc3RyaW5nKGNvbnN0IGN2OjpTY2FsYXImIHNjYWxhcik7CgpzdGQ6OnN0cmluZyBtYWtlX2ZpbGVuYW1lKGNvbnN0IHN0ZDo6c3RyaW5nJiBuYW1lLCBpbnQgY291bnQsIGNvbnN0IHN0ZDo6c3RyaW5nJiBleHQsIGNvbnN0IHN0ZDo6c3RyaW5nJiBkaXIgPSAidG1wIik7CgppbmxpbmUgaW50MzJfdApnZXRfbXRpbWUoY29uc3QgY2hhciogZmlsZW5hbWUpIHsKI2lmIF9fU1REQ19WRVJTSU9OX18gPj0gMjAxNzEwTAogIHJldHVybiBzdGQ6OmZpbGVzeXN0ZW06Omxhc3Rfd3JpdGVfdGltZShmaWxlbmFtZSk7CiNlbHNlCiAgc3RydWN0IHN0YXQgc3Q7CiAgaWYoc3RhdChmaWxlbmFtZSwgJnN0KSAhPSAtMSkgewogICAgdWludDMyX3QgcmV0ID0gc3Quc3RfbXRpbWU7CiAgICByZXR1cm4gcmV0OwogIH0KI2VuZGlmCiAgcmV0dXJuIC0xOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBDaGFyLCBjbGFzcyBWYWx1ZT4KaW5saW5lIHN0ZDo6b3N0cmVhbSYKb3BlcmF0b3I8PChzdGQ6Om9zdHJlYW0mIG9zLCBjb25zdCBzdGQ6OnZlY3RvcjxWYWx1ZT4mIGMpIHsKICB0eXBlZGVmIHR5cGVuYW1lIHN0ZDo6dmVjdG9yPFZhbHVlPjo6Y29uc3RfaXRlcmF0b3IgaXRlcmF0b3JfdHlwZTsKICBpdGVyYXRvcl90eXBlIGVuZCA9IGMuZW5kKCk7CiAgZm9yKGl0ZXJhdG9yX3R5cGUgaXQgPSBjLmJlZ2luKCk7IGl0ICE9IGVuZDsgKytpdCkgewogICAgb3MgPDwgJyAnOwogICAgb3MgPDwgdG9fc3RyaW5nKCppdCk7CiAgfQogIHJldHVybiBvczsKfQoKaW5saW5lIHN0ZDo6c3RyaW5nCnRvX3N0cmluZyhjb25zdCBjdjo6U2NhbGFyJiBzY2FsYXIpIHsKICBjb25zdCBpbnQgcGFkID0gMzsKICBzdGQ6Om9zdHJpbmdzdHJlYW0gb3NzOwogIG9zcyA8PCAnWycgPDwgc3RkOjpzZXRmaWxsKCcgJykgPDwgc3RkOjpzZXR3KHBhZCkgPDwgc2NhbGFyWzBdIDw8ICcsJyA8PCBzdGQ6OnNldGZpbGwoJyAnKSA8PCBzdGQ6OnNldHcocGFkKSA8PCBzY2FsYXJbMV0KICAgICAgPDwgJywnIDw8IHN0ZDo6c2V0ZmlsbCgnICcpIDw8IHN0ZDo6c2V0dyhwYWQpIDw8IHNjYWxhclsyXSA8PCAnLCcgPDwgc3RkOjpzZXRmaWxsKCcgJykgPDwgc3RkOjpzZXR3KHBhZCkgPDwgc2NhbGFyWzNdCiAgICAgIDw8ICddJzsKICByZXR1cm4gb3NzLnN0cigpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBJdGVyYXRvcj4Kc3RhdGljIGlubGluZSBzdGQ6OnN0cmluZwpqb2luKGNvbnN0IEl0ZXJhdG9yJiBzdGFydCwgY29uc3QgSXRlcmF0b3ImIGVuZCwgY29uc3Qgc3RkOjpzdHJpbmcmIGRlbGltKSB7CiAgcmV0dXJuIHN0ZDo6YWNjdW11bGF0ZShzdGFydCwgZW5kLCBzdGQ6OnN0cmluZygpLCBbJmRlbGltXShjb25zdCBzdGQ6OnN0cmluZyYgYSwgY29uc3Qgc3RkOjpzdHJpbmcmIGIpIC0+IHN0ZDo6c3RyaW5nIHsKICAgIHJldHVybiBhICsgKGEubGVuZ3RoKCkgPiAwID8gZGVsaW0gOiAiIikgKyBiOwogIH0pOwp9CgpleHRlcm4gIkMiIHZvaWQqIGdldF9oZWFwX2Jhc2UoKTsKCnR5cGVkZWYgc3RydWN0IEpTTWF0RGltZW5zaW9ucyB7CiAgdWludDMyX3Qgcm93cywgY29sczsKCiAgb3BlcmF0b3IgY3Y6OlNpemUoKSBjb25zdCB7IHJldHVybiBjdjo6U2l6ZShjb2xzLCByb3dzKTsgfQp9IEpTTWF0RGltZW5zaW9uczsKCnN0YXRpYyBpbmxpbmUgaW50Cm1hdHR5cGVfZGVwdGgoaW50IHR5cGUpIHsKICByZXR1cm4gdHlwZSAmIDB4NzsKfQpzdGF0aWMgaW5saW5lIGludAptYXR0eXBlX2NoYW5uZWxzKGludCB0eXBlKSB7CiAgcmV0dXJuICh0eXBlID4+IDMpICsgMTsKfQpzdGF0aWMgaW5saW5lIGJvb2wKbWF0dHlwZV9mbG9hdGluZyhpbnQgdHlwZSkgewogIHN3aXRjaChtYXR0eXBlX2RlcHRoKHR5cGUpKSB7CiAgICBjYXNlIENWXzMyRjoKICAgIGNhc2UgQ1ZfNjRGOiByZXR1cm4gdHJ1ZTsKICAgIGRlZmF1bHQ6IHJldHVybiBmYWxzZTsKICB9Cn0Kc3RhdGljIGlubGluZSBib29sCm1hdHR5cGVfc2lnbmVkKGludCB0eXBlKSB7CiAgc3dpdGNoKG1hdHR5cGVfZGVwdGgodHlwZSkpIHsKICAgIGNhc2UgQ1ZfOFM6CiAgICBjYXNlIENWXzE2UzoKICAgIGNhc2UgQ1ZfMzJTOiByZXR1cm4gdHJ1ZTsKICAgIGRlZmF1bHQ6IHJldHVybiBmYWxzZTsKICB9Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgSlNNYXREaW1lbnNpb25zCm1hdF9kaW1lbnNpb25zKGNvbnN0IFQmIG1hdCkgewogIEpTTWF0RGltZW5zaW9ucyByZXQ7CiAgcmV0LnJvd3MgPSBtYXQucm93czsKICByZXQuY29scyA9IG1hdC5jb2xzOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBpbmxpbmUgdWludDhfdCoKbWF0X3B0cihjdjo6TWF0JiBtYXQpIHsKICByZXR1cm4gcmVpbnRlcnByZXRfY2FzdDx1aW50OF90Kj4obWF0LnB0cigpKTsKfQoKc3RhdGljIGlubGluZSB1aW50OF90KgptYXRfcHRyKGN2OjpVTWF0JiBtYXQpIHsKICBjdjo6VU1hdERhdGEqIHU7CgogIGlmKCh1ID0gbWF0LnUpKQogICAgcmV0dXJuIHJlaW50ZXJwcmV0X2Nhc3Q8dWludDhfdCo+KHUtPmRhdGEpOwoKICByZXR1cm4gbnVsbHB0cjsKfQoKc3RhdGljIGlubGluZSBzaXplX3QKbWF0X29mZnNldChjb25zdCBjdjo6TWF0JiBtYXQsIHVpbnQzMl90IHJvdywgdWludDMyX3QgY29sKSB7CiAgY29uc3QgdWNoYXIgKmJhc2UsICpwdHI7CgogIGJhc2UgPSBtYXQucHRyPHVjaGFyPigpOwogIHB0ciA9IG1hdC5wdHI8dWNoYXI+KHJvdywgY29sKTsKCiAgcmV0dXJuIHB0ciAtIGJhc2U7Cn0KCnN0YXRpYyBpbmxpbmUgc2l6ZV90Cm1hdF9vZmZzZXQoY29uc3QgY3Y6OlVNYXQmIG1hdCwgdWludDMyX3Qgcm93LCB1aW50MzJfdCBjb2wpIHsKICByZXR1cm4gKHNpemVfdChtYXQuY29scykgKiByb3cgKyBjb2wpICogbWF0LmVsZW1TaXplKCk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgVCYKbWF0X2F0KGN2OjpNYXQmIG1hdCwgdWludDMyX3Qgcm93LCB1aW50MzJfdCBjb2wpIHsKICByZXR1cm4gKm1hdC5wdHI8VD4ocm93LCBjb2wpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIFQmCm1hdF9hdChjdjo6VU1hdCYgbWF0LCB1aW50MzJfdCByb3csIHVpbnQzMl90IGNvbCkgewogIHNpemVfdCBvZmZzID0gbWF0X29mZnNldChtYXQsIHJvdywgY29sKTsKICByZXR1cm4gKnJlaW50ZXJwcmV0X2Nhc3Q8VCo+KG1hdF9wdHIobWF0KSArIG9mZnMpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIHNpemVfdAptYXRfYnl0ZXNpemUoY29uc3QgVCYgbWF0KSB7CiAgcmV0dXJuIG1hdC5lbGVtU2l6ZSgpICogbWF0LnRvdGFsKCk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgaW50Cm1hdF9kZXB0aChjb25zdCBUJiBtYXQpIHsKICByZXR1cm4gbWF0dHlwZV9kZXB0aChtYXQudHlwZSgpKTsKfQoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSBpbnQKbWF0X2NoYW5uZWxzKGNvbnN0IFQmIG1hdCkgewogIHJldHVybiBtYXR0eXBlX2NoYW5uZWxzKG1hdC50eXBlKCkpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIGJvb2wKbWF0X3NpZ25lZChjb25zdCBUJiBtYXQpIHsKICByZXR1cm4gbWF0dHlwZV9zaWduZWQobWF0LnR5cGUoKSk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgYm9vbAptYXRfZmxvYXRpbmcoY29uc3QgVCYgbWF0KSB7CiAgcmV0dXJuIG1hdHR5cGVfZmxvYXRpbmcobWF0LnR5cGUoKSk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQsIGludCBOPgpzdGF0aWMgaW5saW5lIFQqCmJlZ2luKGN2OjpWZWM8VCwgTj4mIHYpIHsKICByZXR1cm4gJnZbMF07Cn0KdGVtcGxhdGU8Y2xhc3MgVCwgaW50IE4+CnN0YXRpYyBpbmxpbmUgVCoKZW5kKGN2OjpWZWM8VCwgTj4mIHYpIHsKICByZXR1cm4gJnZbTl07Cn0KCnRlbXBsYXRlPGNsYXNzIFQsIGludCBOPgpzdGF0aWMgaW5saW5lIFQgY29uc3QqCmJlZ2luKGN2OjpWZWM8VCwgTj4gY29uc3QmIHYpIHsKICByZXR1cm4gJnZbMF07Cn0KdGVtcGxhdGU8Y2xhc3MgVCwgaW50IE4+CnN0YXRpYyBpbmxpbmUgVCBjb25zdCoKZW5kKGN2OjpWZWM8VCwgTj4gY29uc3QmIHYpIHsKICByZXR1cm4gJnZbTl07Cn0KLyoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSB0eXBlbmFtZSBUOjp2YWx1ZV90eXBlIGNvbnN0KgpiZWdpbihjb25zdCBUJiBvYmopIHsKICByZXR1cm4gb2JqLmJlZ2luKCk7Cn0KdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSB0eXBlbmFtZSBUOjp2YWx1ZV90eXBlKgpiZWdpbihUJiBvYmopIHsKICByZXR1cm4gb2JqLmJlZ2luKCk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgdHlwZW5hbWUgVDo6dmFsdWVfdHlwZSBjb25zdCoKZW5kKGNvbnN0IFQmIG9iaikgewogIHJldHVybiBvYmouZW5kKCk7Cn0KdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSB0eXBlbmFtZSBUOjp2YWx1ZV90eXBlKgplbmQoVCYgb2JqKSB7CiAgcmV0dXJuIG9iai5lbmQoKTsKfQoqLwp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIFQqCmJlZ2luKHN0ZDo6dmVjdG9yPFQ+JiB2KSB7CiAgcmV0dXJuICZ2WzBdOwp9CnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgVCoKZW5kKHN0ZDo6dmVjdG9yPFQ+JiB2KSB7CiAgcmV0dXJuICZ2W3Yuc2l6ZSgpXTsKfQp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIFQgY29uc3QqCmJlZ2luKHN0ZDo6dmVjdG9yPFQ+IGNvbnN0JiB2KSB7CiAgcmV0dXJuICZ2WzBdOwp9CnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgVCBjb25zdCoKZW5kKHN0ZDo6dmVjdG9yPFQ+IGNvbnN0JiB2KSB7CiAgcmV0dXJuICZ2W3Yuc2l6ZSgpXTsKfQoKc3RhdGljIGlubGluZSB1aW50OF90KgpiZWdpbihjdjo6TWF0JiBtYXQpIHsKICByZXR1cm4gbWF0LnB0cjx1aW50OF90PigpOwp9CnN0YXRpYyBpbmxpbmUgdWludDhfdCoKZW5kKGN2OjpNYXQmIG1hdCkgewogIHJldHVybiBtYXQucHRyPHVpbnQ4X3Q+KCkgKyAobWF0LnRvdGFsKCkgKiBtYXQuZWxlbVNpemUoKSk7Cn0KCnN0YXRpYyBpbmxpbmUgdWludDhfdCBjb25zdCoKYmVnaW4oY3Y6Ok1hdCBjb25zdCYgbWF0KSB7CiAgcmV0dXJuIG1hdC5wdHI8dWludDhfdCBjb25zdD4oKTsKfQpzdGF0aWMgaW5saW5lIHVpbnQ4X3QgY29uc3QqCmVuZChjdjo6TWF0IGNvbnN0JiBtYXQpIHsKICByZXR1cm4gbWF0LnB0cjx1aW50OF90IGNvbnN0PigpICsgKG1hdC50b3RhbCgpICogbWF0LmVsZW1TaXplKCkpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPiBjbGFzcyBhcmd1bWVudF92aWV3IHsKcHVibGljOgogIGFyZ3VtZW50X3ZpZXcoaW50IGFyZ2MsIFQqICBjb25zdCBhcmd2KSA6IGMoYXJnYyksIHYoYXJndikge30KCiAgVCogY29uc3QKICBiZWdpbigpIGNvbnN0IHsKICAgIHJldHVybiB2OwogIH0KICBUKiBjb25zdAogIGVuZCgpIGNvbnN0IHsKICAgIHJldHVybiB2ICsgYzsKICB9Cgpwcml2YXRlOgogIGNvbnN0IGludCBjOwogIFQqIGNvbnN0IHY7Cn07Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIGFyZ3VtZW50X3ZpZXc8VD4KYXJndW1lbnRfcmFuZ2UoaW50IGFyZ2MsIFQgYXJndltdKSB7CiAgcmV0dXJuIGFyZ3VtZW50X3ZpZXc8VD4oYXJnYywgYXJndik7Cn0KCiNpZiAwICYmIENYWF9TVEFOREFSRCA+PSAyMAojaW5jbHVkZSA8cmFuZ2VzPgoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSBzdGQ6OnJhbmdlczo6c3VicmFuZ2U8VD4Kc2l6ZWRfcmFuZ2UoVCBwdHIsIHNpemVfdCBsZW4pIHsKICByZXR1cm4gc3RkOjpyYW5nZXM6OnN1YnJhbmdlPFQ+KHB0ciwgcHRyICsgbGVuKTsKfQoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSBzdGQ6OnJhbmdlczo6c3VicmFuZ2U8VCo+CmFyZ3VtZW50X3JhbmdlKGludCBhcmdjLCBUKiBhcmd2KSB7CiAgcmV0dXJuIHN0ZDo6cmFuZ2VzOjpzdWJyYW5nZTxUKj4oYXJndiwgYXJndiArIGFyZ2MpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIHN0ZDo6cmFuZ2VzOjpzdWJyYW5nZTxUKj4KcmFuZ2UoVCogYmVnaW4sIFQqIGVuZCkgewogIHJldHVybiBzdGQ6OnJhbmdlczo6c3VicmFuZ2U8VCo+KGJlZ2luLCBlbmQpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBDb250YWluZXI+CnN0YXRpYyBpbmxpbmUgc3RkOjpyYW5nZXM6OnN1YnJhbmdlPHR5cGVuYW1lIENvbnRhaW5lcjo6dmFsdWVfdHlwZSo+CnJhbmdlKENvbnRhaW5lciYgYykgewogIHJldHVybiBzdGQ6OnJhbmdlczo6c3VicmFuZ2U8dHlwZW5hbWUgQ29udGFpbmVyOjp2YWx1ZV90eXBlKj4oYmVnaW4oYyksIGVuZChjKSk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQsIGNsYXNzIENvbnRhaW5lcj4Kc3RhdGljIGlubGluZSBzdGQ6OnJhbmdlczo6c3VicmFuZ2U8VD4KcmFuZ2UoQ29udGFpbmVyJiBjKSB7CiAgcmV0dXJuIHN0ZDo6cmFuZ2VzOjpzdWJyYW5nZTxUPihyZWludGVycHJldF9jYXN0PFQ+KGJlZ2luKGMpKSwgcmVpbnRlcnByZXRfY2FzdDxUPihlbmQoYykpKTsKfQojZW5kaWYKCiNlbmRpZiAvLyBkZWZpbmVkKFVUSUxfSFBQKQoAAAAAAAAAAKUdAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAmGgAAAAAAACgaAAAAAAAAAAAAAAAA8L8"
				],
				[
					340,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAClHQAAI2lmbmRlZiBVVElMX0hQUAojZGVmaW5lIFVUSUxfSFBQCgojaW5jbHVkZSA8c3RyaW5nPgojaW5jbHVkZSA8bnVtZXJpYz4KI2luY2x1ZGUgPGlvc3RyZWFtPgojaW5jbHVkZSA8aW9tYW5pcD4KI2luY2x1ZGUgPHN5cy9zdGF0Lmg+CgojaW5jbHVkZSA8b3BlbmN2Mi9jb3JlLmhwcD4KCiNpZiBkZWZpbmVkKF9XSU4zMikgfHwgZGVmaW5lZChfX01JTkdXMzJfXykKI2RlZmluZSBWSVNJQkxFIF9fZGVjbHNwZWMoZGxsZXhwb3J0KQojZGVmaW5lIEhJRERFTgojZWxzZQojZGVmaW5lIFZJU0lCTEUgX19hdHRyaWJ1dGVfXygodmlzaWJpbGl0eSgiZGVmYXVsdCIpKSkKI2RlZmluZSBISURERU4gX19hdHRyaWJ1dGVfXygodmlzaWJpbGl0eSgiaGlkZGVuIikpKQojZW5kaWYKCiNkZWZpbmUgQ09MT1JfQkxBQ0sgIlx4MWJbMzBtIgojZGVmaW5lIENPTE9SX1JFRCAiXHgxYlszMW0iCiNkZWZpbmUgQ09MT1JfR1JFRU4gIlx4MWJbMzJtIgojZGVmaW5lIENPTE9SX1lFTExPVyAiXHgxYlszM20iCiNkZWZpbmUgQ09MT1JfQkxVRSAiXHgxYlszNG0iCiNkZWZpbmUgQ09MT1JfTUFHRU5UQSAiXHgxYlszNW0iCiNkZWZpbmUgQ09MT1JfQ1lBTiAiXHgxYlszNm0iCiNkZWZpbmUgQ09MT1JfV0hJVEUgIlx4MWJbMzdtIgoKI2RlZmluZSBDT0xPUl9HUkFZICJceDFiWzE7MzBtIgojZGVmaW5lIENPTE9SX0xJR0hUUkVEICJceDFiWzE7MzFtIgojZGVmaW5lIENPTE9SX0xJR0hUR1JFRU4gIlx4MWJbMTszMm0iCiNkZWZpbmUgQ09MT1JfTElHSFRZRUxMT1cgIlx4MWJbMTszM20iCiNkZWZpbmUgQ09MT1JfTElHSFRCTFVFICJceDFiWzE7MzRtIgojZGVmaW5lIENPTE9SX0xJR0hUTUFHRU5UQSAiXHgxYlsxOzM1bSIKI2RlZmluZSBDT0xPUl9MSUdIVENZQU4gIlx4MWJbMTszNm0iCiNkZWZpbmUgQ09MT1JfTElHSFRXSElURSAiXHgxYlsxOzM3bSIKCiNkZWZpbmUgQ09MT1JfTk9ORSAiXHgxYlttIgoKYm9vbCBzdHJfZW5kKGNvbnN0IGNoYXIqIHN0ciwgY29uc3QgY2hhciogc3VmZml4KTsKYm9vbCBzdHJfZW5kKGNvbnN0IHN0ZDo6c3RyaW5nJiBzdHIsIGNvbnN0IHN0ZDo6c3RyaW5nJiBzdWZmaXgpOwoKc3RkOjpzdHJpbmcgdG9fc3RyaW5nKGNvbnN0IGN2OjpTY2FsYXImIHNjYWxhcik7CgpzdGQ6OnN0cmluZyBtYWtlX2ZpbGVuYW1lKGNvbnN0IHN0ZDo6c3RyaW5nJiBuYW1lLCBpbnQgY291bnQsIGNvbnN0IHN0ZDo6c3RyaW5nJiBleHQsIGNvbnN0IHN0ZDo6c3RyaW5nJiBkaXIgPSAidG1wIik7CgppbmxpbmUgaW50MzJfdApnZXRfbXRpbWUoY29uc3QgY2hhciogZmlsZW5hbWUpIHsKI2lmIF9fU1REQ19WRVJTSU9OX18gPj0gMjAxNzEwTAogIHJldHVybiBzdGQ6OmZpbGVzeXN0ZW06Omxhc3Rfd3JpdGVfdGltZShmaWxlbmFtZSk7CiNlbHNlCiAgc3RydWN0IHN0YXQgc3Q7CiAgaWYoc3RhdChmaWxlbmFtZSwgJnN0KSAhPSAtMSkgewogICAgdWludDMyX3QgcmV0ID0gc3Quc3RfbXRpbWU7CiAgICByZXR1cm4gcmV0OwogIH0KI2VuZGlmCiAgcmV0dXJuIC0xOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBDaGFyLCBjbGFzcyBWYWx1ZT4KaW5saW5lIHN0ZDo6b3N0cmVhbSYKb3BlcmF0b3I8PChzdGQ6Om9zdHJlYW0mIG9zLCBjb25zdCBzdGQ6OnZlY3RvcjxWYWx1ZT4mIGMpIHsKICB0eXBlZGVmIHR5cGVuYW1lIHN0ZDo6dmVjdG9yPFZhbHVlPjo6Y29uc3RfaXRlcmF0b3IgaXRlcmF0b3JfdHlwZTsKICBpdGVyYXRvcl90eXBlIGVuZCA9IGMuZW5kKCk7CiAgZm9yKGl0ZXJhdG9yX3R5cGUgaXQgPSBjLmJlZ2luKCk7IGl0ICE9IGVuZDsgKytpdCkgewogICAgb3MgPDwgJyAnOwogICAgb3MgPDwgdG9fc3RyaW5nKCppdCk7CiAgfQogIHJldHVybiBvczsKfQoKaW5saW5lIHN0ZDo6c3RyaW5nCnRvX3N0cmluZyhjb25zdCBjdjo6U2NhbGFyJiBzY2FsYXIpIHsKICBjb25zdCBpbnQgcGFkID0gMzsKICBzdGQ6Om9zdHJpbmdzdHJlYW0gb3NzOwogIG9zcyA8PCAnWycgPDwgc3RkOjpzZXRmaWxsKCcgJykgPDwgc3RkOjpzZXR3KHBhZCkgPDwgc2NhbGFyWzBdIDw8ICcsJyA8PCBzdGQ6OnNldGZpbGwoJyAnKSA8PCBzdGQ6OnNldHcocGFkKSA8PCBzY2FsYXJbMV0KICAgICAgPDwgJywnIDw8IHN0ZDo6c2V0ZmlsbCgnICcpIDw8IHN0ZDo6c2V0dyhwYWQpIDw8IHNjYWxhclsyXSA8PCAnLCcgPDwgc3RkOjpzZXRmaWxsKCcgJykgPDwgc3RkOjpzZXR3KHBhZCkgPDwgc2NhbGFyWzNdCiAgICAgIDw8ICddJzsKICByZXR1cm4gb3NzLnN0cigpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBJdGVyYXRvcj4Kc3RhdGljIGlubGluZSBzdGQ6OnN0cmluZwpqb2luKGNvbnN0IEl0ZXJhdG9yJiBzdGFydCwgY29uc3QgSXRlcmF0b3ImIGVuZCwgY29uc3Qgc3RkOjpzdHJpbmcmIGRlbGltKSB7CiAgcmV0dXJuIHN0ZDo6YWNjdW11bGF0ZShzdGFydCwgZW5kLCBzdGQ6OnN0cmluZygpLCBbJmRlbGltXShjb25zdCBzdGQ6OnN0cmluZyYgYSwgY29uc3Qgc3RkOjpzdHJpbmcmIGIpIC0+IHN0ZDo6c3RyaW5nIHsKICAgIHJldHVybiBhICsgKGEubGVuZ3RoKCkgPiAwID8gZGVsaW0gOiAiIikgKyBiOwogIH0pOwp9CgpleHRlcm4gIkMiIHZvaWQqIGdldF9oZWFwX2Jhc2UoKTsKCnR5cGVkZWYgc3RydWN0IEpTTWF0RGltZW5zaW9ucyB7CiAgdWludDMyX3Qgcm93cywgY29sczsKCiAgb3BlcmF0b3IgY3Y6OlNpemUoKSBjb25zdCB7IHJldHVybiBjdjo6U2l6ZShjb2xzLCByb3dzKTsgfQp9IEpTTWF0RGltZW5zaW9uczsKCnN0YXRpYyBpbmxpbmUgaW50Cm1hdHR5cGVfZGVwdGgoaW50IHR5cGUpIHsKICByZXR1cm4gdHlwZSAmIDB4NzsKfQpzdGF0aWMgaW5saW5lIGludAptYXR0eXBlX2NoYW5uZWxzKGludCB0eXBlKSB7CiAgcmV0dXJuICh0eXBlID4+IDMpICsgMTsKfQpzdGF0aWMgaW5saW5lIGJvb2wKbWF0dHlwZV9mbG9hdGluZyhpbnQgdHlwZSkgewogIHN3aXRjaChtYXR0eXBlX2RlcHRoKHR5cGUpKSB7CiAgICBjYXNlIENWXzMyRjoKICAgIGNhc2UgQ1ZfNjRGOiByZXR1cm4gdHJ1ZTsKICAgIGRlZmF1bHQ6IHJldHVybiBmYWxzZTsKICB9Cn0Kc3RhdGljIGlubGluZSBib29sCm1hdHR5cGVfc2lnbmVkKGludCB0eXBlKSB7CiAgc3dpdGNoKG1hdHR5cGVfZGVwdGgodHlwZSkpIHsKICAgIGNhc2UgQ1ZfOFM6CiAgICBjYXNlIENWXzE2UzoKICAgIGNhc2UgQ1ZfMzJTOiByZXR1cm4gdHJ1ZTsKICAgIGRlZmF1bHQ6IHJldHVybiBmYWxzZTsKICB9Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgSlNNYXREaW1lbnNpb25zCm1hdF9kaW1lbnNpb25zKGNvbnN0IFQmIG1hdCkgewogIEpTTWF0RGltZW5zaW9ucyByZXQ7CiAgcmV0LnJvd3MgPSBtYXQucm93czsKICByZXQuY29scyA9IG1hdC5jb2xzOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBpbmxpbmUgdWludDhfdCoKbWF0X3B0cihjdjo6TWF0JiBtYXQpIHsKICByZXR1cm4gcmVpbnRlcnByZXRfY2FzdDx1aW50OF90Kj4obWF0LnB0cigpKTsKfQoKc3RhdGljIGlubGluZSB1aW50OF90KgptYXRfcHRyKGN2OjpVTWF0JiBtYXQpIHsKICBjdjo6VU1hdERhdGEqIHU7CgogIGlmKCh1ID0gbWF0LnUpKQogICAgcmV0dXJuIHJlaW50ZXJwcmV0X2Nhc3Q8dWludDhfdCo+KHUtPmRhdGEpOwoKICByZXR1cm4gbnVsbHB0cjsKfQoKc3RhdGljIGlubGluZSBzaXplX3QKbWF0X29mZnNldChjb25zdCBjdjo6TWF0JiBtYXQsIHVpbnQzMl90IHJvdywgdWludDMyX3QgY29sKSB7CiAgY29uc3QgdWNoYXIgKmJhc2UsICpwdHI7CgogIGJhc2UgPSBtYXQucHRyPHVjaGFyPigpOwogIHB0ciA9IG1hdC5wdHI8dWNoYXI+KHJvdywgY29sKTsKCiAgcmV0dXJuIHB0ciAtIGJhc2U7Cn0KCnN0YXRpYyBpbmxpbmUgc2l6ZV90Cm1hdF9vZmZzZXQoY29uc3QgY3Y6OlVNYXQmIG1hdCwgdWludDMyX3Qgcm93LCB1aW50MzJfdCBjb2wpIHsKICByZXR1cm4gKHNpemVfdChtYXQuY29scykgKiByb3cgKyBjb2wpICogbWF0LmVsZW1TaXplKCk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgVCYKbWF0X2F0KGN2OjpNYXQmIG1hdCwgdWludDMyX3Qgcm93LCB1aW50MzJfdCBjb2wpIHsKICByZXR1cm4gKm1hdC5wdHI8VD4ocm93LCBjb2wpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIFQmCm1hdF9hdChjdjo6VU1hdCYgbWF0LCB1aW50MzJfdCByb3csIHVpbnQzMl90IGNvbCkgewogIHNpemVfdCBvZmZzID0gbWF0X29mZnNldChtYXQsIHJvdywgY29sKTsKICByZXR1cm4gKnJlaW50ZXJwcmV0X2Nhc3Q8VCo+KG1hdF9wdHIobWF0KSArIG9mZnMpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIHNpemVfdAptYXRfYnl0ZXNpemUoY29uc3QgVCYgbWF0KSB7CiAgcmV0dXJuIG1hdC5lbGVtU2l6ZSgpICogbWF0LnRvdGFsKCk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgaW50Cm1hdF9kZXB0aChjb25zdCBUJiBtYXQpIHsKICByZXR1cm4gbWF0dHlwZV9kZXB0aChtYXQudHlwZSgpKTsKfQoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSBpbnQKbWF0X2NoYW5uZWxzKGNvbnN0IFQmIG1hdCkgewogIHJldHVybiBtYXR0eXBlX2NoYW5uZWxzKG1hdC50eXBlKCkpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIGJvb2wKbWF0X3NpZ25lZChjb25zdCBUJiBtYXQpIHsKICByZXR1cm4gbWF0dHlwZV9zaWduZWQobWF0LnR5cGUoKSk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgYm9vbAptYXRfZmxvYXRpbmcoY29uc3QgVCYgbWF0KSB7CiAgcmV0dXJuIG1hdHR5cGVfZmxvYXRpbmcobWF0LnR5cGUoKSk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQsIGludCBOPgpzdGF0aWMgaW5saW5lIFQqCmJlZ2luKGN2OjpWZWM8VCwgTj4mIHYpIHsKICByZXR1cm4gJnZbMF07Cn0KdGVtcGxhdGU8Y2xhc3MgVCwgaW50IE4+CnN0YXRpYyBpbmxpbmUgVCoKZW5kKGN2OjpWZWM8VCwgTj4mIHYpIHsKICByZXR1cm4gJnZbTl07Cn0KCnRlbXBsYXRlPGNsYXNzIFQsIGludCBOPgpzdGF0aWMgaW5saW5lIFQgY29uc3QqCmJlZ2luKGN2OjpWZWM8VCwgTj4gY29uc3QmIHYpIHsKICByZXR1cm4gJnZbMF07Cn0KdGVtcGxhdGU8Y2xhc3MgVCwgaW50IE4+CnN0YXRpYyBpbmxpbmUgVCBjb25zdCoKZW5kKGN2OjpWZWM8VCwgTj4gY29uc3QmIHYpIHsKICByZXR1cm4gJnZbTl07Cn0KLyoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSB0eXBlbmFtZSBUOjp2YWx1ZV90eXBlIGNvbnN0KgpiZWdpbihjb25zdCBUJiBvYmopIHsKICByZXR1cm4gb2JqLmJlZ2luKCk7Cn0KdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSB0eXBlbmFtZSBUOjp2YWx1ZV90eXBlKgpiZWdpbihUJiBvYmopIHsKICByZXR1cm4gb2JqLmJlZ2luKCk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgdHlwZW5hbWUgVDo6dmFsdWVfdHlwZSBjb25zdCoKZW5kKGNvbnN0IFQmIG9iaikgewogIHJldHVybiBvYmouZW5kKCk7Cn0KdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSB0eXBlbmFtZSBUOjp2YWx1ZV90eXBlKgplbmQoVCYgb2JqKSB7CiAgcmV0dXJuIG9iai5lbmQoKTsKfQoqLwp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIFQqCmJlZ2luKHN0ZDo6dmVjdG9yPFQ+JiB2KSB7CiAgcmV0dXJuICZ2WzBdOwp9CnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgVCoKZW5kKHN0ZDo6dmVjdG9yPFQ+JiB2KSB7CiAgcmV0dXJuICZ2W3Yuc2l6ZSgpXTsKfQp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIFQgY29uc3QqCmJlZ2luKHN0ZDo6dmVjdG9yPFQ+IGNvbnN0JiB2KSB7CiAgcmV0dXJuICZ2WzBdOwp9CnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgVCBjb25zdCoKZW5kKHN0ZDo6dmVjdG9yPFQ+IGNvbnN0JiB2KSB7CiAgcmV0dXJuICZ2W3Yuc2l6ZSgpXTsKfQoKc3RhdGljIGlubGluZSB1aW50OF90KgpiZWdpbihjdjo6TWF0JiBtYXQpIHsKICByZXR1cm4gbWF0LnB0cjx1aW50OF90PigpOwp9CnN0YXRpYyBpbmxpbmUgdWludDhfdCoKZW5kKGN2OjpNYXQmIG1hdCkgewogIHJldHVybiBtYXQucHRyPHVpbnQ4X3Q+KCkgKyAobWF0LnRvdGFsKCkgKiBtYXQuZWxlbVNpemUoKSk7Cn0KCnN0YXRpYyBpbmxpbmUgdWludDhfdCBjb25zdCoKYmVnaW4oY3Y6Ok1hdCBjb25zdCYgbWF0KSB7CiAgcmV0dXJuIG1hdC5wdHI8dWludDhfdCBjb25zdD4oKTsKfQpzdGF0aWMgaW5saW5lIHVpbnQ4X3QgY29uc3QqCmVuZChjdjo6TWF0IGNvbnN0JiBtYXQpIHsKICByZXR1cm4gbWF0LnB0cjx1aW50OF90IGNvbnN0PigpICsgKG1hdC50b3RhbCgpICogbWF0LmVsZW1TaXplKCkpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPiBjbGFzcyBhcmd1bWVudF92aWV3IHsKcHVibGljOgogIGFyZ3VtZW50X3ZpZXcoaW50IGFyZ2MsIFQqICBjb25zdCBhcmd2KSA6IGMoYXJnYyksIHYoYXJndikge30KCiAgVCogY29uc3QKICBiZWdpbigpIGNvbnN0IHsKICAgIHJldHVybiB2OwogIH0KICBUKiBjb25zdAogIGVuZCgpIGNvbnN0IHsKICAgIHJldHVybiB2ICsgYzsKICB9Cgpwcml2YXRlOgogIGNvbnN0IGludCBjOwogIFQqIGNvbnN0IHY7Cn07Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIGFyZ3VtZW50X3ZpZXc8VD4KYXJndW1lbnRfcmFuZ2UoaW50IGFyZ2MsIFQgYXJndltdKSB7CiAgcmV0dXJuIGFyZ3VtZW50X3ZpZXc8VD4oYXJnYywgYXJndik7Cn0KCiNpZiAwICYmIENYWF9TVEFOREFSRCA+PSAyMAoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSBzdGQ6OnJhbmdlczo6c3VicmFuZ2U8VD4Kc2l6ZWRfcmFuZ2UoVCBwdHIsIHNpemVfdCBsZW4pIHsKICByZXR1cm4gc3RkOjpyYW5nZXM6OnN1YnJhbmdlPFQ+KHB0ciwgcHRyICsgbGVuKTsKfQoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSBzdGQ6OnJhbmdlczo6c3VicmFuZ2U8VCo+CmFyZ3VtZW50X3JhbmdlKGludCBhcmdjLCBUKiBhcmd2KSB7CiAgcmV0dXJuIHN0ZDo6cmFuZ2VzOjpzdWJyYW5nZTxUKj4oYXJndiwgYXJndiArIGFyZ2MpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIHN0ZDo6cmFuZ2VzOjpzdWJyYW5nZTxUKj4KcmFuZ2UoVCogYmVnaW4sIFQqIGVuZCkgewogIHJldHVybiBzdGQ6OnJhbmdlczo6c3VicmFuZ2U8VCo+KGJlZ2luLCBlbmQpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBDb250YWluZXI+CnN0YXRpYyBpbmxpbmUgc3RkOjpyYW5nZXM6OnN1YnJhbmdlPHR5cGVuYW1lIENvbnRhaW5lcjo6dmFsdWVfdHlwZSo+CnJhbmdlKENvbnRhaW5lciYgYykgewogIHJldHVybiBzdGQ6OnJhbmdlczo6c3VicmFuZ2U8dHlwZW5hbWUgQ29udGFpbmVyOjp2YWx1ZV90eXBlKj4oYmVnaW4oYyksIGVuZChjKSk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQsIGNsYXNzIENvbnRhaW5lcj4Kc3RhdGljIGlubGluZSBzdGQ6OnJhbmdlczo6c3VicmFuZ2U8VD4KcmFuZ2UoQ29udGFpbmVyJiBjKSB7CiAgcmV0dXJuIHN0ZDo6cmFuZ2VzOjpzdWJyYW5nZTxUPihyZWludGVycHJldF9jYXN0PFQ+KGJlZ2luKGMpKSwgcmVpbnRlcnByZXRfY2FzdDxUPihlbmQoYykpKTsKfQojZW5kaWYKCiNlbmRpZiAvLyBkZWZpbmVkKFVUSUxfSFBQKQoAAAAAAAAAAJkdAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACsGAAAAAAAACgaAAAAAAAAAAAAAAAA8L8"
				],
				[
					342,
					1,
					"paste",
					null,
					"AgAAAKwYAAAAAAAAKBoAAAAAAAAAAAAAKBoAAAAAAAAoGgAAAAAAAHwBAAAKdGVtcGxhdGU8Y2xhc3MgVD4gY2xhc3MgcmFuZ2VfdmlldyB7CnB1YmxpYzoKICByYW5nZV92aWV3KGludCBhcmdjLCBUKiAgY29uc3QgYXJndikgOiBjKGFyZ2MpLCB2KGFyZ3YpIHt9CgogIFQqIGNvbnN0CiAgYmVnaW4oKSBjb25zdCB7CiAgICByZXR1cm4gdjsKICB9CiAgVCogY29uc3QKICBlbmQoKSBjb25zdCB7CiAgICByZXR1cm4gdiArIGM7CiAgfQoKcHJpdmF0ZToKICBjb25zdCBpbnQgYzsKICBUKiBjb25zdCB2Owp9OwoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSByYW5nZV92aWV3PFQ+CmFyZ3VtZW50X3JhbmdlKGludCBhcmdjLCBUIGFyZ3ZbXSkgewogIHJldHVybiByYW5nZV92aWV3PFQ+KGFyZ2MsIGFyZ3YpOwp9CgojaWYgMCAmJiBDWA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACsGAAAAAAAACgaAAAAAAAAAAAAAAAA8L8"
				],
				[
					346,
					1,
					"cut",
					null,
					"AQAAAPEYAAAAAAAA8RgAAAAAAAAOAAAAVCogIGNvbnN0IGJhc2U",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADxGAAAAAAAAP8YAAAAAAAAAAAAAAAA8L8"
				],
				[
					349,
					1,
					"paste",
					null,
					"AQAAAOcYAAAAAAAA9RgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADnGAAAAAAAAOcYAAAAAAAAAAAAAAAA8L8"
				],
				[
					350,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAPUYAAAAAAAA9hgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD1GAAAAAAAAPUYAAAAAAAAAAAAAAAA8L8"
				],
				[
					351,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAPYYAAAAAAAA9xgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD2GAAAAAAAAPYYAAAAAAAAAAAAAAAA8L8"
				],
				[
					355,
					1,
					"insert",
					{
						"characters": "size_t"
					},
					"BwAAAPcYAAAAAAAA+BgAAAAAAAAAAAAA+BgAAAAAAAD4GAAAAAAAAAMAAABpbnT4GAAAAAAAAPkYAAAAAAAAAAAAAPkYAAAAAAAA+hgAAAAAAAAAAAAA+hgAAAAAAAD7GAAAAAAAAAAAAAD7GAAAAAAAAPwYAAAAAAAAAAAAAPwYAAAAAAAA/RgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD3GAAAAAAAAPoYAAAAAAAAAAAAAAAA8L8"
				],
				[
					358,
					2,
					"left_delete",
					null,
					"AgAAAAMZAAAAAAAAAxkAAAAAAAABAAAAIAIZAAAAAAAAAhkAAAAAAAABAAAALA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAEGQAAAAAAAAQZAAAAAAAAAAAAAAAA8L8"
				],
				[
					361,
					1,
					"cut",
					null,
					"AQAAAA8ZAAAAAAAADxkAAAAAAAAHAAAAcChiYXNlKQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAPGQAAAAAAABYZAAAAAAAAAAAAAAAA8L8"
				],
				[
					364,
					1,
					"paste",
					null,
					"AQAAAAYZAAAAAAAADRkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAGGQAAAAAAAAYZAAAAAAAAAAAAAAAA8L8"
				],
				[
					365,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAA0ZAAAAAAAADhkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAANGQAAAAAAAA0ZAAAAAAAAAAAAAAAA8L8"
				],
				[
					366,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAA4ZAAAAAAAADxkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAOGQAAAAAAAA4ZAAAAAAAAAAAAAAAA8L8"
				],
				[
					368,
					1,
					"left_delete",
					null,
					"AQAAABUZAAAAAAAAFRkAAAAAAAABAAAAKQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAWGQAAAAAAABYZAAAAAAAAAAAAAAAA8L8"
				],
				[
					369,
					1,
					"insert",
					{
						"characters": ")"
					},
					"AQAAABUZAAAAAAAAFhkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAVGQAAAAAAABUZAAAAAAAAAAAAAAAA8L8"
				],
				[
					370,
					1,
					"right_delete",
					null,
					"AQAAABYZAAAAAAAAFhkAAAAAAAABAAAALA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAWGQAAAAAAABYZAAAAAAAAAAAAAAAA8L8"
				],
				[
					381,
					1,
					"cut",
					null,
					"AQAAAJUZAAAAAAAAlRkAAAAAAAAOAAAAICBUKiBjb25zdCBwOwo",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACVGQAAAAAAAKMZAAAAAAAAAAAAAAAA8L8"
				],
				[
					382,
					1,
					"insert",
					{
						"characters": "1"
					},
					"AQAAAJUZAAAAAAAAlhkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACVGQAAAAAAAJUZAAAAAAAAAAAAAAAA8L8"
				],
				[
					383,
					1,
					"left_delete",
					null,
					"AQAAAJUZAAAAAAAAlRkAAAAAAAABAAAAMQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACWGQAAAAAAAJYZAAAAAAAAAAAAAAAA8L8"
				],
				[
					384,
					1,
					"insert",
					{
						"characters": "1"
					},
					"AQAAAJUZAAAAAAAAlhkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACVGQAAAAAAAJUZAAAAAAAAAAAAAAAA8L8"
				],
				[
					385,
					1,
					"left_delete",
					null,
					"AQAAAJUZAAAAAAAAlRkAAAAAAAABAAAAMQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACWGQAAAAAAAJYZAAAAAAAAAAAAAAAA8L8"
				],
				[
					387,
					1,
					"paste",
					null,
					"AQAAAIYZAAAAAAAAlBkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACGGQAAAAAAAIYZAAAAAAAAAAAAAAAAAAA"
				],
				[
					390,
					2,
					"left_delete",
					null,
					"AgAAAJ4ZAAAAAAAAnhkAAAAAAAABAAAAdJ0ZAAAAAAAAnRkAAAAAAAABAAAAbg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACfGQAAAAAAAJ8ZAAAAAAAAAAAAAAAA8L8"
				],
				[
					391,
					1,
					"insert",
					{
						"characters": "s"
					},
					"AQAAAJ0ZAAAAAAAAnhkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACdGQAAAAAAAJ0ZAAAAAAAAAAAAAAAA8L8"
				],
				[
					392,
					2,
					"left_delete",
					null,
					"AgAAAJ0ZAAAAAAAAnRkAAAAAAAABAAAAc5wZAAAAAAAAnBkAAAAAAAABAAAAaQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACeGQAAAAAAAJ4ZAAAAAAAAAAAAAAAA8L8"
				],
				[
					393,
					1,
					"insert",
					{
						"characters": "size_t"
					},
					"BgAAAJwZAAAAAAAAnRkAAAAAAAAAAAAAnRkAAAAAAACeGQAAAAAAAAAAAACeGQAAAAAAAJ8ZAAAAAAAAAAAAAJ8ZAAAAAAAAoBkAAAAAAAAAAAAAoBkAAAAAAAChGQAAAAAAAAAAAAChGQAAAAAAAKIZAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACcGQAAAAAAAJwZAAAAAAAAAAAAAAAA8L8"
				],
				[
					421,
					1,
					"cut",
					null,
					"AQAAAKkZAAAAAAAAqRkAAAAAAAB6AAAACnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgcmFuZ2VfdmlldzxUPgphcmd1bWVudF9yYW5nZShpbnQgc2l6ZSwgVCBiYXNlW10pIHsKICByZXR1cm4gcmFuZ2VfdmlldzxUPihzaXplLCBiYXNlKTsKfQo",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACpGQAAAAAAACMaAAAAAAAAAAAAAAAA8L8"
				],
				[
					422,
					1,
					"paste",
					null,
					"AQAAAKkZAAAAAAAAIxoAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACpGQAAAAAAAKkZAAAAAAAAAAAAAAAA8L8"
				],
				[
					428,
					1,
					"insert",
					{
						"characters": "base,"
					},
					"BQAAABQaAAAAAAAAFRoAAAAAAAAAAAAAFRoAAAAAAAAWGgAAAAAAAAAAAAAWGgAAAAAAABcaAAAAAAAAAAAAABcaAAAAAAAAGBoAAAAAAAAAAAAAGBoAAAAAAAAZGgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAUGgAAAAAAABQaAAAAAAAAAAAAAAAA8L8"
				],
				[
					429,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAABkaAAAAAAAAGhoAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAZGgAAAAAAABkaAAAAAAAAAAAAAAAA8L8"
				],
				[
					432,
					1,
					"left_delete",
					null,
					"AQAAAB4aAAAAAAAAHhoAAAAAAAAGAAAALCBiYXNl",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAeGgAAAAAAACQaAAAAAAAAAAAAAAAA8L8"
				],
				[
					435,
					4,
					"left_delete",
					null,
					"BAAAAB0aAAAAAAAAHRoAAAAAAAABAAAAZRwaAAAAAAAAHBoAAAAAAAABAAAAehsaAAAAAAAAGxoAAAAAAAABAAAAaRoaAAAAAAAAGhoAAAAAAAABAAAAcw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAeGgAAAAAAAB4aAAAAAAAAAAAAAACAcEA"
				],
				[
					436,
					1,
					"insert",
					{
						"characters": "argc"
					},
					"BAAAABoaAAAAAAAAGxoAAAAAAAAAAAAAGxoAAAAAAAAcGgAAAAAAAAAAAAAcGgAAAAAAAB0aAAAAAAAAAAAAAB0aAAAAAAAAHhoAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAaGgAAAAAAABoaAAAAAAAAAAAAAAAA8L8"
				],
				[
					438,
					4,
					"left_delete",
					null,
					"BAAAABcaAAAAAAAAFxoAAAAAAAABAAAAZRYaAAAAAAAAFhoAAAAAAAABAAAAcxUaAAAAAAAAFRoAAAAAAAABAAAAYRQaAAAAAAAAFBoAAAAAAAABAAAAYg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAYGgAAAAAAABgaAAAAAAAAAAAAAAAA8L8"
				],
				[
					439,
					1,
					"insert",
					{
						"characters": "argv"
					},
					"BAAAABQaAAAAAAAAFRoAAAAAAAAAAAAAFRoAAAAAAAAWGgAAAAAAAAAAAAAWGgAAAAAAABcaAAAAAAAAAAAAABcaAAAAAAAAGBoAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAUGgAAAAAAABQaAAAAAAAAAAAAAAAA8L8"
				],
				[
					442,
					4,
					"left_delete",
					null,
					"BAAAAO4ZAAAAAAAA7hkAAAAAAAABAAAAZe0ZAAAAAAAA7RkAAAAAAAABAAAAeuwZAAAAAAAA7BkAAAAAAAABAAAAaesZAAAAAAAA6xkAAAAAAAABAAAAcw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADvGQAAAAAAAO8ZAAAAAAAAAAAAAAAA8L8"
				],
				[
					443,
					1,
					"insert",
					{
						"characters": "argc0"
					},
					"BQAAAOsZAAAAAAAA7BkAAAAAAAAAAAAA7BkAAAAAAADtGQAAAAAAAAAAAADtGQAAAAAAAO4ZAAAAAAAAAAAAAO4ZAAAAAAAA7xkAAAAAAAAAAAAA7xkAAAAAAADwGQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADrGQAAAAAAAOsZAAAAAAAAAAAAAAAA8L8"
				],
				[
					446,
					1,
					"left_delete",
					null,
					"AQAAAO8ZAAAAAAAA7xkAAAAAAAABAAAAMA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADwGQAAAAAAAPAZAAAAAAAAAAAAAAAA8L8"
				],
				[
					448,
					1,
					"insert",
					{
						"characters": "argv"
					},
					"BAAAAPMZAAAAAAAA9BkAAAAAAAAAAAAA9BkAAAAAAAD1GQAAAAAAAAAAAAD1GQAAAAAAAPYZAAAAAAAAAAAAAPYZAAAAAAAA9xkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADzGQAAAAAAAPMZAAAAAAAAAAAAAAAA8L8"
				],
				[
					449,
					4,
					"right_delete",
					null,
					"BAAAAPcZAAAAAAAA9xkAAAAAAAABAAAAYvcZAAAAAAAA9xkAAAAAAAABAAAAYfcZAAAAAAAA9xkAAAAAAAABAAAAc/cZAAAAAAAA9xkAAAAAAAABAAAAZQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD3GQAAAAAAAPcZAAAAAAAAAAAAAAAA8L8"
				],
				[
					455,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACgHQAAI2lmbmRlZiBVVElMX0hQUAojZGVmaW5lIFVUSUxfSFBQCgojaW5jbHVkZSA8c3RyaW5nPgojaW5jbHVkZSA8bnVtZXJpYz4KI2luY2x1ZGUgPGlvc3RyZWFtPgojaW5jbHVkZSA8aW9tYW5pcD4KI2luY2x1ZGUgPHN5cy9zdGF0Lmg+CgojaW5jbHVkZSA8b3BlbmN2Mi9jb3JlLmhwcD4KCiNpZiBkZWZpbmVkKF9XSU4zMikgfHwgZGVmaW5lZChfX01JTkdXMzJfXykKI2RlZmluZSBWSVNJQkxFIF9fZGVjbHNwZWMoZGxsZXhwb3J0KQojZGVmaW5lIEhJRERFTgojZWxzZQojZGVmaW5lIFZJU0lCTEUgX19hdHRyaWJ1dGVfXygodmlzaWJpbGl0eSgiZGVmYXVsdCIpKSkKI2RlZmluZSBISURERU4gX19hdHRyaWJ1dGVfXygodmlzaWJpbGl0eSgiaGlkZGVuIikpKQojZW5kaWYKCiNkZWZpbmUgQ09MT1JfQkxBQ0sgIlx4MWJbMzBtIgojZGVmaW5lIENPTE9SX1JFRCAiXHgxYlszMW0iCiNkZWZpbmUgQ09MT1JfR1JFRU4gIlx4MWJbMzJtIgojZGVmaW5lIENPTE9SX1lFTExPVyAiXHgxYlszM20iCiNkZWZpbmUgQ09MT1JfQkxVRSAiXHgxYlszNG0iCiNkZWZpbmUgQ09MT1JfTUFHRU5UQSAiXHgxYlszNW0iCiNkZWZpbmUgQ09MT1JfQ1lBTiAiXHgxYlszNm0iCiNkZWZpbmUgQ09MT1JfV0hJVEUgIlx4MWJbMzdtIgoKI2RlZmluZSBDT0xPUl9HUkFZICJceDFiWzE7MzBtIgojZGVmaW5lIENPTE9SX0xJR0hUUkVEICJceDFiWzE7MzFtIgojZGVmaW5lIENPTE9SX0xJR0hUR1JFRU4gIlx4MWJbMTszMm0iCiNkZWZpbmUgQ09MT1JfTElHSFRZRUxMT1cgIlx4MWJbMTszM20iCiNkZWZpbmUgQ09MT1JfTElHSFRCTFVFICJceDFiWzE7MzRtIgojZGVmaW5lIENPTE9SX0xJR0hUTUFHRU5UQSAiXHgxYlsxOzM1bSIKI2RlZmluZSBDT0xPUl9MSUdIVENZQU4gIlx4MWJbMTszNm0iCiNkZWZpbmUgQ09MT1JfTElHSFRXSElURSAiXHgxYlsxOzM3bSIKCiNkZWZpbmUgQ09MT1JfTk9ORSAiXHgxYlttIgoKYm9vbCBzdHJfZW5kKGNvbnN0IGNoYXIqIHN0ciwgY29uc3QgY2hhciogc3VmZml4KTsKYm9vbCBzdHJfZW5kKGNvbnN0IHN0ZDo6c3RyaW5nJiBzdHIsIGNvbnN0IHN0ZDo6c3RyaW5nJiBzdWZmaXgpOwoKc3RkOjpzdHJpbmcgdG9fc3RyaW5nKGNvbnN0IGN2OjpTY2FsYXImIHNjYWxhcik7CgpzdGQ6OnN0cmluZyBtYWtlX2ZpbGVuYW1lKGNvbnN0IHN0ZDo6c3RyaW5nJiBuYW1lLCBpbnQgY291bnQsIGNvbnN0IHN0ZDo6c3RyaW5nJiBleHQsIGNvbnN0IHN0ZDo6c3RyaW5nJiBkaXIgPSAidG1wIik7CgppbmxpbmUgaW50MzJfdApnZXRfbXRpbWUoY29uc3QgY2hhciogZmlsZW5hbWUpIHsKI2lmIF9fU1REQ19WRVJTSU9OX18gPj0gMjAxNzEwTAogIHJldHVybiBzdGQ6OmZpbGVzeXN0ZW06Omxhc3Rfd3JpdGVfdGltZShmaWxlbmFtZSk7CiNlbHNlCiAgc3RydWN0IHN0YXQgc3Q7CiAgaWYoc3RhdChmaWxlbmFtZSwgJnN0KSAhPSAtMSkgewogICAgdWludDMyX3QgcmV0ID0gc3Quc3RfbXRpbWU7CiAgICByZXR1cm4gcmV0OwogIH0KI2VuZGlmCiAgcmV0dXJuIC0xOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBDaGFyLCBjbGFzcyBWYWx1ZT4KaW5saW5lIHN0ZDo6b3N0cmVhbSYKb3BlcmF0b3I8PChzdGQ6Om9zdHJlYW0mIG9zLCBjb25zdCBzdGQ6OnZlY3RvcjxWYWx1ZT4mIGMpIHsKICB0eXBlZGVmIHR5cGVuYW1lIHN0ZDo6dmVjdG9yPFZhbHVlPjo6Y29uc3RfaXRlcmF0b3IgaXRlcmF0b3JfdHlwZTsKICBpdGVyYXRvcl90eXBlIGVuZCA9IGMuZW5kKCk7CiAgZm9yKGl0ZXJhdG9yX3R5cGUgaXQgPSBjLmJlZ2luKCk7IGl0ICE9IGVuZDsgKytpdCkgewogICAgb3MgPDwgJyAnOwogICAgb3MgPDwgdG9fc3RyaW5nKCppdCk7CiAgfQogIHJldHVybiBvczsKfQoKaW5saW5lIHN0ZDo6c3RyaW5nCnRvX3N0cmluZyhjb25zdCBjdjo6U2NhbGFyJiBzY2FsYXIpIHsKICBjb25zdCBpbnQgcGFkID0gMzsKICBzdGQ6Om9zdHJpbmdzdHJlYW0gb3NzOwogIG9zcyA8PCAnWycgPDwgc3RkOjpzZXRmaWxsKCcgJykgPDwgc3RkOjpzZXR3KHBhZCkgPDwgc2NhbGFyWzBdIDw8ICcsJyA8PCBzdGQ6OnNldGZpbGwoJyAnKSA8PCBzdGQ6OnNldHcocGFkKSA8PCBzY2FsYXJbMV0KICAgICAgPDwgJywnIDw8IHN0ZDo6c2V0ZmlsbCgnICcpIDw8IHN0ZDo6c2V0dyhwYWQpIDw8IHNjYWxhclsyXSA8PCAnLCcgPDwgc3RkOjpzZXRmaWxsKCcgJykgPDwgc3RkOjpzZXR3KHBhZCkgPDwgc2NhbGFyWzNdCiAgICAgIDw8ICddJzsKICByZXR1cm4gb3NzLnN0cigpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBJdGVyYXRvcj4Kc3RhdGljIGlubGluZSBzdGQ6OnN0cmluZwpqb2luKGNvbnN0IEl0ZXJhdG9yJiBzdGFydCwgY29uc3QgSXRlcmF0b3ImIGVuZCwgY29uc3Qgc3RkOjpzdHJpbmcmIGRlbGltKSB7CiAgcmV0dXJuIHN0ZDo6YWNjdW11bGF0ZShzdGFydCwgZW5kLCBzdGQ6OnN0cmluZygpLCBbJmRlbGltXShjb25zdCBzdGQ6OnN0cmluZyYgYSwgY29uc3Qgc3RkOjpzdHJpbmcmIGIpIC0+IHN0ZDo6c3RyaW5nIHsKICAgIHJldHVybiBhICsgKGEubGVuZ3RoKCkgPiAwID8gZGVsaW0gOiAiIikgKyBiOwogIH0pOwp9CgpleHRlcm4gIkMiIHZvaWQqIGdldF9oZWFwX2Jhc2UoKTsKCnR5cGVkZWYgc3RydWN0IEpTTWF0RGltZW5zaW9ucyB7CiAgdWludDMyX3Qgcm93cywgY29sczsKCiAgb3BlcmF0b3IgY3Y6OlNpemUoKSBjb25zdCB7IHJldHVybiBjdjo6U2l6ZShjb2xzLCByb3dzKTsgfQp9IEpTTWF0RGltZW5zaW9uczsKCnN0YXRpYyBpbmxpbmUgaW50Cm1hdHR5cGVfZGVwdGgoaW50IHR5cGUpIHsKICByZXR1cm4gdHlwZSAmIDB4NzsKfQpzdGF0aWMgaW5saW5lIGludAptYXR0eXBlX2NoYW5uZWxzKGludCB0eXBlKSB7CiAgcmV0dXJuICh0eXBlID4+IDMpICsgMTsKfQpzdGF0aWMgaW5saW5lIGJvb2wKbWF0dHlwZV9mbG9hdGluZyhpbnQgdHlwZSkgewogIHN3aXRjaChtYXR0eXBlX2RlcHRoKHR5cGUpKSB7CiAgICBjYXNlIENWXzMyRjoKICAgIGNhc2UgQ1ZfNjRGOiByZXR1cm4gdHJ1ZTsKICAgIGRlZmF1bHQ6IHJldHVybiBmYWxzZTsKICB9Cn0Kc3RhdGljIGlubGluZSBib29sCm1hdHR5cGVfc2lnbmVkKGludCB0eXBlKSB7CiAgc3dpdGNoKG1hdHR5cGVfZGVwdGgodHlwZSkpIHsKICAgIGNhc2UgQ1ZfOFM6CiAgICBjYXNlIENWXzE2UzoKICAgIGNhc2UgQ1ZfMzJTOiByZXR1cm4gdHJ1ZTsKICAgIGRlZmF1bHQ6IHJldHVybiBmYWxzZTsKICB9Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgSlNNYXREaW1lbnNpb25zCm1hdF9kaW1lbnNpb25zKGNvbnN0IFQmIG1hdCkgewogIEpTTWF0RGltZW5zaW9ucyByZXQ7CiAgcmV0LnJvd3MgPSBtYXQucm93czsKICByZXQuY29scyA9IG1hdC5jb2xzOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBpbmxpbmUgdWludDhfdCoKbWF0X3B0cihjdjo6TWF0JiBtYXQpIHsKICByZXR1cm4gcmVpbnRlcnByZXRfY2FzdDx1aW50OF90Kj4obWF0LnB0cigpKTsKfQoKc3RhdGljIGlubGluZSB1aW50OF90KgptYXRfcHRyKGN2OjpVTWF0JiBtYXQpIHsKICBjdjo6VU1hdERhdGEqIHU7CgogIGlmKCh1ID0gbWF0LnUpKQogICAgcmV0dXJuIHJlaW50ZXJwcmV0X2Nhc3Q8dWludDhfdCo+KHUtPmRhdGEpOwoKICByZXR1cm4gbnVsbHB0cjsKfQoKc3RhdGljIGlubGluZSBzaXplX3QKbWF0X29mZnNldChjb25zdCBjdjo6TWF0JiBtYXQsIHVpbnQzMl90IHJvdywgdWludDMyX3QgY29sKSB7CiAgY29uc3QgdWNoYXIgKmJhc2UsICpwdHI7CgogIGJhc2UgPSBtYXQucHRyPHVjaGFyPigpOwogIHB0ciA9IG1hdC5wdHI8dWNoYXI+KHJvdywgY29sKTsKCiAgcmV0dXJuIHB0ciAtIGJhc2U7Cn0KCnN0YXRpYyBpbmxpbmUgc2l6ZV90Cm1hdF9vZmZzZXQoY29uc3QgY3Y6OlVNYXQmIG1hdCwgdWludDMyX3Qgcm93LCB1aW50MzJfdCBjb2wpIHsKICByZXR1cm4gKHNpemVfdChtYXQuY29scykgKiByb3cgKyBjb2wpICogbWF0LmVsZW1TaXplKCk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgVCYKbWF0X2F0KGN2OjpNYXQmIG1hdCwgdWludDMyX3Qgcm93LCB1aW50MzJfdCBjb2wpIHsKICByZXR1cm4gKm1hdC5wdHI8VD4ocm93LCBjb2wpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIFQmCm1hdF9hdChjdjo6VU1hdCYgbWF0LCB1aW50MzJfdCByb3csIHVpbnQzMl90IGNvbCkgewogIHNpemVfdCBvZmZzID0gbWF0X29mZnNldChtYXQsIHJvdywgY29sKTsKICByZXR1cm4gKnJlaW50ZXJwcmV0X2Nhc3Q8VCo+KG1hdF9wdHIobWF0KSArIG9mZnMpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIHNpemVfdAptYXRfYnl0ZXNpemUoY29uc3QgVCYgbWF0KSB7CiAgcmV0dXJuIG1hdC5lbGVtU2l6ZSgpICogbWF0LnRvdGFsKCk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgaW50Cm1hdF9kZXB0aChjb25zdCBUJiBtYXQpIHsKICByZXR1cm4gbWF0dHlwZV9kZXB0aChtYXQudHlwZSgpKTsKfQoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSBpbnQKbWF0X2NoYW5uZWxzKGNvbnN0IFQmIG1hdCkgewogIHJldHVybiBtYXR0eXBlX2NoYW5uZWxzKG1hdC50eXBlKCkpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIGJvb2wKbWF0X3NpZ25lZChjb25zdCBUJiBtYXQpIHsKICByZXR1cm4gbWF0dHlwZV9zaWduZWQobWF0LnR5cGUoKSk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgYm9vbAptYXRfZmxvYXRpbmcoY29uc3QgVCYgbWF0KSB7CiAgcmV0dXJuIG1hdHR5cGVfZmxvYXRpbmcobWF0LnR5cGUoKSk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQsIGludCBOPgpzdGF0aWMgaW5saW5lIFQqCmJlZ2luKGN2OjpWZWM8VCwgTj4mIHYpIHsKICByZXR1cm4gJnZbMF07Cn0KdGVtcGxhdGU8Y2xhc3MgVCwgaW50IE4+CnN0YXRpYyBpbmxpbmUgVCoKZW5kKGN2OjpWZWM8VCwgTj4mIHYpIHsKICByZXR1cm4gJnZbTl07Cn0KCnRlbXBsYXRlPGNsYXNzIFQsIGludCBOPgpzdGF0aWMgaW5saW5lIFQgY29uc3QqCmJlZ2luKGN2OjpWZWM8VCwgTj4gY29uc3QmIHYpIHsKICByZXR1cm4gJnZbMF07Cn0KdGVtcGxhdGU8Y2xhc3MgVCwgaW50IE4+CnN0YXRpYyBpbmxpbmUgVCBjb25zdCoKZW5kKGN2OjpWZWM8VCwgTj4gY29uc3QmIHYpIHsKICByZXR1cm4gJnZbTl07Cn0KLyoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSB0eXBlbmFtZSBUOjp2YWx1ZV90eXBlIGNvbnN0KgpiZWdpbihjb25zdCBUJiBvYmopIHsKICByZXR1cm4gb2JqLmJlZ2luKCk7Cn0KdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSB0eXBlbmFtZSBUOjp2YWx1ZV90eXBlKgpiZWdpbihUJiBvYmopIHsKICByZXR1cm4gb2JqLmJlZ2luKCk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgdHlwZW5hbWUgVDo6dmFsdWVfdHlwZSBjb25zdCoKZW5kKGNvbnN0IFQmIG9iaikgewogIHJldHVybiBvYmouZW5kKCk7Cn0KdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSB0eXBlbmFtZSBUOjp2YWx1ZV90eXBlKgplbmQoVCYgb2JqKSB7CiAgcmV0dXJuIG9iai5lbmQoKTsKfQoqLwp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIFQqCmJlZ2luKHN0ZDo6dmVjdG9yPFQ+JiB2KSB7CiAgcmV0dXJuICZ2WzBdOwp9CnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgVCoKZW5kKHN0ZDo6dmVjdG9yPFQ+JiB2KSB7CiAgcmV0dXJuICZ2W3Yuc2l6ZSgpXTsKfQp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIFQgY29uc3QqCmJlZ2luKHN0ZDo6dmVjdG9yPFQ+IGNvbnN0JiB2KSB7CiAgcmV0dXJuICZ2WzBdOwp9CnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgVCBjb25zdCoKZW5kKHN0ZDo6dmVjdG9yPFQ+IGNvbnN0JiB2KSB7CiAgcmV0dXJuICZ2W3Yuc2l6ZSgpXTsKfQoKc3RhdGljIGlubGluZSB1aW50OF90KgpiZWdpbihjdjo6TWF0JiBtYXQpIHsKICByZXR1cm4gbWF0LnB0cjx1aW50OF90PigpOwp9CnN0YXRpYyBpbmxpbmUgdWludDhfdCoKZW5kKGN2OjpNYXQmIG1hdCkgewogIHJldHVybiBtYXQucHRyPHVpbnQ4X3Q+KCkgKyAobWF0LnRvdGFsKCkgKiBtYXQuZWxlbVNpemUoKSk7Cn0KCnN0YXRpYyBpbmxpbmUgdWludDhfdCBjb25zdCoKYmVnaW4oY3Y6Ok1hdCBjb25zdCYgbWF0KSB7CiAgcmV0dXJuIG1hdC5wdHI8dWludDhfdCBjb25zdD4oKTsKfQpzdGF0aWMgaW5saW5lIHVpbnQ4X3QgY29uc3QqCmVuZChjdjo6TWF0IGNvbnN0JiBtYXQpIHsKICByZXR1cm4gbWF0LnB0cjx1aW50OF90IGNvbnN0PigpICsgKG1hdC50b3RhbCgpICogbWF0LmVsZW1TaXplKCkpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPiBjbGFzcyByYW5nZV92aWV3IHsKcHVibGljOgogIHJhbmdlX3ZpZXcoVCogIGNvbnN0IGJhc2UsIHNpemVfdCBzaXplKSA6IHAoYmFzZSksIG4oc2l6ZSkgIHt9CgogIFQqIGNvbnN0CiAgYmVnaW4oKSBjb25zdCB7CiAgICByZXR1cm4gcDsKICB9CiAgVCogY29uc3QKICBlbmQoKSBjb25zdCB7CiAgICByZXR1cm4gcCArIG47CiAgfQoKcHJpdmF0ZToKICBUKiBjb25zdCBwOwogIGNvbnN0IHNpemVfdCBuOwp9OwoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSByYW5nZV92aWV3PFQ+CmFyZ3VtZW50X3JhbmdlKGludCBhcmdjLCBUIGFyZ3ZbXSkgewogIHJldHVybiByYW5nZV92aWV3PFQ+KGFyZ3YsIGFyZ2MpOwp9CgojaWYgMCAmJiBDWFhfU1RBTkRBUkQgPj0gMjAKCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgc3RkOjpyYW5nZXM6OnN1YnJhbmdlPFQ+CnNpemVkX3JhbmdlKFQgcHRyLCBzaXplX3QgbGVuKSB7CiAgcmV0dXJuIHN0ZDo6cmFuZ2VzOjpzdWJyYW5nZTxUPihwdHIsIHB0ciArIGxlbik7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgc3RkOjpyYW5nZXM6OnN1YnJhbmdlPFQqPgphcmd1bWVudF9yYW5nZShpbnQgYXJnYywgVCogYXJndikgewogIHJldHVybiBzdGQ6OnJhbmdlczo6c3VicmFuZ2U8VCo+KGFyZ3YsIGFyZ3YgKyBhcmdjKTsKfQoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSBzdGQ6OnJhbmdlczo6c3VicmFuZ2U8VCo+CnJhbmdlKFQqIGJlZ2luLCBUKiBlbmQpIHsKICByZXR1cm4gc3RkOjpyYW5nZXM6OnN1YnJhbmdlPFQqPihiZWdpbiwgZW5kKTsKfQoKdGVtcGxhdGU8Y2xhc3MgQ29udGFpbmVyPgpzdGF0aWMgaW5saW5lIHN0ZDo6cmFuZ2VzOjpzdWJyYW5nZTx0eXBlbmFtZSBDb250YWluZXI6OnZhbHVlX3R5cGUqPgpyYW5nZShDb250YWluZXImIGMpIHsKICByZXR1cm4gc3RkOjpyYW5nZXM6OnN1YnJhbmdlPHR5cGVuYW1lIENvbnRhaW5lcjo6dmFsdWVfdHlwZSo+KGJlZ2luKGMpLCBlbmQoYykpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBULCBjbGFzcyBDb250YWluZXI+CnN0YXRpYyBpbmxpbmUgc3RkOjpyYW5nZXM6OnN1YnJhbmdlPFQ+CnJhbmdlKENvbnRhaW5lciYgYykgewogIHJldHVybiBzdGQ6OnJhbmdlczo6c3VicmFuZ2U8VD4ocmVpbnRlcnByZXRfY2FzdDxUPihiZWdpbihjKSksIHJlaW50ZXJwcmV0X2Nhc3Q8VD4oZW5kKGMpKSk7Cn0KI2VuZGlmCgojZW5kaWYgLy8gZGVmaW5lZChVVElMX0hQUCkKAAAAAAAAAACeHQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADPGAAAAAAAAMUYAAAAAAAAAAAAAAAA8L8"
				],
				[
					462,
					1,
					"cut",
					null,
					"AQAAAEkZAAAAAAAASRkAAAAAAAAxAAAAICBUKiBjb25zdAogIGVuZCgpIGNvbnN0IHsKICAgIHJldHVybiBwICsgbjsKICB9Cg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABJGQAAAAAAAHoZAAAAAAAAAAAAAAAA8L8"
				],
				[
					463,
					2,
					"paste",
					null,
					"AgAAAEkZAAAAAAAAehkAAAAAAAAAAAAAehkAAAAAAACrGQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABJGQAAAAAAAEkZAAAAAAAAAAAAAAAA8L8"
				],
				[
					466,
					1,
					"insert",
					{
						"characters": " size_t"
					},
					"CAAAAHsZAAAAAAAAfBkAAAAAAAAAAAAAfBkAAAAAAAB8GQAAAAAAAAkAAAAgVCogY29uc3R8GQAAAAAAAH0ZAAAAAAAAAAAAAH0ZAAAAAAAAfhkAAAAAAAAAAAAAfhkAAAAAAAB/GQAAAAAAAAAAAAB/GQAAAAAAAIAZAAAAAAAAAAAAAIAZAAAAAAAAgRkAAAAAAAAAAAAAgRkAAAAAAACCGQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB7GQAAAAAAAIQZAAAAAAAAAAAAAAAA8L8"
				],
				[
					469,
					1,
					"insert",
					{
						"characters": "size"
					},
					"BQAAAIUZAAAAAAAAhhkAAAAAAAAAAAAAhhkAAAAAAACGGQAAAAAAAAMAAABlbmSGGQAAAAAAAIcZAAAAAAAAAAAAAIcZAAAAAAAAiBkAAAAAAAAAAAAAiBkAAAAAAACJGQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACFGQAAAAAAAIgZAAAAAAAAAAAAAAAA8L8"
				],
				[
					473,
					4,
					"left_delete",
					null,
					"BAAAAKIZAAAAAAAAohkAAAAAAAABAAAAIKEZAAAAAAAAoRkAAAAAAAABAAAAK6AZAAAAAAAAoBkAAAAAAAABAAAAIJ8ZAAAAAAAAnxkAAAAAAAABAAAAcA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACjGQAAAAAAAKMZAAAAAAAAAAAAAAAA8L8"
				],
				[
					475,
					3,
					"join_lines",
					null,
					"CAAAAIIZAAAAAAAAghkAAAAAAAABAAAACoIZAAAAAAAAghkAAAAAAAACAAAAICCCGQAAAAAAAIMZAAAAAAAAAAAAAJEZAAAAAAAAkRkAAAAAAAABAAAACpEZAAAAAAAAkRkAAAAAAAAEAAAAICAgIJoZAAAAAAAAmhkAAAAAAAABAAAACpoZAAAAAAAAmhkAAAAAAAACAAAAICCaGQAAAAAAAJsZAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACCGQAAAAAAAIIZAAAAAAAAAAAAAAAAVkA"
				],
				[
					477,
					3,
					"join_lines",
					null,
					"CAAAAFMZAAAAAAAAUxkAAAAAAAABAAAAClMZAAAAAAAAUxkAAAAAAAACAAAAICBTGQAAAAAAAFQZAAAAAAAAAAAAAGEZAAAAAAAAYRkAAAAAAAABAAAACmEZAAAAAAAAYRkAAAAAAAAEAAAAICAgIG4ZAAAAAAAAbhkAAAAAAAABAAAACm4ZAAAAAAAAbhkAAAAAAAACAAAAICBuGQAAAAAAAG8ZAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABTGQAAAAAAAFMZAAAAAAAAAAAAAACAcEA"
				],
				[
					479,
					3,
					"join_lines",
					null,
					"CAAAACQZAAAAAAAAJBkAAAAAAAABAAAACiQZAAAAAAAAJBkAAAAAAAACAAAAICAkGQAAAAAAACUZAAAAAAAAAAAAADQZAAAAAAAANBkAAAAAAAABAAAACjQZAAAAAAAANBkAAAAAAAAEAAAAICAgID0ZAAAAAAAAPRkAAAAAAAABAAAACj0ZAAAAAAAAPRkAAAAAAAACAAAAICA9GQAAAAAAAD4ZAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAkGQAAAAAAACQZAAAAAAAAAAAAAAAAc0A"
				],
				[
					509,
					1,
					"cut",
					null,
					"AQAAANoYAAAAAAAA2hgAAAAAAAA/AAAAICByYW5nZV92aWV3KFQqIGNvbnN0IGJhc2UsIHNpemVfdCBzaXplKSA6IHAoYmFzZSksIG4oc2l6ZSkge30K",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADaGAAAAAAAABkZAAAAAAAAAAAAAAAA8L8"
				],
				[
					510,
					2,
					"paste",
					null,
					"AgAAANoYAAAAAAAAGRkAAAAAAAAAAAAAGRkAAAAAAABYGQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADaGAAAAAAAANoYAAAAAAAAAAAAAAAA8L8"
				],
				[
					513,
					1,
					"insert",
					{
						"characters": "const"
					},
					"BgAAAOcYAAAAAAAA6BgAAAAAAAAAAAAA6BgAAAAAAADoGAAAAAAAABoAAABUKiBjb25zdCBiYXNlLCBzaXplX3Qgc2l6ZegYAAAAAAAA6RgAAAAAAAAAAAAA6RgAAAAAAADqGAAAAAAAAAAAAADqGAAAAAAAAOsYAAAAAAAAAAAAAOsYAAAAAAAA7BgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADnGAAAAAAAAAEZAAAAAAAAAAAAAAAA8L8"
				],
				[
					514,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAOwYAAAAAAAA7RgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADsGAAAAAAAAOwYAAAAAAAAAAAAAAAA8L8"
				],
				[
					515,
					6,
					"left_delete",
					null,
					"BgAAAOwYAAAAAAAA7BgAAAAAAAABAAAAIOsYAAAAAAAA6xgAAAAAAAABAAAAdOoYAAAAAAAA6hgAAAAAAAABAAAAc+kYAAAAAAAA6RgAAAAAAAABAAAAbugYAAAAAAAA6BgAAAAAAAABAAAAb+cYAAAAAAAA5xgAAAAAAAABAAAAYw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADtGAAAAAAAAO0YAAAAAAAAAAAAAAAA8L8"
				],
				[
					516,
					1,
					"insert",
					{
						"characters": "range_view"
					},
					"CgAAAOcYAAAAAAAA6BgAAAAAAAAAAAAA6BgAAAAAAADpGAAAAAAAAAAAAADpGAAAAAAAAOoYAAAAAAAAAAAAAOoYAAAAAAAA6xgAAAAAAAAAAAAA6xgAAAAAAADsGAAAAAAAAAAAAADsGAAAAAAAAO0YAAAAAAAAAAAAAO0YAAAAAAAA7hgAAAAAAAAAAAAA7hgAAAAAAADvGAAAAAAAAAAAAADvGAAAAAAAAPAYAAAAAAAAAAAAAPAYAAAAAAAA8RgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADnGAAAAAAAAOcYAAAAAAAAAAAAAAAA8L8"
				],
				[
					517,
					1,
					"insert",
					{
						"characters": "<T>"
					},
					"AwAAAPEYAAAAAAAA8hgAAAAAAAAAAAAA8hgAAAAAAADzGAAAAAAAAAAAAADzGAAAAAAAAPQYAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADxGAAAAAAAAPEYAAAAAAAAAAAAAAAA8L8"
				],
				[
					518,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAPQYAAAAAAAA9RgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD0GAAAAAAAAPQYAAAAAAAAAAAAAAAA8L8"
				],
				[
					519,
					1,
					"left_delete",
					null,
					"AQAAAPQYAAAAAAAA9BgAAAAAAAABAAAAIA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD1GAAAAAAAAPUYAAAAAAAAAAAAAAAA8L8"
				],
				[
					520,
					1,
					"insert",
					{
						"characters": " const"
					},
					"BgAAAPQYAAAAAAAA9RgAAAAAAAAAAAAA9RgAAAAAAAD2GAAAAAAAAAAAAAD2GAAAAAAAAPcYAAAAAAAAAAAAAPcYAAAAAAAA+BgAAAAAAAAAAAAA+BgAAAAAAAD5GAAAAAAAAAAAAAD5GAAAAAAAAPoYAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD0GAAAAAAAAPQYAAAAAAAAAAAAAAAA8L8"
				],
				[
					521,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAPoYAAAAAAAA+xgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD6GAAAAAAAAPoYAAAAAAAAAAAAAAAA8L8"
				],
				[
					522,
					1,
					"left_delete",
					null,
					"AQAAAPoYAAAAAAAA+hgAAAAAAAABAAAAIA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD7GAAAAAAAAPsYAAAAAAAAAAAAAAAA8L8"
				],
				[
					523,
					1,
					"insert",
					{
						"characters": "%"
					},
					"AQAAAPoYAAAAAAAA+xgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD6GAAAAAAAAPoYAAAAAAAAAAAAAAAA8L8"
				],
				[
					524,
					1,
					"left_delete",
					null,
					"AQAAAPoYAAAAAAAA+hgAAAAAAAABAAAAJQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD7GAAAAAAAAPsYAAAAAAAAAAAAAAAA8L8"
				],
				[
					525,
					1,
					"insert",
					{
						"characters": "&"
					},
					"AQAAAPoYAAAAAAAA+xgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD6GAAAAAAAAPoYAAAAAAAAAAAAAAAA8L8"
				],
				[
					526,
					1,
					"insert",
					{
						"characters": " rabge"
					},
					"BgAAAPsYAAAAAAAA/BgAAAAAAAAAAAAA/BgAAAAAAAD9GAAAAAAAAAAAAAD9GAAAAAAAAP4YAAAAAAAAAAAAAP4YAAAAAAAA/xgAAAAAAAAAAAAA/xgAAAAAAAAAGQAAAAAAAAAAAAAAGQAAAAAAAAEZAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD7GAAAAAAAAPsYAAAAAAAAAAAAAAAA8L8"
				],
				[
					527,
					3,
					"left_delete",
					null,
					"AwAAAAAZAAAAAAAAABkAAAAAAAABAAAAZf8YAAAAAAAA/xgAAAAAAAABAAAAZ/4YAAAAAAAA/hgAAAAAAAABAAAAYg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAABGQAAAAAAAAEZAAAAAAAAAAAAAAAA8L8"
				],
				[
					528,
					1,
					"insert",
					{
						"characters": "nge"
					},
					"AwAAAP4YAAAAAAAA/xgAAAAAAAAAAAAA/xgAAAAAAAAAGQAAAAAAAAAAAAAAGQAAAAAAAAEZAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD+GAAAAAAAAP4YAAAAAAAAAAAAAAAA8L8"
				],
				[
					530,
					4,
					"left_delete",
					null,
					"BAAAAAoZAAAAAAAAChkAAAAAAAABAAAAZQkZAAAAAAAACRkAAAAAAAABAAAAcwgZAAAAAAAACBkAAAAAAAABAAAAYQcZAAAAAAAABxkAAAAAAAABAAAAYg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAALGQAAAAAAAAsZAAAAAAAAAAAAAAAA8L8"
				],
				[
					531,
					1,
					"run_macro_file",
					{
						"file": "res://Packages/Default/Delete Left Right.sublime-macro"
					},
					"AgAAAAYZAAAAAAAABhkAAAAAAAABAAAAKAYZAAAAAAAABhkAAAAAAAABAAAAKQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAHGQAAAAAAAAcZAAAAAAAAAAAAAAAA8L8"
				],
				[
					532,
					1,
					"insert",
					{
						"characters": "(range."
					},
					"BwAAAAYZAAAAAAAABxkAAAAAAAAAAAAABxkAAAAAAAAIGQAAAAAAAAAAAAAIGQAAAAAAAAkZAAAAAAAAAAAAAAkZAAAAAAAAChkAAAAAAAAAAAAAChkAAAAAAAALGQAAAAAAAAAAAAALGQAAAAAAAAwZAAAAAAAAAAAAAAwZAAAAAAAADRkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAGGQAAAAAAAAYZAAAAAAAAAAAAAAAA8L8"
				],
				[
					533,
					1,
					"insert",
					{
						"characters": "begin())"
					},
					"CAAAAA0ZAAAAAAAADhkAAAAAAAAAAAAADhkAAAAAAAAPGQAAAAAAAAAAAAAPGQAAAAAAABAZAAAAAAAAAAAAABAZAAAAAAAAERkAAAAAAAAAAAAAERkAAAAAAAASGQAAAAAAAAAAAAASGQAAAAAAABMZAAAAAAAAAAAAABMZAAAAAAAAFBkAAAAAAAAAAAAAFBkAAAAAAAAVGQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAANGQAAAAAAAA0ZAAAAAAAAAAAAAAAA8L8"
				],
				[
					534,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAABUZAAAAAAAAFhkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAVGQAAAAAAABUZAAAAAAAAAAAAAAAA8L8"
				],
				[
					535,
					1,
					"left_delete",
					null,
					"AQAAABUZAAAAAAAAFRkAAAAAAAABAAAAIA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAWGQAAAAAAABYZAAAAAAAAAAAAAAAA8L8"
				],
				[
					536,
					1,
					"insert",
					{
						"characters": "m,"
					},
					"AgAAABUZAAAAAAAAFhkAAAAAAAAAAAAAFhkAAAAAAAAXGQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAVGQAAAAAAABUZAAAAAAAAAAAAAAAA8L8"
				],
				[
					537,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAABcZAAAAAAAAGBkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAXGQAAAAAAABcZAAAAAAAAAAAAAAAA8L8"
				],
				[
					538,
					3,
					"left_delete",
					null,
					"AwAAABcZAAAAAAAAFxkAAAAAAAABAAAAIBYZAAAAAAAAFhkAAAAAAAABAAAALBUZAAAAAAAAFRkAAAAAAAABAAAAbQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAYGQAAAAAAABgZAAAAAAAAAAAAAAAA8L8"
				],
				[
					539,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAABUZAAAAAAAAFhkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAVGQAAAAAAABUZAAAAAAAAAAAAAAAA8L8"
				],
				[
					540,
					1,
					"insert",
					{
						"characters": " n(range."
					},
					"CQAAABYZAAAAAAAAFxkAAAAAAAAAAAAAFxkAAAAAAAAYGQAAAAAAAAAAAAAYGQAAAAAAABkZAAAAAAAAAAAAABkZAAAAAAAAGhkAAAAAAAAAAAAAGhkAAAAAAAAbGQAAAAAAAAAAAAAbGQAAAAAAABwZAAAAAAAAAAAAABwZAAAAAAAAHRkAAAAAAAAAAAAAHRkAAAAAAAAeGQAAAAAAAAAAAAAeGQAAAAAAAB8ZAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAWGQAAAAAAABYZAAAAAAAAAAAAAAAA8L8"
				],
				[
					541,
					1,
					"insert",
					{
						"characters": "size())"
					},
					"BwAAAB8ZAAAAAAAAIBkAAAAAAAAAAAAAIBkAAAAAAAAhGQAAAAAAAAAAAAAhGQAAAAAAACIZAAAAAAAAAAAAACIZAAAAAAAAIxkAAAAAAAAAAAAAIxkAAAAAAAAkGQAAAAAAAAAAAAAkGQAAAAAAACUZAAAAAAAAAAAAACUZAAAAAAAAJhkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAfGQAAAAAAAB8ZAAAAAAAAAAAAAAAA8L8"
				],
				[
					543,
					1,
					"left_delete",
					null,
					"AQAAACYZAAAAAAAAJhkAAAAAAAAJAAAALCBuKHNpemUp",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAmGQAAAAAAAC8ZAAAAAAAAAAAAAAAA8L8"
				],
				[
					565,
					1,
					"insert",
					{
						"characters": "//"
					},
					"AgAAANwYAAAAAAAA3RgAAAAAAAAAAAAA3RgAAAAAAADeGAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADcGAAAAAAAANwYAAAAAAAAAAAAAAAA8L8"
				],
				[
					570,
					1,
					"insert",
					{
						"characters": "\n\nrange_view&"
					},
					"EAAAAGoZAAAAAAAAaxkAAAAAAAAAAAAAaxkAAAAAAABtGQAAAAAAAAAAAABtGQAAAAAAAG4ZAAAAAAAAAAAAAG4ZAAAAAAAAcBkAAAAAAAAAAAAAaxkAAAAAAABrGQAAAAAAAAIAAAAgIG4ZAAAAAAAAbxkAAAAAAAAAAAAAbxkAAAAAAABwGQAAAAAAAAAAAABwGQAAAAAAAHEZAAAAAAAAAAAAAHEZAAAAAAAAchkAAAAAAAAAAAAAchkAAAAAAABzGQAAAAAAAAAAAABzGQAAAAAAAHQZAAAAAAAAAAAAAHQZAAAAAAAAdRkAAAAAAAAAAAAAdRkAAAAAAAB2GQAAAAAAAAAAAAB2GQAAAAAAAHcZAAAAAAAAAAAAAHcZAAAAAAAAeBkAAAAAAAAAAAAAeBkAAAAAAAB5GQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABqGQAAAAAAAGoZAAAAAAAAAAAAAAAA8L8"
				],
				[
					571,
					1,
					"left_delete",
					null,
					"AQAAAHgZAAAAAAAAeBkAAAAAAAABAAAAJg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB5GQAAAAAAAHkZAAAAAAAAAAAAAAAA8L8"
				],
				[
					572,
					1,
					"insert",
					{
						"characters": "<T>&"
					},
					"BAAAAHgZAAAAAAAAeRkAAAAAAAAAAAAAeRkAAAAAAAB6GQAAAAAAAAAAAAB6GQAAAAAAAHsZAAAAAAAAAAAAAHsZAAAAAAAAfBkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB4GQAAAAAAAHgZAAAAAAAAAAAAAAAA8L8"
				],
				[
					573,
					1,
					"insert",
					{
						"characters": "\noperator="
					},
					"CwAAAHwZAAAAAAAAfRkAAAAAAAAAAAAAfRkAAAAAAAB/GQAAAAAAAAAAAAB/GQAAAAAAAIAZAAAAAAAAAAAAAIAZAAAAAAAAgRkAAAAAAAAAAAAAgRkAAAAAAACCGQAAAAAAAAAAAACCGQAAAAAAAIMZAAAAAAAAAAAAAIMZAAAAAAAAhBkAAAAAAAAAAAAAhBkAAAAAAACFGQAAAAAAAAAAAACFGQAAAAAAAIYZAAAAAAAAAAAAAIYZAAAAAAAAhxkAAAAAAAAAAAAAhxkAAAAAAACIGQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB8GQAAAAAAAHwZAAAAAAAAAAAAAAAA8L8"
				],
				[
					574,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAIgZAAAAAAAAihkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACIGQAAAAAAAIgZAAAAAAAAAAAAAAAA8L8"
				],
				[
					579,
					1,
					"left_delete",
					null,
					"AQAAAIkZAAAAAAAAiRkAAAAAAAABAAAAKQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACKGQAAAAAAAIoZAAAAAAAAAAAAAAAA8L8"
				],
				[
					584,
					1,
					"paste",
					null,
					"AgAAAOkYAAAAAAAABBkAAAAAAAAAAAAABBkAAAAAAAAEGQAAAAAAABsAAAByYW5nZV92aWV3PFQ+IGNvbnN0JiByYW5nZSk",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADpGAAAAAAAAAQZAAAAAAAAAAAAAAAA8L8"
				],
				[
					590,
					1,
					"paste",
					null,
					"AQAAAIkZAAAAAAAApBkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACJGQAAAAAAAIkZAAAAAAAAAAAAAAAA8L8"
				],
				[
					591,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAKQZAAAAAAAApRkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACkGQAAAAAAAKQZAAAAAAAAAAAAAAAA8L8"
				],
				[
					592,
					1,
					"insert_snippet",
					{
						"contents": "{$0}"
					},
					"AQAAAKUZAAAAAAAApxkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAClGQAAAAAAAKUZAAAAAAAAAAAAAAAA8L8"
				],
				[
					596,
					1,
					"run_macro_file",
					{
						"file": "res://Packages/Default/Add Line in Braces.sublime-macro"
					},
					"BgAAAKYZAAAAAAAApxkAAAAAAAAAAAAApxkAAAAAAACpGQAAAAAAAAAAAACpGQAAAAAAAKoZAAAAAAAAAAAAAKoZAAAAAAAArBkAAAAAAAAAAAAApxkAAAAAAACnGQAAAAAAAAIAAAAgIKcZAAAAAAAAqxkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACmGQAAAAAAAKYZAAAAAAAAAAAAAAAA8L8"
				],
				[
					599,
					1,
					"insert",
					{
						"characters": "p"
					},
					"AQAAAKsZAAAAAAAArBkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACrGQAAAAAAAKsZAAAAAAAAAAAAAAAAQEA"
				],
				[
					600,
					1,
					"insert",
					{
						"characters": " ="
					},
					"AgAAAKwZAAAAAAAArRkAAAAAAAAAAAAArRkAAAAAAACuGQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACsGQAAAAAAAKwZAAAAAAAAAAAAAAAA8L8"
				],
				[
					601,
					1,
					"insert",
					{
						"characters": " range.begin"
					},
					"DAAAAK4ZAAAAAAAArxkAAAAAAAAAAAAArxkAAAAAAACwGQAAAAAAAAAAAACwGQAAAAAAALEZAAAAAAAAAAAAALEZAAAAAAAAshkAAAAAAAAAAAAAshkAAAAAAACzGQAAAAAAAAAAAACzGQAAAAAAALQZAAAAAAAAAAAAALQZAAAAAAAAtRkAAAAAAAAAAAAAtRkAAAAAAAC2GQAAAAAAAAAAAAC2GQAAAAAAALcZAAAAAAAAAAAAALcZAAAAAAAAuBkAAAAAAAAAAAAAuBkAAAAAAAC5GQAAAAAAAAAAAAC5GQAAAAAAALoZAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACuGQAAAAAAAK4ZAAAAAAAAAAAAAAAA8L8"
				],
				[
					602,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAALoZAAAAAAAAvBkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC6GQAAAAAAALoZAAAAAAAAAAAAAAAA8L8"
				],
				[
					604,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAALwZAAAAAAAAvRkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC8GQAAAAAAALwZAAAAAAAAAAAAAAAA8L8"
				],
				[
					605,
					1,
					"insert",
					{
						"characters": "\nn"
					},
					"AwAAAL0ZAAAAAAAAvhkAAAAAAAAAAAAAvhkAAAAAAADCGQAAAAAAAAAAAADCGQAAAAAAAMMZAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC9GQAAAAAAAL0ZAAAAAAAAAAAAAAAA8L8"
				],
				[
					606,
					1,
					"insert",
					{
						"characters": " ="
					},
					"AgAAAMMZAAAAAAAAxBkAAAAAAAAAAAAAxBkAAAAAAADFGQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADDGQAAAAAAAMMZAAAAAAAAAAAAAAAA8L8"
				],
				[
					607,
					1,
					"insert",
					{
						"characters": " range.size"
					},
					"CwAAAMUZAAAAAAAAxhkAAAAAAAAAAAAAxhkAAAAAAADHGQAAAAAAAAAAAADHGQAAAAAAAMgZAAAAAAAAAAAAAMgZAAAAAAAAyRkAAAAAAAAAAAAAyRkAAAAAAADKGQAAAAAAAAAAAADKGQAAAAAAAMsZAAAAAAAAAAAAAMsZAAAAAAAAzBkAAAAAAAAAAAAAzBkAAAAAAADNGQAAAAAAAAAAAADNGQAAAAAAAM4ZAAAAAAAAAAAAAM4ZAAAAAAAAzxkAAAAAAAAAAAAAzxkAAAAAAADQGQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADFGQAAAAAAAMUZAAAAAAAAAAAAAAAA8L8"
				],
				[
					608,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAANAZAAAAAAAA0hkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADQGQAAAAAAANAZAAAAAAAAAAAAAAAA8L8"
				],
				[
					610,
					1,
					"insert",
					{
						"characters": ";"
					},
					"AQAAANIZAAAAAAAA0xkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADSGQAAAAAAANIZAAAAAAAAAAAAAAAA8L8"
				],
				[
					611,
					1,
					"insert",
					{
						"characters": "\t"
					},
					"AQAAANMZAAAAAAAA1BkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADTGQAAAAAAANMZAAAAAAAAAAAAAAAA8L8"
				],
				[
					612,
					1,
					"left_delete",
					null,
					"AQAAANMZAAAAAAAA0xkAAAAAAAABAAAAIA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADUGQAAAAAAANQZAAAAAAAAAAAAAAAA8L8"
				],
				[
					634,
					1,
					"insert",
					{
						"characters": " "
					},
					"AgAAAFkaAAAAAAAAWhoAAAAAAAAAAAAAWhoAAAAAAABaGgAAAAAAAAUAAABjb25zdA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABZGgAAAAAAAF4aAAAAAAAAAAAAAAAA8L8"
				],
				[
					638,
					1,
					"insert",
					{
						"characters": " "
					},
					"AgAAAGAaAAAAAAAAYRoAAAAAAAAAAAAAYRoAAAAAAABhGgAAAAAAAAUAAABjb25zdA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABgGgAAAAAAAGUaAAAAAAAAAAAAAAAA8L8"
				],
				[
					639,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABmHgAAI2lmbmRlZiBVVElMX0hQUAojZGVmaW5lIFVUSUxfSFBQCgojaW5jbHVkZSA8c3RyaW5nPgojaW5jbHVkZSA8bnVtZXJpYz4KI2luY2x1ZGUgPGlvc3RyZWFtPgojaW5jbHVkZSA8aW9tYW5pcD4KI2luY2x1ZGUgPHN5cy9zdGF0Lmg+CgojaW5jbHVkZSA8b3BlbmN2Mi9jb3JlLmhwcD4KCiNpZiBkZWZpbmVkKF9XSU4zMikgfHwgZGVmaW5lZChfX01JTkdXMzJfXykKI2RlZmluZSBWSVNJQkxFIF9fZGVjbHNwZWMoZGxsZXhwb3J0KQojZGVmaW5lIEhJRERFTgojZWxzZQojZGVmaW5lIFZJU0lCTEUgX19hdHRyaWJ1dGVfXygodmlzaWJpbGl0eSgiZGVmYXVsdCIpKSkKI2RlZmluZSBISURERU4gX19hdHRyaWJ1dGVfXygodmlzaWJpbGl0eSgiaGlkZGVuIikpKQojZW5kaWYKCiNkZWZpbmUgQ09MT1JfQkxBQ0sgIlx4MWJbMzBtIgojZGVmaW5lIENPTE9SX1JFRCAiXHgxYlszMW0iCiNkZWZpbmUgQ09MT1JfR1JFRU4gIlx4MWJbMzJtIgojZGVmaW5lIENPTE9SX1lFTExPVyAiXHgxYlszM20iCiNkZWZpbmUgQ09MT1JfQkxVRSAiXHgxYlszNG0iCiNkZWZpbmUgQ09MT1JfTUFHRU5UQSAiXHgxYlszNW0iCiNkZWZpbmUgQ09MT1JfQ1lBTiAiXHgxYlszNm0iCiNkZWZpbmUgQ09MT1JfV0hJVEUgIlx4MWJbMzdtIgoKI2RlZmluZSBDT0xPUl9HUkFZICJceDFiWzE7MzBtIgojZGVmaW5lIENPTE9SX0xJR0hUUkVEICJceDFiWzE7MzFtIgojZGVmaW5lIENPTE9SX0xJR0hUR1JFRU4gIlx4MWJbMTszMm0iCiNkZWZpbmUgQ09MT1JfTElHSFRZRUxMT1cgIlx4MWJbMTszM20iCiNkZWZpbmUgQ09MT1JfTElHSFRCTFVFICJceDFiWzE7MzRtIgojZGVmaW5lIENPTE9SX0xJR0hUTUFHRU5UQSAiXHgxYlsxOzM1bSIKI2RlZmluZSBDT0xPUl9MSUdIVENZQU4gIlx4MWJbMTszNm0iCiNkZWZpbmUgQ09MT1JfTElHSFRXSElURSAiXHgxYlsxOzM3bSIKCiNkZWZpbmUgQ09MT1JfTk9ORSAiXHgxYlttIgoKYm9vbCBzdHJfZW5kKGNvbnN0IGNoYXIqIHN0ciwgY29uc3QgY2hhciogc3VmZml4KTsKYm9vbCBzdHJfZW5kKGNvbnN0IHN0ZDo6c3RyaW5nJiBzdHIsIGNvbnN0IHN0ZDo6c3RyaW5nJiBzdWZmaXgpOwoKc3RkOjpzdHJpbmcgdG9fc3RyaW5nKGNvbnN0IGN2OjpTY2FsYXImIHNjYWxhcik7CgpzdGQ6OnN0cmluZyBtYWtlX2ZpbGVuYW1lKGNvbnN0IHN0ZDo6c3RyaW5nJiBuYW1lLCBpbnQgY291bnQsIGNvbnN0IHN0ZDo6c3RyaW5nJiBleHQsIGNvbnN0IHN0ZDo6c3RyaW5nJiBkaXIgPSAidG1wIik7CgppbmxpbmUgaW50MzJfdApnZXRfbXRpbWUoY29uc3QgY2hhciogZmlsZW5hbWUpIHsKI2lmIF9fU1REQ19WRVJTSU9OX18gPj0gMjAxNzEwTAogIHJldHVybiBzdGQ6OmZpbGVzeXN0ZW06Omxhc3Rfd3JpdGVfdGltZShmaWxlbmFtZSk7CiNlbHNlCiAgc3RydWN0IHN0YXQgc3Q7CiAgaWYoc3RhdChmaWxlbmFtZSwgJnN0KSAhPSAtMSkgewogICAgdWludDMyX3QgcmV0ID0gc3Quc3RfbXRpbWU7CiAgICByZXR1cm4gcmV0OwogIH0KI2VuZGlmCiAgcmV0dXJuIC0xOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBDaGFyLCBjbGFzcyBWYWx1ZT4KaW5saW5lIHN0ZDo6b3N0cmVhbSYKb3BlcmF0b3I8PChzdGQ6Om9zdHJlYW0mIG9zLCBjb25zdCBzdGQ6OnZlY3RvcjxWYWx1ZT4mIGMpIHsKICB0eXBlZGVmIHR5cGVuYW1lIHN0ZDo6dmVjdG9yPFZhbHVlPjo6Y29uc3RfaXRlcmF0b3IgaXRlcmF0b3JfdHlwZTsKICBpdGVyYXRvcl90eXBlIGVuZCA9IGMuZW5kKCk7CiAgZm9yKGl0ZXJhdG9yX3R5cGUgaXQgPSBjLmJlZ2luKCk7IGl0ICE9IGVuZDsgKytpdCkgewogICAgb3MgPDwgJyAnOwogICAgb3MgPDwgdG9fc3RyaW5nKCppdCk7CiAgfQogIHJldHVybiBvczsKfQoKaW5saW5lIHN0ZDo6c3RyaW5nCnRvX3N0cmluZyhjb25zdCBjdjo6U2NhbGFyJiBzY2FsYXIpIHsKICBjb25zdCBpbnQgcGFkID0gMzsKICBzdGQ6Om9zdHJpbmdzdHJlYW0gb3NzOwogIG9zcyA8PCAnWycgPDwgc3RkOjpzZXRmaWxsKCcgJykgPDwgc3RkOjpzZXR3KHBhZCkgPDwgc2NhbGFyWzBdIDw8ICcsJyA8PCBzdGQ6OnNldGZpbGwoJyAnKSA8PCBzdGQ6OnNldHcocGFkKSA8PCBzY2FsYXJbMV0KICAgICAgPDwgJywnIDw8IHN0ZDo6c2V0ZmlsbCgnICcpIDw8IHN0ZDo6c2V0dyhwYWQpIDw8IHNjYWxhclsyXSA8PCAnLCcgPDwgc3RkOjpzZXRmaWxsKCcgJykgPDwgc3RkOjpzZXR3KHBhZCkgPDwgc2NhbGFyWzNdCiAgICAgIDw8ICddJzsKICByZXR1cm4gb3NzLnN0cigpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBJdGVyYXRvcj4Kc3RhdGljIGlubGluZSBzdGQ6OnN0cmluZwpqb2luKGNvbnN0IEl0ZXJhdG9yJiBzdGFydCwgY29uc3QgSXRlcmF0b3ImIGVuZCwgY29uc3Qgc3RkOjpzdHJpbmcmIGRlbGltKSB7CiAgcmV0dXJuIHN0ZDo6YWNjdW11bGF0ZShzdGFydCwgZW5kLCBzdGQ6OnN0cmluZygpLCBbJmRlbGltXShjb25zdCBzdGQ6OnN0cmluZyYgYSwgY29uc3Qgc3RkOjpzdHJpbmcmIGIpIC0+IHN0ZDo6c3RyaW5nIHsKICAgIHJldHVybiBhICsgKGEubGVuZ3RoKCkgPiAwID8gZGVsaW0gOiAiIikgKyBiOwogIH0pOwp9CgpleHRlcm4gIkMiIHZvaWQqIGdldF9oZWFwX2Jhc2UoKTsKCnR5cGVkZWYgc3RydWN0IEpTTWF0RGltZW5zaW9ucyB7CiAgdWludDMyX3Qgcm93cywgY29sczsKCiAgb3BlcmF0b3IgY3Y6OlNpemUoKSBjb25zdCB7IHJldHVybiBjdjo6U2l6ZShjb2xzLCByb3dzKTsgfQp9IEpTTWF0RGltZW5zaW9uczsKCnN0YXRpYyBpbmxpbmUgaW50Cm1hdHR5cGVfZGVwdGgoaW50IHR5cGUpIHsKICByZXR1cm4gdHlwZSAmIDB4NzsKfQpzdGF0aWMgaW5saW5lIGludAptYXR0eXBlX2NoYW5uZWxzKGludCB0eXBlKSB7CiAgcmV0dXJuICh0eXBlID4+IDMpICsgMTsKfQpzdGF0aWMgaW5saW5lIGJvb2wKbWF0dHlwZV9mbG9hdGluZyhpbnQgdHlwZSkgewogIHN3aXRjaChtYXR0eXBlX2RlcHRoKHR5cGUpKSB7CiAgICBjYXNlIENWXzMyRjoKICAgIGNhc2UgQ1ZfNjRGOiByZXR1cm4gdHJ1ZTsKICAgIGRlZmF1bHQ6IHJldHVybiBmYWxzZTsKICB9Cn0Kc3RhdGljIGlubGluZSBib29sCm1hdHR5cGVfc2lnbmVkKGludCB0eXBlKSB7CiAgc3dpdGNoKG1hdHR5cGVfZGVwdGgodHlwZSkpIHsKICAgIGNhc2UgQ1ZfOFM6CiAgICBjYXNlIENWXzE2UzoKICAgIGNhc2UgQ1ZfMzJTOiByZXR1cm4gdHJ1ZTsKICAgIGRlZmF1bHQ6IHJldHVybiBmYWxzZTsKICB9Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgSlNNYXREaW1lbnNpb25zCm1hdF9kaW1lbnNpb25zKGNvbnN0IFQmIG1hdCkgewogIEpTTWF0RGltZW5zaW9ucyByZXQ7CiAgcmV0LnJvd3MgPSBtYXQucm93czsKICByZXQuY29scyA9IG1hdC5jb2xzOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBpbmxpbmUgdWludDhfdCoKbWF0X3B0cihjdjo6TWF0JiBtYXQpIHsKICByZXR1cm4gcmVpbnRlcnByZXRfY2FzdDx1aW50OF90Kj4obWF0LnB0cigpKTsKfQoKc3RhdGljIGlubGluZSB1aW50OF90KgptYXRfcHRyKGN2OjpVTWF0JiBtYXQpIHsKICBjdjo6VU1hdERhdGEqIHU7CgogIGlmKCh1ID0gbWF0LnUpKQogICAgcmV0dXJuIHJlaW50ZXJwcmV0X2Nhc3Q8dWludDhfdCo+KHUtPmRhdGEpOwoKICByZXR1cm4gbnVsbHB0cjsKfQoKc3RhdGljIGlubGluZSBzaXplX3QKbWF0X29mZnNldChjb25zdCBjdjo6TWF0JiBtYXQsIHVpbnQzMl90IHJvdywgdWludDMyX3QgY29sKSB7CiAgY29uc3QgdWNoYXIgKmJhc2UsICpwdHI7CgogIGJhc2UgPSBtYXQucHRyPHVjaGFyPigpOwogIHB0ciA9IG1hdC5wdHI8dWNoYXI+KHJvdywgY29sKTsKCiAgcmV0dXJuIHB0ciAtIGJhc2U7Cn0KCnN0YXRpYyBpbmxpbmUgc2l6ZV90Cm1hdF9vZmZzZXQoY29uc3QgY3Y6OlVNYXQmIG1hdCwgdWludDMyX3Qgcm93LCB1aW50MzJfdCBjb2wpIHsKICByZXR1cm4gKHNpemVfdChtYXQuY29scykgKiByb3cgKyBjb2wpICogbWF0LmVsZW1TaXplKCk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgVCYKbWF0X2F0KGN2OjpNYXQmIG1hdCwgdWludDMyX3Qgcm93LCB1aW50MzJfdCBjb2wpIHsKICByZXR1cm4gKm1hdC5wdHI8VD4ocm93LCBjb2wpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIFQmCm1hdF9hdChjdjo6VU1hdCYgbWF0LCB1aW50MzJfdCByb3csIHVpbnQzMl90IGNvbCkgewogIHNpemVfdCBvZmZzID0gbWF0X29mZnNldChtYXQsIHJvdywgY29sKTsKICByZXR1cm4gKnJlaW50ZXJwcmV0X2Nhc3Q8VCo+KG1hdF9wdHIobWF0KSArIG9mZnMpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIHNpemVfdAptYXRfYnl0ZXNpemUoY29uc3QgVCYgbWF0KSB7CiAgcmV0dXJuIG1hdC5lbGVtU2l6ZSgpICogbWF0LnRvdGFsKCk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgaW50Cm1hdF9kZXB0aChjb25zdCBUJiBtYXQpIHsKICByZXR1cm4gbWF0dHlwZV9kZXB0aChtYXQudHlwZSgpKTsKfQoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSBpbnQKbWF0X2NoYW5uZWxzKGNvbnN0IFQmIG1hdCkgewogIHJldHVybiBtYXR0eXBlX2NoYW5uZWxzKG1hdC50eXBlKCkpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIGJvb2wKbWF0X3NpZ25lZChjb25zdCBUJiBtYXQpIHsKICByZXR1cm4gbWF0dHlwZV9zaWduZWQobWF0LnR5cGUoKSk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgYm9vbAptYXRfZmxvYXRpbmcoY29uc3QgVCYgbWF0KSB7CiAgcmV0dXJuIG1hdHR5cGVfZmxvYXRpbmcobWF0LnR5cGUoKSk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQsIGludCBOPgpzdGF0aWMgaW5saW5lIFQqCmJlZ2luKGN2OjpWZWM8VCwgTj4mIHYpIHsKICByZXR1cm4gJnZbMF07Cn0KdGVtcGxhdGU8Y2xhc3MgVCwgaW50IE4+CnN0YXRpYyBpbmxpbmUgVCoKZW5kKGN2OjpWZWM8VCwgTj4mIHYpIHsKICByZXR1cm4gJnZbTl07Cn0KCnRlbXBsYXRlPGNsYXNzIFQsIGludCBOPgpzdGF0aWMgaW5saW5lIFQgY29uc3QqCmJlZ2luKGN2OjpWZWM8VCwgTj4gY29uc3QmIHYpIHsKICByZXR1cm4gJnZbMF07Cn0KdGVtcGxhdGU8Y2xhc3MgVCwgaW50IE4+CnN0YXRpYyBpbmxpbmUgVCBjb25zdCoKZW5kKGN2OjpWZWM8VCwgTj4gY29uc3QmIHYpIHsKICByZXR1cm4gJnZbTl07Cn0KLyoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSB0eXBlbmFtZSBUOjp2YWx1ZV90eXBlIGNvbnN0KgpiZWdpbihjb25zdCBUJiBvYmopIHsKICByZXR1cm4gb2JqLmJlZ2luKCk7Cn0KdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSB0eXBlbmFtZSBUOjp2YWx1ZV90eXBlKgpiZWdpbihUJiBvYmopIHsKICByZXR1cm4gb2JqLmJlZ2luKCk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgdHlwZW5hbWUgVDo6dmFsdWVfdHlwZSBjb25zdCoKZW5kKGNvbnN0IFQmIG9iaikgewogIHJldHVybiBvYmouZW5kKCk7Cn0KdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSB0eXBlbmFtZSBUOjp2YWx1ZV90eXBlKgplbmQoVCYgb2JqKSB7CiAgcmV0dXJuIG9iai5lbmQoKTsKfQoqLwp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIFQqCmJlZ2luKHN0ZDo6dmVjdG9yPFQ+JiB2KSB7CiAgcmV0dXJuICZ2WzBdOwp9CnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgVCoKZW5kKHN0ZDo6dmVjdG9yPFQ+JiB2KSB7CiAgcmV0dXJuICZ2W3Yuc2l6ZSgpXTsKfQp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIFQgY29uc3QqCmJlZ2luKHN0ZDo6dmVjdG9yPFQ+IGNvbnN0JiB2KSB7CiAgcmV0dXJuICZ2WzBdOwp9CnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgVCBjb25zdCoKZW5kKHN0ZDo6dmVjdG9yPFQ+IGNvbnN0JiB2KSB7CiAgcmV0dXJuICZ2W3Yuc2l6ZSgpXTsKfQoKc3RhdGljIGlubGluZSB1aW50OF90KgpiZWdpbihjdjo6TWF0JiBtYXQpIHsKICByZXR1cm4gbWF0LnB0cjx1aW50OF90PigpOwp9CnN0YXRpYyBpbmxpbmUgdWludDhfdCoKZW5kKGN2OjpNYXQmIG1hdCkgewogIHJldHVybiBtYXQucHRyPHVpbnQ4X3Q+KCkgKyAobWF0LnRvdGFsKCkgKiBtYXQuZWxlbVNpemUoKSk7Cn0KCnN0YXRpYyBpbmxpbmUgdWludDhfdCBjb25zdCoKYmVnaW4oY3Y6Ok1hdCBjb25zdCYgbWF0KSB7CiAgcmV0dXJuIG1hdC5wdHI8dWludDhfdCBjb25zdD4oKTsKfQpzdGF0aWMgaW5saW5lIHVpbnQ4X3QgY29uc3QqCmVuZChjdjo6TWF0IGNvbnN0JiBtYXQpIHsKICByZXR1cm4gbWF0LnB0cjx1aW50OF90IGNvbnN0PigpICsgKG1hdC50b3RhbCgpICogbWF0LmVsZW1TaXplKCkpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPiBjbGFzcyByYW5nZV92aWV3IHsKcHVibGljOgogIC8vcmFuZ2VfdmlldyhyYW5nZV92aWV3PFQ+IGNvbnN0JiByYW5nZSkgOiBwKHJhbmdlLmJlZ2luKCkpLCBuKHJhbmdlLnNpemUoKSkge30KICByYW5nZV92aWV3KFQqIGNvbnN0IGJhc2UsIHNpemVfdCBzaXplKSA6IHAoYmFzZSksIG4oc2l6ZSkge30KCiAgcmFuZ2VfdmlldzxUPiYKICBvcGVyYXRvcj0ocmFuZ2VfdmlldzxUPiBjb25zdCYgcmFuZ2UpIHsKICAgIHAgPSByYW5nZS5iZWdpbigpOwogICAgbiA9IHJhbmdlLnNpemUoKTsKICB9CgogIFQqIGNvbnN0IGJlZ2luKCkgY29uc3Qge3JldHVybiBwOyB9CiAgVCogY29uc3QgZW5kKCkgY29uc3Qge3JldHVybiBwICsgbjsgfQogIHNpemVfdCBzaXplKCkgY29uc3Qge3JldHVybiBuOyB9Cgpwcml2YXRlOgogIFQqICAgcDsKICAgIHNpemVfdCBuOwp9OwoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSByYW5nZV92aWV3PFQ+CmFyZ3VtZW50X3JhbmdlKGludCBhcmdjLCBUIGFyZ3ZbXSkgewogIHJldHVybiByYW5nZV92aWV3PFQ+KGFyZ3YsIGFyZ2MpOwp9CgojaWYgMCAmJiBDWFhfU1RBTkRBUkQgPj0gMjAKCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgc3RkOjpyYW5nZXM6OnN1YnJhbmdlPFQ+CnNpemVkX3JhbmdlKFQgcHRyLCBzaXplX3QgbGVuKSB7CiAgcmV0dXJuIHN0ZDo6cmFuZ2VzOjpzdWJyYW5nZTxUPihwdHIsIHB0ciArIGxlbik7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgc3RkOjpyYW5nZXM6OnN1YnJhbmdlPFQqPgphcmd1bWVudF9yYW5nZShpbnQgYXJnYywgVCogYXJndikgewogIHJldHVybiBzdGQ6OnJhbmdlczo6c3VicmFuZ2U8VCo+KGFyZ3YsIGFyZ3YgKyBhcmdjKTsKfQoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSBzdGQ6OnJhbmdlczo6c3VicmFuZ2U8VCo+CnJhbmdlKFQqIGJlZ2luLCBUKiBlbmQpIHsKICByZXR1cm4gc3RkOjpyYW5nZXM6OnN1YnJhbmdlPFQqPihiZWdpbiwgZW5kKTsKfQoKdGVtcGxhdGU8Y2xhc3MgQ29udGFpbmVyPgpzdGF0aWMgaW5saW5lIHN0ZDo6cmFuZ2VzOjpzdWJyYW5nZTx0eXBlbmFtZSBDb250YWluZXI6OnZhbHVlX3R5cGUqPgpyYW5nZShDb250YWluZXImIGMpIHsKICByZXR1cm4gc3RkOjpyYW5nZXM6OnN1YnJhbmdlPHR5cGVuYW1lIENvbnRhaW5lcjo6dmFsdWVfdHlwZSo+KGJlZ2luKGMpLCBlbmQoYykpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBULCBjbGFzcyBDb250YWluZXI+CnN0YXRpYyBpbmxpbmUgc3RkOjpyYW5nZXM6OnN1YnJhbmdlPFQ+CnJhbmdlKENvbnRhaW5lciYgYykgewogIHJldHVybiBzdGQ6OnJhbmdlczo6c3VicmFuZ2U8VD4ocmVpbnRlcnByZXRfY2FzdDxUPihiZWdpbihjKSksIHJlaW50ZXJwcmV0X2Nhc3Q8VD4oZW5kKGMpKSk7Cn0KI2VuZGlmCgojZW5kaWYgLy8gZGVmaW5lZChVVElMX0hQUCkKAAAAAAAAAAB+HgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABhGgAAAAAAAGEaAAAAAAAAAAAAAAAA8L8"
				],
				[
					641,
					3,
					"join_lines",
					null,
					"CAAAAEIaAAAAAAAAQhoAAAAAAAABAAAACkIaAAAAAAAAQhoAAAAAAAACAAAAICBCGgAAAAAAAEMaAAAAAAAAAAAAAFEaAAAAAAAAURoAAAAAAAABAAAAClEaAAAAAAAAURoAAAAAAAAEAAAAICAgIFoaAAAAAAAAWhoAAAAAAAABAAAACloaAAAAAAAAWhoAAAAAAAACAAAAICBaGgAAAAAAAFsaAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABCGgAAAAAAAEIaAAAAAAAAAAAAAAAAWkA"
				],
				[
					643,
					3,
					"join_lines",
					null,
					"CAAAABMaAAAAAAAAExoAAAAAAAABAAAAChMaAAAAAAAAExoAAAAAAAACAAAAICATGgAAAAAAABQaAAAAAAAAAAAAACEaAAAAAAAAIRoAAAAAAAABAAAACiEaAAAAAAAAIRoAAAAAAAAEAAAAICAgIC4aAAAAAAAALhoAAAAAAAABAAAACi4aAAAAAAAALhoAAAAAAAACAAAAICAuGgAAAAAAAC8aAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAATGgAAAAAAABMaAAAAAAAAAAAAAACAcEA"
				],
				[
					645,
					3,
					"join_lines",
					null,
					"CAAAAOQZAAAAAAAA5BkAAAAAAAABAAAACuQZAAAAAAAA5BkAAAAAAAACAAAAICDkGQAAAAAAAOUZAAAAAAAAAAAAAPQZAAAAAAAA9BkAAAAAAAABAAAACvQZAAAAAAAA9BkAAAAAAAAEAAAAICAgIP0ZAAAAAAAA/RkAAAAAAAABAAAACv0ZAAAAAAAA/RkAAAAAAAACAAAAICD9GQAAAAAAAP4ZAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADkGQAAAAAAAOQZAAAAAAAAAAAAAAAAc0A"
				],
				[
					648,
					1,
					"paste",
					null,
					"AQAAANkZAAAAAAAA7RkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADZGQAAAAAAANkZAAAAAAAAAAAAAAAAckA"
				],
				[
					651,
					1,
					"paste",
					null,
					"AQAAAF8aAAAAAAAAbhoAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABfGgAAAAAAAF8aAAAAAAAAAAAAAAAA8L8"
				],
				[
					654,
					1,
					"insert",
					{
						"characters": "\t"
					},
					"AQAAAF8aAAAAAAAAYRoAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABfGgAAAAAAAF8aAAAAAAAAAAAAAAAA8L8"
				],
				[
					657,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAANoZAAAAAAAA2xkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADaGQAAAAAAANoZAAAAAAAAAAAAAAAA8L8"
				],
				[
					672,
					1,
					"insert",
					{
						"characters": " nl"
					},
					"AwAAAHEaAAAAAAAAchoAAAAAAAAAAAAAchoAAAAAAABzGgAAAAAAAAAAAABzGgAAAAAAAHQaAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABxGgAAAAAAAHEaAAAAAAAAAAAAAAAA8L8"
				],
				[
					673,
					2,
					"left_delete",
					null,
					"AgAAAHMaAAAAAAAAcxoAAAAAAAABAAAAbHIaAAAAAAAAchoAAAAAAAABAAAAbg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB0GgAAAAAAAHQaAAAAAAAAAAAAAAAA8L8"
				],
				[
					674,
					1,
					"insert",
					{
						"characters": "on"
					},
					"AgAAAHIaAAAAAAAAcxoAAAAAAAAAAAAAcxoAAAAAAAB0GgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAByGgAAAAAAAHIaAAAAAAAAAAAAAAAA8L8"
				],
				[
					675,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAHQaAAAAAAAAdRoAAAAAAAAAAAAAdRoAAAAAAAB3GgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB0GgAAAAAAAHQaAAAAAAAAAAAAAAAA8L8"
				],
				[
					677,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AwAAANsZAAAAAAAA3BkAAAAAAAAAAAAA3BkAAAAAAADeGQAAAAAAAAAAAAB4GgAAAAAAAHgaAAAAAAAAAgAAACAg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADbGQAAAAAAANsZAAAAAAAAAAAAAAAAMEA"
				],
				[
					678,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAACQHgAAI2lmbmRlZiBVVElMX0hQUAojZGVmaW5lIFVUSUxfSFBQCgojaW5jbHVkZSA8c3RyaW5nPgojaW5jbHVkZSA8bnVtZXJpYz4KI2luY2x1ZGUgPGlvc3RyZWFtPgojaW5jbHVkZSA8aW9tYW5pcD4KI2luY2x1ZGUgPHN5cy9zdGF0Lmg+CgojaW5jbHVkZSA8b3BlbmN2Mi9jb3JlLmhwcD4KCiNpZiBkZWZpbmVkKF9XSU4zMikgfHwgZGVmaW5lZChfX01JTkdXMzJfXykKI2RlZmluZSBWSVNJQkxFIF9fZGVjbHNwZWMoZGxsZXhwb3J0KQojZGVmaW5lIEhJRERFTgojZWxzZQojZGVmaW5lIFZJU0lCTEUgX19hdHRyaWJ1dGVfXygodmlzaWJpbGl0eSgiZGVmYXVsdCIpKSkKI2RlZmluZSBISURERU4gX19hdHRyaWJ1dGVfXygodmlzaWJpbGl0eSgiaGlkZGVuIikpKQojZW5kaWYKCiNkZWZpbmUgQ09MT1JfQkxBQ0sgIlx4MWJbMzBtIgojZGVmaW5lIENPTE9SX1JFRCAiXHgxYlszMW0iCiNkZWZpbmUgQ09MT1JfR1JFRU4gIlx4MWJbMzJtIgojZGVmaW5lIENPTE9SX1lFTExPVyAiXHgxYlszM20iCiNkZWZpbmUgQ09MT1JfQkxVRSAiXHgxYlszNG0iCiNkZWZpbmUgQ09MT1JfTUFHRU5UQSAiXHgxYlszNW0iCiNkZWZpbmUgQ09MT1JfQ1lBTiAiXHgxYlszNm0iCiNkZWZpbmUgQ09MT1JfV0hJVEUgIlx4MWJbMzdtIgoKI2RlZmluZSBDT0xPUl9HUkFZICJceDFiWzE7MzBtIgojZGVmaW5lIENPTE9SX0xJR0hUUkVEICJceDFiWzE7MzFtIgojZGVmaW5lIENPTE9SX0xJR0hUR1JFRU4gIlx4MWJbMTszMm0iCiNkZWZpbmUgQ09MT1JfTElHSFRZRUxMT1cgIlx4MWJbMTszM20iCiNkZWZpbmUgQ09MT1JfTElHSFRCTFVFICJceDFiWzE7MzRtIgojZGVmaW5lIENPTE9SX0xJR0hUTUFHRU5UQSAiXHgxYlsxOzM1bSIKI2RlZmluZSBDT0xPUl9MSUdIVENZQU4gIlx4MWJbMTszNm0iCiNkZWZpbmUgQ09MT1JfTElHSFRXSElURSAiXHgxYlsxOzM3bSIKCiNkZWZpbmUgQ09MT1JfTk9ORSAiXHgxYlttIgoKYm9vbCBzdHJfZW5kKGNvbnN0IGNoYXIqIHN0ciwgY29uc3QgY2hhciogc3VmZml4KTsKYm9vbCBzdHJfZW5kKGNvbnN0IHN0ZDo6c3RyaW5nJiBzdHIsIGNvbnN0IHN0ZDo6c3RyaW5nJiBzdWZmaXgpOwoKc3RkOjpzdHJpbmcgdG9fc3RyaW5nKGNvbnN0IGN2OjpTY2FsYXImIHNjYWxhcik7CgpzdGQ6OnN0cmluZyBtYWtlX2ZpbGVuYW1lKGNvbnN0IHN0ZDo6c3RyaW5nJiBuYW1lLCBpbnQgY291bnQsIGNvbnN0IHN0ZDo6c3RyaW5nJiBleHQsIGNvbnN0IHN0ZDo6c3RyaW5nJiBkaXIgPSAidG1wIik7CgppbmxpbmUgaW50MzJfdApnZXRfbXRpbWUoY29uc3QgY2hhciogZmlsZW5hbWUpIHsKI2lmIF9fU1REQ19WRVJTSU9OX18gPj0gMjAxNzEwTAogIHJldHVybiBzdGQ6OmZpbGVzeXN0ZW06Omxhc3Rfd3JpdGVfdGltZShmaWxlbmFtZSk7CiNlbHNlCiAgc3RydWN0IHN0YXQgc3Q7CiAgaWYoc3RhdChmaWxlbmFtZSwgJnN0KSAhPSAtMSkgewogICAgdWludDMyX3QgcmV0ID0gc3Quc3RfbXRpbWU7CiAgICByZXR1cm4gcmV0OwogIH0KI2VuZGlmCiAgcmV0dXJuIC0xOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBDaGFyLCBjbGFzcyBWYWx1ZT4KaW5saW5lIHN0ZDo6b3N0cmVhbSYKb3BlcmF0b3I8PChzdGQ6Om9zdHJlYW0mIG9zLCBjb25zdCBzdGQ6OnZlY3RvcjxWYWx1ZT4mIGMpIHsKICB0eXBlZGVmIHR5cGVuYW1lIHN0ZDo6dmVjdG9yPFZhbHVlPjo6Y29uc3RfaXRlcmF0b3IgaXRlcmF0b3JfdHlwZTsKICBpdGVyYXRvcl90eXBlIGVuZCA9IGMuZW5kKCk7CiAgZm9yKGl0ZXJhdG9yX3R5cGUgaXQgPSBjLmJlZ2luKCk7IGl0ICE9IGVuZDsgKytpdCkgewogICAgb3MgPDwgJyAnOwogICAgb3MgPDwgdG9fc3RyaW5nKCppdCk7CiAgfQogIHJldHVybiBvczsKfQoKaW5saW5lIHN0ZDo6c3RyaW5nCnRvX3N0cmluZyhjb25zdCBjdjo6U2NhbGFyJiBzY2FsYXIpIHsKICBjb25zdCBpbnQgcGFkID0gMzsKICBzdGQ6Om9zdHJpbmdzdHJlYW0gb3NzOwogIG9zcyA8PCAnWycgPDwgc3RkOjpzZXRmaWxsKCcgJykgPDwgc3RkOjpzZXR3KHBhZCkgPDwgc2NhbGFyWzBdIDw8ICcsJyA8PCBzdGQ6OnNldGZpbGwoJyAnKSA8PCBzdGQ6OnNldHcocGFkKSA8PCBzY2FsYXJbMV0KICAgICAgPDwgJywnIDw8IHN0ZDo6c2V0ZmlsbCgnICcpIDw8IHN0ZDo6c2V0dyhwYWQpIDw8IHNjYWxhclsyXSA8PCAnLCcgPDwgc3RkOjpzZXRmaWxsKCcgJykgPDwgc3RkOjpzZXR3KHBhZCkgPDwgc2NhbGFyWzNdCiAgICAgIDw8ICddJzsKICByZXR1cm4gb3NzLnN0cigpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBJdGVyYXRvcj4Kc3RhdGljIGlubGluZSBzdGQ6OnN0cmluZwpqb2luKGNvbnN0IEl0ZXJhdG9yJiBzdGFydCwgY29uc3QgSXRlcmF0b3ImIGVuZCwgY29uc3Qgc3RkOjpzdHJpbmcmIGRlbGltKSB7CiAgcmV0dXJuIHN0ZDo6YWNjdW11bGF0ZShzdGFydCwgZW5kLCBzdGQ6OnN0cmluZygpLCBbJmRlbGltXShjb25zdCBzdGQ6OnN0cmluZyYgYSwgY29uc3Qgc3RkOjpzdHJpbmcmIGIpIC0+IHN0ZDo6c3RyaW5nIHsKICAgIHJldHVybiBhICsgKGEubGVuZ3RoKCkgPiAwID8gZGVsaW0gOiAiIikgKyBiOwogIH0pOwp9CgpleHRlcm4gIkMiIHZvaWQqIGdldF9oZWFwX2Jhc2UoKTsKCnR5cGVkZWYgc3RydWN0IEpTTWF0RGltZW5zaW9ucyB7CiAgdWludDMyX3Qgcm93cywgY29sczsKCiAgb3BlcmF0b3IgY3Y6OlNpemUoKSBjb25zdCB7IHJldHVybiBjdjo6U2l6ZShjb2xzLCByb3dzKTsgfQp9IEpTTWF0RGltZW5zaW9uczsKCnN0YXRpYyBpbmxpbmUgaW50Cm1hdHR5cGVfZGVwdGgoaW50IHR5cGUpIHsKICByZXR1cm4gdHlwZSAmIDB4NzsKfQpzdGF0aWMgaW5saW5lIGludAptYXR0eXBlX2NoYW5uZWxzKGludCB0eXBlKSB7CiAgcmV0dXJuICh0eXBlID4+IDMpICsgMTsKfQpzdGF0aWMgaW5saW5lIGJvb2wKbWF0dHlwZV9mbG9hdGluZyhpbnQgdHlwZSkgewogIHN3aXRjaChtYXR0eXBlX2RlcHRoKHR5cGUpKSB7CiAgICBjYXNlIENWXzMyRjoKICAgIGNhc2UgQ1ZfNjRGOiByZXR1cm4gdHJ1ZTsKICAgIGRlZmF1bHQ6IHJldHVybiBmYWxzZTsKICB9Cn0Kc3RhdGljIGlubGluZSBib29sCm1hdHR5cGVfc2lnbmVkKGludCB0eXBlKSB7CiAgc3dpdGNoKG1hdHR5cGVfZGVwdGgodHlwZSkpIHsKICAgIGNhc2UgQ1ZfOFM6CiAgICBjYXNlIENWXzE2UzoKICAgIGNhc2UgQ1ZfMzJTOiByZXR1cm4gdHJ1ZTsKICAgIGRlZmF1bHQ6IHJldHVybiBmYWxzZTsKICB9Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgSlNNYXREaW1lbnNpb25zCm1hdF9kaW1lbnNpb25zKGNvbnN0IFQmIG1hdCkgewogIEpTTWF0RGltZW5zaW9ucyByZXQ7CiAgcmV0LnJvd3MgPSBtYXQucm93czsKICByZXQuY29scyA9IG1hdC5jb2xzOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBpbmxpbmUgdWludDhfdCoKbWF0X3B0cihjdjo6TWF0JiBtYXQpIHsKICByZXR1cm4gcmVpbnRlcnByZXRfY2FzdDx1aW50OF90Kj4obWF0LnB0cigpKTsKfQoKc3RhdGljIGlubGluZSB1aW50OF90KgptYXRfcHRyKGN2OjpVTWF0JiBtYXQpIHsKICBjdjo6VU1hdERhdGEqIHU7CgogIGlmKCh1ID0gbWF0LnUpKQogICAgcmV0dXJuIHJlaW50ZXJwcmV0X2Nhc3Q8dWludDhfdCo+KHUtPmRhdGEpOwoKICByZXR1cm4gbnVsbHB0cjsKfQoKc3RhdGljIGlubGluZSBzaXplX3QKbWF0X29mZnNldChjb25zdCBjdjo6TWF0JiBtYXQsIHVpbnQzMl90IHJvdywgdWludDMyX3QgY29sKSB7CiAgY29uc3QgdWNoYXIgKmJhc2UsICpwdHI7CgogIGJhc2UgPSBtYXQucHRyPHVjaGFyPigpOwogIHB0ciA9IG1hdC5wdHI8dWNoYXI+KHJvdywgY29sKTsKCiAgcmV0dXJuIHB0ciAtIGJhc2U7Cn0KCnN0YXRpYyBpbmxpbmUgc2l6ZV90Cm1hdF9vZmZzZXQoY29uc3QgY3Y6OlVNYXQmIG1hdCwgdWludDMyX3Qgcm93LCB1aW50MzJfdCBjb2wpIHsKICByZXR1cm4gKHNpemVfdChtYXQuY29scykgKiByb3cgKyBjb2wpICogbWF0LmVsZW1TaXplKCk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgVCYKbWF0X2F0KGN2OjpNYXQmIG1hdCwgdWludDMyX3Qgcm93LCB1aW50MzJfdCBjb2wpIHsKICByZXR1cm4gKm1hdC5wdHI8VD4ocm93LCBjb2wpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIFQmCm1hdF9hdChjdjo6VU1hdCYgbWF0LCB1aW50MzJfdCByb3csIHVpbnQzMl90IGNvbCkgewogIHNpemVfdCBvZmZzID0gbWF0X29mZnNldChtYXQsIHJvdywgY29sKTsKICByZXR1cm4gKnJlaW50ZXJwcmV0X2Nhc3Q8VCo+KG1hdF9wdHIobWF0KSArIG9mZnMpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIHNpemVfdAptYXRfYnl0ZXNpemUoY29uc3QgVCYgbWF0KSB7CiAgcmV0dXJuIG1hdC5lbGVtU2l6ZSgpICogbWF0LnRvdGFsKCk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgaW50Cm1hdF9kZXB0aChjb25zdCBUJiBtYXQpIHsKICByZXR1cm4gbWF0dHlwZV9kZXB0aChtYXQudHlwZSgpKTsKfQoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSBpbnQKbWF0X2NoYW5uZWxzKGNvbnN0IFQmIG1hdCkgewogIHJldHVybiBtYXR0eXBlX2NoYW5uZWxzKG1hdC50eXBlKCkpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIGJvb2wKbWF0X3NpZ25lZChjb25zdCBUJiBtYXQpIHsKICByZXR1cm4gbWF0dHlwZV9zaWduZWQobWF0LnR5cGUoKSk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgYm9vbAptYXRfZmxvYXRpbmcoY29uc3QgVCYgbWF0KSB7CiAgcmV0dXJuIG1hdHR5cGVfZmxvYXRpbmcobWF0LnR5cGUoKSk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQsIGludCBOPgpzdGF0aWMgaW5saW5lIFQqCmJlZ2luKGN2OjpWZWM8VCwgTj4mIHYpIHsKICByZXR1cm4gJnZbMF07Cn0KdGVtcGxhdGU8Y2xhc3MgVCwgaW50IE4+CnN0YXRpYyBpbmxpbmUgVCoKZW5kKGN2OjpWZWM8VCwgTj4mIHYpIHsKICByZXR1cm4gJnZbTl07Cn0KCnRlbXBsYXRlPGNsYXNzIFQsIGludCBOPgpzdGF0aWMgaW5saW5lIFQgY29uc3QqCmJlZ2luKGN2OjpWZWM8VCwgTj4gY29uc3QmIHYpIHsKICByZXR1cm4gJnZbMF07Cn0KdGVtcGxhdGU8Y2xhc3MgVCwgaW50IE4+CnN0YXRpYyBpbmxpbmUgVCBjb25zdCoKZW5kKGN2OjpWZWM8VCwgTj4gY29uc3QmIHYpIHsKICByZXR1cm4gJnZbTl07Cn0KLyoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSB0eXBlbmFtZSBUOjp2YWx1ZV90eXBlIGNvbnN0KgpiZWdpbihjb25zdCBUJiBvYmopIHsKICByZXR1cm4gb2JqLmJlZ2luKCk7Cn0KdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSB0eXBlbmFtZSBUOjp2YWx1ZV90eXBlKgpiZWdpbihUJiBvYmopIHsKICByZXR1cm4gb2JqLmJlZ2luKCk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgdHlwZW5hbWUgVDo6dmFsdWVfdHlwZSBjb25zdCoKZW5kKGNvbnN0IFQmIG9iaikgewogIHJldHVybiBvYmouZW5kKCk7Cn0KdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSB0eXBlbmFtZSBUOjp2YWx1ZV90eXBlKgplbmQoVCYgb2JqKSB7CiAgcmV0dXJuIG9iai5lbmQoKTsKfQoqLwp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIFQqCmJlZ2luKHN0ZDo6dmVjdG9yPFQ+JiB2KSB7CiAgcmV0dXJuICZ2WzBdOwp9CnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgVCoKZW5kKHN0ZDo6dmVjdG9yPFQ+JiB2KSB7CiAgcmV0dXJuICZ2W3Yuc2l6ZSgpXTsKfQp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIFQgY29uc3QqCmJlZ2luKHN0ZDo6dmVjdG9yPFQ+IGNvbnN0JiB2KSB7CiAgcmV0dXJuICZ2WzBdOwp9CnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgVCBjb25zdCoKZW5kKHN0ZDo6dmVjdG9yPFQ+IGNvbnN0JiB2KSB7CiAgcmV0dXJuICZ2W3Yuc2l6ZSgpXTsKfQoKc3RhdGljIGlubGluZSB1aW50OF90KgpiZWdpbihjdjo6TWF0JiBtYXQpIHsKICByZXR1cm4gbWF0LnB0cjx1aW50OF90PigpOwp9CnN0YXRpYyBpbmxpbmUgdWludDhfdCoKZW5kKGN2OjpNYXQmIG1hdCkgewogIHJldHVybiBtYXQucHRyPHVpbnQ4X3Q+KCkgKyAobWF0LnRvdGFsKCkgKiBtYXQuZWxlbVNpemUoKSk7Cn0KCnN0YXRpYyBpbmxpbmUgdWludDhfdCBjb25zdCoKYmVnaW4oY3Y6Ok1hdCBjb25zdCYgbWF0KSB7CiAgcmV0dXJuIG1hdC5wdHI8dWludDhfdCBjb25zdD4oKTsKfQpzdGF0aWMgaW5saW5lIHVpbnQ4X3QgY29uc3QqCmVuZChjdjo6TWF0IGNvbnN0JiBtYXQpIHsKICByZXR1cm4gbWF0LnB0cjx1aW50OF90IGNvbnN0PigpICsgKG1hdC50b3RhbCgpICogbWF0LmVsZW1TaXplKCkpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPiBjbGFzcyByYW5nZV92aWV3IHsKcHVibGljOgogIC8vIHJhbmdlX3ZpZXcocmFuZ2VfdmlldzxUPiBjb25zdCYgcmFuZ2UpIDogcChyYW5nZS5iZWdpbigpKSwgbihyYW5nZS5zaXplKCkpIHt9CiAgcmFuZ2VfdmlldyhUKiBjb25zdCBiYXNlLCBzaXplX3Qgc2l6ZSkgOiBwKGJhc2UpLCBuKHNpemUpIHt9CgogIHJhbmdlX3ZpZXc8VD4mCiAgb3BlcmF0b3I9KHJhbmdlX3ZpZXc8VD4gY29uc3QmIHJhbmdlKSB7CiAgICBwID0gcmFuZ2UuYmVnaW4oKTsKICAgIG4gPSByYW5nZS5zaXplKCk7CiAgfQogIAogIC8vIGNsYW5nLWZvcm1hdCBvZmYKICBUKiBjb25zdCBiZWdpbigpIGNvbnN0IHtyZXR1cm4gcDsgfQogIFQqIGNvbnN0IGVuZCgpIGNvbnN0IHtyZXR1cm4gcCArIG47IH0KICBzaXplX3Qgc2l6ZSgpIGNvbnN0IHtyZXR1cm4gbjsgfQogIC8vIGNsYW5nLWZvcm1hdCBvbgoKcHJpdmF0ZToKICBUKiBwOwogIHNpemVfdCBuOwp9OwoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSByYW5nZV92aWV3PFQ+CmFyZ3VtZW50X3JhbmdlKGludCBhcmdjLCBUIGFyZ3ZbXSkgewogIHJldHVybiByYW5nZV92aWV3PFQ+KGFyZ3YsIGFyZ2MpOwp9CgojaWYgMCAmJiBDWFhfU1RBTkRBUkQgPj0gMjAKCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgc3RkOjpyYW5nZXM6OnN1YnJhbmdlPFQ+CnNpemVkX3JhbmdlKFQgcHRyLCBzaXplX3QgbGVuKSB7CiAgcmV0dXJuIHN0ZDo6cmFuZ2VzOjpzdWJyYW5nZTxUPihwdHIsIHB0ciArIGxlbik7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgc3RkOjpyYW5nZXM6OnN1YnJhbmdlPFQqPgphcmd1bWVudF9yYW5nZShpbnQgYXJnYywgVCogYXJndikgewogIHJldHVybiBzdGQ6OnJhbmdlczo6c3VicmFuZ2U8VCo+KGFyZ3YsIGFyZ3YgKyBhcmdjKTsKfQoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSBzdGQ6OnJhbmdlczo6c3VicmFuZ2U8VCo+CnJhbmdlKFQqIGJlZ2luLCBUKiBlbmQpIHsKICByZXR1cm4gc3RkOjpyYW5nZXM6OnN1YnJhbmdlPFQqPihiZWdpbiwgZW5kKTsKfQoKdGVtcGxhdGU8Y2xhc3MgQ29udGFpbmVyPgpzdGF0aWMgaW5saW5lIHN0ZDo6cmFuZ2VzOjpzdWJyYW5nZTx0eXBlbmFtZSBDb250YWluZXI6OnZhbHVlX3R5cGUqPgpyYW5nZShDb250YWluZXImIGMpIHsKICByZXR1cm4gc3RkOjpyYW5nZXM6OnN1YnJhbmdlPHR5cGVuYW1lIENvbnRhaW5lcjo6dmFsdWVfdHlwZSo+KGJlZ2luKGMpLCBlbmQoYykpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBULCBjbGFzcyBDb250YWluZXI+CnN0YXRpYyBpbmxpbmUgc3RkOjpyYW5nZXM6OnN1YnJhbmdlPFQ+CnJhbmdlKENvbnRhaW5lciYgYykgewogIHJldHVybiBzdGQ6OnJhbmdlczo6c3VicmFuZ2U8VD4ocmVpbnRlcnByZXRfY2FzdDxUPihiZWdpbihjKSksIHJlaW50ZXJwcmV0X2Nhc3Q8VD4oZW5kKGMpKSk7Cn0KI2VuZGlmCgojZW5kaWYgLy8gZGVmaW5lZChVVElMX0hQUCkKAAAAAAAAAACOHgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADeGQAAAAAAAN4ZAAAAAAAAAAAAAAAA8L8"
				],
				[
					686,
					1,
					"insert",
					{
						"characters": "\nreturn"
					},
					"CAAAANQZAAAAAAAA1RkAAAAAAAAAAAAA1RkAAAAAAADZGQAAAAAAAAAAAADZGQAAAAAAANoZAAAAAAAAAAAAANoZAAAAAAAA2xkAAAAAAAAAAAAA2xkAAAAAAADcGQAAAAAAAAAAAADcGQAAAAAAAN0ZAAAAAAAAAAAAAN0ZAAAAAAAA3hkAAAAAAAAAAAAA3hkAAAAAAADfGQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADUGQAAAAAAANQZAAAAAAAAAAAAAAAA8L8"
				],
				[
					687,
					1,
					"insert",
					{
						"characters": " *this;"
					},
					"BwAAAN8ZAAAAAAAA4BkAAAAAAAAAAAAA4BkAAAAAAADhGQAAAAAAAAAAAADhGQAAAAAAAOIZAAAAAAAAAAAAAOIZAAAAAAAA4xkAAAAAAAAAAAAA4xkAAAAAAADkGQAAAAAAAAAAAADkGQAAAAAAAOUZAAAAAAAAAAAAAOUZAAAAAAAA5hkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADfGQAAAAAAAN8ZAAAAAAAAAAAAAAAA8L8"
				],
				[
					718,
					2,
					"left_delete",
					null,
					"AgAAACMbAAAAAAAAIxsAAAAAAAAdAAAACiNpZiAwICYmIENYWF9TVEFOREFSRCA+PSAyMAoiGwAAAAAAACIbAAAAAAAAAQAAAAo",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAjGwAAAAAAAEAbAAAAAAAAAAAAAAAA8L8"
				],
				[
					719,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AQAAACIbAAAAAAAAIxsAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAiGwAAAAAAACIbAAAAAAAAAAAAAAAA8L8"
				],
				[
					725,
					1,
					"",
					null,
					"AQAAAEQbAAAAAAAAURsAAAAAAAAYAAAAc3RkOjpyYW5nZXM6OnN1YnJhbmdlPFQ+",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABEGwAAAAAAAFwbAAAAAAAAAAAAAAAA8L8"
				],
				[
					726,
					1,
					"",
					null,
					"AQAAAHwbAAAAAAAAiRsAAAAAAAAYAAAAc3RkOjpyYW5nZXM6OnN1YnJhbmdlPFQ+",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB8GwAAAAAAAJQbAAAAAAAAAAAAAAAA8L8"
				],
				[
					727,
					1,
					"",
					null,
					"AQAAALkdAAAAAAAAxh0AAAAAAAAYAAAAc3RkOjpyYW5nZXM6OnN1YnJhbmdlPFQ+",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC5HQAAAAAAANEdAAAAAAAAAAAAAAAA8L8"
				],
				[
					728,
					1,
					"",
					null,
					"AQAAAOYdAAAAAAAA8x0AAAAAAAAYAAAAc3RkOjpyYW5nZXM6OnN1YnJhbmdlPFQ+",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADmHQAAAAAAAP4dAAAAAAAAAAAAAAAA8L8"
				],
				[
					735,
					1,
					"insert",
					{
						"characters": " "
					},
					"AgAAAJ0bAAAAAAAAnhsAAAAAAAAAAAAAnhsAAAAAAACeGwAAAAAAAJcAAAAKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSBzdGQ6OnJhbmdlczo6c3VicmFuZ2U8VCo+CmFyZ3VtZW50X3JhbmdlKGludCBhcmdjLCBUKiBhcmd2KSB7CiAgcmV0dXJuIHN0ZDo6cmFuZ2VzOjpzdWJyYW5nZTxUKj4oYXJndiwgYXJndiArIGFyZ2MpOwp9",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACdGwAAAAAAADQcAAAAAAAAAAAAAAAA8L8"
				],
				[
					736,
					2,
					"left_delete",
					null,
					"AgAAAJ0bAAAAAAAAnRsAAAAAAAABAAAAIJwbAAAAAAAAnBsAAAAAAAABAAAACg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACeGwAAAAAAAJ4bAAAAAAAAAAAAAAAA8L8"
				],
				[
					765,
					1,
					"paste",
					null,
					"AgAAAL4bAAAAAAAAyxsAAAAAAAAAAAAAyxsAAAAAAADLGwAAAAAAABkAAABzdGQ6OnJhbmdlczo6c3VicmFuZ2U8VCo+",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC+GwAAAAAAANcbAAAAAAAAAAAAAAAA8L8"
				],
				[
					768,
					1,
					"paste",
					null,
					"AgAAAO8bAAAAAAAA/BsAAAAAAAAAAAAA/BsAAAAAAAD8GwAAAAAAABkAAABzdGQ6OnJhbmdlczo6c3VicmFuZ2U8VCo+",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADvGwAAAAAAAAgcAAAAAAAAAAAAAAAA8L8"
				],
				[
					772,
					1,
					"insert",
					{
						"characters": "begin"
					},
					"BgAAAP0bAAAAAAAA/hsAAAAAAAAAAAAA/hsAAAAAAAD+GwAAAAAAAAUAAABiZWdpbv4bAAAAAAAA/xsAAAAAAAAAAAAA/xsAAAAAAAAAHAAAAAAAAAAAAAAAHAAAAAAAAAEcAAAAAAAAAAAAAAEcAAAAAAAAAhwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAD9GwAAAAAAAAIcAAAAAAAAAAAAAAAA8L8"
				],
				[
					774,
					1,
					"insert",
					{
						"characters": "-begin"
					},
					"BgAAAAccAAAAAAAACBwAAAAAAAAAAAAACBwAAAAAAAAJHAAAAAAAAAAAAAAJHAAAAAAAAAocAAAAAAAAAAAAAAocAAAAAAAACxwAAAAAAAAAAAAACxwAAAAAAAAMHAAAAAAAAAAAAAAMHAAAAAAAAA0cAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAHHAAAAAAAAAccAAAAAAAAAAAAAAAA8L8"
				],
				[
					791,
					2,
					"left_delete",
					null,
					"AgAAADwcAAAAAAAAPBwAAAAAAAAUAAAAdGQ6OnJhbmdlczo6c3VicmFuZ2U7HAAAAAAAADscAAAAAAAAAQAAAHM",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAA8HAAAAAAAAFAcAAAAAAAAAAAAAAAA8L8"
				],
				[
					792,
					1,
					"paste",
					null,
					"AQAAADscAAAAAAAARRwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAA7HAAAAAAAADscAAAAAAAAAAAAAAAA8L8"
				],
				[
					797,
					1,
					"left_delete",
					null,
					"AQAAAGQcAAAAAAAAZBwAAAAAAAABAAAAKg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABlHAAAAAAAAGUcAAAAAAAAAAAAAAAA8L8"
				],
				[
					808,
					1,
					"paste",
					null,
					"AgAAAIUcAAAAAAAAjxwAAAAAAAAAAAAAjxwAAAAAAACPHAAAAAAAABUAAABzdGQ6OnJhbmdlczo6c3VicmFuZ2U",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACFHAAAAAAAAJocAAAAAAAAAAAAAAAA8L8"
				],
				[
					811,
					1,
					"left_delete",
					null,
					"AQAAAK4cAAAAAAAArhwAAAAAAAABAAAAKg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACvHAAAAAAAAK8cAAAAAAAAAAAAAAAA8L8"
				],
				[
					817,
					1,
					"insert",
					{
						"characters": "-"
					},
					"AQAAAMAcAAAAAAAAwRwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADAHAAAAAAAAMAcAAAAAAAAAAAAAAAA8L8"
				],
				[
					818,
					1,
					"insert",
					{
						"characters": " begin"
					},
					"BgAAAMEcAAAAAAAAwhwAAAAAAAAAAAAAwhwAAAAAAADDHAAAAAAAAAAAAADDHAAAAAAAAMQcAAAAAAAAAAAAAMQcAAAAAAAAxRwAAAAAAAAAAAAAxRwAAAAAAADGHAAAAAAAAAAAAADGHAAAAAAAAMccAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADBHAAAAAAAAMEcAAAAAAAAAAAAAAAA8L8"
				],
				[
					819,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAMccAAAAAAAAyRwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADHHAAAAAAAAMccAAAAAAAAAAAAAAAA8L8"
				],
				[
					820,
					1,
					"insert",
					{
						"characters": "c"
					},
					"AQAAAMgcAAAAAAAAyRwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADIHAAAAAAAAMgcAAAAAAAAAAAAAAAA8L8"
				],
				[
					835,
					1,
					"left_delete",
					null,
					"AQAAAHsdAAAAAAAAex0AAAAAAAAHAAAAI2VuZGlmCg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB7HQAAAAAAAIIdAAAAAAAAAAAAAAAA8L8"
				],
				[
					836,
					1,
					"revert",
					null,
					"AwAAAAAAAAAAAAAAAAAAAAAAAACYHQAAI2lmbmRlZiBVVElMX0hQUAojZGVmaW5lIFVUSUxfSFBQCgojaW5jbHVkZSA8c3RyaW5nPgojaW5jbHVkZSA8bnVtZXJpYz4KI2luY2x1ZGUgPGlvc3RyZWFtPgojaW5jbHVkZSA8aW9tYW5pcD4KI2luY2x1ZGUgPHN5cy9zdGF0Lmg+CgojaW5jbHVkZSA8b3BlbmN2Mi9jb3JlLmhwcD4KCiNpZiBkZWZpbmVkKF9XSU4zMikgfHwgZGVmaW5lZChfX01JTkdXMzJfXykKI2RlZmluZSBWSVNJQkxFIF9fZGVjbHNwZWMoZGxsZXhwb3J0KQojZGVmaW5lIEhJRERFTgojZWxzZQojZGVmaW5lIFZJU0lCTEUgX19hdHRyaWJ1dGVfXygodmlzaWJpbGl0eSgiZGVmYXVsdCIpKSkKI2RlZmluZSBISURERU4gX19hdHRyaWJ1dGVfXygodmlzaWJpbGl0eSgiaGlkZGVuIikpKQojZW5kaWYKCiNkZWZpbmUgQ09MT1JfQkxBQ0sgIlx4MWJbMzBtIgojZGVmaW5lIENPTE9SX1JFRCAiXHgxYlszMW0iCiNkZWZpbmUgQ09MT1JfR1JFRU4gIlx4MWJbMzJtIgojZGVmaW5lIENPTE9SX1lFTExPVyAiXHgxYlszM20iCiNkZWZpbmUgQ09MT1JfQkxVRSAiXHgxYlszNG0iCiNkZWZpbmUgQ09MT1JfTUFHRU5UQSAiXHgxYlszNW0iCiNkZWZpbmUgQ09MT1JfQ1lBTiAiXHgxYlszNm0iCiNkZWZpbmUgQ09MT1JfV0hJVEUgIlx4MWJbMzdtIgoKI2RlZmluZSBDT0xPUl9HUkFZICJceDFiWzE7MzBtIgojZGVmaW5lIENPTE9SX0xJR0hUUkVEICJceDFiWzE7MzFtIgojZGVmaW5lIENPTE9SX0xJR0hUR1JFRU4gIlx4MWJbMTszMm0iCiNkZWZpbmUgQ09MT1JfTElHSFRZRUxMT1cgIlx4MWJbMTszM20iCiNkZWZpbmUgQ09MT1JfTElHSFRCTFVFICJceDFiWzE7MzRtIgojZGVmaW5lIENPTE9SX0xJR0hUTUFHRU5UQSAiXHgxYlsxOzM1bSIKI2RlZmluZSBDT0xPUl9MSUdIVENZQU4gIlx4MWJbMTszNm0iCiNkZWZpbmUgQ09MT1JfTElHSFRXSElURSAiXHgxYlsxOzM3bSIKCiNkZWZpbmUgQ09MT1JfTk9ORSAiXHgxYlttIgoKYm9vbCBzdHJfZW5kKGNvbnN0IGNoYXIqIHN0ciwgY29uc3QgY2hhciogc3VmZml4KTsKYm9vbCBzdHJfZW5kKGNvbnN0IHN0ZDo6c3RyaW5nJiBzdHIsIGNvbnN0IHN0ZDo6c3RyaW5nJiBzdWZmaXgpOwoKc3RkOjpzdHJpbmcgdG9fc3RyaW5nKGNvbnN0IGN2OjpTY2FsYXImIHNjYWxhcik7CgpzdGQ6OnN0cmluZyBtYWtlX2ZpbGVuYW1lKGNvbnN0IHN0ZDo6c3RyaW5nJiBuYW1lLCBpbnQgY291bnQsIGNvbnN0IHN0ZDo6c3RyaW5nJiBleHQsIGNvbnN0IHN0ZDo6c3RyaW5nJiBkaXIgPSAidG1wIik7CgppbmxpbmUgaW50MzJfdApnZXRfbXRpbWUoY29uc3QgY2hhciogZmlsZW5hbWUpIHsKI2lmIF9fU1REQ19WRVJTSU9OX18gPj0gMjAxNzEwTAogIHJldHVybiBzdGQ6OmZpbGVzeXN0ZW06Omxhc3Rfd3JpdGVfdGltZShmaWxlbmFtZSk7CiNlbHNlCiAgc3RydWN0IHN0YXQgc3Q7CiAgaWYoc3RhdChmaWxlbmFtZSwgJnN0KSAhPSAtMSkgewogICAgdWludDMyX3QgcmV0ID0gc3Quc3RfbXRpbWU7CiAgICByZXR1cm4gcmV0OwogIH0KI2VuZGlmCiAgcmV0dXJuIC0xOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBDaGFyLCBjbGFzcyBWYWx1ZT4KaW5saW5lIHN0ZDo6b3N0cmVhbSYKb3BlcmF0b3I8PChzdGQ6Om9zdHJlYW0mIG9zLCBjb25zdCBzdGQ6OnZlY3RvcjxWYWx1ZT4mIGMpIHsKICB0eXBlZGVmIHR5cGVuYW1lIHN0ZDo6dmVjdG9yPFZhbHVlPjo6Y29uc3RfaXRlcmF0b3IgaXRlcmF0b3JfdHlwZTsKICBpdGVyYXRvcl90eXBlIGVuZCA9IGMuZW5kKCk7CiAgZm9yKGl0ZXJhdG9yX3R5cGUgaXQgPSBjLmJlZ2luKCk7IGl0ICE9IGVuZDsgKytpdCkgewogICAgb3MgPDwgJyAnOwogICAgb3MgPDwgdG9fc3RyaW5nKCppdCk7CiAgfQogIHJldHVybiBvczsKfQoKaW5saW5lIHN0ZDo6c3RyaW5nCnRvX3N0cmluZyhjb25zdCBjdjo6U2NhbGFyJiBzY2FsYXIpIHsKICBjb25zdCBpbnQgcGFkID0gMzsKICBzdGQ6Om9zdHJpbmdzdHJlYW0gb3NzOwogIG9zcyA8PCAnWycgPDwgc3RkOjpzZXRmaWxsKCcgJykgPDwgc3RkOjpzZXR3KHBhZCkgPDwgc2NhbGFyWzBdIDw8ICcsJyA8PCBzdGQ6OnNldGZpbGwoJyAnKSA8PCBzdGQ6OnNldHcocGFkKSA8PCBzY2FsYXJbMV0KICAgICAgPDwgJywnIDw8IHN0ZDo6c2V0ZmlsbCgnICcpIDw8IHN0ZDo6c2V0dyhwYWQpIDw8IHNjYWxhclsyXSA8PCAnLCcgPDwgc3RkOjpzZXRmaWxsKCcgJykgPDwgc3RkOjpzZXR3KHBhZCkgPDwgc2NhbGFyWzNdCiAgICAgIDw8ICddJzsKICByZXR1cm4gb3NzLnN0cigpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBJdGVyYXRvcj4Kc3RhdGljIGlubGluZSBzdGQ6OnN0cmluZwpqb2luKGNvbnN0IEl0ZXJhdG9yJiBzdGFydCwgY29uc3QgSXRlcmF0b3ImIGVuZCwgY29uc3Qgc3RkOjpzdHJpbmcmIGRlbGltKSB7CiAgcmV0dXJuIHN0ZDo6YWNjdW11bGF0ZShzdGFydCwgZW5kLCBzdGQ6OnN0cmluZygpLCBbJmRlbGltXShjb25zdCBzdGQ6OnN0cmluZyYgYSwgY29uc3Qgc3RkOjpzdHJpbmcmIGIpIC0+IHN0ZDo6c3RyaW5nIHsKICAgIHJldHVybiBhICsgKGEubGVuZ3RoKCkgPiAwID8gZGVsaW0gOiAiIikgKyBiOwogIH0pOwp9CgpleHRlcm4gIkMiIHZvaWQqIGdldF9oZWFwX2Jhc2UoKTsKCnR5cGVkZWYgc3RydWN0IEpTTWF0RGltZW5zaW9ucyB7CiAgdWludDMyX3Qgcm93cywgY29sczsKCiAgb3BlcmF0b3IgY3Y6OlNpemUoKSBjb25zdCB7IHJldHVybiBjdjo6U2l6ZShjb2xzLCByb3dzKTsgfQp9IEpTTWF0RGltZW5zaW9uczsKCnN0YXRpYyBpbmxpbmUgaW50Cm1hdHR5cGVfZGVwdGgoaW50IHR5cGUpIHsKICByZXR1cm4gdHlwZSAmIDB4NzsKfQpzdGF0aWMgaW5saW5lIGludAptYXR0eXBlX2NoYW5uZWxzKGludCB0eXBlKSB7CiAgcmV0dXJuICh0eXBlID4+IDMpICsgMTsKfQpzdGF0aWMgaW5saW5lIGJvb2wKbWF0dHlwZV9mbG9hdGluZyhpbnQgdHlwZSkgewogIHN3aXRjaChtYXR0eXBlX2RlcHRoKHR5cGUpKSB7CiAgICBjYXNlIENWXzMyRjoKICAgIGNhc2UgQ1ZfNjRGOiByZXR1cm4gdHJ1ZTsKICAgIGRlZmF1bHQ6IHJldHVybiBmYWxzZTsKICB9Cn0Kc3RhdGljIGlubGluZSBib29sCm1hdHR5cGVfc2lnbmVkKGludCB0eXBlKSB7CiAgc3dpdGNoKG1hdHR5cGVfZGVwdGgodHlwZSkpIHsKICAgIGNhc2UgQ1ZfOFM6CiAgICBjYXNlIENWXzE2UzoKICAgIGNhc2UgQ1ZfMzJTOiByZXR1cm4gdHJ1ZTsKICAgIGRlZmF1bHQ6IHJldHVybiBmYWxzZTsKICB9Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgSlNNYXREaW1lbnNpb25zCm1hdF9kaW1lbnNpb25zKGNvbnN0IFQmIG1hdCkgewogIEpTTWF0RGltZW5zaW9ucyByZXQ7CiAgcmV0LnJvd3MgPSBtYXQucm93czsKICByZXQuY29scyA9IG1hdC5jb2xzOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBpbmxpbmUgdWludDhfdCoKbWF0X3B0cihjdjo6TWF0JiBtYXQpIHsKICByZXR1cm4gcmVpbnRlcnByZXRfY2FzdDx1aW50OF90Kj4obWF0LnB0cigpKTsKfQoKc3RhdGljIGlubGluZSB1aW50OF90KgptYXRfcHRyKGN2OjpVTWF0JiBtYXQpIHsKICBjdjo6VU1hdERhdGEqIHU7CgogIGlmKCh1ID0gbWF0LnUpKQogICAgcmV0dXJuIHJlaW50ZXJwcmV0X2Nhc3Q8dWludDhfdCo+KHUtPmRhdGEpOwoKICByZXR1cm4gbnVsbHB0cjsKfQoKc3RhdGljIGlubGluZSBzaXplX3QKbWF0X29mZnNldChjb25zdCBjdjo6TWF0JiBtYXQsIHVpbnQzMl90IHJvdywgdWludDMyX3QgY29sKSB7CiAgY29uc3QgdWNoYXIgKmJhc2UsICpwdHI7CgogIGJhc2UgPSBtYXQucHRyPHVjaGFyPigpOwogIHB0ciA9IG1hdC5wdHI8dWNoYXI+KHJvdywgY29sKTsKCiAgcmV0dXJuIHB0ciAtIGJhc2U7Cn0KCnN0YXRpYyBpbmxpbmUgc2l6ZV90Cm1hdF9vZmZzZXQoY29uc3QgY3Y6OlVNYXQmIG1hdCwgdWludDMyX3Qgcm93LCB1aW50MzJfdCBjb2wpIHsKICByZXR1cm4gKHNpemVfdChtYXQuY29scykgKiByb3cgKyBjb2wpICogbWF0LmVsZW1TaXplKCk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgVCYKbWF0X2F0KGN2OjpNYXQmIG1hdCwgdWludDMyX3Qgcm93LCB1aW50MzJfdCBjb2wpIHsKICByZXR1cm4gKm1hdC5wdHI8VD4ocm93LCBjb2wpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIFQmCm1hdF9hdChjdjo6VU1hdCYgbWF0LCB1aW50MzJfdCByb3csIHVpbnQzMl90IGNvbCkgewogIHNpemVfdCBvZmZzID0gbWF0X29mZnNldChtYXQsIHJvdywgY29sKTsKICByZXR1cm4gKnJlaW50ZXJwcmV0X2Nhc3Q8VCo+KG1hdF9wdHIobWF0KSArIG9mZnMpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIHNpemVfdAptYXRfYnl0ZXNpemUoY29uc3QgVCYgbWF0KSB7CiAgcmV0dXJuIG1hdC5lbGVtU2l6ZSgpICogbWF0LnRvdGFsKCk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgaW50Cm1hdF9kZXB0aChjb25zdCBUJiBtYXQpIHsKICByZXR1cm4gbWF0dHlwZV9kZXB0aChtYXQudHlwZSgpKTsKfQoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSBpbnQKbWF0X2NoYW5uZWxzKGNvbnN0IFQmIG1hdCkgewogIHJldHVybiBtYXR0eXBlX2NoYW5uZWxzKG1hdC50eXBlKCkpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIGJvb2wKbWF0X3NpZ25lZChjb25zdCBUJiBtYXQpIHsKICByZXR1cm4gbWF0dHlwZV9zaWduZWQobWF0LnR5cGUoKSk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgYm9vbAptYXRfZmxvYXRpbmcoY29uc3QgVCYgbWF0KSB7CiAgcmV0dXJuIG1hdHR5cGVfZmxvYXRpbmcobWF0LnR5cGUoKSk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQsIGludCBOPgpzdGF0aWMgaW5saW5lIFQqCmJlZ2luKGN2OjpWZWM8VCwgTj4mIHYpIHsKICByZXR1cm4gJnZbMF07Cn0KdGVtcGxhdGU8Y2xhc3MgVCwgaW50IE4+CnN0YXRpYyBpbmxpbmUgVCoKZW5kKGN2OjpWZWM8VCwgTj4mIHYpIHsKICByZXR1cm4gJnZbTl07Cn0KCnRlbXBsYXRlPGNsYXNzIFQsIGludCBOPgpzdGF0aWMgaW5saW5lIFQgY29uc3QqCmJlZ2luKGN2OjpWZWM8VCwgTj4gY29uc3QmIHYpIHsKICByZXR1cm4gJnZbMF07Cn0KdGVtcGxhdGU8Y2xhc3MgVCwgaW50IE4+CnN0YXRpYyBpbmxpbmUgVCBjb25zdCoKZW5kKGN2OjpWZWM8VCwgTj4gY29uc3QmIHYpIHsKICByZXR1cm4gJnZbTl07Cn0KLyoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSB0eXBlbmFtZSBUOjp2YWx1ZV90eXBlIGNvbnN0KgpiZWdpbihjb25zdCBUJiBvYmopIHsKICByZXR1cm4gb2JqLmJlZ2luKCk7Cn0KdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSB0eXBlbmFtZSBUOjp2YWx1ZV90eXBlKgpiZWdpbihUJiBvYmopIHsKICByZXR1cm4gb2JqLmJlZ2luKCk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgdHlwZW5hbWUgVDo6dmFsdWVfdHlwZSBjb25zdCoKZW5kKGNvbnN0IFQmIG9iaikgewogIHJldHVybiBvYmouZW5kKCk7Cn0KdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSB0eXBlbmFtZSBUOjp2YWx1ZV90eXBlKgplbmQoVCYgb2JqKSB7CiAgcmV0dXJuIG9iai5lbmQoKTsKfQoqLwp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIFQqCmJlZ2luKHN0ZDo6dmVjdG9yPFQ+JiB2KSB7CiAgcmV0dXJuICZ2WzBdOwp9CnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgVCoKZW5kKHN0ZDo6dmVjdG9yPFQ+JiB2KSB7CiAgcmV0dXJuICZ2W3Yuc2l6ZSgpXTsKfQp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIFQgY29uc3QqCmJlZ2luKHN0ZDo6dmVjdG9yPFQ+IGNvbnN0JiB2KSB7CiAgcmV0dXJuICZ2WzBdOwp9CnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgVCBjb25zdCoKZW5kKHN0ZDo6dmVjdG9yPFQ+IGNvbnN0JiB2KSB7CiAgcmV0dXJuICZ2W3Yuc2l6ZSgpXTsKfQoKc3RhdGljIGlubGluZSB1aW50OF90KgpiZWdpbihjdjo6TWF0JiBtYXQpIHsKICByZXR1cm4gbWF0LnB0cjx1aW50OF90PigpOwp9CnN0YXRpYyBpbmxpbmUgdWludDhfdCoKZW5kKGN2OjpNYXQmIG1hdCkgewogIHJldHVybiBtYXQucHRyPHVpbnQ4X3Q+KCkgKyAobWF0LnRvdGFsKCkgKiBtYXQuZWxlbVNpemUoKSk7Cn0KCnN0YXRpYyBpbmxpbmUgdWludDhfdCBjb25zdCoKYmVnaW4oY3Y6Ok1hdCBjb25zdCYgbWF0KSB7CiAgcmV0dXJuIG1hdC5wdHI8dWludDhfdCBjb25zdD4oKTsKfQpzdGF0aWMgaW5saW5lIHVpbnQ4X3QgY29uc3QqCmVuZChjdjo6TWF0IGNvbnN0JiBtYXQpIHsKICByZXR1cm4gbWF0LnB0cjx1aW50OF90IGNvbnN0PigpICsgKG1hdC50b3RhbCgpICogbWF0LmVsZW1TaXplKCkpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPiBjbGFzcyByYW5nZV92aWV3IHsKcHVibGljOgogIC8vIHJhbmdlX3ZpZXcocmFuZ2VfdmlldzxUPiBjb25zdCYgcmFuZ2UpIDogcChyYW5nZS5iZWdpbigpKSwgbihyYW5nZS5zaXplKCkpIHt9CiAgcmFuZ2VfdmlldyhUKiBjb25zdCBiYXNlLCBzaXplX3Qgc2l6ZSkgOiBwKGJhc2UpLCBuKHNpemUpIHt9CgogIHJhbmdlX3ZpZXc8VD4mCiAgb3BlcmF0b3I9KHJhbmdlX3ZpZXc8VD4gY29uc3QmIHJhbmdlKSB7CiAgICBwID0gcmFuZ2UuYmVnaW4oKTsKICAgIG4gPSByYW5nZS5zaXplKCk7CiAgICByZXR1cm4gKnRoaXM7CiAgfQoKICAvLyBjbGFuZy1mb3JtYXQgb2ZmCiAgVCogY29uc3QgYmVnaW4oKSBjb25zdCB7cmV0dXJuIHA7IH0KICBUKiBjb25zdCBlbmQoKSBjb25zdCB7cmV0dXJuIHAgKyBuOyB9CiAgc2l6ZV90IHNpemUoKSBjb25zdCB7cmV0dXJuIG47IH0KICAvLyBjbGFuZy1mb3JtYXQgb24KCnByaXZhdGU6CiAgVCogcDsKICBzaXplX3QgbjsKfTsKCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgcmFuZ2VfdmlldzxUPgphcmd1bWVudF9yYW5nZShpbnQgYXJnYywgVCBhcmd2W10pIHsKICByZXR1cm4gcmFuZ2VfdmlldzxUPihhcmd2LCBhcmdjKTsKfQoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSByYW5nZV92aWV3PFQ+CnNpemVkX3JhbmdlKFQgcHRyLCBzaXplX3QgbGVuKSB7CiAgcmV0dXJuIHJhbmdlX3ZpZXc8VD4ocHRyLCBwdHIgKyBsZW4pOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIHJhbmdlX3ZpZXc8VD4KcmFuZ2UoVCogYmVnaW4sIFQqIGVuZCkgewogIHJldHVybiByYW5nZV92aWV3PFQ+KGJlZ2luLCBlbmQtYmVnaW4pOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBDb250YWluZXI+CnN0YXRpYyBpbmxpbmUgcmFuZ2Vfdmlldzx0eXBlbmFtZSBDb250YWluZXI6OnZhbHVlX3R5cGU+CnJhbmdlKENvbnRhaW5lciYgYykgewogIHJldHVybiByYW5nZV92aWV3PHR5cGVuYW1lIENvbnRhaW5lcjo6dmFsdWVfdHlwZT4oYmVnaW4oYyksIGVuZChjKS0gYmVnaW4oYykpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBULCBjbGFzcyBDb250YWluZXI+CnN0YXRpYyBpbmxpbmUgcmFuZ2VfdmlldzxUPgpyYW5nZShDb250YWluZXImIGMpIHsKICByZXR1cm4gcmFuZ2VfdmlldzxUPihyZWludGVycHJldF9jYXN0PFQ+KGJlZ2luKGMpKSwgcmVpbnRlcnByZXRfY2FzdDxUPihlbmQoYykpKTsKfQoKI2VuZGlmIC8vIGRlZmluZWQoVVRJTF9IUFApCgAAAAAAAAAAmx0AAAAAAAAAAAAAAAAAAAAAAACbHQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB7HQAAAAAAAHsdAAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"file": "js_slice_iterator.cpp",
			"settings":
			{
				"buffer_size": 6447,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			}
		},
		{
			"file": "js_slice_iterator.hpp",
			"settings":
			{
				"buffer_size": 777,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					8,
					1,
					"insert",
					{
						"characters": "range_view"
					},
					"CwAAAGsCAAAAAAAAbAIAAAAAAAAAAAAAbAIAAAAAAABsAgAAAAAAABUAAABzdGQ6OnJhbmdlczo6c3VicmFuZ2VsAgAAAAAAAG0CAAAAAAAAAAAAAG0CAAAAAAAAbgIAAAAAAAAAAAAAbgIAAAAAAABvAgAAAAAAAAAAAABvAgAAAAAAAHACAAAAAAAAAAAAAHACAAAAAAAAcQIAAAAAAAAAAAAAcQIAAAAAAAByAgAAAAAAAAAAAAByAgAAAAAAAHMCAAAAAAAAAAAAAHMCAAAAAAAAdAIAAAAAAAAAAAAAdAIAAAAAAAB1AgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABrAgAAAAAAAIACAAAAAAAAAAAAAAAA8L8"
				],
				[
					10,
					1,
					"delete_word",
					{
						"forward": false
					},
					"AQAAAH0CAAAAAAAAfQIAAAAAAAABAAAAKg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB+AgAAAAAAAH4CAAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"file": "jsbindings.hpp",
			"settings":
			{
				"buffer_size": 19659,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					51,
					1,
					"paste",
					null,
					"AgAAAL8gAAAAAAAAySAAAAAAAAAAAAAAySAAAAAAAADJIAAAAAAAABUAAABzdGQ6OnJhbmdlczo6c3VicmFuZ2U",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC/IAAAAAAAANQgAAAAAAAAAAAAAAAA8L8"
				],
				[
					56,
					1,
					"left_delete",
					null,
					"AQAAANEgAAAAAAAA0SAAAAAAAAABAAAAKg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADSIAAAAAAAANIgAAAAAAAAAAAAAAAA8L8"
				],
				[
					59,
					1,
					"paste",
					null,
					"AgAAAGYhAAAAAAAAcCEAAAAAAAAAAAAAcCEAAAAAAABwIQAAAAAAABUAAABzdGQ6OnJhbmdlczo6c3VicmFuZ2U",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABmIQAAAAAAAHshAAAAAAAAAAAAAAAA8L8"
				],
				[
					62,
					1,
					"left_delete",
					null,
					"AQAAAHghAAAAAAAAeCEAAAAAAAABAAAAKg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB5IQAAAAAAAHkhAAAAAAAAAAAAAAAA8L8"
				],
				[
					67,
					1,
					"left_delete",
					null,
					"AQAAAH4hAAAAAAAAfiEAAAAAAAAGAAAAIHB0ciAr",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB+IQAAAAAAAIQhAAAAAAAAAAAAAAAA8L8"
				],
				[
					70,
					1,
					"left_delete",
					null,
					"AQAAAAAjAAAAAAAAACMAAAAAAAAeAAAAcmVpbnRlcnByZXRfY2FzdDxUPihieXRlX3B0ciAr",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAIwAAAAAAAB4jAAAAAAAAAAAAAAAA8L8"
				],
				[
					73,
					1,
					"left_delete",
					null,
					"AQAAAAUjAAAAAAAABSMAAAAAAAABAAAAKQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAGIwAAAAAAAAYjAAAAAAAAAAAAAAAA8L8"
				],
				[
					76,
					1,
					"paste",
					null,
					"AgAAAMgiAAAAAAAA0iIAAAAAAAAAAAAA0iIAAAAAAADSIgAAAAAAABUAAABzdGQ6OnJhbmdlczo6c3VicmFuZ2U",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADIIgAAAAAAAN0iAAAAAAAAAAAAAAAA8L8"
				],
				[
					83,
					1,
					"paste",
					null,
					"AgAAAKghAAAAAAAAsiEAAAAAAAAAAAAAsiEAAAAAAACyIQAAAAAAABYAAAAgc3RkOjpyYW5nZXM6OnN1YnJhbmdl",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACoIQAAAAAAAL4hAAAAAAAAAAAAAAAA8L8"
				],
				[
					86,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAKghAAAAAAAAqSEAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACoIQAAAAAAAKghAAAAAAAAAAAAAAAA8L8"
				],
				[
					112,
					1,
					"insert",
					{
						"characters": " "
					},
					"AgAAAJogAAAAAAAAmyAAAAAAAAAAAAAAmyAAAAAAAACbIAAAAAAAABcAAAAjaWYgQ1hYX1NUQU5EQVJEID49IDIwCg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACaIAAAAAAAALEgAAAAAAAAAAAAAAAA8L8"
				],
				[
					118,
					1,
					"insert",
					{
						"characters": " "
					},
					"AgAAAN4iAAAAAAAA3yIAAAAAAAAAAAAA3yIAAAAAAADfIgAAAAAAAAcAAAAjZW5kaWYK",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADeIgAAAAAAAOUiAAAAAAAAAAAAAAAA8L8"
				],
				[
					119,
					1,
					"revert",
					null,
					"AwAAAAAAAAAAAAAAAAAAAAAAAADOTAAAI2lmbmRlZiBKU0JJTkRJTkdTX0hQUAojZGVmaW5lIEpTQklORElOR1NfSFBQCgojaW5jbHVkZSAidXRpbC5ocHAiCiNpbmNsdWRlIDxxdWlja2pzLmg+CiNpbmNsdWRlIDxjdXRpbHMuaD4KCiNpbmNsdWRlIDxvcGVuY3YyL2NvcmUvY29yZS5ocHA+CiNpbmNsdWRlIDxvcGVuY3YyL2ltZ3Byb2MvaW1ncHJvYy5ocHA+CiNpbmNsdWRlIDxvcGVuY3YyL3ZpZGVvaW8uaHBwPgojaW5jbHVkZSA8aW9tYW5pcD4KI2luY2x1ZGUgPG1hcD4KI2luY2x1ZGUgPGl0ZXJhdG9yPgojaW5jbHVkZSA8YXJyYXk+CiNpbmNsdWRlIDxhbGdvcml0aG0+CiNpbmNsdWRlIDxzdHJpbmc+CiNpbmNsdWRlIDxjY3R5cGU+Cgp0eXBlZGVmIHN0cnVjdCB7CiAgQk9PTCBkb25lOwogIEpTVmFsdWUgdmFsdWU7Cn0gSXRlcmF0b3JWYWx1ZTsKCnR5cGVkZWYgY3Y6OlJlY3QyZCBKU1JlY3REYXRhRDsKdHlwZWRlZiBjdjo6TWF0IEpTTWF0RGF0YTsKdHlwZWRlZiBjdjo6VU1hdCBKU1VNYXREYXRhOwp0eXBlZGVmIGN2OjpTaXplMmQgSlNTaXplRGF0YUQ7Cgp0ZW1wbGF0ZTxjbGFzcyBUPiB1c2luZyBKU1BvaW50RGF0YSA9IGN2OjpQb2ludF88VD47CnRlbXBsYXRlPGNsYXNzIFQ+IHVzaW5nIEpTU2l6ZURhdGEgPSBjdjo6U2l6ZV88VD47CnRlbXBsYXRlPGNsYXNzIFQ+IHVzaW5nIEpTUmVjdERhdGEgPSBjdjo6UmVjdF88VD47CnRlbXBsYXRlPGNsYXNzIFQ+IHVzaW5nIEpTQ29udG91ckRhdGEgPSBzdGQ6OnZlY3RvcjxKU1BvaW50RGF0YTxUPj47CnRlbXBsYXRlPGNsYXNzIFQ+IHVzaW5nIEpTQ29udG91cnNEYXRhID0gc3RkOjp2ZWN0b3I8SlNDb250b3VyRGF0YTxUPj47CgovKnR5cGVkZWYgSlNQb2ludERhdGE8aW50PiBKU1BvaW50RGF0YTxpbnQ+Owp0eXBlZGVmIEpTUG9pbnREYXRhPGZsb2F0PiBKU1BvaW50RGF0YUY7CnR5cGVkZWYgSlNQb2ludERhdGE8ZG91YmxlPiBKU1BvaW50RGF0YUQ7Ki8KCnR5cGVkZWYgY3Y6OlZpZGVvQ2FwdHVyZSBKU1ZpZGVvQ2FwdHVyZURhdGE7CnR5cGVkZWYgY3Y6OlRpY2tNZXRlciBKU1RpY2tNZXRlckRhdGE7CnR5cGVkZWYgY3Y6OlB0cjxjdjo6Q0xBSEU+IEpTQ0xBSEVEYXRhOwoKdHlwZWRlZiBjdjo6X0lucHV0QXJyYXkgSlNJbnB1dEFycmF5Owp0eXBlZGVmIGN2OjpfT3V0cHV0QXJyYXkgSlNPdXRwdXRBcnJheTsKdHlwZWRlZiBjdjo6X0lucHV0T3V0cHV0QXJyYXkgSlNJbnB1dE91dHB1dEFycmF5OwoKdGVtcGxhdGU8Y2xhc3MgVD4gdW5pb24gSlNMaW5lRGF0YSB7CiAgc3RkOjphcnJheTxULCA0PiBhcnJheTsKICAvLyBjdjo6VmVjPFQsIDQ+IHZlYzsKICAvLyBjdjo6U2NhbGFyXzxUPiBzY2FsYXI7CiAgc3RkOjphcnJheTxKU1BvaW50RGF0YTxUPiwgMj4gcG9pbnRzOwogIHN0ZDo6cGFpcjxKU1BvaW50RGF0YTxUPiwgSlNQb2ludERhdGE8VD4+IHB0OwogIHN0cnVjdCB7CiAgICBUIHgxLCB5MSwgeDIsIHkyOwogIH07Cn07Cgp0ZW1wbGF0ZTxjbGFzcyBUPiBzdHJ1Y3QgSlNMaW5lVHJhaXRzIHsKICB0eXBlZGVmIHN0ZDo6YXJyYXk8VCwgND4gYXJyYXlfdHlwZTsKICB0eXBlZGVmIGN2OjpWZWM8VCwgND4gdmVjdG9yX3R5cGU7CiAgdHlwZWRlZiBjdjo6U2NhbGFyXzxUPiBzY2FsYXJfdHlwZTsKfTsKCnRlbXBsYXRlPGNsYXNzIFQ+IHVuaW9uIEpTQ29sb3JEYXRhIHsKICBzdGQ6OmFycmF5PFQsIDQ+IGFycjsKICBzdHJ1Y3QgewogICAgVCByLCBnLCBiLCBhOwogIH07Cn07Cgp0ZW1wbGF0ZTw+IHVuaW9uIEpTQ29sb3JEYXRhPHVpbnQ4X3Q+IHsKICBzdGQ6OmFycmF5PHVpbnQ4X3QsIDQ+IGFycjsKICBzdHJ1Y3QgewogICAgdWludDhfdCByLCBnLCBiLCBhOwogIH07CiAgdWludDMyX3QgdTMyOwp9OwoKI2lmIGRlZmluZWQoX1dJTjMyKSB8fCBkZWZpbmVkKF9fTUlOR1czMl9fKQojZGVmaW5lIFZJU0lCTEUgX19kZWNsc3BlYyhkbGxleHBvcnQpCiNkZWZpbmUgSElEREVOCiNlbHNlCiNkZWZpbmUgVklTSUJMRSBfX2F0dHJpYnV0ZV9fKCh2aXNpYmlsaXR5KCJkZWZhdWx0IikpKQojZGVmaW5lIEhJRERFTiBfX2F0dHJpYnV0ZV9fKCh2aXNpYmlsaXR5KCJoaWRkZW4iKSkpCiNlbmRpZgoKI2RlZmluZSBKU19DR0VUU0VUX0VOVU1FUkFCTEVfREVGKHByb3BfbmFtZSwgZmdldHRlciwgZnNldHRlciwgbWFnaWNfbnVtKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKICB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKICAgIC5uYW1lID0gcHJvcF9uYW1lLCAucHJvcF9mbGFncyA9IEpTX1BST1BfRU5VTUVSQUJMRSB8IEpTX1BST1BfQ09ORklHVVJBQkxFLCAuZGVmX3R5cGUgPSBKU19ERUZfQ0dFVFNFVF9NQUdJQywgICAgICAgICAgICAgIFwKICAgIC5tYWdpYyA9IG1hZ2ljX251bSwgLnUgPSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKICAgICAgLmdldHNldCA9IHsuZ2V0ID0gey5nZXR0ZXJfbWFnaWMgPSBmZ2V0dGVyfSwgLnNldCA9IHsuc2V0dGVyX21hZ2ljID0gZnNldHRlcn19ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwKICB9CgpleHRlcm4gIkMiIHsKCmludCBqc19kcmF3X2Z1bmN0aW9ucyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZSBwYXJlbnQpOwppbnQganNfZHJhd19pbml0KEpTQ29udGV4dCosIEpTTW9kdWxlRGVmKik7CgpWSVNJQkxFIEpTVmFsdWUganNfbGluZV9uZXcoSlNDb250ZXh0KiBjdHgsIGRvdWJsZSB4MSwgZG91YmxlIHkxLCBkb3VibGUgeDIsIGRvdWJsZSB5Mik7CgpKU01vZHVsZURlZioganNfaW5pdF9tb2R1bGUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG1vZHVsZV9uYW1lKTsKSlNNb2R1bGVEZWYqIGpzX2luaXRfbW9kdWxlX3BvaW50KEpTQ29udGV4dCosIGNvbnN0IGNoYXIqKTsKSlNNb2R1bGVEZWYqIGpzX2luaXRfbW9kdWxlX3NpemUoSlNDb250ZXh0KiwgY29uc3QgY2hhciopOwpKU01vZHVsZURlZioganNfaW5pdF9tb2R1bGVfcmVjdChKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTTW9kdWxlRGVmKiBqc19pbml0X21vZHVsZV9tYXQoSlNDb250ZXh0KiwgY29uc3QgY2hhciopOwpKU01vZHVsZURlZioganNfaW5pdF9tb2R1bGVfY29udG91cihKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CkpTTW9kdWxlRGVmKiBqc19pbml0X21vZHVsZV9saW5lKEpTQ29udGV4dCosIGNvbnN0IGNoYXIqKTsKSlNNb2R1bGVEZWYqIGpzX2luaXRfbW9kdWxlX2RyYXcoSlNDb250ZXh0KiwgY29uc3QgY2hhciopOwpKU01vZHVsZURlZioganNfaW5pdF9tb2R1bGVfY3YoSlNDb250ZXh0KiwgY29uc3QgY2hhciopOwpKU01vZHVsZURlZioganNfaW5pdF9tb2R1bGVfdmlkZW9fY2FwdHVyZShKU0NvbnRleHQqLCBjb25zdCBjaGFyKik7CgppbnQganNfdmlkZW9fY2FwdHVyZV9pbml0KEpTQ29udGV4dCosIEpTTW9kdWxlRGVmKik7CgpWSVNJQkxFIEpTVmFsdWUganNfdmlkZW9fY2FwdHVyZV93cmFwKEpTQ29udGV4dCosIGN2OjpWaWRlb0NhcHR1cmUqIGNhcCk7CgovLyBleHRlcm4gIkMiIEpTVmFsdWUgaW50MzJhcnJheV9jdG9yLCBpbnQzMmFycmF5X3Byb3RvLCBtYXRfY2xhc3MsIG1hdF9wcm90bywgbWF0X2l0ZXJhdG9yX3Byb3RvLAovLyBwb2ludF9jbGFzcywgbGluZV9jbGFzcywgIGRyYXdfY2xhc3MsICBwb2ludF9wcm90bywKLy8gcmVjdF9jbGFzcywgcmVjdF9wcm90bywgc2l6ZV9jbGFzcywgc2l6ZV9wcm90bywgbGluZV9wcm90bywgZHJhd19wcm90bzsKClZJU0lCTEUgSlNWYWx1ZSBqc19tYXRfd3JhcChKU0NvbnRleHQqLCBjb25zdCBjdjo6TWF0JiBtYXQpOwp9CgpleHRlcm4gIkMiIEpTQ2xhc3NEZWYganNfc2l6ZV9jbGFzcywganNfcG9pbnRfY2xhc3MsIGpzX21hdF9jbGFzcywganNfcmVjdF9jbGFzczsKZXh0ZXJuICJDIiBKU0NsYXNzSUQganNfbGluZV9jbGFzc19pZCwganNfZHJhd19jbGFzc19pZDsKCmV4dGVybiAiQyIgY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfcmVjdF9wcm90b19mdW5jc1tdOwoKZXh0ZXJuICJDIiBKU0NsYXNzSUQganNfcG9pbnRfY2xhc3NfaWQsIGpzX3NpemVfY2xhc3NfaWQsIGpzX3JlY3RfY2xhc3NfaWQsIGpzX21hdF9jbGFzc19pZCwganNfbWF0X2l0ZXJhdG9yX2NsYXNzX2lkOwoKZXh0ZXJuICJDIiB7CnN0YXRpYyBpbmxpbmUgSlNWYWx1ZSBqc19nbG9iYWxfZ2V0KEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBwcm9wKTsKc3RhdGljIGlubGluZSBCT09MIGpzX2lzX2l0ZXJhYmxlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKTsKc3RhdGljIGlubGluZSBKU1ZhbHVlIGpzX2l0ZXJhdG9yX21ldGhvZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaik7CnN0YXRpYyBpbmxpbmUgSlNWYWx1ZSBqc19pdGVyYXRvcl9uZXcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmopOwpzdGF0aWMgaW5saW5lIEl0ZXJhdG9yVmFsdWUganNfaXRlcmF0b3JfbmV4dChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaik7CnN0YXRpYyBpbmxpbmUgSlNBdG9tIGpzX3N5bWJvbF9hdG9tKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBuYW1lKTsKc3RhdGljIGlubGluZSBKU1ZhbHVlIGpzX3N5bWJvbF9jdG9yKEpTQ29udGV4dCogY3R4KTsKc3RhdGljIGlubGluZSBKU1ZhbHVlIGpzX3N5bWJvbF9nZXRfc3RhdGljKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBuYW1lKTsKfQovKgp0ZW1wbGF0ZTxjbGFzcyBUeXBlPiBKU1ZhbHVlIGpzX2NvbnRvdXJfbmV3KEpTQ29udGV4dCogY3R4LCBjb25zdCBKU0NvbnRvdXJEYXRhPFR5cGU+JiBwb2ludHMpOwoKdGVtcGxhdGU8PiBKU1ZhbHVlIGpzX2NvbnRvdXJfbmV3PGRvdWJsZT4oSlNDb250ZXh0KiBjdHgsIGNvbnN0IEpTQ29udG91ckRhdGE8ZG91YmxlPiYgcG9pbnRzKTsKCnRlbXBsYXRlPD4gSlNWYWx1ZSBqc19jb250b3VyX25ldzxmbG9hdD4oSlNDb250ZXh0KiBjdHgsIGNvbnN0IEpTQ29udG91ckRhdGE8ZmxvYXQ+JiBwb2ludHMpOwoKdGVtcGxhdGU8PiBKU1ZhbHVlIGpzX2NvbnRvdXJfbmV3PGludD4oSlNDb250ZXh0KiBjdHgsIGNvbnN0IEpTQ29udG91ckRhdGE8aW50PiYgcG9pbnRzKTsKKi8KI2RlZmluZSBjb3VudG9mKHgpIChzaXplb2YoeCkgLyBzaXplb2YoKHgpWzBdKSkKCkpTVmFsdWUganNfdmVjdG9yX3ZlYzRpX3RvX2FycmF5KEpTQ29udGV4dCosIGNvbnN0IHN0ZDo6dmVjdG9yPGN2OjpWZWM0aT4mIHZlYyk7CgppbmxpbmUgSlNWYWx1ZUNvbnN0CmpzX2N0b3IoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG5hbWUpIHsKICBKU1ZhbHVlIGdsb2JhbCA9IEpTX0dldEdsb2JhbE9iamVjdChjdHgpOwogIEpTVmFsdWVDb25zdCBjdG9yID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBnbG9iYWwsIG5hbWUpOwogIHJldHVybiBjdG9yOwp9CgppbmxpbmUgSlNWYWx1ZUNvbnN0CmpzX3Byb3RvKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBuYW1lKSB7CiAgcmV0dXJuIEpTX0dldFByb3RvdHlwZShjdHgsIGpzX2N0b3IoY3R4LCBuYW1lKSk7Cn0KCmlubGluZSBKU1ZhbHVlCmpzX25ldyhKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbmFtZSkgewogIHJldHVybiBKU19OZXdPYmplY3RQcm90byhjdHgsIGpzX3Byb3RvKGN0eCwgbmFtZSkpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIGludApqc19udW1iZXJfcmVhZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG51bSwgVCogb3V0KSB7CiAgZG91YmxlIGQ7CiAgaW50IHJldDsKICBpZigocmV0ID0gIUpTX1RvRmxvYXQ2NChjdHgsICZkLCBudW0pKSkKICAgICpvdXQgPSBkOwogIHJldHVybiByZXQ7Cn0KCnRlbXBsYXRlPD4KaW5saW5lIGludApqc19udW1iZXJfcmVhZDxpbnQzMl90PihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG51bSwgaW50MzJfdCogb3V0KSB7CiAgcmV0dXJuICFKU19Ub0ludDMyKGN0eCwgb3V0LCBudW0pOwp9Cgp0ZW1wbGF0ZTw+CmlubGluZSBpbnQKanNfbnVtYmVyX3JlYWQ8dWludDMyX3Q+KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgbnVtLCB1aW50MzJfdCogb3V0KSB7CiAgcmV0dXJuICFKU19Ub1VpbnQzMihjdHgsIG91dCwgbnVtKTsKfQoKdGVtcGxhdGU8PgppbmxpbmUgaW50CmpzX251bWJlcl9yZWFkPGludDY0X3Q+KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgbnVtLCBpbnQ2NF90KiBvdXQpIHsKICByZXR1cm4gIUpTX1RvSW50NjQoY3R4LCBvdXQsIG51bSk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgSlNWYWx1ZQpqc19udW1iZXJfbmV3KEpTQ29udGV4dCogY3R4LCBUIG51bSkgewogIHJldHVybiBKU19OZXdGbG9hdDY0KGN0eCwgbnVtKTsKfQoKdGVtcGxhdGU8PgppbmxpbmUgSlNWYWx1ZQpqc19udW1iZXJfbmV3PGludDMyX3Q+KEpTQ29udGV4dCogY3R4LCBpbnQzMl90IG51bSkgewogIHJldHVybiBKU19OZXdJbnQzMihjdHgsIG51bSk7Cn0KdGVtcGxhdGU8PgppbmxpbmUgSlNWYWx1ZQpqc19udW1iZXJfbmV3PHVpbnQzMl90PihKU0NvbnRleHQqIGN0eCwgdWludDMyX3QgbnVtKSB7CiAgcmV0dXJuIEpTX05ld1VpbnQzMihjdHgsIG51bSk7Cn0KCnRlbXBsYXRlPD4KaW5saW5lIEpTVmFsdWUKanNfbnVtYmVyX25ldzxpbnQ2NF90PihKU0NvbnRleHQqIGN0eCwgaW50NjRfdCBudW0pIHsKICByZXR1cm4gSlNfTmV3SW50NjQoY3R4LCBudW0pOwp9CgppbnQganNfY29sb3JfcmVhZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGNvbG9yLCBKU0NvbG9yRGF0YTxkb3VibGU+KiBvdXQpOwppbnQganNfY29sb3JfcmVhZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlLCBKU0NvbG9yRGF0YTx1aW50OF90Piogb3V0KTsKCnN0YXRpYyBpbmxpbmUgaW50CmpzX2NvbG9yX3JlYWQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSwgY3Y6OlNjYWxhciogb3V0KSB7CiAgSlNDb2xvckRhdGE8ZG91YmxlPiBjb2xvcjsKICBpbnQgcmV0OwogIGlmKChyZXQgPSBqc19jb2xvcl9yZWFkKGN0eCwgdmFsdWUsICZjb2xvcikpKSB7CiAgICAoKm91dClbMF0gPSBjb2xvci5hcnJbMF07CiAgICAoKm91dClbMV0gPSBjb2xvci5hcnJbMV07CiAgICAoKm91dClbMl0gPSBjb2xvci5hcnJbMl07CiAgICAoKm91dClbM10gPSBjb2xvci5hcnJbM107CiAgfQogIHJldHVybiByZXQ7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CmlubGluZSBKU1ZhbHVlCmpzX2NvbG9yX25ldyhKU0NvbnRleHQqIGN0eCwgY29uc3QgSlNDb2xvckRhdGE8VD4mIGNvbG9yKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19OZXdBcnJheShjdHgpOwoKICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgMCwganNfbnVtYmVyX25ldzxUPihjdHgsIGNvbG9yLmFyclswXSkpOwogIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCAxLCBqc19udW1iZXJfbmV3PFQ+KGN0eCwgY29sb3IuYXJyWzFdKSk7CiAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDIsIGpzX251bWJlcl9uZXc8VD4oY3R4LCBjb2xvci5hcnJbMl0pKTsKICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIHJldCwgMywganNfbnVtYmVyX25ldzxUPihjdHgsIGNvbG9yLmFyclszXSkpOwogIHJldHVybiByZXQ7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0ZDo6b3N0cmVhbSYKb3BlcmF0b3I8PChzdGQ6Om9zdHJlYW0mIHN0cmVhbSwgY29uc3QgSlNDb2xvckRhdGE8VD4mIGNvbG9yKSB7CiAgc3RyZWFtIDw8ICJbICIgPDwgKGludCljb2xvci5hcnJbMF0gPDwgIiwgIiA8PCAoaW50KWNvbG9yLmFyclsxXSA8PCAiLCAiIDw8IChpbnQpY29sb3IuYXJyWzJdIDw8ICIsICIgPDwgKGludCljb2xvci5hcnJbM10KICAgICAgICAgPDwgIiBdIjsKICByZXR1cm4gc3RyZWFtOwp9CgppbnQganNfcmVmKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBuYW1lLCBKU1ZhbHVlQ29uc3QgYXJnLCBKU1ZhbHVlIHZhbHVlKTsKCnN0YXRpYyBpbmxpbmUgc2l6ZV90CnJvdW5kX3RvKHNpemVfdCBudW0sIHNpemVfdCB4KSB7CiAgbnVtIC89IHg7CiAgbnVtICo9IHg7CiAgcmV0dXJuIG51bTsKfQoKIHN0YXRpYyBpbmxpbmUgcmFuZ2Vfdmlldzx1aW50OF90Pgpqc19hcnJheWJ1ZmZlcl9yYW5nZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGJ1ZmZlcikgewogIHNpemVfdCBzaXplOwogIHVpbnQ4X3QqIHB0cjsKICBwdHIgPSBKU19HZXRBcnJheUJ1ZmZlcihjdHgsICZzaXplLCBidWZmZXIpOwogIHJldHVybiByYW5nZV92aWV3PHVpbnQ4X3Q+KHB0ciwgc2l6ZSk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgcmFuZ2VfdmlldzxUPgpqc19hcnJheWJ1ZmZlcl9yYW5nZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGJ1ZmZlcikgewogIHR5cGVkZWYgdHlwZW5hbWUgc3RkOjpyZW1vdmVfcG9pbnRlcjxUPjo6dHlwZSB2YWx1ZV90eXBlOwogIHNpemVfdCBzaXplOwogIHVpbnQ4X3QqIGJ5dGVfcHRyOwogIGJ5dGVfcHRyID0gSlNfR2V0QXJyYXlCdWZmZXIoY3R4LCAmc2l6ZSwgYnVmZmVyKTsKICBzaXplID0gcm91bmRfdG8oc2l6ZSwgc2l6ZW9mKHZhbHVlX3R5cGUpKTsKICByZXR1cm4gcmFuZ2VfdmlldzxUPihyZWludGVycHJldF9jYXN0PFQ+KGJ5dGVfcHRyKSwgIHNpemUpOwp9CiAKdGVtcGxhdGU8Y2xhc3MgUHRyPgpzdGF0aWMgaW5saW5lIEpTVmFsdWUKanNfYXJyYXlidWZmZXJfZnJvbShKU0NvbnRleHQqIGN0eCwgY29uc3QgUHRyJiBiZWdpbiwgY29uc3QgUHRyJiBlbmQpIHsKICBjb25zdCB1aW50OF90KiBwdHI7CiAgc2l6ZV90IGxlbjsKICBwdHIgPSByZWludGVycHJldF9jYXN0PGNvbnN0IHVpbnQ4X3QqPihiZWdpbik7CiAgbGVuID0gcmVpbnRlcnByZXRfY2FzdDxjb25zdCB1aW50OF90Kj4oZW5kKSAtIHB0cjsKICByZXR1cm4gSlNfTmV3QXJyYXlCdWZmZXJDb3B5KGN0eCwgcHRyLCBsZW4pOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBQdHI+CnN0YXRpYyBpbmxpbmUgSlNWYWx1ZQpqc19hcnJheWJ1ZmZlcl9mcm9tKEpTQ29udGV4dCogY3R4LAogICAgICAgICAgICAgICAgICAgIGNvbnN0IFB0ciYgYmVnaW4sCiAgICAgICAgICAgICAgICAgICAgY29uc3QgUHRyJiBlbmQsCiAgICAgICAgICAgICAgICAgICAgSlNGcmVlQXJyYXlCdWZmZXJEYXRhRnVuYyYgZnJlZV9mdW5jLAogICAgICAgICAgICAgICAgICAgIHZvaWQqIG9wYXF1ZSA9IG51bGxwdHIsCiAgICAgICAgICAgICAgICAgICAgYm9vbCBpc19zaGFyZWQgPSBmYWxzZSkgewogIGNvbnN0IHVpbnQ4X3QqIHB0cjsKICBzaXplX3QgbGVuOwogIHB0ciA9IHJlaW50ZXJwcmV0X2Nhc3Q8Y29uc3QgdWludDhfdCo+KGJlZ2luKTsKICBsZW4gPSByZWludGVycHJldF9jYXN0PGNvbnN0IHVpbnQ4X3QqPihlbmQpIC0gcHRyOwogIHJldHVybiBKU19OZXdBcnJheUJ1ZmZlcihjdHgsIGNvbnN0X2Nhc3Q8dWludDhfdCo+KHB0ciksIGxlbiwgJmZyZWVfZnVuYywgb3BhcXVlLCBpc19zaGFyZWQpOwp9CgpzdGF0aWMgaW5saW5lIEpTVmFsdWUKanNfZ2xvYmFsX2dldChKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogcHJvcCkgewogIEpTVmFsdWUgZ2xvYmFsX29iaiwgcmV0OwoKICBnbG9iYWxfb2JqID0gSlNfR2V0R2xvYmFsT2JqZWN0KGN0eCk7CiAgcmV0ID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBnbG9iYWxfb2JqLCBwcm9wKTsKICBKU19GcmVlVmFsdWUoY3R4LCBnbG9iYWxfb2JqKTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgaW5saW5lIEpTVmFsdWUKanNfc3ltYm9sX2N0b3IoSlNDb250ZXh0KiBjdHgpIHsKICByZXR1cm4ganNfZ2xvYmFsX2dldChjdHgsICJTeW1ib2wiKTsKfQoKc3RhdGljIGlubGluZSBKU1ZhbHVlCmpzX3N5bWJvbF9pbnZva2Vfc3RhdGljKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBuYW1lLCBKU1ZhbHVlQ29uc3QgYXJnKSB7CiAgSlNWYWx1ZSByZXQ7CiAgSlNBdG9tIG1ldGhvZF9uYW1lID0gSlNfTmV3QXRvbShjdHgsIG5hbWUpOwogIHJldCA9IEpTX0ludm9rZShjdHgsIGpzX3N5bWJvbF9jdG9yKGN0eCksIG1ldGhvZF9uYW1lLCAxLCAmYXJnKTsKICBKU19GcmVlQXRvbShjdHgsIG1ldGhvZF9uYW1lKTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgaW5saW5lIEpTVmFsdWUKanNfc3ltYm9sX2ZvcihKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogc3ltX2ZvcikgewogIEpTVmFsdWUga2V5LCBzeW07CiAgSlNBdG9tIGF0b207CiAga2V5ID0gSlNfTmV3U3RyaW5nKGN0eCwgc3ltX2Zvcik7CiAgc3ltID0ganNfc3ltYm9sX2ludm9rZV9zdGF0aWMoY3R4LCAiZm9yIiwga2V5KTsKICBKU19GcmVlVmFsdWUoY3R4LCBrZXkpOwogIHJldHVybiBzeW07Cn0KCnN0YXRpYyBpbmxpbmUgSlNBdG9tCmpzX3N5bWJvbF9mb3JfYXRvbShKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogc3ltX2ZvcikgewogIEpTVmFsdWUgc3ltID0ganNfc3ltYm9sX2ZvcihjdHgsIHN5bV9mb3IpOwogIEpTQXRvbSBhdG9tID0gSlNfVmFsdWVUb0F0b20oY3R4LCBzeW0pOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHN5bSk7CiAgcmV0dXJuIGF0b207Cn0KCnN0YXRpYyBpbmxpbmUgdm9pZApqc19zZXRfaW5zcGVjdF9tZXRob2QoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIEpTQ0Z1bmN0aW9uKiBmdW5jKSB7CiAgSlNBdG9tIGluc3BlY3Rfc3ltYm9sID0ganNfc3ltYm9sX2Zvcl9hdG9tKGN0eCwgInF1aWNranMuaW5zcGVjdC5jdXN0b20iKTsKICBKU19TZXRQcm9wZXJ0eShjdHgsIG9iaiwgaW5zcGVjdF9zeW1ib2wsIEpTX05ld0NGdW5jdGlvbihjdHgsIGZ1bmMsICJpbnNwZWN0IiwgMSkpOwogIEpTX0ZyZWVBdG9tKGN0eCwgaW5zcGVjdF9zeW1ib2wpOwp9CgpzdGF0aWMgaW5saW5lIEpTVmFsdWUKanNfc3ltYm9sX2dldF9zdGF0aWMoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG5hbWUpIHsKICBKU1ZhbHVlIHN5bWJvbF9jdG9yLCByZXQ7CiAgc3ltYm9sX2N0b3IgPSBqc19zeW1ib2xfY3RvcihjdHgpOwogIHJldCA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgc3ltYm9sX2N0b3IsIG5hbWUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHN5bWJvbF9jdG9yKTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgaW5saW5lIEpTQXRvbQpqc19zeW1ib2xfYXRvbShKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbmFtZSkgewogIEpTVmFsdWUgc3ltID0ganNfc3ltYm9sX2dldF9zdGF0aWMoY3R4LCBuYW1lKTsKICBKU0F0b20gcmV0ID0gSlNfVmFsdWVUb0F0b20oY3R4LCBzeW0pOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHN5bSk7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIGlubGluZSBKU1ZhbHVlCmpzX2l0ZXJhdG9yX21ldGhvZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIEpTQXRvbSBhdG9tOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGF0b20gPSBqc19zeW1ib2xfYXRvbShjdHgsICJpdGVyYXRvciIpOwogIGlmKEpTX0hhc1Byb3BlcnR5KGN0eCwgb2JqLCBhdG9tKSkKICAgIHJldCA9IEpTX0dldFByb3BlcnR5KGN0eCwgb2JqLCBhdG9tKTsKICBKU19GcmVlQXRvbShjdHgsIGF0b20pOwogIGlmKCFKU19Jc0Z1bmN0aW9uKGN0eCwgcmV0KSkgewogICAgYXRvbSA9IGpzX3N5bWJvbF9hdG9tKGN0eCwgImFzeW5jSXRlcmF0b3IiKTsKICAgIGlmKEpTX0hhc1Byb3BlcnR5KGN0eCwgb2JqLCBhdG9tKSkKICAgICAgcmV0ID0gSlNfR2V0UHJvcGVydHkoY3R4LCBvYmosIGF0b20pOwogICAgSlNfRnJlZUF0b20oY3R4LCBhdG9tKTsKICB9CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIGlubGluZSBCT09MCmpzX2lzX2l0ZXJhYmxlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgSlNBdG9tIGF0b207CiAgQk9PTCByZXQgPSBGQUxTRTsKICBhdG9tID0ganNfc3ltYm9sX2F0b20oY3R4LCAiaXRlcmF0b3IiKTsKICBpZihKU19IYXNQcm9wZXJ0eShjdHgsIG9iaiwgYXRvbSkpCiAgICByZXQgPSBUUlVFOwogIEpTX0ZyZWVBdG9tKGN0eCwgYXRvbSk7CiAgaWYoIXJldCkgewogICAgYXRvbSA9IGpzX3N5bWJvbF9hdG9tKGN0eCwgImFzeW5jSXRlcmF0b3IiKTsKICAgIGlmKEpTX0hhc1Byb3BlcnR5KGN0eCwgb2JqLCBhdG9tKSkKICAgICAgcmV0ID0gVFJVRTsKICAgIEpTX0ZyZWVBdG9tKGN0eCwgYXRvbSk7CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBpbmxpbmUgQk9PTApqc19pc19hcnJheV9saWtlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgSlNWYWx1ZSBsZW47CiAgYm9vbCByZXQ7CiAgbGVuID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmosICJsZW5ndGgiKTsKICByZXQgPSBKU19Jc051bWJlcihsZW4pOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGxlbik7CiAgcmV0dXJuIHJldDsKfQoKc3RydWN0IEFycmF5QnVmZmVyUHJvcHMgewogIHVpbnQ4X3QqIHB0cjsKICBzaXplX3QgbGVuOwoKICBBcnJheUJ1ZmZlclByb3BzKHVpbnQ4X3QqIF9wdHIsIHNpemVfdCBfbGVuKSA6IHB0cihfcHRyKSwgbGVuKF9sZW4pIHt9Cn07CgpzdGF0aWMgaW5saW5lIEJPT0wKanNfaXNfYXJyYXlidWZmZXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmopIHsKICBKU1ZhbHVlIGFycmF5YnVmZmVyX2N0b3I7CiAgQk9PTCByZXQgPSBGQUxTRTsKICBhcnJheWJ1ZmZlcl9jdG9yID0ganNfZ2xvYmFsX2dldChjdHgsICJBcnJheUJ1ZmZlciIpOwogIGlmKEpTX0lzSW5zdGFuY2VPZihjdHgsIG9iaiwgYXJyYXlidWZmZXJfY3RvcikpCiAgICByZXQgPSBUUlVFOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGFycmF5YnVmZmVyX2N0b3IpOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBpbmxpbmUgQXJyYXlCdWZmZXJQcm9wcwpqc19hcnJheWJ1ZmZlcl9wcm9wcyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIHVpbnQ4X3QqIHB0cjsKICBzaXplX3QgbGVuOwogIHB0ciA9IEpTX0dldEFycmF5QnVmZmVyKGN0eCwgJmxlbiwgb2JqKTsKICByZXR1cm4gQXJyYXlCdWZmZXJQcm9wcyhwdHIsIGxlbik7Cn0KCnN0YXRpYyBpbmxpbmUgc3RkOjpzdHJpbmcKanNfZnVuY3Rpb25fbmFtZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlKSB7CiAgY29uc3QgY2hhciogc3RyOwogIGNvbnN0IGNoYXIqIG5hbWUgPSAwOwogIHN0ZDo6c3RyaW5nIHJldDsKICBpbnQgbmFtZWxlbjsKICBpZigoc3RyID0gSlNfVG9DU3RyaW5nKGN0eCwgdmFsdWUpKSkgewogICAgaWYoIXN0cm5jbXAoc3RyLCAiZnVuY3Rpb24gIiwgOSkpIHsKICAgICAgbmFtZSA9IHN0ciArIDk7CiAgICAgIG5hbWVsZW4gPSBzdHJjaHIoc3RyICsgOSwgJygnKSAtIG5hbWU7CiAgICAgIHJldCA9IHN0ZDo6c3RyaW5nKG5hbWUsIG5hbWVsZW4pOwogICAgfQogIH0KICBpZighbmFtZSkgewogICAgaWYoc3RyKQogICAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CiAgICBpZigoc3RyID0gSlNfVG9DU3RyaW5nKGN0eCwgSlNfR2V0UHJvcGVydHlTdHIoY3R4LCB2YWx1ZSwgIm5hbWUiKSkpKQogICAgICByZXQgPSBzdGQ6OnN0cmluZyhzdHIpOwogIH0KICBpZihzdHIpCiAgICBKU19GcmVlQ1N0cmluZyhjdHgsIHN0cik7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIGlubGluZSBzdGQ6OnN0cmluZwpqc19jbGFzc19uYW1lKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUpIHsKICBKU1ZhbHVlIHByb3RvLCBjdG9yOwoKICBzdGQ6OnN0cmluZyByZXQ7CiAgcHJvdG8gPSBKU19HZXRQcm90b3R5cGUoY3R4LCB2YWx1ZSk7CiAgY3RvciA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgcHJvdG8sICJjb25zdHJ1Y3RvciIpOwoKICByZXQgPSBqc19mdW5jdGlvbl9uYW1lKGN0eCwgY3Rvcik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgY3Rvcik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcHJvdG8pOwoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgaW5saW5lIEpTVmFsdWUKanNfdHlwZWRhcnJheV9wcm90b3R5cGUoSlNDb250ZXh0KiBjdHgpIHsKICBKU1ZhbHVlIGdsb2JhbF9vYmosIHUzMl9jdG9yLCB1MzJfcHJvdG8sIHR5cGVkYXJyYXlfcHJvdG87CiAgZ2xvYmFsX29iaiA9IEpTX0dldEdsb2JhbE9iamVjdChjdHgpOwogIHUzMl9jdG9yID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBnbG9iYWxfb2JqLCAiVWludDMyQXJyYXkiKTsKICB1MzJfcHJvdG8gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIHUzMl9jdG9yLCAicHJvdG90eXBlIik7CiAgdHlwZWRhcnJheV9wcm90byA9IEpTX0dldFByb3RvdHlwZShjdHgsIHUzMl9wcm90byk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgZ2xvYmFsX29iaik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgdTMyX2N0b3IpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHUzMl9wcm90byk7CiAgcmV0dXJuIHR5cGVkYXJyYXlfcHJvdG87Cn0KCnN0YXRpYyBpbmxpbmUgSlNWYWx1ZQpqc190eXBlZGFycmF5X2NvbnN0cnVjdG9yKEpTQ29udGV4dCogY3R4KSB7CgogIEpTVmFsdWUgdHlwZWRhcnJheV9wcm90bywgdHlwZWRhcnJheV9jdG9yOwogIHR5cGVkYXJyYXlfcHJvdG8gPSBqc190eXBlZGFycmF5X3Byb3RvdHlwZShjdHgpOwoKICB0eXBlZGFycmF5X2N0b3IgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIHR5cGVkYXJyYXlfcHJvdG8sICJjb25zdHJ1Y3RvciIpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHR5cGVkYXJyYXlfcHJvdG8pOwogIHJldHVybiB0eXBlZGFycmF5X2N0b3I7Cn0KCnN0YXRpYyBpbmxpbmUgYm9vbApqc19pc190eXBlZGFycmF5KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgSlNWYWx1ZSB0eXBlZGFycmF5X2N0b3I7CiAgQk9PTCByZXQ7CiAgdHlwZWRhcnJheV9jdG9yID0ganNfdHlwZWRhcnJheV9jb25zdHJ1Y3RvcihjdHgpOwogIHJldCA9IEpTX0lzSW5zdGFuY2VPZihjdHgsIG9iaiwgdHlwZWRhcnJheV9jdG9yKTsKICBKU19GcmVlVmFsdWUoY3R4LCB0eXBlZGFycmF5X2N0b3IpOwogIHJldHVybiByZXQ7CgogIC8qICBzdGQ6OnN0cmluZyBjbGFzc19uYW1lID0ganNfY2xhc3NfbmFtZShjdHgsIG9iaik7CiAgICBjaGFyKiBzdGFydCA9ICZjbGFzc19uYW1lWzBdOwogICAgY2hhciogZW5kID0gJmNsYXNzX25hbWVbY2xhc3NfbmFtZS5zaXplKCldOwogICAgYm9vbCBpc19zaWduZWQgPSB0cnVlOwoKICAgIGlmKHN0YXJ0IDwgZW5kICYmICpzdGFydCA9PSAnVScpIHsKICAgICAgc3RhcnQrKzsKICAgICAgaXNfc2lnbmVkID0gZmFsc2U7CiAgICAgICpzdGFydCA9IHRvdXBwZXIoKnN0YXJ0KTsKICAgIH0KCiAgICBjaGFyKiBudW1fc3RhcnQgPSBzdGQ6OmZpbmRfaWYoc3RhcnQsIGVuZCwgJjo6aXNkaWdpdCk7CiAgICBjaGFyKiBudW1fZW5kID0gc3RkOjpmaW5kX2lmX25vdChudW1fc3RhcnQsIGVuZCwgJjo6aXNkaWdpdCk7CiAgICBjaGFyKiBuZXh0OwogICAgY29uc3QgYXV0byBiaXRzID0gc3RydG91bChudW1fc3RhcnQsICZuZXh0LCAxMCk7CgogICAgYXNzZXJ0KG5leHQgPT0gbnVtX2VuZCk7CiAgICByZXR1cm4gKCFzdHJuY21wKHN0YXJ0LCAiSW50IiwgMykgfHwgIXN0cm5jbXAoc3RhcnQsICJGbG9hdCIsIDUpKSAmJiAhc3RybmNtcChudW1fZW5kLCAiQXJyYXkiLAogICAgNSkgJiYgKGJpdHMgPT0gNjQgfHwgYml0cyA9PSAzMiB8fCBiaXRzID09IDE2IHx8IGJpdHMgPT0gOCk7Ki8KfQoKc3RhdGljIGlubGluZSBCT09MCmpzX2lzX2FycmF5KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgcmV0dXJuIEpTX0lzQXJyYXkoY3R4LCBvYmopIHx8IGpzX2lzX3R5cGVkYXJyYXkoY3R4LCBvYmopOwp9CgpzdGF0aWMgaW5saW5lIEpTVmFsdWUKanNfaXRlcmF0b3JfbmV3KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgSlNWYWx1ZSBmbiwgcmV0OwogIGZuID0ganNfaXRlcmF0b3JfbWV0aG9kKGN0eCwgb2JqKTsKCiAgcmV0ID0gSlNfQ2FsbChjdHgsIGZuLCBvYmosIDAsIDApOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGZuKTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgaW5saW5lIEl0ZXJhdG9yVmFsdWUKanNfaXRlcmF0b3JfbmV4dChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewogIEpTVmFsdWUgZm4sIHJlc3VsdCwgZG9uZTsKICBJdGVyYXRvclZhbHVlIHJldDsKCiAgZm4gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG9iaiwgIm5leHQiKTsKCiAgcmVzdWx0ID0gSlNfQ2FsbChjdHgsIGZuLCBvYmosIDAsIDApOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGZuKTsKCiAgZG9uZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgcmVzdWx0LCAiZG9uZSIpOwogIHJldC52YWx1ZSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgcmVzdWx0LCAidmFsdWUiKTsKICBKU19GcmVlVmFsdWUoY3R4LCByZXN1bHQpOwoKICByZXQuZG9uZSA9IEpTX1RvQm9vbChjdHgsIGRvbmUpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGRvbmUpOwoKICByZXR1cm4gcmV0Owp9Cgp0ZW1wbGF0ZTxjbGFzcyBULCB0eXBlbmFtZSBzdGQ6OmVuYWJsZV9pZjxzdGQ6OmlzX2ludGVncmFsPFQ+Ojp2YWx1ZSB8fCBzdGQ6OmlzX2Zsb2F0aW5nX3BvaW50PFQ+Ojp2YWx1ZSwgVD46OnR5cGUqID0gbnVsbHB0cj4Kc3RhdGljIGlubGluZSBpbnQKanNfdmFsdWVfdG8oSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB2YWx1ZSwgVCYgb3V0KSB7CiAgcmV0dXJuIGpzX251bWJlcl9yZWFkKGN0eCwgdmFsdWUsICZvdXQpOwp9CgpzdGF0aWMgaW5saW5lIGludApqc192YWx1ZV90byhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbHVlLCBib29sJiBvdXQpIHsKICBvdXQgPSBKU19Ub0Jvb2woY3R4LCB2YWx1ZSk7CiAgcmV0dXJuIDE7Cn0KCnN0YXRpYyBpbmxpbmUgaW50CmpzX3ZhbHVlX3RvKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsdWUsIHN0ZDo6c3RyaW5nJiBvdXQpIHsKICBjb25zdCBjaGFyKiBzdHI7CiAgc2l6ZV90IGxlbjsKICBzdHIgPSBKU19Ub0NTdHJpbmdMZW4oY3R4LCAmbGVuLCB2YWx1ZSk7CiAgb3V0LmNsZWFyKCk7CiAgb3V0LmFzc2lnbihzdHIsIGxlbik7CiAgSlNfRnJlZUNTdHJpbmcoY3R4LCBzdHIpOwogIHJldHVybiAxOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBULCB0eXBlbmFtZSBzdGQ6OmVuYWJsZV9pZjxzdGQ6OmlzX2ludGVncmFsPFQ+Ojp2YWx1ZSB8fCBzdGQ6OmlzX2Zsb2F0aW5nX3BvaW50PFQ+Ojp2YWx1ZSwgVD46OnR5cGUqID0gbnVsbHB0cj4Kc3RhdGljIGlubGluZSBKU1ZhbHVlCmpzX3ZhbHVlX2Zyb20oSlNDb250ZXh0KiBjdHgsIGNvbnN0IFQmIGluKSB7CiAgcmV0dXJuIGpzX251bWJlcl9uZXc8VD4oY3R4LCBpbik7Cn0KCnN0YXRpYyBpbmxpbmUgSlNWYWx1ZQpqc192YWx1ZV9mcm9tKEpTQ29udGV4dCogY3R4LCBib29sIGluKSB7CiAgcmV0dXJuIEpTX05ld0Jvb2woY3R4LCBpbik7Cn0KCnN0YXRpYyBpbmxpbmUgSlNWYWx1ZQpqc192YWx1ZV9mcm9tKEpTQ29udGV4dCogY3R4LCBjb25zdCBzdGQ6OnN0cmluZyYgaW4pIHsKICByZXR1cm4gSlNfTmV3U3RyaW5nTGVuKGN0eCwgaW4uZGF0YSgpLCBpbi5zaXplKCkpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBULCBpbnQgTj4Kc3RhdGljIGlubGluZSBKU1ZhbHVlCmpzX3ZhbHVlX2Zyb20oSlNDb250ZXh0KiBjdHgsIGNvbnN0IGN2OjpWZWM8VCwgTj4mIGluKSB7CiAgcmV0dXJuIGpzX2FycmF5X2Zyb20oY3R4LCBiZWdpbihpbiksIGVuZChpbikpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPiBjbGFzcyBqc19pdGVyYWJsZSB7CnB1YmxpYzoKICBzdGF0aWMgaW50NjRfdAogIHRvX3ZlY3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGFyZywgc3RkOjp2ZWN0b3I8VD4mIG91dCkgewogICAgSXRlcmF0b3JWYWx1ZSBpdGVtOwogICAgSlNWYWx1ZUNvbnN0IGl0ZXIgPSBqc19pdGVyYXRvcl9uZXcoY3R4LCBhcmcpOwogICAgb3V0LmNsZWFyKCk7CiAgICBmb3IoOzspIHsKICAgICAgVCB2YWx1ZTsKICAgICAgaXRlbSA9IGpzX2l0ZXJhdG9yX25leHQoY3R4LCBpdGVyKTsKICAgICAgaWYoaXRlbS5kb25lKQogICAgICAgIGJyZWFrOwogICAgICBqc192YWx1ZV90byhjdHgsIGl0ZW0udmFsdWUsIHZhbHVlKTsKICAgICAgb3V0LnB1c2hfYmFjayh2YWx1ZSk7CiAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGl0ZW0udmFsdWUpOwogICAgfQogICAgSlNfRnJlZVZhbHVlKGN0eCwgaXRlcik7CiAgICByZXR1cm4gb3V0LnNpemUoKTsKICB9CgogIHRlbXBsYXRlPHNpemVfdCBOPgogIHN0YXRpYyBpbnQ2NF90CiAgdG9fYXJyYXkoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBhcmcsIHN0ZDo6YXJyYXk8VCwgTj4mIG91dCkgewogICAgaW50NjRfdCBpID0gMDsKICAgIEl0ZXJhdG9yVmFsdWUgaXRlbTsKICAgIEpTVmFsdWUgaXRlciA9IGpzX2l0ZXJhdG9yX25ldyhjdHgsIGFyZyk7CiAgICBmb3IoaSA9IDA7IGkgPCBOOyBpKyspIHsKICAgICAgVCB2YWx1ZTsKICAgICAgaXRlbSA9IGpzX2l0ZXJhdG9yX25leHQoY3R4LCBpdGVyKTsKICAgICAgaWYoaXRlbS5kb25lKQogICAgICAgIGJyZWFrOwogICAgICBqc192YWx1ZV90byhjdHgsIGl0ZW0udmFsdWUsIHZhbHVlKTsKICAgICAgb3V0W2ldID0gdmFsdWU7CiAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGl0ZW0udmFsdWUpOwogICAgfQogICAgSlNfRnJlZVZhbHVlKGN0eCwgaXRlcik7CiAgICByZXR1cm4gaTsKICB9CgogIHN0YXRpYyBpbnQ2NF90CiAgdG9fc2NhbGFyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgYXJnLCBjdjo6U2NhbGFyXzxUPiYgb3V0KSB7CiAgICByZXR1cm4gdG9fYXJyYXkoY3R4LCBhcmcsICpyZWludGVycHJldF9jYXN0PHN0ZDo6YXJyYXk8VCwgND4qPigmb3V0KSk7CiAgfQp9OwoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSBpbnQ2NF90CmpzX2l0ZXJhYmxlX3RvKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgYXJyLCBzdGQ6OnZlY3RvcjxUPiYgb3V0KSB7CiAgcmV0dXJuIGpzX2l0ZXJhYmxlPFQ+Ojp0b192ZWN0b3IoY3R4LCBhcnIsIG91dCk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQsIHNpemVfdCBOPgpzdGF0aWMgaW5saW5lIGludDY0X3QKanNfaXRlcmFibGVfdG8oSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBhcnIsIHN0ZDo6YXJyYXk8VCwgTj4mIG91dCkgewogIHR5cGVkZWYganNfaXRlcmFibGU8VD4gYXJyYXlfdHlwZTsKICByZXR1cm4gYXJyYXlfdHlwZTo6dG9fYXJyYXkoY3R4LCBhcnIsIG91dCk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CnN0YXRpYyBpbmxpbmUgaW50NjRfdApqc19pdGVyYWJsZV90byhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGFyciwgY3Y6OlNjYWxhcl88VD4mIG91dCkgewogIHJldHVybiBqc19pdGVyYWJsZTxUPjo6dG9fc2NhbGFyKGN0eCwgYXJyLCBvdXQpOwp9CgojZW5kaWYKAAAAAAAAAADLTAAAAAAAAAAAAAAAAAAAAAAAAMtMAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADfIgAAAAAAAN8iAAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"file": "js_typed_array.hpp",
			"settings":
			{
				"buffer_size": 14294,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					110,
					1,
					"insert",
					{
						"characters": "\n\n"
					},
					"BQAAAGAXAAAAAAAAYRcAAAAAAAAAAAAAYRcAAAAAAABjFwAAAAAAAAAAAABjFwAAAAAAAGQXAAAAAAAAAAAAAGQXAAAAAAAAZhcAAAAAAAAAAAAAYRcAAAAAAABhFwAAAAAAAAIAAAAgIA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABgFwAAAAAAAGAXAAAAAAAAAAAAAAAAaEA"
				],
				[
					112,
					1,
					"insert",
					{
						"characters": "TYPED"
					},
					"BgAAAGEXAAAAAAAAYhcAAAAAAAAAAAAAYxcAAAAAAABjFwAAAAAAAAIAAAAgIGIXAAAAAAAAYxcAAAAAAAAAAAAAYxcAAAAAAABkFwAAAAAAAAAAAABkFwAAAAAAAGUXAAAAAAAAAAAAAGUXAAAAAAAAZhcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABhFwAAAAAAAGEXAAAAAAAAAAAAAAAAMEA"
				],
				[
					113,
					4,
					"left_delete",
					null,
					"BAAAAGUXAAAAAAAAZRcAAAAAAAABAAAARGQXAAAAAAAAZBcAAAAAAAABAAAARWMXAAAAAAAAYxcAAAAAAAABAAAAUGIXAAAAAAAAYhcAAAAAAAABAAAAWQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABmFwAAAAAAAGYXAAAAAAAAAAAAAAAA8L8"
				],
				[
					114,
					1,
					"insert",
					{
						"characters": "ypedArrayProps"
					},
					"DgAAAGIXAAAAAAAAYxcAAAAAAAAAAAAAYxcAAAAAAABkFwAAAAAAAAAAAABkFwAAAAAAAGUXAAAAAAAAAAAAAGUXAAAAAAAAZhcAAAAAAAAAAAAAZhcAAAAAAABnFwAAAAAAAAAAAABnFwAAAAAAAGgXAAAAAAAAAAAAAGgXAAAAAAAAaRcAAAAAAAAAAAAAaRcAAAAAAABqFwAAAAAAAAAAAABqFwAAAAAAAGsXAAAAAAAAAAAAAGsXAAAAAAAAbBcAAAAAAAAAAAAAbBcAAAAAAABtFwAAAAAAAAAAAABtFwAAAAAAAG4XAAAAAAAAAAAAAG4XAAAAAAAAbxcAAAAAAAAAAAAAbxcAAAAAAABwFwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABiFwAAAAAAAGIXAAAAAAAAAAAAAAAA8L8"
				],
				[
					115,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAHAXAAAAAAAAchcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABwFwAAAAAAAHAXAAAAAAAAAAAAAAAA8L8"
				],
				[
					116,
					1,
					"insert",
					{
						"characters": "size_t"
					},
					"BgAAAHEXAAAAAAAAchcAAAAAAAAAAAAAchcAAAAAAABzFwAAAAAAAAAAAABzFwAAAAAAAHQXAAAAAAAAAAAAAHQXAAAAAAAAdRcAAAAAAAAAAAAAdRcAAAAAAAB2FwAAAAAAAAAAAAB2FwAAAAAAAHcXAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABxFwAAAAAAAHEXAAAAAAAAAAAAAAAA8L8"
				],
				[
					117,
					1,
					"insert",
					{
						"characters": " bte"
					},
					"BAAAAHcXAAAAAAAAeBcAAAAAAAAAAAAAeBcAAAAAAAB5FwAAAAAAAAAAAAB5FwAAAAAAAHoXAAAAAAAAAAAAAHoXAAAAAAAAexcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB3FwAAAAAAAHcXAAAAAAAAAAAAAAAA8L8"
				],
				[
					118,
					3,
					"left_delete",
					null,
					"AwAAAHoXAAAAAAAAehcAAAAAAAABAAAAZXkXAAAAAAAAeRcAAAAAAAABAAAAdHgXAAAAAAAAeBcAAAAAAAABAAAAYg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB7FwAAAAAAAHsXAAAAAAAAAAAAAAAA8L8"
				],
				[
					119,
					1,
					"insert",
					{
						"characters": "offset,"
					},
					"BwAAAHgXAAAAAAAAeRcAAAAAAAAAAAAAeRcAAAAAAAB6FwAAAAAAAAAAAAB6FwAAAAAAAHsXAAAAAAAAAAAAAHsXAAAAAAAAfBcAAAAAAAAAAAAAfBcAAAAAAAB9FwAAAAAAAAAAAAB9FwAAAAAAAH4XAAAAAAAAAAAAAH4XAAAAAAAAfxcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB4FwAAAAAAAHgXAAAAAAAAAAAAAAAA8L8"
				],
				[
					120,
					1,
					"insert",
					{
						"characters": " size_t"
					},
					"BwAAAH8XAAAAAAAAgBcAAAAAAAAAAAAAgBcAAAAAAACBFwAAAAAAAAAAAACBFwAAAAAAAIIXAAAAAAAAAAAAAIIXAAAAAAAAgxcAAAAAAAAAAAAAgxcAAAAAAACEFwAAAAAAAAAAAACEFwAAAAAAAIUXAAAAAAAAAAAAAIUXAAAAAAAAhhcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB/FwAAAAAAAH8XAAAAAAAAAAAAAAAA8L8"
				],
				[
					121,
					1,
					"insert",
					{
						"characters": " byte"
					},
					"BQAAAIYXAAAAAAAAhxcAAAAAAAAAAAAAhxcAAAAAAACIFwAAAAAAAAAAAACIFwAAAAAAAIkXAAAAAAAAAAAAAIkXAAAAAAAAihcAAAAAAAAAAAAAihcAAAAAAACLFwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACGFwAAAAAAAIYXAAAAAAAAAAAAAAAA8L8"
				],
				[
					122,
					4,
					"left_delete",
					null,
					"BAAAAIoXAAAAAAAAihcAAAAAAAABAAAAZYkXAAAAAAAAiRcAAAAAAAABAAAAdIgXAAAAAAAAiBcAAAAAAAABAAAAeYcXAAAAAAAAhxcAAAAAAAABAAAAYg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACLFwAAAAAAAIsXAAAAAAAAAAAAAAAA8L8"
				],
				[
					123,
					1,
					"insert",
					{
						"characters": "length,"
					},
					"BwAAAIcXAAAAAAAAiBcAAAAAAAAAAAAAiBcAAAAAAACJFwAAAAAAAAAAAACJFwAAAAAAAIoXAAAAAAAAAAAAAIoXAAAAAAAAixcAAAAAAAAAAAAAixcAAAAAAACMFwAAAAAAAAAAAACMFwAAAAAAAI0XAAAAAAAAAAAAAI0XAAAAAAAAjhcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACHFwAAAAAAAIcXAAAAAAAAAAAAAAAA8L8"
				],
				[
					124,
					1,
					"insert",
					{
						"characters": " size_t"
					},
					"BwAAAI4XAAAAAAAAjxcAAAAAAAAAAAAAjxcAAAAAAACQFwAAAAAAAAAAAACQFwAAAAAAAJEXAAAAAAAAAAAAAJEXAAAAAAAAkhcAAAAAAAAAAAAAkhcAAAAAAACTFwAAAAAAAAAAAACTFwAAAAAAAJQXAAAAAAAAAAAAAJQXAAAAAAAAlRcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACOFwAAAAAAAI4XAAAAAAAAAAAAAAAA8L8"
				],
				[
					125,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAJUXAAAAAAAAlhcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACVFwAAAAAAAJUXAAAAAAAAAAAAAAAA8L8"
				],
				[
					126,
					1,
					"insert",
					{
						"characters": "bytes"
					},
					"BQAAAJYXAAAAAAAAlxcAAAAAAAAAAAAAlxcAAAAAAACYFwAAAAAAAAAAAACYFwAAAAAAAJkXAAAAAAAAAAAAAJkXAAAAAAAAmhcAAAAAAAAAAAAAmhcAAAAAAACbFwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACWFwAAAAAAAJYXAAAAAAAAAAAAAAAA8L8"
				],
				[
					127,
					5,
					"left_delete",
					null,
					"BQAAAJoXAAAAAAAAmhcAAAAAAAABAAAAc5kXAAAAAAAAmRcAAAAAAAABAAAAZZgXAAAAAAAAmBcAAAAAAAABAAAAdJcXAAAAAAAAlxcAAAAAAAABAAAAeZYXAAAAAAAAlhcAAAAAAAABAAAAYg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACbFwAAAAAAAJsXAAAAAAAAAAAAAAAA8L8"
				],
				[
					128,
					1,
					"insert",
					{
						"characters": "elem_size"
					},
					"CQAAAJYXAAAAAAAAlxcAAAAAAAAAAAAAlxcAAAAAAACYFwAAAAAAAAAAAACYFwAAAAAAAJkXAAAAAAAAAAAAAJkXAAAAAAAAmhcAAAAAAAAAAAAAmhcAAAAAAACbFwAAAAAAAAAAAACbFwAAAAAAAJwXAAAAAAAAAAAAAJwXAAAAAAAAnRcAAAAAAAAAAAAAnRcAAAAAAACeFwAAAAAAAAAAAACeFwAAAAAAAJ8XAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACWFwAAAAAAAJYXAAAAAAAAAAAAAAAA8L8"
				],
				[
					130,
					1,
					"insert",
					{
						"characters": " :"
					},
					"AgAAAKAXAAAAAAAAoRcAAAAAAAAAAAAAoRcAAAAAAACiFwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACgFwAAAAAAAKAXAAAAAAAAAAAAAAAA8L8"
				],
				[
					131,
					1,
					"insert",
					{
						"characters": " byte_offset"
					},
					"DAAAAKIXAAAAAAAAoxcAAAAAAAAAAAAAoxcAAAAAAACkFwAAAAAAAAAAAACkFwAAAAAAAKUXAAAAAAAAAAAAAKUXAAAAAAAAphcAAAAAAAAAAAAAphcAAAAAAACnFwAAAAAAAAAAAACnFwAAAAAAAKgXAAAAAAAAAAAAAKgXAAAAAAAAqRcAAAAAAAAAAAAAqRcAAAAAAACqFwAAAAAAAAAAAACqFwAAAAAAAKsXAAAAAAAAAAAAAKsXAAAAAAAArBcAAAAAAAAAAAAArBcAAAAAAACtFwAAAAAAAAAAAACtFwAAAAAAAK4XAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACiFwAAAAAAAKIXAAAAAAAAAAAAAAAA8L8"
				],
				[
					132,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAK4XAAAAAAAAsBcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACuFwAAAAAAAK4XAAAAAAAAAAAAAAAA8L8"
				],
				[
					133,
					1,
					"insert",
					{
						"characters": "offset,"
					},
					"BwAAAK8XAAAAAAAAsBcAAAAAAAAAAAAAsBcAAAAAAACxFwAAAAAAAAAAAACxFwAAAAAAALIXAAAAAAAAAAAAALIXAAAAAAAAsxcAAAAAAAAAAAAAsxcAAAAAAAC0FwAAAAAAAAAAAAC0FwAAAAAAALUXAAAAAAAAAAAAALUXAAAAAAAAthcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACvFwAAAAAAAK8XAAAAAAAAAAAAAAAA8L8"
				],
				[
					134,
					1,
					"insert",
					{
						"characters": " byte_lengt"
					},
					"CwAAALYXAAAAAAAAtxcAAAAAAAAAAAAAtxcAAAAAAAC4FwAAAAAAAAAAAAC4FwAAAAAAALkXAAAAAAAAAAAAALkXAAAAAAAAuhcAAAAAAAAAAAAAuhcAAAAAAAC7FwAAAAAAAAAAAAC7FwAAAAAAALwXAAAAAAAAAAAAALwXAAAAAAAAvRcAAAAAAAAAAAAAvRcAAAAAAAC+FwAAAAAAAAAAAAC+FwAAAAAAAL8XAAAAAAAAAAAAAL8XAAAAAAAAwBcAAAAAAAAAAAAAwBcAAAAAAADBFwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC2FwAAAAAAALYXAAAAAAAAAAAAAAAA8L8"
				],
				[
					135,
					1,
					"insert",
					{
						"characters": "h"
					},
					"AQAAAMEXAAAAAAAAwhcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADBFwAAAAAAAMEXAAAAAAAAAAAAAAAA8L8"
				],
				[
					136,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAMIXAAAAAAAAxBcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADCFwAAAAAAAMIXAAAAAAAAAAAAAAAA8L8"
				],
				[
					138,
					1,
					"insert",
					{
						"characters": ")"
					},
					"AQAAALUXAAAAAAAAthcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC1FwAAAAAAALUXAAAAAAAAAAAAAAAA8L8"
				],
				[
					140,
					2,
					"left_delete",
					null,
					"AgAAAMUXAAAAAAAAxRcAAAAAAAABAAAAKcQXAAAAAAAAxBcAAAAAAAABAAAAKQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADGFwAAAAAAAMYXAAAAAAAA////////738"
				],
				[
					141,
					1,
					"insert",
					{
						"characters": "length),"
					},
					"CAAAAMQXAAAAAAAAxRcAAAAAAAAAAAAAxRcAAAAAAADGFwAAAAAAAAAAAADGFwAAAAAAAMcXAAAAAAAAAAAAAMcXAAAAAAAAyBcAAAAAAAAAAAAAyBcAAAAAAADJFwAAAAAAAAAAAADJFwAAAAAAAMoXAAAAAAAAAAAAAMoXAAAAAAAAyxcAAAAAAAAAAAAAyxcAAAAAAADMFwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADEFwAAAAAAAMQXAAAAAAAAAAAAAAAA8L8"
				],
				[
					142,
					1,
					"insert",
					{
						"characters": " ele"
					},
					"BAAAAMwXAAAAAAAAzRcAAAAAAAAAAAAAzRcAAAAAAADOFwAAAAAAAAAAAADOFwAAAAAAAM8XAAAAAAAAAAAAAM8XAAAAAAAA0BcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADMFwAAAAAAAMwXAAAAAAAAAAAAAAAA8L8"
				],
				[
					143,
					4,
					"left_delete",
					null,
					"BAAAAM8XAAAAAAAAzxcAAAAAAAABAAAAZc4XAAAAAAAAzhcAAAAAAAABAAAAbM0XAAAAAAAAzRcAAAAAAAABAAAAZcwXAAAAAAAAzBcAAAAAAAABAAAAIA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADQFwAAAAAAANAXAAAAAAAAAAAAAAAA8L8"
				],
				[
					144,
					1,
					"insert",
					{
						"characters": " bytes_"
					},
					"BwAAAMwXAAAAAAAAzRcAAAAAAAAAAAAAzRcAAAAAAADOFwAAAAAAAAAAAADOFwAAAAAAAM8XAAAAAAAAAAAAAM8XAAAAAAAA0BcAAAAAAAAAAAAA0BcAAAAAAADRFwAAAAAAAAAAAADRFwAAAAAAANIXAAAAAAAAAAAAANIXAAAAAAAA0xcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADMFwAAAAAAAMwXAAAAAAAAAAAAAAAA8L8"
				],
				[
					146,
					1,
					"insert_completion",
					{
						"completion": "bytes_per_element",
						"format": "text",
						"keep_prefix": false,
						"must_insert": false,
						"trigger": "bytes_per_element"
					},
					"AgAAAM0XAAAAAAAAzRcAAAAAAAAGAAAAYnl0ZXNfzRcAAAAAAADeFwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADTFwAAAAAAANMXAAAAAAAAAAAAAAAA8L8"
				],
				[
					147,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAN4XAAAAAAAA4BcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADeFwAAAAAAAN4XAAAAAAAAAAAAAAAA8L8"
				],
				[
					148,
					1,
					"insert",
					{
						"characters": "elem_size"
					},
					"CQAAAN8XAAAAAAAA4BcAAAAAAAAAAAAA4BcAAAAAAADhFwAAAAAAAAAAAADhFwAAAAAAAOIXAAAAAAAAAAAAAOIXAAAAAAAA4xcAAAAAAAAAAAAA4xcAAAAAAADkFwAAAAAAAAAAAADkFwAAAAAAAOUXAAAAAAAAAAAAAOUXAAAAAAAA5hcAAAAAAAAAAAAA5hcAAAAAAADnFwAAAAAAAAAAAADnFwAAAAAAAOgXAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADfFwAAAAAAAN8XAAAAAAAAAAAAAAAA8L8"
				],
				[
					150,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAOkXAAAAAAAA6hcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADpFwAAAAAAAOkXAAAAAAAAAAAAAAAA8L8"
				],
				[
					151,
					1,
					"insert_snippet",
					{
						"contents": "{$0}"
					},
					"AQAAAOoXAAAAAAAA7BcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADqFwAAAAAAAOoXAAAAAAAAAAAAAAAA8L8"
				],
				[
					154,
					1,
					"insert",
					{
						"characters": "\t"
					},
					"AQAAAGEXAAAAAAAAYxcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABhFwAAAAAAAGEXAAAAAAAAAAAAAAAAAAA"
				],
				[
					158,
					1,
					"insert",
					{
						"characters": "explict"
					},
					"BwAAAGMXAAAAAAAAZBcAAAAAAAAAAAAAZBcAAAAAAABlFwAAAAAAAAAAAABlFwAAAAAAAGYXAAAAAAAAAAAAAGYXAAAAAAAAZxcAAAAAAAAAAAAAZxcAAAAAAABoFwAAAAAAAAAAAABoFwAAAAAAAGkXAAAAAAAAAAAAAGkXAAAAAAAAahcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABjFwAAAAAAAGMXAAAAAAAAAAAAAAAA8L8"
				],
				[
					159,
					1,
					"left_delete",
					null,
					"AQAAAGkXAAAAAAAAaRcAAAAAAAABAAAAdA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABqFwAAAAAAAGoXAAAAAAAAAAAAAAAA8L8"
				],
				[
					160,
					1,
					"insert",
					{
						"characters": "it"
					},
					"AgAAAGkXAAAAAAAAahcAAAAAAAAAAAAAahcAAAAAAABrFwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABpFwAAAAAAAGkXAAAAAAAAAAAAAAAA8L8"
				],
				[
					161,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAGsXAAAAAAAAbBcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABrFwAAAAAAAGsXAAAAAAAAAAAAAAAA8L8"
				],
				[
					256,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAKkXAAAAAAAAqhcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACpFwAAAAAAAKkXAAAAAAAAAAAAAAAA8L8"
				],
				[
					257,
					1,
					"left_delete",
					null,
					"AQAAAKkXAAAAAAAAqRcAAAAAAAABAAAAIA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACqFwAAAAAAAKoXAAAAAAAAAAAAAAAA8L8"
				],
				[
					259,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAKoXAAAAAAAAqxcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACqFwAAAAAAAKoXAAAAAAAAAAAAAAAA8L8"
				],
				[
					260,
					1,
					"insert",
					{
						"characters": " a"
					},
					"AgAAAKsXAAAAAAAArBcAAAAAAAAAAAAArBcAAAAAAACtFwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACrFwAAAAAAAKsXAAAAAAAAAAAAAAAA8L8"
				],
				[
					261,
					1,
					"left_delete",
					null,
					"AQAAAKwXAAAAAAAArBcAAAAAAAABAAAAYQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACtFwAAAAAAAK0XAAAAAAAAAAAAAAAA8L8"
				],
				[
					262,
					1,
					"insert",
					{
						"characters": "Array"
					},
					"BQAAAKwXAAAAAAAArRcAAAAAAAAAAAAArRcAAAAAAACuFwAAAAAAAAAAAACuFwAAAAAAAK8XAAAAAAAAAAAAAK8XAAAAAAAAsBcAAAAAAAAAAAAAsBcAAAAAAACxFwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACsFwAAAAAAAKwXAAAAAAAAAAAAAAAA8L8"
				],
				[
					263,
					1,
					"insert_completion",
					{
						"completion": "ArrayBufferProps",
						"format": "text",
						"keep_prefix": false,
						"must_insert": false,
						"trigger": "ArrayBufferProps"
					},
					"AgAAAKwXAAAAAAAArBcAAAAAAAAFAAAAQXJyYXmsFwAAAAAAALwXAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACxFwAAAAAAALEXAAAAAAAAAAAAAAAA8L8"
				],
				[
					267,
					1,
					"insert",
					{
						"characters": " const&"
					},
					"BwAAALwXAAAAAAAAvRcAAAAAAAAAAAAAvRcAAAAAAAC+FwAAAAAAAAAAAAC+FwAAAAAAAL8XAAAAAAAAAAAAAL8XAAAAAAAAwBcAAAAAAAAAAAAAwBcAAAAAAADBFwAAAAAAAAAAAADBFwAAAAAAAMIXAAAAAAAAAAAAAMIXAAAAAAAAwxcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC8FwAAAAAAALwXAAAAAAAAAAAAAAAA8L8"
				],
				[
					268,
					1,
					"insert",
					{
						"characters": " props"
					},
					"BgAAAMMXAAAAAAAAxBcAAAAAAAAAAAAAxBcAAAAAAADFFwAAAAAAAAAAAADFFwAAAAAAAMYXAAAAAAAAAAAAAMYXAAAAAAAAxxcAAAAAAAAAAAAAxxcAAAAAAADIFwAAAAAAAAAAAADIFwAAAAAAAMkXAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADDFwAAAAAAAMMXAAAAAAAAAAAAAAAA8L8"
				],
				[
					287,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAABMYAAAAAAAAFBgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAATGAAAAAAAABMYAAAAAAAAAAAAAAAA8L8"
				],
				[
					288,
					1,
					"insert",
					{
						"characters": " buffer"
					},
					"BwAAABQYAAAAAAAAFRgAAAAAAAAAAAAAFRgAAAAAAAAWGAAAAAAAAAAAAAAWGAAAAAAAABcYAAAAAAAAAAAAABcYAAAAAAAAGBgAAAAAAAAAAAAAGBgAAAAAAAAZGAAAAAAAAAAAAAAZGAAAAAAAABoYAAAAAAAAAAAAABoYAAAAAAAAGxgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAUGAAAAAAAABQYAAAAAAAAAAAAAAAA8L8"
				],
				[
					289,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAABsYAAAAAAAAHRgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAbGAAAAAAAABsYAAAAAAAAAAAAAAAA8L8"
				],
				[
					290,
					1,
					"insert",
					{
						"characters": "props"
					},
					"BQAAABwYAAAAAAAAHRgAAAAAAAAAAAAAHRgAAAAAAAAeGAAAAAAAAAAAAAAeGAAAAAAAAB8YAAAAAAAAAAAAAB8YAAAAAAAAIBgAAAAAAAAAAAAAIBgAAAAAAAAhGAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAcGAAAAAAAABwYAAAAAAAAAAAAAAAA8L8"
				],
				[
					292,
					1,
					"revert",
					null,
					"AwAAAAAAAAAAAAAAAAAAAAAAAADQNwAAI2lmbmRlZiBKU19UWVBFRF9BUlJBWV9IUFAKI2RlZmluZSBKU19UWVBFRF9BUlJBWV9IUFAKCiNpbmNsdWRlIDx0eXBlX3RyYWl0cz4KI2luY2x1ZGUgPGNzdGRpbnQ+CiNpbmNsdWRlIDxvcGVuY3YyL2NvcmUvdHJhaXRzLmhwcD4KI2luY2x1ZGUgInV0aWwuaHBwIgojaW5jbHVkZSAianNiaW5kaW5ncy5ocHAiCgp0ZW1wbGF0ZTxjbGFzcyBUPiBzdHJ1Y3QgbnVtYmVyX3R5cGUgeyBzdGF0aWMgY29uc3RleHByIGJvb2wgdHlwZWRfYXJyYXkgPSBmYWxzZTsgfTsKCnRlbXBsYXRlPD4gc3RydWN0IG51bWJlcl90eXBlPGludDhfdD4gewogIHR5cGVkZWYgaW50OF90IHZhbHVlX3R5cGU7CiAgc3RhdGljIGNvbnN0ZXhwciBib29sIHR5cGVkX2FycmF5ID0gdHJ1ZTsKICBzdGF0aWMgY29uc3RleHByIGNvbnN0IGNoYXIqCiAgY29uc3RydWN0b3JfbmFtZSgpIHsKICAgIHJldHVybiAiSW50OEFycmF5IjsKICB9Cn07Cgp0ZW1wbGF0ZTw+IHN0cnVjdCBudW1iZXJfdHlwZTx1aW50OF90PiB7CiAgdHlwZWRlZiB1aW50OF90IHZhbHVlX3R5cGU7CiAgc3RhdGljIGNvbnN0ZXhwciBib29sIHR5cGVkX2FycmF5ID0gdHJ1ZTsKICBzdGF0aWMgY29uc3RleHByIGNvbnN0IGNoYXIqCiAgY29uc3RydWN0b3JfbmFtZSgpIHsKICAgIHJldHVybiAiVWludDhBcnJheSI7CiAgfQp9OwoKdGVtcGxhdGU8PiBzdHJ1Y3QgbnVtYmVyX3R5cGU8aW50MTZfdD4gewogIHR5cGVkZWYgaW50MTZfdCB2YWx1ZV90eXBlOwogIHN0YXRpYyBjb25zdGV4cHIgYm9vbCB0eXBlZF9hcnJheSA9IHRydWU7CiAgc3RhdGljIGNvbnN0ZXhwciBjb25zdCBjaGFyKgogIGNvbnN0cnVjdG9yX25hbWUoKSB7CiAgICByZXR1cm4gIkludDE2QXJyYXkiOwogIH0KfTsKCnRlbXBsYXRlPD4gc3RydWN0IG51bWJlcl90eXBlPHVpbnQxNl90PiB7CiAgdHlwZWRlZiB1aW50MTZfdCB2YWx1ZV90eXBlOwogIHN0YXRpYyBjb25zdGV4cHIgYm9vbCB0eXBlZF9hcnJheSA9IHRydWU7CiAgc3RhdGljIGNvbnN0ZXhwciBjb25zdCBjaGFyKgogIGNvbnN0cnVjdG9yX25hbWUoKSB7CiAgICByZXR1cm4gIlVpbnQxNkFycmF5IjsKICB9Cn07Cgp0ZW1wbGF0ZTw+IHN0cnVjdCBudW1iZXJfdHlwZTxpbnQzMl90PiB7CiAgdHlwZWRlZiBpbnQzMl90IHZhbHVlX3R5cGU7CiAgc3RhdGljIGNvbnN0ZXhwciBib29sIHR5cGVkX2FycmF5ID0gdHJ1ZTsKICBzdGF0aWMgY29uc3RleHByIGNvbnN0IGNoYXIqCiAgY29uc3RydWN0b3JfbmFtZSgpIHsKICAgIHJldHVybiAiSW50MzJBcnJheSI7CiAgfQp9OwoKdGVtcGxhdGU8PiBzdHJ1Y3QgbnVtYmVyX3R5cGU8dWludDMyX3Q+IHsKICB0eXBlZGVmIHVpbnQzMl90IHZhbHVlX3R5cGU7CiAgc3RhdGljIGNvbnN0ZXhwciBib29sIHR5cGVkX2FycmF5ID0gdHJ1ZTsKICBzdGF0aWMgY29uc3RleHByIGNvbnN0IGNoYXIqCiAgY29uc3RydWN0b3JfbmFtZSgpIHsKICAgIHJldHVybiAiVWludDMyQXJyYXkiOwogIH0KfTsKCnRlbXBsYXRlPD4gc3RydWN0IG51bWJlcl90eXBlPGludDY0X3Q+IHsKICB0eXBlZGVmIGludDY0X3QgdmFsdWVfdHlwZTsKICBzdGF0aWMgY29uc3RleHByIGJvb2wgdHlwZWRfYXJyYXkgPSB0cnVlOwogIHN0YXRpYyBjb25zdGV4cHIgY29uc3QgY2hhcioKICBjb25zdHJ1Y3Rvcl9uYW1lKCkgewogICAgcmV0dXJuICJCaWdJbnQ2NEFycmF5IjsKICB9Cn07Cgp0ZW1wbGF0ZTw+IHN0cnVjdCBudW1iZXJfdHlwZTx1aW50NjRfdD4gewogIHR5cGVkZWYgdWludDY0X3QgdmFsdWVfdHlwZTsKICBzdGF0aWMgY29uc3RleHByIGJvb2wgdHlwZWRfYXJyYXkgPSB0cnVlOwogIHN0YXRpYyBjb25zdGV4cHIgY29uc3QgY2hhcioKICBjb25zdHJ1Y3Rvcl9uYW1lKCkgewogICAgcmV0dXJuICJCaWdVaW50NjRBcnJheSI7CiAgfQp9OwoKdGVtcGxhdGU8PiBzdHJ1Y3QgbnVtYmVyX3R5cGU8ZmxvYXQ+IHsKICB0eXBlZGVmIGZsb2F0IHZhbHVlX3R5cGU7CiAgc3RhdGljIGNvbnN0ZXhwciBib29sIHR5cGVkX2FycmF5ID0gdHJ1ZTsKICBzdGF0aWMgY29uc3RleHByIGNvbnN0IGNoYXIqCiAgY29uc3RydWN0b3JfbmFtZSgpIHsKICAgIHJldHVybiAiRmxvYXQzMkFycmF5IjsKICB9Cn07Cgp0ZW1wbGF0ZTw+IHN0cnVjdCBudW1iZXJfdHlwZTxkb3VibGU+IHsKICB0eXBlZGVmIGRvdWJsZSB2YWx1ZV90eXBlOwogIHN0YXRpYyBjb25zdGV4cHIgYm9vbCB0eXBlZF9hcnJheSA9IHRydWU7CiAgc3RhdGljIGNvbnN0ZXhwciBjb25zdCBjaGFyKgogIGNvbnN0cnVjdG9yX25hbWUoKSB7CiAgICByZXR1cm4gIkZsb2F0NjRBcnJheSI7CiAgfQp9OwoKdGVtcGxhdGU8Y2xhc3MgVD4gc3RydWN0IHBvaW50ZXJfdHlwZSB7CiAgdHlwZWRlZiB0eXBlbmFtZSBzdGQ6OnJlbW92ZV9jdjx0eXBlbmFtZSBzdGQ6OnJlbW92ZV9wb2ludGVyPFQ+Ojp0eXBlPjo6dHlwZSB2YWx1ZV90eXBlOwogIHN0YXRpYyBjb25zdGV4cHIgYm9vbCB0eXBlZF9hcnJheSA9IG51bWJlcl90eXBlPHZhbHVlX3R5cGU+Ojp0eXBlZF9hcnJheTsKfTsKCnRlbXBsYXRlPGNsYXNzIFQ+CmlubGluZSB0eXBlbmFtZSBzdGQ6OmVuYWJsZV9pZjxudW1iZXJfdHlwZTxUPjo6dHlwZWRfYXJyYXksIEpTVmFsdWU+Ojp0eXBlCmpzX2FycmF5X2Zyb20oSlNDb250ZXh0KiBjdHgsIGNvbnN0IFQqIHN0YXJ0LCBjb25zdCBUKiBlbmQpIHsKICBKU1ZhbHVlIGJ1ZiwgZ2xvYmFsLCBjdG9yOwogIEpTVmFsdWVDb25zdCBhcmdzWzNdOwogIGNvbnN0IGNoYXIqIG5hbWU7CiAgY29uc3QgdWludDhfdCAqcywgKmU7CiAgcyA9IHJlaW50ZXJwcmV0X2Nhc3Q8Y29uc3QgdWludDhfdCo+KHN0YXJ0KTsKICBlID0gcmVpbnRlcnByZXRfY2FzdDxjb25zdCB1aW50OF90Kj4oZW5kKTsKICBidWYgPSBKU19OZXdBcnJheUJ1ZmZlckNvcHkoY3R4LCBzLCBlIC0gcyk7CiAgbmFtZSA9IG51bWJlcl90eXBlPFQ+Ojpjb25zdHJ1Y3Rvcl9uYW1lKCk7CiAgZ2xvYmFsID0gSlNfR2V0R2xvYmFsT2JqZWN0KGN0eCk7CiAgY3RvciA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgZ2xvYmFsLCBuYW1lKTsKICBhcmdzWzBdID0gYnVmOwogIHJldHVybiBKU19DYWxsQ29uc3RydWN0b3IoY3R4LCBjdG9yLCAxLCBhcmdzKTsKfQoKZW51bSB7CiAgVFlQRURBUlJBWV9GTE9BVElOR19QT0lOVCA9IDB4ODAsCiAgVFlQRURBUlJBWV9JTlRFR0VSID0gMHgwMCwKICBUWVBFREFSUkFZX1NJR05FRCA9IDB4NDAsCiAgVFlQRURBUlJBWV9VTlNJR05FRCA9IDB4MDAsCiAgVFlQRURBUlJBWV9CSVRTXzggPSAweDAxLAogIFRZUEVEQVJSQVlfQklUU18xNiA9IDB4MDIsCiAgVFlQRURBUlJBWV9CSVRTXzMyID0gMHgwNCwKICBUWVBFREFSUkFZX0JJVFNfNjQgPSAweDA4LAogIFRZUEVEQVJSQVlfQklUU19GSUVMRCA9IDB4M2YKfTsKCmVudW0gVHlwZWRBcnJheVZhbHVlIHsKICBUWVBFREFSUkFZX1VJTlQ4ID0gVFlQRURBUlJBWV9VTlNJR05FRCB8IFRZUEVEQVJSQVlfQklUU184LAogIFRZUEVEQVJSQVlfSU5UOCA9IFRZUEVEQVJSQVlfU0lHTkVEIHwgVFlQRURBUlJBWV9CSVRTXzgsCiAgVFlQRURBUlJBWV9VSU5UMTYgPSBUWVBFREFSUkFZX1VOU0lHTkVEIHwgVFlQRURBUlJBWV9CSVRTXzE2LAogIFRZUEVEQVJSQVlfSU5UMTYgPSBUWVBFREFSUkFZX1NJR05FRCB8IFRZUEVEQVJSQVlfQklUU18xNiwKICBUWVBFREFSUkFZX1VJTlQzMiA9IFRZUEVEQVJSQVlfVU5TSUdORUQgfCBUWVBFREFSUkFZX0JJVFNfMzIsCiAgVFlQRURBUlJBWV9JTlQzMiA9IFRZUEVEQVJSQVlfU0lHTkVEIHwgVFlQRURBUlJBWV9CSVRTXzMyLAogIFRZUEVEQVJSQVlfQklHVUlOVDY0ID0gVFlQRURBUlJBWV9VTlNJR05FRCB8IFRZUEVEQVJSQVlfQklUU182NCwKICBUWVBFREFSUkFZX0JJR0lOVDY0ID0gVFlQRURBUlJBWV9TSUdORUQgfCBUWVBFREFSUkFZX0JJVFNfNjQsCiAgVFlQRURBUlJBWV9GTE9BVDMyID0gVFlQRURBUlJBWV9GTE9BVElOR19QT0lOVCB8IFRZUEVEQVJSQVlfQklUU18zMiwKICBUWVBFREFSUkFZX0ZMT0FUNjQgPSBUWVBFREFSUkFZX0ZMT0FUSU5HX1BPSU5UIHwgVFlQRURBUlJBWV9CSVRTXzY0Cn07CgpzdHJ1Y3QgVHlwZWRBcnJheVR5cGUgewogIFR5cGVkQXJyYXlUeXBlKGludCBic2l6ZSwgYm9vbCBzaWcsIGJvb2wgZmx0KSA6IGJ5dGVfc2l6ZShic2l6ZSksIGlzX3NpZ25lZChzaWcpLCBpc19mbG9hdGluZ19wb2ludChmbHQpIHt9CiAgVHlwZWRBcnJheVR5cGUoY29uc3QgY3Y6Ok1hdCYgbWF0KQogICAgICA6IGJ5dGVfc2l6ZSgxIDw8IChtYXRfZGVwdGgobWF0KSA+PiAxKSksIGlzX3NpZ25lZChtYXRfc2lnbmVkKG1hdCkpLCBpc19mbG9hdGluZ19wb2ludChtYXRfZmxvYXRpbmcobWF0KSkge30KICBUeXBlZEFycmF5VHlwZShjb25zdCBjdjo6VU1hdCYgbWF0KQogICAgICA6IGJ5dGVfc2l6ZSgxIDw8IChtYXRfZGVwdGgobWF0KSA+PiAxKSksIGlzX3NpZ25lZChtYXRfc2lnbmVkKG1hdCkpLCBpc19mbG9hdGluZ19wb2ludChtYXRfZmxvYXRpbmcobWF0KSkge30KICBUeXBlZEFycmF5VHlwZShpbnQzMl90IGN2SWQpCiAgICAgIDogYnl0ZV9zaXplKDEgPDwgKG1hdHR5cGVfZGVwdGgoY3ZJZCkgPj4gMSkpLCBpc19zaWduZWQobWF0dHlwZV9zaWduZWQoY3ZJZCkpLCBpc19mbG9hdGluZ19wb2ludChtYXR0eXBlX2Zsb2F0aW5nKGN2SWQpKSB7CiAgfQogIFR5cGVkQXJyYXlUeXBlKFR5cGVkQXJyYXlWYWx1ZSBpKQogICAgICA6IGJ5dGVfc2l6ZShpICYgVFlQRURBUlJBWV9CSVRTX0ZJRUxEKSwgaXNfc2lnbmVkKCEhKGkgJiBUWVBFREFSUkFZX1NJR05FRCkpLAogICAgICAgIGlzX2Zsb2F0aW5nX3BvaW50KCEhKGkgJiBUWVBFREFSUkFZX0ZMT0FUSU5HX1BPSU5UKSkge30KCiAgdGVtcGxhdGU8Y2xhc3MgVD4gVHlwZWRBcnJheVR5cGUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IFQmIGN0b3JfbmFtZSkgeyAqdGhpcyA9IGpzX3R5cGVkYXJyYXlfdHlwZShjdHgsIGN0b3JfbmFtZSk7IH0KCiAgaW50IGJ5dGVfc2l6ZTsKICBib29sIGlzX3NpZ25lZDsKICBib29sIGlzX2Zsb2F0aW5nX3BvaW50OwoKICBjb25zdCBzdGQ6OnN0cmluZwogIGNvbnN0cnVjdG9yX25hbWUoKSBjb25zdCB7CiAgICBzdGQ6Om9zdHJpbmdzdHJlYW0gb3M7CiAgICBpZighaXNfZmxvYXRpbmdfcG9pbnQpIHsKICAgICAgaWYoYnl0ZV9zaXplID09IDgpCiAgICAgICAgb3MgPDwgIkJpZyI7CiAgICAgIG9zIDw8IChpc19zaWduZWQgPyAiSW50IiA6ICJVaW50Iik7CiAgICB9IGVsc2UgewogICAgICBvcyA8PCAiRmxvYXQiOwogICAgfQogICAgb3MgPDwgKGJ5dGVfc2l6ZSAqIDgpOwogICAgb3MgPDwgIkFycmF5IjsKICAgIHJldHVybiBvcy5zdHIoKTsKICB9CgogIGludDMyX3QKICBjdl90eXBlKCkgY29uc3QgewogICAgaWYoaXNfZmxvYXRpbmdfcG9pbnQpCiAgICAgIHJldHVybiBpbnQzMl90KGJ5dGVfc2l6ZSA9PSA4ID8gQ1ZfNjRGIDogQ1ZfMzJGKTsKCiAgICBzd2l0Y2goYnl0ZV9zaXplKSB7CiAgICAgIGNhc2UgMTogcmV0dXJuIGludDMyX3QoaXNfc2lnbmVkID8gQ1ZfOFMgOiBDVl84VSk7CiAgICAgIGNhc2UgMjogcmV0dXJuIGludDMyX3QoaXNfc2lnbmVkID8gQ1ZfMTZTIDogQ1ZfMTZVKTsKICAgICAgY2FzZSA0OiByZXR1cm4gaW50MzJfdChpc19zaWduZWQgPyBDVl8zMlMgOiBDVl8zMkYpOwogICAgfQogICAgcmV0dXJuIC0xOwogIH0KCiAgVHlwZWRBcnJheVZhbHVlCiAgZmxhZ3MoKSBjb25zdCB7CiAgICByZXR1cm4gVHlwZWRBcnJheVZhbHVlKHVpbnQ4X3QoaXNfZmxvYXRpbmdfcG9pbnQgPyBUWVBFREFSUkFZX0ZMT0FUSU5HX1BPSU5UIDogMCkgfAogICAgICAgICAgICAgICAgICAgICAgICAgICB1aW50OF90KGlzX3NpZ25lZCA/IFRZUEVEQVJSQVlfU0lHTkVEIDogMCkgfCB1aW50OF90KGJ5dGVfc2l6ZSkgJiBUWVBFREFSUkFZX0JJVFNfRklFTEQpOwogIH0KICBvcGVyYXRvciBUeXBlZEFycmF5VmFsdWUoKSBjb25zdCB7IHJldHVybiBmbGFncygpOyB9Cn07CgpzdHJ1Y3QgVHlwZWRBcnJheVByb3BzIHsKICBleHBsaWNpdCBUeXBlZEFycmF5UHJvcHMoc2l6ZV90IG9mZnNldCwgc2l6ZV90IGxlbmd0aCwgc2l6ZV90IGVsZW1fc2l6ZSwgQXJyYXlCdWZmZXJQcm9wcyBjb25zdCYgcHJvcHMpIDogYnl0ZV9vZmZzZXQob2Zmc2V0KSwgYnl0ZV9sZW5ndGgobGVuZ3RoKSwgYnl0ZXNfcGVyX2VsZW1lbnQoZWxlbV9zaXplKSwgYnVmZmVyKHByb3BzKSB7fQoKICBzaXplX3QgYnl0ZV9vZmZzZXQsIGJ5dGVfbGVuZ3RoLCBieXRlc19wZXJfZWxlbWVudDsKICBBcnJheUJ1ZmZlclByb3BzIGJ1ZmZlcjsKCiAgdGVtcGxhdGU8Y2xhc3MgVD4KICBjb25zdCBUKgogIHB0cigpIGNvbnN0IHsKICAgIHJldHVybiByZWludGVycHJldF9jYXN0PFQqPihidWZmZXIucHRyICsgYnl0ZV9vZmZzZXQpOwogIH0KCiAgLyogIHRlbXBsYXRlPGNsYXNzIFQ+CiAgICBUKgogICAgcHRyKCkgewogICAgICByZXR1cm4gcmVpbnRlcnByZXRfY2FzdDxUKj4oYnVmZmVyLnB0ciArIGJ5dGVfb2Zmc2V0KTsKICAgIH0qLwoKICB0ZW1wbGF0ZTxjbGFzcyBUPgogIGludAogIHNpemUoKSBjb25zdCB7CiAgICByZXR1cm4gYnl0ZV9sZW5ndGggLyBzaXplb2YoVCk7CiAgICA7CiAgfQogIHNpemVfdAogIHNpemUoKSBjb25zdCB7CiAgICByZXR1cm4gYnl0ZV9sZW5ndGggLyBieXRlc19wZXJfZWxlbWVudDsKICB9Cn07Cgp0ZW1wbGF0ZTxjbGFzcyBUPiBzdHJ1Y3QgVHlwZWRBcnJheVJhbmdlIDogcHVibGljIFR5cGVkQXJyYXlQcm9wcyB7CiAgVHlwZWRBcnJheVJhbmdlKGNvbnN0IFR5cGVkQXJyYXlQcm9wcyYgcHJvcHMpIDogVHlwZWRBcnJheVByb3BzKHByb3BzKSB7fQoKICBjb25zdCBUKgogIGJlZ2luKCkgY29uc3QgewogICAgcmV0dXJuIHB0cjxUPigpOwogIH0KCiAgY29uc3QgVCoKICBlbmQoKSBjb25zdCB7CiAgICByZXR1cm4gYmVnaW4oKSArIHNpemU8VD4oKTsKICB9Cn07Cgp0ZW1wbGF0ZTxjbGFzcyBUPiBzdHJ1Y3QgVHlwZWRBcnJheVRyYWl0cyB7CiAgdHlwZWRlZiB0eXBlbmFtZSBzdGQ6OnJlbW92ZV9jdnJlZjxUPjo6dHlwZSB2YWx1ZV90eXBlOwoKICBzdGF0aWNfYXNzZXJ0KHN0ZDo6aXNfYXJpdGhtZXRpYzxUPjo6dmFsdWUsICJUeXBlZEFycmF5IG11c3QgY29udGFpbiBhcml0aG1ldGljIHR5cGUiKTsKICBzdGF0aWNfYXNzZXJ0KHNpemVvZihUKSA9PSAxIHx8IHNpemVvZihUKSA9PSAyIHx8IHNpemVvZihUKSA9PSA0IHx8IHNpemVvZihUKSA9PSA4LAogICAgICAgICAgICAgICAgIlR5cGVkQXJyYXkgbXVzdCBjb250YWluIHR5cGUgb2Ygc2l6ZSAxLCAyLCA0IG9yIDgiKTsKCiAgc3RhdGljIGNvbnN0ZXhwciBzaXplX3QgYnl0ZV9zaXplID0gc2l6ZW9mKFQpOwoKICBzdGF0aWMgY29uc3RleHByIGJvb2wgaXNfc2lnbmVkID0gc3RkOjppc19zaWduZWQ8dmFsdWVfdHlwZT46OnZhbHVlOwogIHN0YXRpYyBjb25zdGV4cHIgYm9vbCBpc19mbG9hdGluZ19wb2ludCA9IHN0ZDo6aXNfZmxvYXRpbmdfcG9pbnQ8dmFsdWVfdHlwZT46OnZhbHVlOwoKICBzdGF0aWMgVHlwZWRBcnJheVR5cGUKICBnZXRQcm9wcygpIHsKICAgIHJldHVybiBUeXBlZEFycmF5VHlwZShieXRlX3NpemUsIGlzX3NpZ25lZCwgaXNfZmxvYXRpbmdfcG9pbnQpOwogIH0KfTsKCnN0YXRpYyBpbmxpbmUgSlNWYWx1ZQpqc190eXBlZGFycmF5X25ldyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGJ1ZmZlciwgdWludDMyX3QgYnl0ZU9mZnNldCwgdWludDMyX3QgbGVuZ3RoLCBKU1ZhbHVlQ29uc3QgY3RvcikgewogIHN0ZDo6YXJyYXk8SlNWYWx1ZUNvbnN0LCAzPiBhcmdzID0ge2J1ZmZlciwganNfbnVtYmVyX25ldyhjdHgsIGJ5dGVPZmZzZXQpLCBqc19udW1iZXJfbmV3KGN0eCwgbGVuZ3RoKX07CgogIHJldHVybiBKU19DYWxsQ29uc3RydWN0b3IoY3R4LCBjdG9yLCBhcmdzLnNpemUoKSwgJmFyZ3NbMF0pOwp9CgpzdGF0aWMgaW5saW5lIEpTVmFsdWUKanNfdHlwZWRhcnJheV9uZXcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBidWZmZXIsIHVpbnQzMl90IGJ5dGVPZmZzZXQsIHVpbnQzMl90IGxlbmd0aCwgY29uc3QgY2hhciogY3Rvcl9uYW1lKSB7CiAgSlNWYWx1ZSBnbG9iYWwsIGN0b3IsIHJldDsKICBzdGQ6OmFycmF5PEpTVmFsdWVDb25zdCwgMz4gYXJncyA9IHtidWZmZXIsIGpzX251bWJlcl9uZXcoY3R4LCBieXRlT2Zmc2V0KSwganNfbnVtYmVyX25ldyhjdHgsIGxlbmd0aCl9OwogIGdsb2JhbCA9IEpTX0dldEdsb2JhbE9iamVjdChjdHgpOwogIGN0b3IgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGdsb2JhbCwgY3Rvcl9uYW1lKTsKICBKU19GcmVlVmFsdWUoY3R4LCBnbG9iYWwpOwogIHJldCA9IGpzX3R5cGVkYXJyYXlfbmV3KGN0eCwgYnVmZmVyLCBieXRlT2Zmc2V0LCBsZW5ndGgsIGN0b3IpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIGN0b3IpOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBpbmxpbmUgSlNWYWx1ZQpqc190eXBlZGFycmF5X25ldyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGJ1ZmZlciwgdWludDMyX3QgYnl0ZU9mZnNldCwgdWludDMyX3QgbGVuZ3RoLCBjb25zdCBUeXBlZEFycmF5VHlwZSYgcHJvcHMpIHsKICBhdXRvIHJhbmdlID0ganNfYXJyYXlidWZmZXJfcmFuZ2UoY3R4LCBidWZmZXIpOwogIGFzc2VydChieXRlT2Zmc2V0ICsgbGVuZ3RoICogcHJvcHMuYnl0ZV9zaXplIDw9IHJhbmdlLnNpemUoKSk7CgogIHJldHVybiBqc190eXBlZGFycmF5X25ldyhjdHgsIGJ1ZmZlciwgYnl0ZU9mZnNldCwgbGVuZ3RoLCBwcm9wcy5jb25zdHJ1Y3Rvcl9uYW1lKCkuY19zdHIoKSk7Cn0KCnRlbXBsYXRlPGNsYXNzIEl0ZXJhdG9yPgpzdGF0aWMgaW5saW5lIHR5cGVuYW1lIHN0ZDo6ZW5hYmxlX2lmPHN0ZDo6aXNfcG9pbnRlcjxJdGVyYXRvcj46OnZhbHVlPjo6dHlwZQpqc190eXBlZGFycmF5X3JlbWFpbihJdGVyYXRvciYgc3RhcnQsIEl0ZXJhdG9yJiBlbmQsIHVpbnQzMl90IGJ5dGVPZmZzZXQsIHVpbnQzMl90JiBsZW5ndGgpIHsKICB0eXBlZGVmIHR5cGVuYW1lIHN0ZDo6cmVtb3ZlX3BvaW50ZXI8SXRlcmF0b3I+Ojp0eXBlIHZhbHVlX3R5cGU7CgogIGNvbnN0IHVpbnQ4X3QqIHB0cjsKICBzaXplX3QgbGVuOwogIHB0ciA9IHJlaW50ZXJwcmV0X2Nhc3Q8Y29uc3QgdWludDhfdCo+KHN0YXJ0KSArIGJ5dGVPZmZzZXQ7CiAgbGVuID0gcmVpbnRlcnByZXRfY2FzdDxjb25zdCB1aW50OF90Kj4oZW5kKSAtIHB0cjsKCiAgbGVuIC89IHNpemVvZih2YWx1ZV90eXBlKTsKCiAgaWYobGVuZ3RoID4gbGVuKQogICAgbGVuID0gbGVuZ3RoOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPiBjbGFzcyBqc190eXBlZGFycmF5IHsKcHVibGljOgogIHRlbXBsYXRlPGNsYXNzIENvbnRhaW5lcj4KICBzdGF0aWMgSlNWYWx1ZQogIGZyb20oSlNDb250ZXh0KiBjdHgsIGNvbnN0IENvbnRhaW5lciYgaW4pIHsKICAgIHJldHVybiBmcm9tX3NlcXVlbmNlPHR5cGVuYW1lIENvbnRhaW5lcjo6Y29uc3RfaXRlcmF0b3I+KGN0eCwgaW4uYmVnaW4oKSwgaW4uZW5kKCkpOwogIH0KCiAgc3RhdGljIEpTVmFsdWUKICBmcm9tX3ZlY3RvcihKU0NvbnRleHQqIGN0eCwgY29uc3Qgc3RkOjp2ZWN0b3I8VD4mIGluKSB7CiAgICByZXR1cm4gZnJvbV9zZXF1ZW5jZShjdHgsIGluLmJlZ2luKCksIGluLmVuZCgpKTsKICB9CgogIHRlbXBsYXRlPGNsYXNzIEl0ZXJhdG9yPgogIHN0YXRpYyBKU1ZhbHVlCiAgZnJvbV9zZXF1ZW5jZSgKICAgICAgSlNDb250ZXh0KiBjdHgsIGNvbnN0IEl0ZXJhdG9yJiBzdGFydCwgY29uc3QgSXRlcmF0b3ImIGVuZCwgdWludDMyX3QgYnl0ZU9mZnNldCA9IDAsIHVpbnQzMl90IGxlbmd0aCA9IFVJTlQzMl9NQVgpIHsKICAgIEpTVmFsdWUgYnVmID0ganNfYXJyYXlidWZmZXJfZnJvbShjdHgsIHN0YXJ0LCBlbmQpOwogICAgdWludDMyX3QgY291bnQgPSBzdGQ6Om1pbjx1aW50MzJfdD4obGVuZ3RoLCBlbmQgLSBzdGFydCk7CgogICAganNfdHlwZWRhcnJheV9yZW1haW4oc3RhcnQsIGVuZCwgYnl0ZU9mZnNldCwgY291bnQpOwoKICAgIHJldHVybiBqc190eXBlZGFycmF5X25ldyhjdHgsIGJ1ZiwgMCwgY291bnQsIFR5cGVkQXJyYXlUcmFpdHM8VD46OmdldFByb3BzKCkpOwogIH0KCiAgdGVtcGxhdGU8c2l6ZV90IE4+IHN0YXRpYyBpbnQ2NF90IHRvX2FycmF5KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgYXJyLCBzdGQ6OmFycmF5PFQsIE4+JiBvdXQpOwogIHN0YXRpYyBpbnQ2NF90IHRvX3NjYWxhcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGFyciwgY3Y6OlNjYWxhcl88VD4mIG91dCk7Cn07Cgp0ZW1wbGF0ZTxjbGFzcyBJdGVyYXRvcj4Kc3RhdGljIGlubGluZSB0eXBlbmFtZSBzdGQ6OmVuYWJsZV9pZjxzdGQ6OmlzX3BvaW50ZXI8SXRlcmF0b3I+Ojp2YWx1ZSwgSlNWYWx1ZT46OnR5cGUKanNfdHlwZWRhcnJheV9mcm9tKAogICAgSlNDb250ZXh0KiBjdHgsIGNvbnN0IEl0ZXJhdG9yJiBzdGFydCwgY29uc3QgSXRlcmF0b3ImIGVuZCwgdWludDMyX3QgYnl0ZU9mZnNldCA9IDAsIHVpbnQzMl90IGxlbmd0aCA9IFVJTlQzMl9NQVgpIHsKICByZXR1cm4ganNfdHlwZWRhcnJheTx0eXBlbmFtZSBzdGQ6OnJlbW92ZV9wb2ludGVyPEl0ZXJhdG9yPjo6dHlwZT46OmZyb21fc2VxdWVuY2UoY3R4LCBzdGFydCwgZW5kLCBieXRlT2Zmc2V0KTsKfQoKdGVtcGxhdGU8Y2xhc3MgSXRlcmF0b3I+CnN0YXRpYyBpbmxpbmUgdHlwZW5hbWUgc3RkOjplbmFibGVfaWY8SXRlcmF0b3I6OnZhbHVlX3R5cGUsIEpTVmFsdWU+Ojp0eXBlCmpzX3R5cGVkYXJyYXlfZnJvbSgKICAgIEpTQ29udGV4dCogY3R4LCBjb25zdCBJdGVyYXRvciYgc3RhcnQsIGNvbnN0IEl0ZXJhdG9yJiBlbmQsIHVpbnQzMl90IGJ5dGVPZmZzZXQgPSAwLCB1aW50MzJfdCBsZW5ndGggPSBVSU5UMzJfTUFYKSB7CiAgcmV0dXJuIGpzX3R5cGVkYXJyYXk8dHlwZW5hbWUgSXRlcmF0b3I6OnZhbHVlX3R5cGU+Ojpmcm9tX3NlcXVlbmNlKGN0eCwgc3RhcnQsIGVuZCwgYnl0ZU9mZnNldCk7Cn0KCnRlbXBsYXRlPGNsYXNzIENvbnRhaW5lcj4Kc3RhdGljIGlubGluZSBKU1ZhbHVlCmpzX3R5cGVkYXJyYXlfZnJvbShKU0NvbnRleHQqIGN0eCwgY29uc3QgQ29udGFpbmVyJiB2LCB1aW50MzJfdCBieXRlT2Zmc2V0ID0gMCwgdWludDMyX3QgbGVuZ3RoID0gVUlOVDMyX01BWCkgewogIHJldHVybiBqc190eXBlZGFycmF5PHR5cGVuYW1lIENvbnRhaW5lcjo6dmFsdWVfdHlwZT46OmZyb21fc2VxdWVuY2UoY3R4LCB2LmJlZ2luKCksIHYuZW5kKCksIGJ5dGVPZmZzZXQpOwp9CgpzdGF0aWMgaW5saW5lIFR5cGVkQXJyYXlUeXBlCmpzX3R5cGVkYXJyYXlfdHlwZShjb25zdCBzdGQ6OnN0cmluZyYgY2xhc3NfbmFtZSkgewogIGNoYXIqIHN0YXJ0ID0gY29uc3RfY2FzdDxjaGFyKj4oY2xhc3NfbmFtZS5kYXRhKCkpOwogIGNoYXIqIGVuZCA9IHN0YXJ0ICsgY2xhc3NfbmFtZS5zaXplKCk7CiAgYm9vbCBpc19zaWduZWQgPSB0cnVlLCBpc19mbG9hdGluZ19wb2ludCA9IGZhbHNlOwoKICBpZihzdGFydCA8IGVuZCAmJiAqc3RhcnQgPT0gJ1UnKSB7CiAgICBzdGFydCsrOwogICAgaXNfc2lnbmVkID0gZmFsc2U7CiAgICAqc3RhcnQgPSB0b3VwcGVyKCpzdGFydCk7CiAgfQoKICBjaGFyKiBudW1fc3RhcnQgPSBzdGQ6OmZpbmRfaWYoc3RhcnQsIGVuZCwgJjo6aXNkaWdpdCk7CiAgY2hhciogbnVtX2VuZCA9IHN0ZDo6ZmluZF9pZl9ub3QobnVtX3N0YXJ0LCBlbmQsICY6OmlzZGlnaXQpOwogIGNoYXIqIG5leHQ7CiAgY29uc3QgYXV0byBiaXRzID0gc3RydG91bChudW1fc3RhcnQsICZuZXh0LCAxMCk7CgogIGFzc2VydChuZXh0ID09IG51bV9lbmQpOwogIGFzc2VydChiaXRzID09IDggfHwgYml0cyA9PSAxNiB8fCBiaXRzID09IDMyIHx8IGJpdHMgPT0gNjQpOwoKICBpc19mbG9hdGluZ19wb2ludCA9ICFzdHJuY21wKHN0YXJ0LCAiRmxvYXQiLCA1KTsKCiAgcmV0dXJuIFR5cGVkQXJyYXlUeXBlKGJpdHMgLyA4LCBpc19zaWduZWQsIGlzX2Zsb2F0aW5nX3BvaW50KTsKfQoKc3RhdGljIGlubGluZSBUeXBlZEFycmF5VHlwZQpqc190eXBlZGFycmF5X3R5cGUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmopIHsKICBzdGQ6OnN0cmluZyBjbGFzc19uYW1lOwoKICBpZihKU19Jc0Z1bmN0aW9uKGN0eCwgb2JqKSkKICAgIGNsYXNzX25hbWUgPSBqc19mdW5jdGlvbl9uYW1lKGN0eCwgb2JqKTsKICBlbHNlIGlmKEpTX0lzU3RyaW5nKG9iaikpCiAgICBqc192YWx1ZV90byhjdHgsIG9iaiwgY2xhc3NfbmFtZSk7CiAgZWxzZQogICAgY2xhc3NfbmFtZSA9IGpzX2NsYXNzX25hbWUoY3R4LCBvYmopOwoKICByZXR1cm4ganNfdHlwZWRhcnJheV90eXBlKGNsYXNzX25hbWUpOwp9CgpzdGF0aWMgaW5saW5lIFR5cGVkQXJyYXlQcm9wcwpqc190eXBlZGFycmF5X3Byb3BzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3Qgb2JqKSB7CiAgSlNWYWx1ZSBidWZmZXI7CiAgc2l6ZV90IGJ5dGVfb2Zmc2V0LCBieXRlX2xlbmd0aCwgYnl0ZXNfcGVyX2VsZW1lbnQ7CgogIGJ1ZmZlciA9IEpTX0dldFR5cGVkQXJyYXlCdWZmZXIoY3R4LCBvYmosICZieXRlX29mZnNldCwgJmJ5dGVfbGVuZ3RoLCAmYnl0ZXNfcGVyX2VsZW1lbnQpOwoKICByZXR1cm4gVHlwZWRBcnJheVByb3BzKGJ5dGVfb2Zmc2V0LCBieXRlX2xlbmd0aCwgYnl0ZXNfcGVyX2VsZW1lbnQsIGpzX2FycmF5YnVmZmVyX3Byb3BzKGN0eCwgYnVmZmVyKSk7Cn0KCnN0YXRpYyBpbmxpbmUgSlNJbnB1dE91dHB1dEFycmF5CmpzX3R5cGVkYXJyYXlfaW5wdXRvdXRwdXRhcnJheShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaikgewoKICBUeXBlZEFycmF5VHlwZSB0eXBlID0ganNfdHlwZWRhcnJheV90eXBlKGN0eCwgb2JqKTsKICBUeXBlZEFycmF5UHJvcHMgcHJvcHMgPSBqc190eXBlZGFycmF5X3Byb3BzKGN0eCwgb2JqKTsKCiAgc3dpdGNoKHR5cGUuZmxhZ3MoKSkgewogICAgY2FzZSBUWVBFREFSUkFZX1VJTlQ4OiByZXR1cm4gSlNJbnB1dE91dHB1dEFycmF5KHByb3BzLnB0cjx1aW50OF90PigpLCBwcm9wcy5zaXplPHVpbnQ4X3Q+KCkpOwogICAgY2FzZSBUWVBFREFSUkFZX0lOVDg6IHJldHVybiBKU0lucHV0T3V0cHV0QXJyYXkocHJvcHMucHRyPGludDhfdD4oKSwgcHJvcHMuc2l6ZTxpbnQ4X3Q+KCkpOwogICAgY2FzZSBUWVBFREFSUkFZX1VJTlQxNjogcmV0dXJuIEpTSW5wdXRPdXRwdXRBcnJheShwcm9wcy5wdHI8dWludDE2X3Q+KCksIHByb3BzLnNpemU8dWludDE2X3Q+KCkpOwogICAgY2FzZSBUWVBFREFSUkFZX0lOVDE2OiByZXR1cm4gSlNJbnB1dE91dHB1dEFycmF5KHByb3BzLnB0cjxpbnQxNl90PigpLCBwcm9wcy5zaXplPGludDE2X3Q+KCkpOwogICAgLypjYXNlIFRZUEVEQVJSQVlfVUlOVDMyOiB7CiAgICAgIFR5cGVkQXJyYXlSYW5nZTx1aW50MzJfdD4gcmFuZ2UocHJvcHMpOwogICAgICByZXR1cm4gc3RkOjp2ZWN0b3I8dWludDMyX3Q+KHJhbmdlLmJlZ2luKCksIHJhbmdlLmVuZCgpKTsKICAgIH0qLwogICAgY2FzZSBUWVBFREFSUkFZX0lOVDMyOiByZXR1cm4gSlNJbnB1dE91dHB1dEFycmF5KHByb3BzLnB0cjxpbnQ+KCksIHByb3BzLnNpemU8aW50PigpKTsKICAgIC8qY2FzZSBUWVBFREFSUkFZX0JJR1VJTlQ2NDogewogICAgICBUeXBlZEFycmF5UmFuZ2U8dWludDY0X3Q+IHJhbmdlKHByb3BzKTsKICAgICAgcmV0dXJuIHN0ZDo6dmVjdG9yPHVpbnQ2NF90PihyYW5nZS5iZWdpbigpLCByYW5nZS5lbmQoKSk7CiAgICB9CiAgICBjYXNlIFRZUEVEQVJSQVlfQklHSU5UNjQ6IHsKICAgICAgVHlwZWRBcnJheVJhbmdlPGludDY0X3Q+IHJhbmdlKHByb3BzKTsKICAgICAgcmV0dXJuIHN0ZDo6dmVjdG9yPGludDY0X3Q+KHJhbmdlLmJlZ2luKCksIHJhbmdlLmVuZCgpKTsKICAgIH0qLwogICAgY2FzZSBUWVBFREFSUkFZX0ZMT0FUMzI6IHJldHVybiBKU0lucHV0T3V0cHV0QXJyYXkocHJvcHMucHRyPGZsb2F0PigpLCBwcm9wcy5zaXplPGZsb2F0PigpKTsKICAgIGNhc2UgVFlQRURBUlJBWV9GTE9BVDY0OiByZXR1cm4gSlNJbnB1dE91dHB1dEFycmF5KHByb3BzLnB0cjxkb3VibGU+KCksIHByb3BzLnNpemU8ZG91YmxlPigpKTsKICAgIGRlZmF1bHQ6IHsKICAgICAgc3RkOjpzdHJpbmcgbmFtZSA9IHR5cGUuY29uc3RydWN0b3JfbmFtZSgpOwoKICAgICAgSlNfVGhyb3dUeXBlRXJyb3IoY3R4LCAiRXhwZWN0ZWQgVHlwZWRBcnJheSAlcyIsIG5hbWUuY19zdHIoKSk7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIGN2Ojpub0FycmF5KCk7Cn0KI2VuZGlmIC8qIGRlZmluZWQoSlNfVFlQRURfQVJSQVlfSFBQKSAqLwoAAAAAAAAAANY3AAAAAAAAAAAAAAAAAAAAAAAA1jcAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAiGAAAAAAAACIYAAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"file": "js_mat.cpp",
			"settings":
			{
				"buffer_size": 44596,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					157,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAJV+AAAAAAAAln4AAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACVfgAAAAAAAJV+AAAAAAAAAAAAAAAA8L8"
				],
				[
					158,
					1,
					"paste",
					null,
					"AQAAAJZ+AAAAAAAAon4AAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACWfgAAAAAAAJZ+AAAAAAAAAAAAAAAA8L8"
				],
				[
					159,
					1,
					"insert_snippet",
					{
						"contents": "($0)"
					},
					"AQAAAKJ+AAAAAAAApH4AAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACifgAAAAAAAKJ+AAAAAAAAAAAAAAAA8L8"
				],
				[
					160,
					1,
					"insert",
					{
						"characters": "*m"
					},
					"AgAAAKN+AAAAAAAApH4AAAAAAAAAAAAApH4AAAAAAAClfgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACjfgAAAAAAAKN+AAAAAAAAAAAAAAAA8L8"
				],
				[
					163,
					1,
					"left_delete",
					null,
					"AQAAAKZ+AAAAAAAApn4AAAAAAAANAAAAIHJhbmdlLnNpemUoKQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACmfgAAAAAAALN+AAAAAAAAAAAAAAAA8L8"
				],
				[
					176,
					2,
					"left_delete",
					null,
					"AgAAABp9AAAAAAAAGn0AAAAAAAA/AAAAICAgIHN0ZDo6cmFuZ2VzOjpzdWJyYW5nZTx1aW50OF90Kj4gcmFuZ2UoYmVnaW4oKm0pLCBlbmQoKm0pKTsKGX0AAAAAAAAZfQAAAAAAAAEAAAAK",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAafQAAAAAAAFl9AAAAAAAAAAAAAAAA8L8"
				],
				[
					183,
					1,
					"revert",
					null,
					"AwAAAAAAAAAAAAAAAAAAAAAAAAA0rgAAI2luY2x1ZGUgImpzYmluZGluZ3MuaHBwIgojaW5jbHVkZSAianNfY3YuaHBwIgojaW5jbHVkZSAianNfbWF0LmhwcCIKI2luY2x1ZGUgImpzX3NpemUuaHBwIgojaW5jbHVkZSAianNfcG9pbnQuaHBwIgojaW5jbHVkZSAianNfcmVjdC5ocHAiCiNpbmNsdWRlICJqc19hcnJheS5ocHAiCiNpbmNsdWRlICJqc190eXBlZF9hcnJheS5ocHAiCiNpbmNsdWRlICJqc19hbGxvYy5ocHAiCiNpbmNsdWRlICJqc191bWF0LmhwcCIKI2luY2x1ZGUgImdlb21ldHJ5LmhwcCIKI2luY2x1ZGUgInV0aWwuaHBwIgojaW5jbHVkZSAiY3V0aWxzLmgiCiNpbmNsdWRlIDxsaXN0PgojaW5jbHVkZSA8bWFwPgojaW5jbHVkZSA8ZnN0cmVhbT4KCmVudW0gewogIFBST1BfQ09MUyA9IDAsCiAgUFJPUF9ST1dTLAogIFBST1BfQ0hBTk5FTFMsCiAgUFJPUF9UWVBFLAogIFBST1BfREVQVEgsCiAgUFJPUF9FTVBUWSwKICBQUk9QX1RPVEFMLAogIFBST1BfU0laRSwKICBQUk9QX0NPTlRJTlVPVVMsCiAgUFJPUF9TVUJNQVRSSVgsCiAgUFJPUF9TVEVQLAogIFBST1BfRUxFTVNJWkUsCiAgUFJPUF9FTEVNU0laRTEKfTsKZW51bSB7CiAgTUVUSE9EX0NPTCA9IDAsCiAgTUVUSE9EX1JPVywKICBNRVRIT0RfQ09MX1JBTkdFLAogIE1FVEhPRF9ST1dfUkFOR0UsCiAgTUVUSE9EX0NMT05FLAogIE1FVEhPRF9ST0ksCiAgTUVUSE9EX1JFTEVBU0UsCiAgTUVUSE9EX0RVUCwKICBNRVRIT0RfQ0xFQVIsCiAgTUVUSE9EX1JFU0VULAogIE1FVEhPRF9SRVNJWkUsCiAgTUVUSE9EX1NURVAxLAogIE1FVEhPRF9MT0NBVEVfUk9JLAogIE1FVEhPRF9QVFIKfTsKZW51bSB7IE1BVF9FWFBSX0FORCA9IDAsIE1BVF9FWFBSX09SLCBNQVRfRVhQUl9YT1IsIE1BVF9FWFBSX01VTCB9OwplbnVtIHsgTUFUX0lURVJBVE9SX0tFWVMsIE1BVF9JVEVSQVRPUl9WQUxVRVMsIE1BVF9JVEVSQVRPUl9FTlRSSUVTIH07CmV4dGVybiAiQyIgewpKU1ZhbHVlIG1hdF9wcm90byA9IEpTX1VOREVGSU5FRCwgbWF0X2NsYXNzID0gSlNfVU5ERUZJTkVELCBtYXRfaXRlcmF0b3JfcHJvdG8gPSBKU19VTkRFRklORUQsCiAgICAgICAgbWF0X2l0ZXJhdG9yX2NsYXNzID0gSlNfVU5ERUZJTkVEOwpKU0NsYXNzSUQganNfbWF0X2NsYXNzX2lkID0gMCwganNfbWF0X2l0ZXJhdG9yX2NsYXNzX2lkID0gMDsKCkpTVmFsdWUgdW1hdF9wcm90byA9IEpTX1VOREVGSU5FRCwgdW1hdF9jbGFzcyA9IEpTX1VOREVGSU5FRDsKSlNDbGFzc0lEIGpzX3VtYXRfY2xhc3NfaWQgPSAwOwoKdHlwZWRlZiBzdHJ1Y3QgSlNNYXRJdGVyYXRvckRhdGEgewogIEpTVmFsdWUgb2JqLCBidWY7CiAgdWludDMyX3Qgcm93LCBjb2w7CiAgaW50IG1hZ2ljOwogIFR5cGVkQXJyYXlUeXBlIHR5cGU7Cn0gSlNNYXRJdGVyYXRvckRhdGE7CgpzdGF0aWMgdm9pZApqc19tYXRfZnJlZV9mdW5jKEpTUnVudGltZSogcnQsIHZvaWQqIG9wYXF1ZSwgdm9pZCogcHRyKSB7CiAgSlNNYXREYXRhKiBtYXQgPSBzdGF0aWNfY2FzdDxKU01hdERhdGEqPihvcGFxdWUpOwoKICBtYXQtPnJlbGVhc2UoKTsKICBqc19mcmVlX3J0KHJ0LCBtYXQpOwp9Cn0KCnN0YXRpYyBzdGQ6OnZlY3RvcjxKU01hdERhdGEqPiBtYXRfbGlzdDsKc3RhdGljIHN0ZDo6bGlzdDxKU01hdERhdGEqPiBtYXRfZnJlZWQ7CgpzdGF0aWMgaW5saW5lIHN0ZDo6dmVjdG9yPGludD4KanNfbWF0X3NpemVzKGNvbnN0IEpTTWF0RGF0YSYgbWF0KSB7CiAgY29uc3QgY3Y6Ok1hdFNpemUgc2l6ZShtYXQuc2l6ZSk7CiAgc3RkOjp2ZWN0b3I8aW50PiBzaXplczsKICBpZihtYXQuZGltcyA9PSAyKSB7CiAgICBzaXplcy5wdXNoX2JhY2sobWF0LnJvd3MpOwogICAgc2l6ZXMucHVzaF9iYWNrKG1hdC5jb2xzKTsKICB9IGVsc2UgewogICAgc3RkOjpjb3B5KCZzaXplWzBdLCAmc2l6ZVtzaXplLmRpbXMoKV0sIHN0ZDo6YmFja19pbnNlcnRlcihzaXplcykpOwogIH0KICByZXR1cm4gc2l6ZXM7Cn0KCnN0YXRpYyBpbmxpbmUgc3RkOjp2ZWN0b3I8c3RkOjpzdHJpbmc+CmpzX21hdF9kaW1lbnNpb25zKGNvbnN0IEpTTWF0RGF0YSYgbWF0KSB7CiAgc3RkOjp2ZWN0b3I8aW50PiBzaXplcyA9IGpzX21hdF9zaXplcyhtYXQpOwogIHN0ZDo6dmVjdG9yPHN0ZDo6c3RyaW5nPiBkaW1lbnNpb25zOwoKICBzdGQ6OnRyYW5zZm9ybShzaXplcy5jYmVnaW4oKSwKICAgICAgICAgICAgICAgICBzaXplcy5jZW5kKCksCiAgICAgICAgICAgICAgICAgc3RkOjpiYWNrX2luc2VydGVyKGRpbWVuc2lvbnMpLAogICAgICAgICAgICAgICAgIHN0YXRpY19jYXN0PHN0ZDo6c3RyaW5nICgqKShpbnQpPigmc3RkOjp0b19zdHJpbmcpKTsKICByZXR1cm4gZGltZW5zaW9uczsKfQoKc3RhdGljIGlubGluZSBKU01hdERhdGEqCmpzX21hdF90cmFjayhKU0NvbnRleHQqIGN0eCwgSlNNYXREYXRhKiBzKSB7CiAgc3RkOjp2ZWN0b3I8Y3Y6Ok1hdCo+IGRlYWxsb2NhdGU7CgogIGZvcig7OykgewogICAgYXV0byBpdDIgPSBzdGQ6OmZpbmQobWF0X2ZyZWVkLmNiZWdpbigpLCBtYXRfZnJlZWQuY2VuZCgpLCBzKTsKICAgIGlmKGl0MiAhPSBtYXRfZnJlZWQuY2VuZCgpKSB7CiAgICAgIGRlYWxsb2NhdGUucHVzaF9iYWNrKHMpOwoKICAgICAgLy8gc3RkOjpjZXJyIDw8ICJhbGxvY2F0ZWQgQCIgPDwgc3RhdGljX2Nhc3Q8dm9pZCo+KHMpIDw8ICIgd2hpY2ggaXMgaW4gZnJlZSBsaXN0IiA8PAogICAgICAvLyBzdGQ6OmVuZGw7CgogICAgICAvLyBtYXRfZnJlZWQuZXJhc2UoaXQyKTsKICAgICAgcyA9IGpzX2FsbG9jYXRlPGN2OjpNYXQ+KGN0eCk7CiAgICAgIG1lbWNweShzLCBkZWFsbG9jYXRlW2RlYWxsb2NhdGUuc2l6ZSgpIC0gMV0sIHNpemVvZihKU01hdERhdGEpKTsKCiAgICB9IGVsc2UgewogICAgICBicmVhazsKICAgIH0KICB9CgogIG1hdF9saXN0LnB1c2hfYmFjayhzKTsKCiAgZm9yKGNvbnN0IGF1dG8mIHB0ciA6IGRlYWxsb2NhdGUpIGpzX2RlYWxsb2NhdGUoY3R4LCBwdHIpOwogIHJldHVybiBzOwp9CgpWSVNJQkxFIEpTVmFsdWUKanNfbWF0X25ldyhKU0NvbnRleHQqIGN0eCwgdWludDMyX3Qgcm93cywgdWludDMyX3QgY29scywgaW50IHR5cGUpIHsKICBKU1ZhbHVlIHJldDsKICBKU01hdERhdGEqIHM7CiAgaWYoSlNfSXNVbmRlZmluZWQobWF0X3Byb3RvKSkKICAgIGpzX21hdF9pbml0KGN0eCwgTlVMTCk7CiAgcmV0ID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIG1hdF9wcm90bywganNfbWF0X2NsYXNzX2lkKTsKICBzID0ganNfbWF0X3RyYWNrKGN0eCwganNfYWxsb2NhdGU8Y3Y6Ok1hdD4oY3R4KSk7CiAgaWYoY29scyB8fCByb3dzIHx8IHR5cGUpIHsKICAgIG5ldyhzKSBjdjo6TWF0KHJvd3MsIGNvbHMsIHR5cGUpOwogIH0gZWxzZSB7CiAgICBuZXcocykgY3Y6Ok1hdCgpOwogIH0KI2lmZGVmIERFQlVHX01BVAogIHN0ZDo6Y2VyciA8PCAoKGNvbHMgPiAwIHx8IHJvd3MgPiAwKSA/ICJqc19tYXRfbmV3IChoLHcpIiA6ICJqc19tYXRfbmV3ICAgICAgIik7CiAganNfbWF0X2R1bXAocyk7CiAgc3RkOjpjZXJyIDw8IHN0ZDo6ZW5kbDsKI2VuZGlmCiAgSlNfU2V0T3BhcXVlKHJldCwgcyk7CiAgcmV0dXJuIHJldDsKfQoKVklTSUJMRSBKU1ZhbHVlCmpzX21hdF93cmFwKEpTQ29udGV4dCogY3R4LCBjb25zdCBjdjo6TWF0JiBtYXQpIHsKICBKU1ZhbHVlIHJldDsKICBKU01hdERhdGEqIHM7CiAgcmV0ID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIG1hdF9wcm90bywganNfbWF0X2NsYXNzX2lkKTsKCiAgcyA9IGpzX21hdF90cmFjayhjdHgsIGpzX2FsbG9jYXRlPGN2OjpNYXQ+KGN0eCkpOwogIG5ldyhzKSBjdjo6TWF0KCk7CiAgKnMgPSBtYXQ7CiNpZmRlZiBERUJVR19NQVQKICBzdGQ6OmNlcnIgPDwgImpzX21hdF93cmFwICAgICAiOwogIGF1dG8gcG9zTGlzdCA9IHN0ZDo6ZmluZChtYXRfbGlzdC5jYmVnaW4oKSwgbWF0X2xpc3QuY2VuZCgpLCBjb25zdF9jYXN0PEpTTWF0RGF0YSo+KCZtYXQpKTsKICBib29sIGluTGlzdDsKICBpZigoaW5MaXN0ID0gcG9zTGlzdCAhPSBtYXRfbGlzdC5jZW5kKCkpKSB7CiAgICBzdGQ6OmNlcnIgPDwgImFyZ1siIDw8IChwb3NMaXN0IC0gbWF0X2xpc3QuY2JlZ2luKCkpIDw8ICJdPSIgPDwgc3RhdGljX2Nhc3Q8Y29uc3Qgdm9pZCo+KCZtYXQpOwogICAgc3RkOjpjZXJyIDw8ICIsIGluTGlzdChhcmcpPSIgPDwgKGluTGlzdCA/ICJ0cnVlIiA6ICJmYWxzZSIpOwogIH0gZWxzZSB7CiAgICBzdGQ6OmNlcnIgPDwgImFyZz0iIDw8IHN0YXRpY19jYXN0PGNvbnN0IHZvaWQqPigmbWF0KTsKICB9CiAganNfbWF0X2R1bXAocyk7CiAgc3RkOjpjZXJyIDw8IHN0ZDo6ZW5kbDsKI2VuZGlmCgogIEpTX1NldE9wYXF1ZShyZXQsIHMpOwogIHJldHVybiByZXQ7Cn0KCiNpZmRlZiBERUJVR19NQVQKc3RhdGljIGlubGluZSBzdGQ6Om1hcDx2b2lkKiwgc3RkOjp2ZWN0b3I8SlNNYXREYXRhKj4+CmpzX21hdF9kYXRhKHZvaWQqIGRhdGEgPSBudWxscHRyKSB7CiAgc3RkOjptYXA8dm9pZCosIHN0ZDo6dmVjdG9yPEpTTWF0RGF0YSo+PiByZXQ7CiAgZm9yKGF1dG8gbWF0IDogbWF0X2xpc3QpIHsKICAgIGNvbnN0IGF1dG8gdSA9IG1hdC0+dTsKICAgIGlmKHUgIT0gbnVsbHB0ciAmJiAoZGF0YSA9PSBudWxscHRyIHx8IHUgPT0gZGF0YSkpIHsKICAgICAgdm9pZCogZGF0YSA9IHU7CiAgICAgIGlmKHJldC5maW5kKGRhdGEpID09IHJldC5lbmQoKSkgewogICAgICAgIHN0ZDo6dmVjdG9yPEpTTWF0RGF0YSo+IHZ7bWF0fTsKICAgICAgICByZXQuaW5zZXJ0KHtkYXRhLCB2fSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0W2RhdGFdLnB1c2hfYmFjayhtYXQpOwogICAgICB9CiAgICB9CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBpbmxpbmUgdm9pZApqc19tYXRfcHJpbnRfZGF0YShjb25zdCBzdGQ6Om1hcDx2b2lkKiwgc3RkOjp2ZWN0b3I8SlNNYXREYXRhKj4+JiBkYXRhLCBzaXplX3QgbWluU2l6ZSA9IDEpIHsKCiAgZm9yKGNvbnN0IGF1dG8mIFtrZXksIHZhbHVlXSA6IGRhdGEpIHsKCiAgICBpZih2YWx1ZS5zaXplKCkgPj0gbWluU2l6ZSkgewogICAgICBzdGQ6OmNlcnIgPDwgImRhdGEgQCIgPDwga2V5IDw8ICIgPSI7CgogICAgICBmb3IoY29uc3QgYXV0byYgcHRyIDogdmFsdWUpIHsKICAgICAgICBzaXplX3QgcmVmY291bnQgPSBwdHItPnUgPyBwdHItPnUtPnJlZmNvdW50IDogMDsKICAgICAgICBzdGQ6OmNlcnIgPDwgIiBtYXQgQCIgPDwgc3RhdGljX2Nhc3Q8dm9pZCo+KHB0cik7CiAgICAgICAgaWYocmVmY291bnQgPiAxKQogICAgICAgICAgc3RkOjpjZXJyIDw8ICIgKHJlZmNvdW50PSIgPDwgcmVmY291bnQgPDwgIikiOwogICAgICB9CiAgICAgIHN0ZDo6Y2VyciA8PCBzdGQ6OmVuZGw7CiAgICB9CiAgfQp9CgpzdGF0aWMgaW5saW5lIHZvaWQKanNfbWF0X2R1bXAoSlNNYXREYXRhKiBjb25zdCBzKSB7CiAgYXV0byBwb3NMaXN0ID0gc3RkOjpmaW5kKG1hdF9saXN0LmNiZWdpbigpLCBtYXRfbGlzdC5jZW5kKCksIHMpOwogIGJvb2wgaW5MaXN0ID0gcG9zTGlzdCAhPSBtYXRfbGlzdC5jZW5kKCk7CiAgYm9vbCBpbkZyZWVkID0gc3RkOjpmaW5kKG1hdF9mcmVlZC5jYmVnaW4oKSwgbWF0X2ZyZWVkLmNlbmQoKSwgcykgIT0gbWF0X2ZyZWVkLmNlbmQoKTsKICBjb25zdCBhdXRvIHUgPSBzLT51OwogIHN0ZDo6Y2VyciA8PCAiIG1hdCIKICAgICAgICAgICAgPDwgIlsiIDw8IChwb3NMaXN0IC0gbWF0X2xpc3QuY2JlZ2luKCkpIDw8ICJdPSIgPDwgc3RhdGljX2Nhc3Q8dm9pZCo+KHMpOwoKICBpZihpbkxpc3QpCiAgICBzdGQ6OmNlcnIgPDwgIiwgaW5MaXN0PSIgPDwgKGluTGlzdCA/ICJ0cnVlIiA6ICJmYWxzZSIpOwogIGlmKGluRnJlZWQpCiAgICBzdGQ6OmNlcnIgPDwgIiwgaW5GcmVlZD0iIDw8IChpbkZyZWVkID8gInRydWUiIDogImZhbHNlIik7CgogIGlmKHMtPnJvd3MgfHwgcy0+Y29scyB8fCBzLT5jaGFubmVscygpID4gMSB8fCBzLT5kZXB0aCgpID4gMCkgewogICAgc3RkOjpjZXJyIDw8ICIsIHJvd3M9IiA8PCBzLT5yb3dzOwogICAgc3RkOjpjZXJyIDw8ICIsIGNvbHM9IiA8PCBzLT5jb2xzOwogICAgc3RkOjpjZXJyIDw8ICIsIGNoYW5uZWxzPSIgPDwgcy0+Y2hhbm5lbHMoKTsKICAgIHN0ZDo6Y2VyciA8PCAiLCBkZXB0aD0iIDw8IHMtPmRlcHRoKCk7CiAgfQoKICBpZih1ICE9IG51bGxwdHIpIHsKCiAgICAvLyBpZih1LT5yZWZjb3VudCkKICAgIHN0ZDo6Y2VyciA8PCAiLCByZWZjb3VudD0iIDw8IHUtPnJlZmNvdW50OwogICAgaWYodS0+ZGF0YSkKICAgICAgc3RkOjpjZXJyIDw8ICIsIGRhdGE9IiA8PCBzdGF0aWNfY2FzdDx2b2lkKj4odS0+ZGF0YSk7CiAgICBpZih1LT5zaXplKQogICAgICBzdGQ6OmNlcnIgPDwgIiwgc2l6ZT0iIDw8IHUtPnNpemU7CiAgfQp9CiNlbmRpZgoKc3RhdGljIHN0ZDo6cGFpcjxKU1NpemVEYXRhPHVpbnQzMl90PiwgaW50Pgpqc19tYXRfcGFyYW1zKEpTQ29udGV4dCogY3R4LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNTaXplRGF0YTx1aW50MzJfdD4gc2l6ZTsKICBpbnQzMl90IHR5cGUgPSAwOwogIGlmKGFyZ2MgPiAwKSB7CiAgICBpZihqc19zaXplX3JlYWQoY3R4LCBhcmd2WzBdLCAmc2l6ZSkpIHsKICAgICAgYXJndisrOwogICAgICBhcmdjLS07CiAgICB9IGVsc2UgewogICAgICBKU19Ub1VpbnQzMihjdHgsICZzaXplLmhlaWdodCwgYXJndlswXSk7CiAgICAgIEpTX1RvVWludDMyKGN0eCwgJnNpemUud2lkdGgsIGFyZ3ZbMV0pOwogICAgICBhcmd2ICs9IDI7CiAgICAgIGFyZ2MgLT0gMjsKICAgIH0KICAgIGlmKGFyZ2MgPiAwKSB7CiAgICAgIGlmKCFKU19Ub0ludDMyKGN0eCwgJnR5cGUsIGFyZ3ZbMF0pKSB7CiAgICAgICAgYXJndisrOwogICAgICAgIGFyZ2MtLTsKICAgICAgfQogICAgfQogIH0KICByZXR1cm4gc3RkOjptYWtlX3BhaXIoc2l6ZSwgdHlwZSk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21hdF9jdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgbmV3X3RhcmdldCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewoKICBjb25zdCBhdXRvJiBbc2l6ZSwgdHlwZV0gPSBqc19tYXRfcGFyYW1zKGN0eCwgYXJnYywgYXJndik7CgogIHJldHVybiBqc19tYXRfbmV3KGN0eCwgc2l6ZS5oZWlnaHQsIHNpemUud2lkdGgsIHR5cGUpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19tYXRfZnVuY3MoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndiwgaW50IG1hZ2ljKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgaW50NjRfdCBpID0gLTEsIGkyID0gLTE7CiAgSlNQb2ludERhdGE8ZG91YmxlPiBwdDsKICBKU01hdERhdGEqIG0gPSBqc19tYXRfZGF0YShjdHgsIHRoaXNfdmFsKTsKCiAgaWYoYXJnYyA+IDApIHsKICAgIEpTX1RvSW50NjQoY3R4LCAmaSwgYXJndlswXSk7CiAgICBwdCA9IGpzX3BvaW50X2dldChjdHgsIGFyZ3ZbMF0pOwogICAgaWYoYXJnYyA+IDEpIHsKICAgICAgSlNfVG9JbnQ2NChjdHgsICZpMiwgYXJndlsxXSk7CiAgICB9CiAgfQoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgTUVUSE9EX0NPTDogewogICAgICByZXQgPSBqc19tYXRfd3JhcChjdHgsIG0tPmNvbChpKSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBNRVRIT0RfUk9XOiB7CiAgICAgIHJldCA9IGpzX21hdF93cmFwKGN0eCwgbS0+cm93KGkpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIE1FVEhPRF9DT0xfUkFOR0U6IHsKICAgICAgcmV0ID0ganNfbWF0X3dyYXAoY3R4LCBtLT5jb2xSYW5nZShpLCBpMikpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTUVUSE9EX1JPV19SQU5HRTogewogICAgICByZXQgPSBqc19tYXRfd3JhcChjdHgsIG0tPnJvd1JhbmdlKGksIGkyKSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBNRVRIT0RfQ0xPTkU6IHsKICAgICAgcmV0ID0ganNfbWF0X3dyYXAoY3R4LCBtLT5jbG9uZSgpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIE1FVEhPRF9ST0k6IHsKICAgICAgSlNSZWN0RGF0YTxkb3VibGU+IHJlY3QgPSB7MCwgMCwgMCwgMH07CgogICAgICBpZihhcmdjID4gMCkKICAgICAgICByZWN0ID0ganNfcmVjdF9nZXQoY3R4LCBhcmd2WzBdKTsKCiAgICAgIHJldCA9IGpzX21hdF93cmFwKGN0eCwgKCptKShyZWN0KSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBNRVRIT0RfUkVMRUFTRTogewogICAgICBtLT5yZWxlYXNlKCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBNRVRIT0RfRFVQOiB7CiAgICAgIHJldCA9IGpzX21hdF93cmFwKGN0eCwgKm0pOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTUVUSE9EX0NMRUFSOiB7CiAgICAgICptID0gY3Y6Ok1hdDo6emVyb3MobS0+cm93cywgbS0+Y29scywgbS0+dHlwZSgpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIE1FVEhPRF9SRVNFVDogewogICAgICAqbSA9IGN2OjpNYXQoKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIE1FVEhPRF9SRVNJWkU6IHsKICAgICAgdWludDMyX3Qgcm93cyA9IDA7CiAgICAgIGN2OjpTY2FsYXIgY29sb3J7MCwgMCwgMCwgMH07CgogICAgICBKU19Ub1VpbnQzMihjdHgsICZyb3dzLCBhcmd2WzBdKTsKICAgICAgaWYoYXJnYyA+IDEpIHsKICAgICAgICBqc19jb2xvcl9yZWFkKGN0eCwgYXJndlsxXSwgJmNvbG9yKTsKICAgICAgICBtLT5yZXNpemUocm93cywgY29sb3IpOwogICAgICB9IGVsc2UgewogICAgICAgIG0tPnJlc2l6ZShyb3dzKTsKICAgICAgfQogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTUVUSE9EX1NURVAxOiB7CiAgICAgIGludDMyX3QgaSA9IDA7CgogICAgICBKU19Ub0ludDMyKGN0eCwgJmksIGFyZ3ZbMF0pOwogICAgICByZXQgPSBKU19OZXdJbnQ2NChjdHgsIG0tPnN0ZXAxKGkpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIE1FVEhPRF9MT0NBVEVfUk9JOiB7CiAgICAgIGN2OjpTaXplIHdob2xlU2l6ZTsKICAgICAgY3Y6OlBvaW50IG9mczsKICAgICAgbS0+bG9jYXRlUk9JKHdob2xlU2l6ZSwgb2ZzKTsKICAgICAganNfc2l6ZV93cml0ZShjdHgsIGFyZ3ZbMF0sIHdob2xlU2l6ZSk7CiAgICAgIGpzX3BvaW50X3dyaXRlKGN0eCwgYXJndlswXSwgb2ZzKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIE1FVEhPRF9QVFI6IHsKICAgICAgdWludDMyX3Qgcm93ID0gMCwgY29sID0gMDsKICAgICAgdWNoYXIqIHB0cjsKICAgICAgc3RkOjpvc3RyaW5nc3RyZWFtIG9zOwogICAgICBpZihhcmdjID4gMCkKICAgICAgICBKU19Ub1VpbnQzMihjdHgsICZyb3csIGFyZ3ZbMF0pOwogICAgICBpZihhcmdjID4gMSkKICAgICAgICBKU19Ub1VpbnQzMihjdHgsICZjb2wsIGFyZ3ZbMV0pOwogICAgICBwdHIgPSBtLT5wdHI8dWNoYXI+KHJvdywgY29sKTsKCiAgICAgIG9zIDw8IHN0YXRpY19jYXN0PHZvaWQqPihwdHIpOwoKICAgICAgcmV0ID0ganNfdmFsdWVfZnJvbShjdHgsIG9zLnN0cigpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19tYXRfZXhwcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2LCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBKU0NvbG9yRGF0YTxkb3VibGU+IGNvbG9yOwogIGRvdWJsZSB2YWx1ZSA9IDA7CiAgSlNNYXREYXRhICppbnB1dCA9IG51bGxwdHIsICpvdXRwdXQgPSBudWxscHRyLCAqb3RoZXIgPSBudWxscHRyOwogIGRvdWJsZSBzY2FsZSA9IDEuMDsKCiAgaWYoKGlucHV0ID0ganNfbWF0X2RhdGEoY3R4LCB0aGlzX3ZhbCkpID09IG51bGxwdHIpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihhcmdjIDwgMSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGlmKEpTX0lzTnVtYmVyKGFyZ3ZbMF0pKSB7CiAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmdmFsdWUsIGFyZ3ZbMF0pOwoKICB9IGVsc2UgaWYoKG90aGVyID0ganNfbWF0X2RhdGFfbm90aHJvdyhhcmd2WzBdKSkgPT0gbnVsbHB0cikKICAgIGpzX2NvbG9yX3JlYWQoY3R4LCBhcmd2WzBdLCAmY29sb3IpOwoKICBpZihtYWdpYyA9PSAzICYmIGFyZ2MgPiAxKSB7CiAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmc2NhbGUsIGFyZ3ZbMV0pOwogICAgYXJndisrOwogICAgYXJnYy0tOwogIH0KCiAgaWYoYXJnYyA+IDEpCiAgICBvdXRwdXQgPSBqc19tYXRfZGF0YShjdHgsIGFyZ3ZbMV0pOwoKICBpZihvdXRwdXQgPT0gbnVsbHB0cikKICAgIG91dHB1dCA9IGlucHV0OwoKICB7CiAgICBjdjo6TWF0RXhwciBleHByOwogICAgY3Y6Ok1hdCB0bXAoaW5wdXQtPnJvd3MsIGlucHV0LT5jb2xzLCBpbnB1dC0+dHlwZSgpKTsKCiAgICBpZihvdGhlciA9PSBudWxscHRyKSB7CiAgICAgIGN2OjpNYXQmIG1hdCA9ICppbnB1dDsKCiAgICAgIGlmKG1hdC5jaGFubmVscygpID09IDEpIHsKCiAgICAgICAgaWYobWF0LmRlcHRoKCkgPT0gMCkgewogICAgICAgICAgc3dpdGNoKG1hZ2ljKSB7CiAgICAgICAgICAgIGNhc2UgTUFUX0VYUFJfQU5EOiBtYXQgJj0gKHVjaGFyKXZhbHVlOyBicmVhazsKICAgICAgICAgICAgY2FzZSBNQVRfRVhQUl9PUjogY3Y6OmJpdHdpc2Vfb3IobWF0LCBjdjo6U2NhbGFyKHZhbHVlLCB2YWx1ZSwgdmFsdWUsIHZhbHVlKSwgbWF0KTsgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgTUFUX0VYUFJfWE9SOiBtYXQgXj0gKHVjaGFyKXZhbHVlOyBicmVhazsKICAgICAgICAgICAgY2FzZSBNQVRfRVhQUl9NVUw6IG1hdCA9IG1hdCAqIHZhbHVlOyBicmVhazsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgc3dpdGNoKG1hZ2ljKSB7CiAgICAgICAgICAgIGNhc2UgTUFUX0VYUFJfQU5EOiBtYXQgJj0gdmFsdWU7IGJyZWFrOwogICAgICAgICAgICBjYXNlIE1BVF9FWFBSX09SOiBjdjo6Yml0d2lzZV9vcihtYXQsIGN2OjpTY2FsYXIodmFsdWUsIHZhbHVlLCB2YWx1ZSwgdmFsdWUpLCBtYXQpOyBicmVhazsKICAgICAgICAgICAgY2FzZSBNQVRfRVhQUl9YT1I6IG1hdCBePSB2YWx1ZTsgYnJlYWs7CiAgICAgICAgICAgIGNhc2UgTUFUX0VYUFJfTVVMOiBtYXQgKj0gdmFsdWU7IGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICBjdjo6U2NhbGFyJiBzY2FsYXIgPSAqcmVpbnRlcnByZXRfY2FzdDxjdjo6U2NhbGFyKj4oJmNvbG9yKTsKCiAgICAgICAgLy8gc3RkOjpjZXJyIDw8ICJqc19tYXRfZXhwciBpbnB1dD0iIDw8ICh2b2lkKilpbnB1dCA8PCAiIG91dHB1dD0iIDw8ICh2b2lkKilvdXRwdXQgPDwgIiBzY2FsYXI9IiA8PAogICAgICAgIC8vIHNjYWxhciA8PCBzdGQ6OmVuZGw7CgogICAgICAgIHN3aXRjaChtYWdpYykgewogICAgICAgICAgY2FzZSBNQVRfRVhQUl9BTkQ6IGV4cHIgPSBtYXQgJiBzY2FsYXI7IGJyZWFrOwogICAgICAgICAgY2FzZSBNQVRfRVhQUl9PUjogZXhwciA9IG1hdCB8IHNjYWxhcjsgYnJlYWs7CiAgICAgICAgICBjYXNlIE1BVF9FWFBSX1hPUjogZXhwciA9IG1hdCBeIHNjYWxhcjsgYnJlYWs7CiAgICAgICAgICBjYXNlIE1BVF9FWFBSX01VTDogZXhwciA9IG1hdC5tdWwoc2NhbGFyLCBzY2FsZSk7IGJyZWFrOwogICAgICAgIH0KICAgICAgICB0bXAgPSBzdGF0aWNfY2FzdDxjdjo6TWF0PihleHByKTsKICAgICAgfQoKICAgIH0gZWxzZSB7CgogICAgICBpZihpbnB1dC0+cm93cyAhPSBvdGhlci0+cm93cyB8fCBpbnB1dC0+Y29scyAhPSBvdGhlci0+Y29scykgewogICAgICAgIHJldCA9IEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJNYXQgZGltZW5zaW9ucyBtaXNtYXRjaCIpOwogICAgICB9IGVsc2UgaWYoaW5wdXQtPnR5cGUoKSAhPSBvdGhlci0+dHlwZSgpKSB7CiAgICAgICAgcmV0ID0gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgIk1hdCB0eXBlIG1pc21hdGNoIik7CiAgICAgIH0gZWxzZSBpZihpbnB1dC0+Y2hhbm5lbHMoKSAhPSBvdGhlci0+Y2hhbm5lbHMoKSkgewogICAgICAgIHJldCA9IEpTX1Rocm93SW50ZXJuYWxFcnJvcihjdHgsICJNYXQgY2hhbm5lbHMgbWlzbWF0Y2giKTsKICAgICAgfSBlbHNlIHsKCiAgICAgICAgaWYoaW5wdXQgPT0gb3V0cHV0KSB7CiAgICAgICAgICBzd2l0Y2gobWFnaWMpIHsKICAgICAgICAgICAgY2FzZSBNQVRfRVhQUl9BTkQ6ICgqaW5wdXQpICY9ICgqb3RoZXIpOyBicmVhazsKICAgICAgICAgICAgY2FzZSBNQVRfRVhQUl9PUjogKCppbnB1dCkgfD0gKCpvdGhlcik7IGJyZWFrOwogICAgICAgICAgICBjYXNlIE1BVF9FWFBSX1hPUjogKCppbnB1dCkgXj0gKCpvdGhlcik7IGJyZWFrOwogICAgICAgICAgICBjYXNlIE1BVF9FWFBSX01VTDogKCppbnB1dCkgKj0gKCpvdGhlcik7IGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzd2l0Y2gobWFnaWMpIHsKICAgICAgICAgICAgY2FzZSBNQVRfRVhQUl9BTkQ6ICgqb3V0cHV0KSA9ICgqaW5wdXQpICYgKCpvdGhlcik7IGJyZWFrOwogICAgICAgICAgICBjYXNlIE1BVF9FWFBSX09SOiAoKm91dHB1dCkgPSAoKmlucHV0KSB8ICgqb3RoZXIpOyBicmVhazsKICAgICAgICAgICAgY2FzZSBNQVRfRVhQUl9YT1I6ICgqb3V0cHV0KSA9ICgqaW5wdXQpIF4gKCpvdGhlcik7IGJyZWFrOwogICAgICAgICAgICBjYXNlIE1BVF9FWFBSX01VTDogKCpvdXRwdXQpID0gKCppbnB1dCkgKiAoKm90aGVyKTsgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19tYXRfaW5pdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2LCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBKU01hdERhdGEqIG07CgogIGF1dG8gW3NpemUsIHR5cGVdID0ganNfbWF0X3BhcmFtcyhjdHgsIGFyZ2MsIGFyZ3YpOwoKICBpZigobSA9IGpzX21hdF9kYXRhKGN0eCwgdGhpc192YWwpKSkgewogICAgaWYoc2l6ZS53aWR0aCA9PSAwIHx8IHNpemUuaGVpZ2h0ID09IDApIHsKICAgICAgaWYobS0+cm93cyAmJiBtLT5jb2xzKSB7CiAgICAgICAgc2l6ZS53aWR0aCA9IG0tPmNvbHM7CiAgICAgICAgc2l6ZS5oZWlnaHQgPSBtLT5yb3dzOwogICAgICAgIHR5cGUgPSBtLT50eXBlKCk7CiAgICAgIH0KICAgIH0KICAgIHJldCA9IEpTX0R1cFZhbHVlKGN0eCwgdGhpc192YWwpOwogIH0gZWxzZSBpZihzaXplLndpZHRoID4gMCAmJiBzaXplLmhlaWdodCA+IDApIHsKICAgIHJldCA9IGpzX21hdF9uZXcoY3R4LCBzaXplLmhlaWdodCwgc2l6ZS53aWR0aCwgdHlwZSk7CgogICAgbSA9IGpzX21hdF9kYXRhKGN0eCwgcmV0KTsKICB9IGVsc2UgewogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICB9CgogIGN2OjpNYXQmIG1hdCA9ICptOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgMDogewogICAgICBtYXQgPSBjdjo6TWF0Ojp6ZXJvcyhzaXplLCB0eXBlKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIDE6IHsKICAgICAgbWF0ID0gY3Y6Ok1hdDo6b25lcyhzaXplLCB0eXBlKTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gcmV0Owp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgp2b2lkCmpzX21hdF9nZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgdWludDMyX3Qgcm93LCB1aW50MzJfdCBjb2wsIFQmIHZhbHVlKSB7CiAgY3Y6Ok1hdCogbSA9IGpzX21hdF9kYXRhKGN0eCwgdGhpc192YWwpOwoKICBpZihtKQogICAgdmFsdWUgPSAoKm0pLmF0PFQ+KHJvdywgY29sKTsKICBlbHNlCiAgICB2YWx1ZSA9IFQoKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfbWF0X2dldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCB1aW50MzJfdCByb3csIHVpbnQzMl90IGNvbCkgewogIEpTVmFsdWUgcmV0ID0gSlNfRVhDRVBUSU9OOwogIGN2OjpNYXQqIG0gPSBqc19tYXRfZGF0YShjdHgsIHRoaXNfdmFsKTsKCiAgaWYobSkgewogICAgdWludDMyX3QgYnl0ZXMgPSBtLT5lbGVtU2l6ZSgpOwogICAgc2l6ZV90IGNoYW5uZWxzID0gbWF0X2NoYW5uZWxzKCptKTsKICAgIHNpemVfdCBvZmZzZXQgPSBtYXRfb2Zmc2V0KCptLCByb3csIGNvbCk7CgogICAgaWYoY2hhbm5lbHMgPT0gMSkgewogICAgICBzd2l0Y2gobS0+dHlwZSgpKSB7CgogICAgICAgIGNhc2UgQ1ZfOFVDMTogewogICAgICAgICAgdWludDhfdCB2YWx1ZTsKICAgICAgICAgIGpzX21hdF9nZXQoY3R4LCB0aGlzX3ZhbCwgcm93LCBjb2wsIHZhbHVlKTsKICAgICAgICAgIHJldCA9IEpTX05ld1VpbnQzMihjdHgsIHZhbHVlKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KCiAgICAgICAgY2FzZSBDVl8xNlVDMTogewogICAgICAgICAgdWludDE2X3QgdmFsdWU7CiAgICAgICAgICBqc19tYXRfZ2V0KGN0eCwgdGhpc192YWwsIHJvdywgY29sLCB2YWx1ZSk7CiAgICAgICAgICByZXQgPSBKU19OZXdVaW50MzIoY3R4LCB2YWx1ZSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgICAgY2FzZSBDVl8zMlNDMTogewogICAgICAgICAgaW50MzJfdCB2YWx1ZTsKICAgICAgICAgIGpzX21hdF9nZXQoY3R4LCB0aGlzX3ZhbCwgcm93LCBjb2wsIHZhbHVlKTsKICAgICAgICAgIHJldCA9IEpTX05ld0ludDMyKGN0eCwgdmFsdWUpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIGNhc2UgQ1ZfMzJGQzE6IHsKICAgICAgICAgIGZsb2F0IHZhbHVlOwogICAgICAgICAganNfbWF0X2dldChjdHgsIHRoaXNfdmFsLCByb3csIGNvbCwgdmFsdWUpOwogICAgICAgICAgcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsIHZhbHVlKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBjYXNlIENWXzY0RkMxOiB7CiAgICAgICAgICBkb3VibGUgdmFsdWU7CiAgICAgICAgICBqc19tYXRfZ2V0KGN0eCwgdGhpc192YWwsIHJvdywgY29sLCB2YWx1ZSk7CiAgICAgICAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgdmFsdWUpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIGRlZmF1bHQ6IHsKICAgICAgICAgIHJldCA9IEpTX1Rocm93VHlwZUVycm9yKGN0eCwgIkludmFsaWQgTWF0IHR5cGUgJXUiLCBtLT50eXBlKCkpOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CgogICAgfSBlbHNlIHsKICAgICAgSlNWYWx1ZSBidWZmZXIgPSBqc19hcnJheWJ1ZmZlcl9mcm9tKGN0eCwgYmVnaW4oKm0pLCBlbmQoKm0pKTsKICAgICAgVHlwZWRBcnJheVR5cGUgdHlwZSgqbSk7CgogICAgICByZXQgPSBqc190eXBlZGFycmF5X25ldyhjdHgsIGJ1ZmZlciwgb2Zmc2V0LCBjaGFubmVscywgdHlwZSk7CiAgICB9CiAgICByZXR1cm4gcmV0OwogIH0KICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgaW50CmpzX21hdF9nZXRfd2goSlNDb250ZXh0KiBjdHgsIEpTTWF0RGltZW5zaW9ucyogc2l6ZSwgSlNWYWx1ZUNvbnN0IG9iaikgewogIGN2OjpNYXQqIG0gPSBqc19tYXRfZGF0YShjdHgsIG9iaik7CgogIGlmKG0pIHsKICAgIHNpemUtPnJvd3MgPSBtLT5yb3dzOwogICAgc2l6ZS0+Y29scyA9IG0tPmNvbHM7CiAgICByZXR1cm4gMTsKICB9CiAgcmV0dXJuIDA7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21hdF9hdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNNYXREYXRhKiBtID0ganNfbWF0X2RhdGEoY3R4LCB0aGlzX3ZhbCk7CiAgaWYoIW0pCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIEpTUG9pbnREYXRhPGRvdWJsZT4gcHQ7CiAgSlNWYWx1ZSByZXQ7CiAgdWludDMyX3Qgcm93ID0gMCwgY29sID0gMDsKICBpZihqc19wb2ludF9yZWFkKGN0eCwgYXJndlswXSwgJnB0KSkgewogICAgY29sID0gcHQueDsKICAgIHJvdyA9IHB0Lnk7CiAgfSBlbHNlIGlmKGFyZ2MgPj0gMiAmJiBKU19Jc051bWJlcihhcmd2WzBdKSAmJiBKU19Jc051bWJlcihhcmd2WzFdKSkgewogICAgSlNfVG9VaW50MzIoY3R4LCAmcm93LCBhcmd2WzBdKTsKICAgIEpTX1RvVWludDMyKGN0eCwgJmNvbCwgYXJndlsxXSk7CiAgICBhcmdjIC09IDI7CiAgICBhcmd2ICs9IDI7CiAgfSBlbHNlIGlmKGFyZ2MgPj0gMSAmJiBKU19Jc051bWJlcihhcmd2WzBdKSkgewogICAgSlNNYXREaW1lbnNpb25zIGRpbSA9IHt1aW50MzJfdChtLT5yb3dzKSwgdWludDMyX3QobS0+Y29scyl9OwogICAgdWludDMyX3QgaWR4OwoKICAgIEpTX1RvVWludDMyKGN0eCwgJmlkeCwgYXJndlswXSk7CiAgICByb3cgPSBpZHggLyBkaW0uY29sczsKICAgIGNvbCA9IGlkeCAlIGRpbS5jb2xzOwogIH0KICByZXR1cm4ganNfbWF0X2dldChjdHgsIHRoaXNfdmFsLCByb3csIGNvbCk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21hdF9zZXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIGN2OjpNYXQqIG0gPSBqc19tYXRfZGF0YShjdHgsIHRoaXNfdmFsKTsKICB1aW50MzJfdCBieXRlczsKICBpZighbSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIEpTUG9pbnREYXRhPGRvdWJsZT4gcHQ7CiAgSlNWYWx1ZSByZXQ7CiAgaW50MzJfdCBjb2wgPSAtMSwgcm93ID0gLTE7CgogIGlmKGpzX3BvaW50X3JlYWQoY3R4LCBhcmd2WzBdLCAmcHQpKSB7CiAgICBjb2wgPSBwdC54OwogICAgcm93ID0gcHQueTsKICAgIGFyZ2MtLTsKICAgIGFyZ3YrKzsKICB9IGVsc2UgewogICAgaWYoYXJnYyA+PSAxKSB7CiAgICAgIEpTX1RvSW50MzIoY3R4LCAmcm93LCBhcmd2WzBdKTsKICAgICAgYXJnYy0tOwogICAgICBhcmd2Kys7CiAgICB9CiAgICBpZihhcmdjID49IDEpIHsKICAgICAgSlNfVG9JbnQzMihjdHgsICZjb2wsIGFyZ3ZbMF0pOwogICAgICBhcmdjLS07CiAgICAgIGFyZ3YrKzsKICAgIH0KICB9CiAgYnl0ZXMgPSBtLT5lbGVtU2l6ZSgpOwogIGlmKG0tPnR5cGUoKSA9PSBDVl8zMkZDMSkgewogICAgZG91YmxlIGRhdGE7CiAgICBpZihKU19Ub0Zsb2F0NjQoY3R4LCAmZGF0YSwgYXJndlswXSkpCiAgICAgIHJldHVybiBKU19FWENFUFRJT047CiAgICAoKm0pLmF0PGZsb2F0Pihyb3csIGNvbCkgPSAoZmxvYXQpZGF0YTsKICB9IGVsc2UgaWYoYnl0ZXMgPD0gc2l6ZW9mKHVpbnQpKSB7CiAgICB1aW50MzJfdCBtYXNrID0gKDFMVSA8PCAoYnl0ZXMgKiA4KSkgLSAxOwogICAgdWludDMyX3QgZGF0YTsKICAgIGlmKEpTX1RvVWludDMyKGN0eCwgJmRhdGEsIGFyZ3ZbMF0pKQogICAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICAgIGlmKGJ5dGVzIDw9IDEpIHsKICAgICAgdWludDhfdCogcCA9ICYoKm0pLmF0PHVpbnQ4X3Q+KHJvdywgY29sKTsKICAgICAgKnAgPSAodWludDhfdClkYXRhICYgbWFzazsKICAgIH0gZWxzZSBpZihieXRlcyA8PSAyKSB7CiAgICAgIHVpbnQxNl90KiBwID0gJigqbSkuYXQ8dWludDE2X3Q+KHJvdywgY29sKTsKICAgICAgKnAgPSAodWludDE2X3QpZGF0YSAmIG1hc2s7CgogICAgfSBlbHNlIGlmKGJ5dGVzIDw9IDQpIHsKICAgICAgdWludCogcCA9ICYoKm0pLmF0PHVpbnQ+KHJvdywgY29sKTsKICAgICAgKnAgPSAodWludClkYXRhICYgbWFzazsKICAgIH0KCiAgfSBlbHNlCiAgICByZXR1cm4gSlNfVU5ERUZJTkVEOwogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KLyoKdGVtcGxhdGU8Y2xhc3MgVD4KdHlwZW5hbWUgc3RkOjplbmFibGVfaWY8c3RkOjppc19pbnRlZ3JhbDxUPjo6dmFsdWUsIHZvaWQ+Ojp0eXBlCmpzX21hdF92ZWN0b3JfZ2V0KEpTQ29udGV4dCogY3R4LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2LCBzdGQ6OnZlY3RvcjxUPiYgb3V0cHV0LApzdGQ6OnZlY3Rvcjxib29sPiYgZGVmaW5lZCkgeyBvdXRwdXQucmVzaXplKHN0YXRpY19jYXN0PHNpemVfdD4oYXJnYykpOwogIGRlZmluZWQucmVzaXplKHN0YXRpY19jYXN0PHNpemVfdD4oYXJnYykpOwogIGZvcihpbnQgaSA9IDA7IGkgPCBhcmdjOyBpKyspIHsKICAgIHVpbnQzMl90IHZhbCA9IDA7CiAgICBib29sIGlzRGVmID0gSlNfSXNOdW1iZXIoYXJndltpXSkgJiYgIUpTX1RvVWludDMyKGN0eCwgJnZhbCwgYXJndltpXSk7CgogICAgb3V0cHV0W2ldID0gdmFsOwogICAgZGVmaW5lZFtpXSA9IGlzRGVmOwogIH0KfQoKdGVtcGxhdGU8Y2xhc3MgVD4KdHlwZW5hbWUgc3RkOjplbmFibGVfaWY8c3RkOjppc19mbG9hdGluZ19wb2ludDxUPjo6dmFsdWUsIHZvaWQ+Ojp0eXBlCmpzX21hdF92ZWN0b3JfZ2V0KEpTQ29udGV4dCogY3R4LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2LCBzdGQ6OnZlY3RvcjxUPiYgb3V0cHV0LApzdGQ6OnZlY3Rvcjxib29sPiYgZGVmaW5lZCkgeyBvdXRwdXQucmVzaXplKHN0YXRpY19jYXN0PHNpemVfdD4oYXJnYykpOwogIGRlZmluZWQucmVzaXplKHN0YXRpY19jYXN0PHNpemVfdD4oYXJnYykpOwogIGZvcihpbnQgaSA9IDA7IGkgPCBhcmdjOyBpKyspIHsKICAgIGRvdWJsZSB2YWwgPSAwOwogICAgYm9vbCBpc0RlZiA9IEpTX0lzTnVtYmVyKGFyZ3ZbaV0pICYmICFKU19Ub0Zsb2F0NjQoY3R4LCAmdmFsLCBhcmd2W2ldKTsKCiAgICBvdXRwdXRbaV0gPSB2YWw7CiAgICBkZWZpbmVkW2ldID0gaXNEZWY7CiAgfQp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPgp0eXBlbmFtZSBzdGQ6OmVuYWJsZV9pZjxzdGQ6OmlzX2ludGVncmFsPHR5cGVuYW1lIFQ6OnZhbHVlX3R5cGU+Ojp2YWx1ZSwgdm9pZD46OnR5cGUKanNfbWF0X3ZlY3Rvcl9nZXQoSlNDb250ZXh0KiBjdHgsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YsIHN0ZDo6dmVjdG9yPFQ+JiBvdXRwdXQsCnN0ZDo6dmVjdG9yPGJvb2w+JiBkZWZpbmVkKSB7IGNvbnN0IHNpemVfdCBiaXRzID0gKHNpemVvZih0eXBlbmFtZSBUOjp2YWx1ZV90eXBlKSAqIDgpOyBjb25zdCBzaXplX3QKbiA9IFQ6OmNoYW5uZWxzOyBvdXRwdXQucmVzaXplKHN0YXRpY19jYXN0PHNpemVfdD4oYXJnYykpOwogIGRlZmluZWQucmVzaXplKHN0YXRpY19jYXN0PHNpemVfdD4oYXJnYykpOwogIGZvcihpbnQgaSA9IDA7IGkgPCBhcmdjOyBpKyspIHsKICAgIGRvdWJsZSB2YWwgPSAwOwogICAgYm9vbCBpc0RlZiA9IEpTX0lzTnVtYmVyKGFyZ3ZbaV0pICYmICFKU19Ub0Zsb2F0NjQoY3R4LCAmdmFsLCBhcmd2W2ldKTsKICAgIGlmKGlzRGVmKSB7CiAgICAgIGNvbnN0IHVpbnQ2NF90IG1hc2sgPSAoMVUgPDwgYml0cykgLSAxOwogICAgICB1aW50NjRfdCBpdmFsID0gdmFsOwogICAgICBmb3IoaW50IGogPSAwOyBqIDwgbjsgaisrKSB7CiAgICAgICAgb3V0cHV0W2ldW2pdID0gaXZhbCAmIG1hc2s7CiAgICAgICAgaXZhbCA+Pj0gYml0czsKICAgICAgfQogICAgfQogICAgZGVmaW5lZFtpXSA9IGlzRGVmOwogIH0KfTsKKi8KLyoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIHN0ZDo6dmVjdG9yPFQ+CmpzX21hdF9zZXRfdmVjdG9yKEpTQ29udGV4dCogY3R4LCBKU01hdERhdGEqIG0sIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU01hdERpbWVuc2lvbnMgZGltID0ge3N0YXRpY19jYXN0PHVpbnQzMl90PihtLT5yb3dzKSwgc3RhdGljX2Nhc3Q8dWludDMyX3Q+KG0tPmNvbHMpfTsKICB1aW50MzJfdCBpZHg7CiAgc3RkOjp2ZWN0b3I8Ym9vbD4gZGVmaW5lZDsKICBzdGQ6OnZlY3RvcjxUPiB2OwogIGpzX21hdF92ZWN0b3JfZ2V0KGN0eCwgYXJnYywgYXJndiwgdiwgZGVmaW5lZCk7CgogIGZvcihpZHggPSAwOyBpZHggPCB2LnNpemUoKTsgaWR4KyspCiAgICBpZihkZWZpbmVkW2lkeF0pCiAgICAgIG0tPmF0PFQ+KGlkeCAvIGRpbS5jb2xzLCBpZHggJSBkaW0uY29scykgPSB2W2lkeF07CiAgcmV0dXJuIHY7Cn0KKi8Kc3RhdGljIEpTVmFsdWUKanNfbWF0X3NldF90byhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNNYXREYXRhKiBtID0ganNfbWF0X2RhdGEoY3R4LCB0aGlzX3ZhbCk7CiAgdWludDMyX3QgYnl0ZXM7CiAgc3RkOjp2ZWN0b3I8Ym9vbD4gZGVmaW5lZDsKCiAgaWYoIW0pCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihtLT5jaGFubmVscygpID09IDEpIHsKICAgIGRvdWJsZSB2YWx1ZTsKICAgIGpzX3ZhbHVlX3RvKGN0eCwgYXJndlswXSwgdmFsdWUpOwogICAgbS0+c2V0VG8oY3Y6OlNjYWxhcih2YWx1ZSkpOwoKICB9IGVsc2UgaWYoanNfaXNfYXJyYXkoY3R4LCBhcmd2WzBdKSkgewogICAgY3Y6OlNjYWxhciBzOwogICAgc2l6ZV90IG4gPSBqc19hcnJheV90byhjdHgsIGFyZ3ZbMF0sIHMpOwoKICAgIC8vIHN0ZDo6Y2VyciA8PCAiU2NhbGFyIFsgIiA8PCBzWzBdIDw8ICIsICIgPDwgc1sxXSA8PCAiLCAiIDw8IHNbMl0gPDwgIiwgIiA8PCBzWzNdIDw8ICIgXSIgPDwKICAgIC8vIHN0ZDo6ZW5kbDsgc3RkOjpjZXJyIDw8ICJTY2FsYXIuc2l6ZSgpID0gIiA8PCBuIDw8IHN0ZDo6ZW5kbDsKCiAgICBpZihuID49IG0tPmNoYW5uZWxzKCkpIHsKICAgICAgbS0+c2V0VG8ocyk7CiAgICAgIHJldHVybiBKU19VTkRFRklORUQ7CiAgICB9CiAgfQoKICBieXRlcyA9IG0tPmVsZW1TaXplKCk7CiAgLyogIGlmKG0tPmRlcHRoKCkgPT0gQ1ZfMTZVICYmIG0tPmNoYW5uZWxzKCkgPiAxKSB7CiAgICAgIGlmKG0tPmNoYW5uZWxzKCkgPT0gMikKICAgICAgICBqc19tYXRfc2V0X3ZlY3Rvcjxjdjo6VmVjPHVpbnQxNl90LCAyPj4oY3R4LCBtLCBhcmdjLCBhcmd2KTsKICAgICAgZWxzZSBpZihtLT5jaGFubmVscygpID09IDMpCiAgICAgICAganNfbWF0X3NldF92ZWN0b3I8Y3Y6OlZlYzx1aW50MTZfdCwgMz4+KGN0eCwgbSwgYXJnYywgYXJndik7CiAgICAgIGVsc2UgaWYobS0+Y2hhbm5lbHMoKSA9PSA0KQogICAgICAgIGpzX21hdF9zZXRfdmVjdG9yPGN2OjpWZWM8dWludDE2X3QsIDQ+PihjdHgsIG0sIGFyZ2MsIGFyZ3YpOwogICAgfSBlbHNlIGlmKG0tPmRlcHRoKCkgPT0gQ1ZfMzJGKSB7CiAgICAgIGlmKG0tPmNoYW5uZWxzKCkgPT0gMSkKICAgICAgICBqc19tYXRfc2V0X3ZlY3RvcjxmbG9hdD4oY3R4LCBtLCBhcmdjLCBhcmd2KTsKICAgIH0gZWxzZSBpZihieXRlcyA8PSBzaXplb2YodWludCkpIHsKICAgICAgaWYoYnl0ZXMgPD0gMSkgewogICAgICAgIHN0ZDo6dmVjdG9yPHVpbnQ4X3Q+IHY7CiAgICAgICAganNfbWF0X3ZlY3Rvcl9nZXQoY3R4LCBhcmdjLCBhcmd2LCB2LCBkZWZpbmVkKTsKICAgICAgICBtLT5zZXRUbyhjdjo6SW5wdXRBcnJheSh2KSwgZGVmaW5lZCk7CiAgICAgIH0gZWxzZSBpZihieXRlcyA8PSAyKSB7CiAgICAgICAgc3RkOjp2ZWN0b3I8dWludDE2X3Q+IHY7CiAgICAgICAganNfbWF0X3ZlY3Rvcl9nZXQoY3R4LCBhcmdjLCBhcmd2LCB2LCBkZWZpbmVkKTsKICAgICAgICBtLT5zZXRUbyhjdjo6SW5wdXRBcnJheSh2KSwgZGVmaW5lZCk7CiAgICAgIH0gZWxzZSBpZihieXRlcyA8PSA0KSB7CgogICAgICAgIGpzX21hdF9zZXRfdmVjdG9yPHVpbnQzMl90PihjdHgsIG0sIGFyZ2MsIGFyZ3YpOwogICAgICB9IGVsc2UgaWYoYnl0ZXMgPD0gOCkgewogICAgICAgIGpzX21hdF9zZXRfdmVjdG9yPHVpbnQ2NF90PihjdHgsIG0sIGFyZ2MsIGFyZ3YpOwogICAgICB9CiAgICB9Ki8KCiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKanNfbWF0X2dldF9wcm9wcyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgbWFnaWMpIHsKICBjdjo6TWF0KiBtOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBpZighKG0gPSBqc19tYXRfZGF0YShjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihtLT5lbXB0eSgpKQogICAgcmV0dXJuIEpTX05VTEw7CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBQUk9QX0NPTFM6IHsKICAgICAgcmV0ID0gSlNfTmV3VWludDMyKGN0eCwgbS0+Y29scyk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBQUk9QX1JPV1M6IHsKICAgICAgcmV0ID0gSlNfTmV3VWludDMyKGN0eCwgbS0+cm93cyk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBQUk9QX0NIQU5ORUxTOiB7CiAgICAgIHJldCA9IEpTX05ld1VpbnQzMihjdHgsIG0tPmNoYW5uZWxzKCkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUFJPUF9UWVBFOiB7CiAgICAgIHJldCA9IEpTX05ld1VpbnQzMihjdHgsIG0tPnR5cGUoKSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBQUk9QX0RFUFRIOiB7CiAgICAgIHJldCA9IEpTX05ld1VpbnQzMihjdHgsIG0tPmRlcHRoKCkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUFJPUF9FTVBUWTogewogICAgICByZXQgPSBKU19OZXdCb29sKGN0eCwgbS0+ZW1wdHkoKSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBQUk9QX1RPVEFMOiB7CiAgICAgIHJldCA9IEpTX05ld0Zsb2F0NjQoY3R4LCBtLT50b3RhbCgpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFBST1BfU0laRTogewogICAgICByZXQgPSBqc19zaXplX25ldyhjdHgsIG0tPmNvbHMsIG0tPnJvd3MpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUFJPUF9DT05USU5VT1VTOiB7CiAgICAgIHJldCA9IEpTX05ld0Jvb2woY3R4LCBtLT5pc0NvbnRpbnVvdXMoKSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBQUk9QX1NVQk1BVFJJWDogewogICAgICByZXQgPSBKU19OZXdCb29sKGN0eCwgbS0+aXNTdWJtYXRyaXgoKSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBQUk9QX1NURVA6IHsKICAgICAgcmV0ID0gSlNfTmV3VWludDMyKGN0eCwgbS0+c3RlcCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBQUk9QX0VMRU1TSVpFOiB7CiAgICAgIHJldCA9IEpTX05ld1VpbnQzMihjdHgsIG0tPmVsZW1TaXplKCkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUFJPUF9FTEVNU0laRTE6IHsKICAgICAgcmV0ID0gSlNfTmV3VWludDMyKGN0eCwgbS0+ZWxlbVNpemUxKCkpOwogICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21hdF90b3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgY3Y6Ok1hdCogbSA9IGpzX21hdF9kYXRhKGN0eCwgdGhpc192YWwpOwogIGludCB4LCB5OwoKICBzdGQ6Om9zdHJpbmdzdHJlYW0gb3M7CiAgc3RkOjpzdHJpbmcgc3RyOwogIGludCBpID0gMDsKICBpZighbSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIG9zIDw8ICJNYXQoIjsKCiAgaWYoZmFsc2UgJiYgKG0tPnJvd3MgPiAwICYmIG0tPmNvbHMgPiAwKSAmJiBtLT5kaW1zID09IDIpIHsKICAgIG9zIDw8IG0tPnJvd3MgPDwgIiwgIiA8PCBtLT5jb2xzOwogIH0gZWxzZSB7CiAgICBzdGQ6OnZlY3RvcjxzdGQ6OnN0cmluZz4gc2l6ZVN0cnMgPSBqc19tYXRfZGltZW5zaW9ucygqbSk7CiAgICBvcyA8PCAiWyIgPDwgam9pbihzaXplU3Rycy5jYmVnaW4oKSwgc2l6ZVN0cnMuY2VuZCgpLCAiLCAiKSA8PCAiXSI7CiAgfQoKICBpZihtLT5kZXB0aCgpID09IENWXzhVIHx8IG0tPmNoYW5uZWxzKCkgPiAxKSB7CiAgICBvcyA8PCAiLCAiOwogICAgY29uc3QgY2hhciogdHN0cjsKICAgIHN3aXRjaChtLT5kZXB0aCgpICYgNykgewogICAgICBjYXNlIENWXzhVOiB0c3RyID0gIkNWXzhVIjsgYnJlYWs7CiAgICAgIGNhc2UgQ1ZfOFM6IHRzdHIgPSAiQ1ZfOFMiOyBicmVhazsKICAgICAgY2FzZSBDVl8xNlU6IHRzdHIgPSAiQ1ZfMTZVIjsgYnJlYWs7CiAgICAgIGNhc2UgQ1ZfMTZTOiB0c3RyID0gIkNWXzE2UyI7IGJyZWFrOwogICAgICBjYXNlIENWXzMyUzogdHN0ciA9ICJDVl8zMlMiOyBicmVhazsKICAgICAgY2FzZSBDVl8zMkY6IHRzdHIgPSAiQ1ZfMzJGIjsgYnJlYWs7CiAgICAgIGNhc2UgQ1ZfNjRGOiB0c3RyID0gIkNWXzY0RiI7IGJyZWFrOwogICAgfQogICAgb3MgPDwgdHN0ciA8PCAnQycgPDwgbS0+Y2hhbm5lbHMoKSA8PCAiKSIgLyo8PCBzdGQ6OmVuZGwqLzsKICB9IGVsc2UgewogICAgb3MgPDwgIk1hdFsiOwogICAgZm9yKHkgPSAwOyB5IDwgbS0+cm93czsgeSsrKSB7CiAgICAgIG9zIDw8ICJcbiAgIjsKCiAgICAgIGZvcih4ID0gMDsgeCA8IG0tPmNvbHM7IHgrKykgewogICAgICAgIGlmKHggPiAwKQogICAgICAgICAgb3MgPDwgJywnOwogICAgICAgIGlmKG0tPnR5cGUoKSA9PSBDVl8zMkZDMSkKICAgICAgICAgIG9zIDw8IG0tPmF0PGZsb2F0Pih5LCB4KTsKICAgICAgICBlbHNlCiAgICAgICAgICBvcyA8PCBzdGQ6OnNldGZpbGwoJzAnKSA8PCBzdGQ6OnNldGJhc2UoMTYpIDw8IHN0ZDo6c2V0dyhtLT50eXBlKCkgPT0gQ1ZfOFVDNCA/IDggOiBtLT50eXBlKCkgPT0gQ1ZfOFVDMSA/IDIgOiA2KQogICAgICAgICAgICAgPDwgbS0+YXQ8dWludDMyX3Q+KHksIHgpOwogICAgICB9CiAgICB9CgogICAgb3MgPDwgJ10nIC8qPDwgc3RkOjplbmRsKi87CiAgfQogIG9zIDw8ICcgJzsKICBvcyA8PCAodm9pZCopbS0+ZWxlbVNpemUoKTsKICBvcyA8PCAieCI7CiAgb3MgPDwgKHZvaWQqKW0tPnRvdGFsKCk7CiAgb3MgPDwgIiBAIjsKICBvcyA8PCAodm9pZCopbS0+cHRyKCk7CgogIHN0ciA9IG9zLnN0cigpOwoKICByZXR1cm4gSlNfTmV3U3RyaW5nTGVuKGN0eCwgc3RyLmRhdGEoKSwgc3RyLnNpemUoKSk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21hdF9pbnNwZWN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU01hdERhdGEqIG1hdCA9IGpzX21hdF9kYXRhKGN0eCwgdGhpc192YWwpOwogIEpTVmFsdWUgb2JqID0gSlNfTmV3T2JqZWN0Q2xhc3MoY3R4LCBqc19tYXRfY2xhc3NfaWQpOwoKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAiY29scyIsIEpTX05ld1VpbnQzMihjdHgsIG1hdC0+Y29scyksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgInJvd3MiLCBKU19OZXdVaW50MzIoY3R4LCBtYXQtPnJvd3MpLCBKU19QUk9QX0VOVU1FUkFCTEUpOwogIEpTX0RlZmluZVByb3BlcnR5VmFsdWVTdHIoY3R4LCBvYmosICJkZXB0aCIsIEpTX05ld1VpbnQzMihjdHgsIG1hdC0+ZGVwdGgoKSksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgImNoYW5uZWxzIiwgSlNfTmV3VWludDMyKGN0eCwgbWF0LT5jaGFubmVscygpKSwgSlNfUFJPUF9FTlVNRVJBQkxFKTsKICByZXR1cm4gb2JqOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19tYXRfZ2V0cm90YXRpb25tYXRyaXgyZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNQb2ludERhdGE8ZG91YmxlPiBzOwoKICBkb3VibGUgYW5nbGUgPSAwLCBzY2FsZSA9IDE7CiAgY3Y6Ok1hdCBtOwoKICBKU1ZhbHVlIHJldDsKICBpZihhcmdjID09IDApCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIGlmKGFyZ2MgPiAwKSB7CiAgICBzID0ganNfcG9pbnRfZ2V0KGN0eCwgYXJndlswXSk7CiAgICBpZihhcmdjID4gMSkgewogICAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmYW5nbGUsIGFyZ3ZbMV0pOwogICAgICBpZihhcmdjID4gMikgewogICAgICAgIEpTX1RvRmxvYXQ2NChjdHgsICZzY2FsZSwgYXJndlsyXSk7CiAgICAgIH0KICAgIH0KICB9CgogIG0gPSBjdjo6Z2V0Um90YXRpb25NYXRyaXgyRChzLCBhbmdsZSwgc2NhbGUpOwoKICByZXQgPSBqc19tYXRfd3JhcChjdHgsIG0pOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21hdF9jb252ZXJ0X3RvKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU01hdERhdGEgKm0sICpvdXRwdXQ7CiAgaW50MzJfdCBydHlwZTsKICBkb3VibGUgYWxwaGEgPSAxLCBiZXRhID0gMDsKCiAgbSA9IGpzX21hdF9kYXRhKGN0eCwgdGhpc192YWwpOwogIG91dHB1dCA9IGpzX21hdF9kYXRhKGN0eCwgYXJndlswXSk7CgogIGlmKG0gPT0gbnVsbHB0ciB8fCBvdXRwdXQgPT0gbnVsbHB0cikKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIEpTX1RvSW50MzIoY3R4LCAmcnR5cGUsIGFyZ3ZbMV0pOwoKICBpZihhcmdjID49IDMpCiAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmYWxwaGEsIGFyZ3ZbMl0pOwoKICBpZihhcmdjID49IDQpCiAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmYmV0YSwgYXJndlszXSk7CgogIG0tPmNvbnZlcnRUbygqb3V0cHV0LCBydHlwZSwgYWxwaGEsIGJldGEpOwoKICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19tYXRfY29weV90byhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNNYXREYXRhKiBtOwogIEpTT3V0cHV0QXJyYXkgb3V0cHV0OwogIEpTSW5wdXRBcnJheSAvKm91dHB1dCwqLyBtYXNrID0gY3Y6Om5vQXJyYXkoKTsKCiAgbSA9IGpzX21hdF9kYXRhKGN0eCwgdGhpc192YWwpOwoKICBvdXRwdXQgPSBqc191bWF0X29yX21hdChjdHgsIGFyZ3ZbMF0pOwogIC8vIG91dHB1dCA9IGpzX3VtYXRfb3JfbWF0KGN0eCwgYXJndlswXSk7CgogIGlmKGpzX2lzX25vYXJyYXkob3V0cHV0KSkKICAgIHJldHVybiBKU19UaHJvd0ludGVybmFsRXJyb3IoY3R4LCAiYXJndW1lbnQgMSBub3QgYW4gYXJyYXkhIik7CgogIGlmKGFyZ2MgPiAxKQogICAgbWFzayA9IGpzX3VtYXRfb3JfbWF0KGN0eCwgYXJndlsxXSk7CgogIHRyeSB7CiAgICBpZighanNfaXNfbm9hcnJheShtYXNrKSkKICAgICAgbS0+Y29weVRvKG91dHB1dCwgbWFzayk7CiAgICBlbHNlCiAgICAgIG0tPmNvcHlUbyhvdXRwdXQpOwogIH0gY2F0Y2goY29uc3QgY3Y6OkV4Y2VwdGlvbiYgZSkgeyByZXR1cm4gSlNfVGhyb3dJbnRlcm5hbEVycm9yKGN0eCwgImN2OjpFeGNlcHRpb24gd2hhdD0nJXMnIiwgZS53aGF0KCkpOyB9CgogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21hdF9yZXNoYXBlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU01hdERhdGEgKm0sIG1hdDsKICBpbnQzMl90IGNuLCByb3dzID0gMDsKICBKU1ZhbHVlIHJldCA9IEpTX0VYQ0VQVElPTjsKCiAgbSA9IGpzX21hdF9kYXRhKGN0eCwgdGhpc192YWwpOwoKICBpZihtID09IG51bGxwdHIgfHwgYXJnYyA8IDEpCiAgICByZXR1cm4gcmV0OwoKICBpZihhcmdjID49IDEgJiYgSlNfSXNOdW1iZXIoYXJndlswXSkpIHsKICAgIEpTX1RvSW50MzIoY3R4LCAmY24sIGFyZ3ZbMF0pOwogICAgYXJndisrOwogICAgYXJnYy0tOwogIH0gZWxzZSB7CiAgICBjbiA9IG0tPmNoYW5uZWxzKCk7CiAgfQoKICBpZihhcmdjID49IDEpIHsKICAgIHN0ZDo6dmVjdG9yPGludD4gbmV3c2hhcGU7CiAgICBpZihqc19pc19hcnJheShjdHgsIGFyZ3ZbMF0pKSB7CiAgICAgIGpzX2FycmF5X3RvKGN0eCwgYXJndlswXSwgbmV3c2hhcGUpOwogICAgICBpZihhcmdjID49IDIgJiYgSlNfSXNOdW1iZXIoYXJndlsxXSkpIHsKICAgICAgICB1aW50MzJfdCBuZGltczsKICAgICAgICBKU19Ub1VpbnQzMihjdHgsICZuZGltcywgYXJndlsxXSk7CiAgICAgICAgaWYobmRpbXMgPiBuZXdzaGFwZS5zaXplKCkpCiAgICAgICAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogICAgICAgIG1hdCA9IG0tPnJlc2hhcGUoY24sIG5kaW1zLCAmbmV3c2hhcGVbMF0pOwogICAgICB9IGVsc2UgewogICAgICAgIG1hdCA9IG0tPnJlc2hhcGUoY24sIG5ld3NoYXBlKTsKICAgICAgfQogICAgfSBlbHNlIGlmKEpTX0lzTnVtYmVyKGFyZ3ZbMF0pKSB7CiAgICAgIEpTX1RvSW50MzIoY3R4LCAmcm93cywgYXJndlswXSk7CiAgICAgIG1hdCA9IG0tPnJlc2hhcGUoY24sIHJvd3MpOwogICAgfQogICAgcmV0ID0ganNfbWF0X3dyYXAoY3R4LCBtYXQpOwogIH0KCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfbWF0X2dldHVtYXQoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTTWF0RGF0YSogbTsKICBKU1VNYXREYXRhIHVtYXQ7CiAgaW50MzJfdCBhY2Nlc3NGbGFncywgdXNhZ2VGbGFncyA9IGN2OjpVU0FHRV9ERUZBVUxUOwogIEpTVmFsdWUgcmV0ID0gSlNfRVhDRVBUSU9OOwoKICBtID0ganNfbWF0X2RhdGEoY3R4LCB0aGlzX3ZhbCk7CgogIGlmKG0gPT0gbnVsbHB0ciB8fCBhcmdjIDwgMSkKICAgIHJldHVybiByZXQ7CgogIGlmKGpzX3VtYXRfY2xhc3NfaWQgPT0gMCkKICAgIHJldHVybiBKU19OVUxMOwoKICBKU19Ub0ludDMyKGN0eCwgJmFjY2Vzc0ZsYWdzLCBhcmd2WzBdKTsKCiAgaWYoYXJnYyA+IDEpCiAgICBKU19Ub0ludDMyKGN0eCwgJnVzYWdlRmxhZ3MsIGFyZ3ZbMV0pOwoKICB1bWF0ID0gbS0+Z2V0VU1hdChjdjo6QWNjZXNzRmxhZyhhY2Nlc3NGbGFncyksIGN2OjpVTWF0VXNhZ2VGbGFncyh1c2FnZUZsYWdzKSk7CgogIHJldHVybiBqc191bWF0X3dyYXAoY3R4LCB1bWF0KTsKfQoKc3RhdGljIEpTVmFsdWUKanNfbWF0X2NsYXNzX2Z1bmMoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndiwgaW50IG1hZ2ljKSB7CiAgSlNWYWx1ZUNvbnN0ICp2ID0gYXJndiwgKmUgPSAmYXJndlthcmdjXTsKICBKU01hdERhdGEgcmVzdWx0OwogIEpTTWF0RGF0YSAqcHJldiA9IG51bGxwdHIsICptYXQgPSBudWxscHRyOwoKICB3aGlsZSh2IDwgZSkgewogICAgSlNWYWx1ZUNvbnN0IGFyZyA9ICp2Kys7CgogICAgaWYobnVsbHB0ciA9PSAobWF0ID0ganNfbWF0X2RhdGEoY3R4LCBhcmcpKSkKICAgICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgICBpZihwcmV2KSB7CiAgICAgIEpTTWF0RGF0YSBjb25zdCAmYSA9ICpwcmV2LCAmYiA9ICptYXQ7CiAgICAgIHN3aXRjaChtYWdpYykgewogICAgICAgIGNhc2UgMDogcmVzdWx0ID0gYSArIGI7IGJyZWFrOwogICAgICAgIGNhc2UgMTogcmVzdWx0ID0gYSAtIGI7IGJyZWFrOwogICAgICAgIGNhc2UgMjogcmVzdWx0ID0gYSAqIGI7IGJyZWFrOwogICAgICAgIGNhc2UgMzogcmVzdWx0ID0gYSAvIGI7IGJyZWFrOwogICAgICAgIGNhc2UgNDogcmVzdWx0ID0gYSAmIGI7IGJyZWFrOwogICAgICAgIGNhc2UgNTogcmVzdWx0ID0gYSB8IGI7IGJyZWFrOwogICAgICAgIGNhc2UgNjogcmVzdWx0ID0gYSBeIGI7IGJyZWFrOwogICAgICB9CiAgICAgIHByZXYgPSAmcmVzdWx0OwogICAgfSBlbHNlIHsKICAgICAgcHJldiA9IG1hdDsKICAgICAgcmVzdWx0ID0gY3Y6Ok1hdDo6emVyb3MobWF0LT5yb3dzLCBtYXQtPmNvbHMsIG1hdC0+dHlwZSgpKTsKICAgICAgbWF0LT5jb3B5VG8ocmVzdWx0KTsKICAgIH0KICB9CgogIHJldHVybiBqc19tYXRfd3JhcChjdHgsIHJlc3VsdCk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX21hdF9maWxsKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YsIGludCBtYWdpYykgewogIEpTTWF0RGF0YSogbTsKCiAgbSA9IGpzX21hdF9kYXRhKGN0eCwgdGhpc192YWwpOwoKICBpZihtID09IG51bGxwdHIpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihtLT5lbXB0eSgpIHx8IG0tPnJvd3MgPT0gMCB8fCBtLT5jb2xzID09IDApCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBjdjo6TWF0JiBtYXQgPSAqbTsKCiAgc3dpdGNoKG1hZ2ljKSB7CiAgICBjYXNlIDA6IHsKICAgICAgbWF0ID0gY3Y6Ok1hdDo6emVyb3MobWF0LnJvd3MsIG1hdC5jb2xzLCBtYXQudHlwZSgpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIDE6IHsKICAgICAgbWF0ID0gY3Y6Ok1hdDo6b25lcyhtYXQucm93cywgbWF0LmNvbHMsIG1hdC50eXBlKCkpOwogICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiBKU19EdXBWYWx1ZShjdHgsIHRoaXNfdmFsKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfbWF0X2NsYXNzX2NyZWF0ZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2LCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgY29uc3QgYXV0byYgW3NpemUsIHR5cGVdID0ganNfbWF0X3BhcmFtcyhjdHgsIGFyZ2MsIGFyZ3YpOwoKICBpZihzaXplLndpZHRoID09IDAgfHwgc2l6ZS5oZWlnaHQgPT0gMCkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHJldCA9IGpzX21hdF9uZXcoY3R4LCB1aW50MzJfdCgwKSwgdWludDMyX3QoMCksIGludCgwKSk7CiAgSlNNYXREYXRhJiBtYXQgPSAqanNfbWF0X2RhdGEoY3R4LCByZXQpOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgMDogewogICAgICBtYXQgPSBjdjo6U2NhbGFyOjphbGwoMCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSAxOiB7CiAgICAgIG1hdCA9IGN2OjpTY2FsYXI6OmFsbCgxKTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gcmV0Owp9CgovKnN0YXRpYyBKU1ZhbHVlCmpzX21hdF9jcmVhdGVfdmVjKEpTQ29udGV4dCogY3R4LCBpbnQgbGVuLCBKU1ZhbHVlKiB2ZWMpIHsKICBKU1ZhbHVlIG9iaiA9IEpTX0VYQ0VQVElPTjsKICBpbnQgaTsKCiAgb2JqID0gSlNfTmV3QXJyYXkoY3R4KTsKICBpZighSlNfSXNFeGNlcHRpb24ob2JqKSkgewoKICAgIGZvcihpID0gMDsgaSA8IGxlbjsgaSsrKSB7CgogICAgICBpZihKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIG9iaiwgaSwgdmVjW2ldKSA8IDApIHsKICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBvYmopOwogICAgICAgIHJldHVybiBKU19FWENFUFRJT047CiAgICAgIH0KICAgIH0KICB9CiAgcmV0dXJuIG9iajsKfSovCgpzdGF0aWMgSlNWYWx1ZQpqc19tYXRfYnVmZmVyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwpIHsKICBKU01hdERhdGEqIG07CiAgSlNWYWx1ZSBidWYgPSBKU19OVUxMOwogIHNpemVfdCBieXRlX3NpemU7CgogIGlmKCEobSA9IGpzX21hdF9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGJ5dGVfc2l6ZSA9IG1hdF9ieXRlc2l6ZSgqbSk7CgogIGlmKGJ5dGVfc2l6ZSA9PSAwKQogICAgYnl0ZV9zaXplID0gZW5kKCptKSAtIGJlZ2luKCptKTsKCiAgaWYoYnl0ZV9zaXplID09IDApCiAgICBieXRlX3NpemUgPSBtLT5lbGVtU2l6ZSgpICogbS0+dG90YWwoKTsKCiAgaWYoYnl0ZV9zaXplKSB7CiAgICBKU01hdERhdGEqIG1hdCA9IHN0YXRpY19jYXN0PEpTTWF0RGF0YSo+KGpzX21hbGxvY3ooY3R4LCBzaXplb2YoSlNNYXREYXRhKSkpOwoKICAgIG5ldyhtYXQpIGN2OjpNYXQoKm0pOwoKICAgIGJ1ZiA9IGpzX2FycmF5YnVmZmVyX2Zyb20oCiAgICAgICAgY3R4LCBtYXRfcHRyKCptYXQpLCBtYXRfcHRyKCptYXQpICsgYnl0ZV9zaXplLCAqKEpTRnJlZUFycmF5QnVmZmVyRGF0YUZ1bmMqKSZqc19tYXRfZnJlZV9mdW5jLCAodm9pZCopbWF0KTsKICB9CiAgcmV0dXJuIGJ1ZjsKfQoKc3RhdGljIEpTVmFsdWUKanNfbWF0X2FycmF5KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwpIHsKICBKU01hdERhdGEqIG07CiAgY29uc3QgY2hhciogY3RvcjsKCiAgaWYoKG0gPSBqc19tYXRfZGF0YShjdHgsIHRoaXNfdmFsKSkpIHsKICAgIEpTVmFsdWUgYnVmZmVyLCB0eXBlZF9hcnJheTsKICAgIFR5cGVkQXJyYXlUeXBlIHR5cGUoKm0pOwogICAgYnVmZmVyID0ganNfbWF0X2J1ZmZlcihjdHgsIHRoaXNfdmFsKTsKCiAgICAvKnByaW50ZigibS0+cm93cz0laSBtLT5jb2xzPSVpIG0tPnN0ZXA9JXp1IG0tPnRvdGFsKCk9JXp1IHJhbmdlLnNpemUoKT0lenUgdHlwZS5ieXRlX3NpemU9JXUKICAgICAgIHNpemU9JXp1XG4iLCBtLT5yb3dzLCBtLT5jb2xzLCBzaXplX3QobS0+c3RlcCksIHJhbmdlLnNpemUoKSAvIHR5cGUuYnl0ZV9zaXplLCByYW5nZS5zaXplKCksCiAgICAgICAgICAgdHlwZS5ieXRlX3NpemUsCiAgICAgICAgICAgcmFuZ2Uuc2l6ZSgpIC8gdHlwZS5ieXRlX3NpemUpOyovCgogICAgcmV0dXJuIGpzX3R5cGVkYXJyYXlfbmV3KGN0eCwgYnVmZmVyLCAwLCBtYXRfYnl0ZXNpemUoKm0pIC8gdHlwZS5ieXRlX3NpemUsIHR5cGUpOwogIH0KICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpKU1ZhbHVlCmpzX21hdF9jYWxsKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgZnVuY19vYmosIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndiwgaW50IGZsYWdzKSB7CiAgY3Y6OlJlY3QgcmVjdCA9IHswLCAwLCAwLCAwfTsKICBKU01hdERhdGEqIHNyYzsKCiAgaWYoKHNyYyA9IGpzX21hdF9kYXRhKGN0eCwgZnVuY19vYmopKSA9PSBudWxscHRyKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYoIWpzX3JlY3RfcmVhZChjdHgsIGFyZ3ZbMF0sICZyZWN0KSkKICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJhcmd1bWVudCAxIGV4cGVjdGluZyBSZWN0Iik7CiAgLy8gcHJpbnRmKCJqc19tYXRfY2FsbCAldSwldSAldXgldVxuIiwgcmVjdC54LCByZWN0LnksIHJlY3Qud2lkdGgsIHJlY3QuaGVpZ2h0KTsKCiAgY3Y6Ok1hdCBtYXQgPSBzcmMtPm9wZXJhdG9yKCkocmVjdCk7CiAgcmV0dXJuIGpzX21hdF93cmFwKGN0eCwgbWF0KTsKfQoKdm9pZApqc19tYXRfZmluYWxpemVyKEpTUnVudGltZSogcnQsIEpTVmFsdWUgdmFsKSB7CiAgSlNNYXREYXRhKiBzOwoKICBpZigocyA9IHN0YXRpY19jYXN0PEpTTWF0RGF0YSo+KEpTX0dldE9wYXF1ZSh2YWwsIGpzX21hdF9jbGFzc19pZCkpKSkgewogICAganNfZGVhbGxvY2F0ZShydCwgcyk7CiAgfQogIHJldHVybjsKCiAgLyphdXRvIGl0MiA9IHN0ZDo6ZmluZChtYXRfZnJlZWQuY2JlZ2luKCksIG1hdF9mcmVlZC5jZW5kKCksIHMpOwogIGF1dG8gaXQgPSBzdGQ6OmZpbmQobWF0X2xpc3QuY2JlZ2luKCksIG1hdF9saXN0LmNlbmQoKSwgcyk7CgogIGlmKGl0MiAhPSBtYXRfZnJlZWQuY2VuZCgpKSB7CiNpZmRlZiBERUJVR19NQVQKICAgIHN0ZDo6Y2VyciA8PCAianNfbWF0X2ZpbmFsaXplciI7CiAgICBqc19tYXRfZHVtcChzKTsKI2VuZGlmCgogICAgc3RkOjpjZXJyIDw8ICIgRVJST1I6IGFscmVhZHkgZnJlZWQiIDw8IHN0ZDo6ZW5kbDsKICAgIHJldHVybjsKICB9CiAgSlNfRnJlZVZhbHVlUlQocnQsIHZhbCk7CiAgaWYoaXQgIT0gbWF0X2xpc3QuY2VuZCgpKSB7CiAgICBzaXplX3QgcmVmY291bnQgPSBzLT51ICE9IG51bGxwdHIgPyBzLT51LT5yZWZjb3VudCA6IDA7CiAgICBpZihzLT51KSB7CiAgICAgIGF1dG8gZGF0YSA9IHMtPnU7CiNpZmRlZiBERUJVR19NQVQKICAgICAgc3RkOjpjZXJyIDw8ICJjdjo6TWF0OjpyZWxlYXNlIjsKICAgICAgc3RkOjpjZXJyIDw8ICIgbWF0PSIgPDwgc3RhdGljX2Nhc3Q8dm9pZCo+KHMpOwogICAgICBzdGQ6OmNlcnIgPDwgIiwgcmVmY291bnQ9IiA8PCByZWZjb3VudDsKICAgICAgc3RkOjpjZXJyIDw8IHN0ZDo6ZW5kbDsKI2VuZGlmCiAgICAgIGlmKHJlZmNvdW50ID4gMSkKICAgICAgICBzLT5yZWxlYXNlKCk7CiAgICAgIGlmKHMtPnUpCiAgICAgICAgcmVmY291bnQgPSBzLT51LT5yZWZjb3VudDsKICAgICAgZWxzZQogICAgICAgIHJlZmNvdW50ID0gMDsKICAgIH0KICAgIGlmKHMtPnUgPT0gbnVsbHB0cikgewogICAgICBtYXRfbGlzdC5lcmFzZShpdCk7CiAgICAgIG1hdF9mcmVlZC5wdXNoX2Zyb250KHMpOwogICAgfQojaWZkZWYgREVCVUdfTUFUCiAgICBzdGQ6OmNlcnIgPDwgImpzX21hdF9maW5hbGl6ZXIiOwogICAganNfbWF0X2R1bXAocyk7CiAgICBzdGQ6OmNlcnIgPDwgIiwgcmVmY291bnQ9IiA8PCByZWZjb3VudDsKICAgIHN0ZDo6Y2VyciA8PCAiLCBtYXRfbGlzdC5zaXplKCk9IiA8PCBtYXRfbGlzdC5zaXplKCk7CiAgICBzdGQ6OmNlcnIgPDwgIiwgbWF0X2ZyZWVkLnNpemUoKT0iIDw8IG1hdF9mcmVlZC5zaXplKCkgPDwgc3RkOjplbmRsOwojZW5kaWYKICB9IGVsc2UgewojaWZkZWYgREVCVUdfTUFUCiAgICBzdGQ6OmNlcnIgPDwgImpzX21hdF9maW5hbGl6ZXIiOwogICAganNfbWF0X2R1bXAocyk7CiNlbmRpZgogICAgc3RkOjpjZXJyIDw8ICIgRVJST1I6IG5vdCBmb3VuZCIgPDwgc3RkOjplbmRsOwogIH0qLwp9CgpKU1ZhbHVlCmpzX21hdF9pdGVyYXRvcl9uZXcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndiwgaW50IG1hZ2ljKSB7CiAgSlNWYWx1ZSBlbnVtX29iaiwgbWF0OwogIEpTTWF0RGF0YSogbTsKICBKU01hdEl0ZXJhdG9yRGF0YSogaXQ7CgogIGlmKCEobSA9IHN0YXRpY19jYXN0PEpTTWF0RGF0YSo+KEpTX0dldE9wYXF1ZSh0aGlzX3ZhbCwganNfbWF0X2NsYXNzX2lkKSkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgbWF0ID0gSlNfRHVwVmFsdWUoY3R4LCB0aGlzX3ZhbCk7CiAgaWYoIUpTX0lzRXhjZXB0aW9uKG1hdCkpIHsKICAgIGVudW1fb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIG1hdF9pdGVyYXRvcl9wcm90bywganNfbWF0X2l0ZXJhdG9yX2NsYXNzX2lkKTsKICAgIGlmKCFKU19Jc0V4Y2VwdGlvbihlbnVtX29iaikpIHsKICAgICAgaXQgPSBqc19hbGxvY2F0ZTxKU01hdEl0ZXJhdG9yRGF0YT4oY3R4KTsKCiAgICAgIGl0LT5vYmogPSBtYXQ7CiAgICAgIGl0LT5idWYgPSBtLT5lbXB0eSgpID8gSlNfVU5ERUZJTkVEIDoganNfbWF0X2J1ZmZlcihjdHgsIHRoaXNfdmFsKTsKICAgICAgaXQtPnJvdyA9IDA7CiAgICAgIGl0LT5jb2wgPSAwOwogICAgICBpdC0+bWFnaWMgPSBtYWdpYzsKICAgICAgaXQtPnR5cGUgPSBUeXBlZEFycmF5VHlwZSgqbSk7CgogICAgICAvLyBwcmludGYoImpzX21hdF9pdGVyYXRvcl9uZXcgdHlwZT0lc1xuIiwgaXQtPnR5cGUuY29uc3RydWN0b3JfbmFtZSgpLmNfc3RyKCkpOwoKICAgICAgSlNfU2V0T3BhcXVlKC8qY3R4LCAqLyBlbnVtX29iaiwgaXQpOwogICAgICByZXR1cm4gZW51bV9vYmo7CiAgICB9CiAgICBKU19GcmVlVmFsdWUoY3R4LCBlbnVtX29iaik7CiAgfQogIEpTX0ZyZWVWYWx1ZShjdHgsIG1hdCk7CiAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKfQoKLyp0eXBlZGVmIHN0cnVjdCBKU01hdEl0ZXJhdG9yRGF0YSB7CiAgSlNWYWx1ZSBvYmosIGJ1ZjsKICB1aW50MzJfdCByb3csIGNvbDsKICBpbnQgbWFnaWM7CiAgVHlwZWRBcnJheVR5cGUgdHlwZTsKfSBKU01hdEl0ZXJhdG9yRGF0YTsKKi8KCnZvaWQKanNfbWF0X2l0ZXJhdG9yX2R1bXAoSlNNYXRJdGVyYXRvckRhdGEqIGl0KSB7CiAgc3RkOjpjb3V0IDw8ICJNYXRJdGVyYXRvciB7IHJvdzogIiA8PCBpdC0+cm93IDw8ICIsIGNvbDogIiA8PCBpdC0+Y29sIDw8ICIsIG1hZ2ljOiAiIDw8IGl0LT5tYWdpYyA8PCAiLCB0eXBlOiAiIDw8IGl0LT50eXBlCiAgICAgICAgICAgIDw8ICIgfSIgPDwgc3RkOjplbmRsOwp9CgpKU1ZhbHVlCmpzX21hdF9pdGVyYXRvcl9uZXh0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YsIEJPT0wqIHBkb25lLCBpbnQgbWFnaWMpIHsKICBKU01hdEl0ZXJhdG9yRGF0YSogaXQ7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgKnBkb25lID0gRkFMU0U7CiAgaXQgPSBzdGF0aWNfY2FzdDxKU01hdEl0ZXJhdG9yRGF0YSo+KEpTX0dldE9wYXF1ZSh0aGlzX3ZhbCwganNfbWF0X2l0ZXJhdG9yX2NsYXNzX2lkKSk7CiAgaWYoaXQpIHsKICAgIEpTTWF0RGF0YSogbTsKICAgIHVpbnQzMl90IHJvdywgY29sOwogICAgc2l6ZV90IG9mZnNldCwgY2hhbm5lbHM7CiAgICBKU01hdERpbWVuc2lvbnMgZGltOwogICAgaWYoKG0gPSBqc19tYXRfZGF0YShjdHgsIGl0LT5vYmopKSA9PSBudWxscHRyKQogICAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogICAgZGltID0gbWF0X2RpbWVuc2lvbnMoKm0pOwoKICAgIC8qc3RkOjpjb3V0IDw8ICJtYXRfZGltZW5zaW9ucygqbSkgPSAiIDw8IGRpbS5jb2xzIDw8ICJ4IiA8PCBkaW0ucm93cyA8PCBzdGQ6OmVuZGw7CiAgICBqc19tYXRfaXRlcmF0b3JfZHVtcChpdCk7Ki8KCiAgICByb3cgPSBpdC0+cm93OwogICAgY29sID0gaXQtPmNvbDsKICAgIGlmKHJvdyA+PSBtLT5yb3dzKSB7CiAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGl0LT5vYmopOwogICAgICBpdC0+b2JqID0gSlNfVU5ERUZJTkVEOwogICAgZG9uZToKICAgICAgKnBkb25lID0gVFJVRTsKICAgICAgcmV0dXJuIEpTX1VOREVGSU5FRDsKICAgIH0KICAgIGlmKGNvbCArIDEgPCBkaW0uY29scykgewogICAgICBpdC0+Y29sID0gY29sICsgMTsKICAgIH0gZWxzZSB7CiAgICAgIGl0LT5jb2wgPSAwOwogICAgICBpdC0+cm93ID0gcm93ICsgMTsKICAgIH0KICAgICpwZG9uZSA9IEZBTFNFOwogICAgY2hhbm5lbHMgPSBtYXRfY2hhbm5lbHMoKm0pOwogICAgb2Zmc2V0ID0gbWF0X29mZnNldCgqbSwgcm93LCBjb2wpOwogICAgc3dpdGNoKGl0LT5tYWdpYykgewogICAgICBjYXNlIE1BVF9JVEVSQVRPUl9LRVlTOiB7CiAgICAgICAgc3RkOjphcnJheTx1aW50MzJfdCwgMj4gcG9zID0ge3JvdywgY29sfTsKICAgICAgICByZXQgPSBqc19hcnJheV9mcm9tKGN0eCwgcG9zKTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgICBjYXNlIE1BVF9JVEVSQVRPUl9WQUxVRVM6IHsKICAgICAgICBUeXBlZEFycmF5VHlwZSB0eXBlKCptKTsKCiAgICAgICAgLyogICBwcmludGYoImpzX21hdF9pdGVyYXRvcl9uZXh0IGlzX3NpZ25lZD0lZFxuIiwgdHlwZS5pc19zaWduZWQpOwogICAgICAgICAgIHByaW50ZigianNfbWF0X2l0ZXJhdG9yX25leHQgaXNfZmxvYXRpbmdfcG9pbnQ9JWRcbiIsIHR5cGUuaXNfZmxvYXRpbmdfcG9pbnQpOwogICAgICAgICAgIHByaW50ZigianNfbWF0X2l0ZXJhdG9yX25leHQgYnl0ZV9zaXplPSVkXG4iLCB0eXBlLmJ5dGVfc2l6ZSk7CiAgICAgICAgICAgcHJpbnRmKCJqc19tYXRfaXRlcmF0b3JfbmV4dCBjaGFubmVscz0lZCB0eXBlPSVkXG4iLCBtLT5jaGFubmVscygpLCBtLT50eXBlKCkpOwogICAgICAgICAgIHByaW50ZigianNfbWF0X2l0ZXJhdG9yX25leHQgJXNcbiIsIHR5cGUuY29uc3RydWN0b3JfbmFtZSgpLmNfc3RyKCkpOyovCgogICAgICAgIGlmKGNoYW5uZWxzID09IDEpCiAgICAgICAgICByZXR1cm4ganNfbWF0X2dldChjdHgsIGl0LT5vYmosIHJvdywgY29sKTsKCiAgICAgICAgcmV0ID0ganNfdHlwZWRhcnJheV9uZXcoY3R4LCBpdC0+YnVmLCBvZmZzZXQsIGNoYW5uZWxzLCB0eXBlKTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgICBjYXNlIE1BVF9JVEVSQVRPUl9FTlRSSUVTOiB7CiAgICAgICAgSlNWYWx1ZSB2YWx1ZSA9IGNoYW5uZWxzID09IDEgPyBqc19tYXRfZ2V0KGN0eCwgaXQtPm9iaiwgcm93LCBjb2wpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBqc190eXBlZGFycmF5X25ldyhjdHgsIGl0LT5idWYsIG9mZnNldCwgY2hhbm5lbHMsIFR5cGVkQXJyYXlUeXBlKCptKSk7CiAgICAgICAgc3RkOjphcnJheTx1aW50MzJfdCwgMj4gcG9zID0ge3JvdywgY29sfTsKICAgICAgICBzdGQ6OmFycmF5PEpTVmFsdWUsIDI+IGVudHJ5ID0ge2pzX2FycmF5X2Zyb20oY3R4LCBwb3MpLCB2YWx1ZX07CiAgICAgICAgcmV0ID0ganNfYXJyYXlfZnJvbShjdHgsIGVudHJ5KTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogIH0KICByZXR1cm4gcmV0Owp9Cgp2b2lkCmpzX21hdF9pdGVyYXRvcl9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBKU01hdEl0ZXJhdG9yRGF0YSogaXQgPSBzdGF0aWNfY2FzdDxKU01hdEl0ZXJhdG9yRGF0YSo+KEpTX0dldE9wYXF1ZSh2YWwsIGpzX21hdF9pdGVyYXRvcl9jbGFzc19pZCkpOwogIGpzX2RlYWxsb2NhdGUocnQsIGl0KTsKfQoKc3RhdGljIEpTVmFsdWUKanNfbWF0X2l0ZXJhdG9yX2R1cChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgcmV0dXJuIEpTX0R1cFZhbHVlKGN0eCwgdGhpc192YWwpOwp9CgpKU0NsYXNzRGVmIGpzX21hdF9jbGFzcyA9IHsKICAgIC5jbGFzc19uYW1lID0gIk1hdCIsCiAgICAuZmluYWxpemVyID0ganNfbWF0X2ZpbmFsaXplciwKICAgIC5jYWxsID0ganNfbWF0X2NhbGwsCn07CgpKU0NsYXNzRGVmIGpzX21hdF9pdGVyYXRvcl9jbGFzcyA9IHsKICAgIC5jbGFzc19uYW1lID0gIk1hdEl0ZXJhdG9yIiwKICAgIC5maW5hbGl6ZXIgPSBqc19tYXRfaXRlcmF0b3JfZmluYWxpemVyLAp9OwoKY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfbWF0X3Byb3RvX2Z1bmNzW10gPSB7CiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigiY29scyIsIGpzX21hdF9nZXRfcHJvcHMsIE5VTEwsIFBST1BfQ09MUyksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigicm93cyIsIGpzX21hdF9nZXRfcHJvcHMsIE5VTEwsIFBST1BfUk9XUyksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigiY2hhbm5lbHMiLCBqc19tYXRfZ2V0X3Byb3BzLCBOVUxMLCBQUk9QX0NIQU5ORUxTKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJ0eXBlIiwganNfbWF0X2dldF9wcm9wcywgTlVMTCwgUFJPUF9UWVBFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJkZXB0aCIsIGpzX21hdF9nZXRfcHJvcHMsIE5VTEwsIFBST1BfREVQVEgpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImVtcHR5IiwganNfbWF0X2dldF9wcm9wcywgTlVMTCwgUFJPUF9FTVBUWSksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigidG90YWwiLCBqc19tYXRfZ2V0X3Byb3BzLCBOVUxMLCBQUk9QX1RPVEFMKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJzaXplIiwganNfbWF0X2dldF9wcm9wcywgTlVMTCwgUFJPUF9TSVpFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJjb250aW51b3VzIiwganNfbWF0X2dldF9wcm9wcywgTlVMTCwgUFJPUF9DT05USU5VT1VTKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJzdWJtYXRyaXgiLCBqc19tYXRfZ2V0X3Byb3BzLCBOVUxMLCBQUk9QX1NVQk1BVFJJWCksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigic3RlcCIsIGpzX21hdF9nZXRfcHJvcHMsIE5VTEwsIFBST1BfU1RFUCksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigiZWxlbVNpemUiLCBqc19tYXRfZ2V0X3Byb3BzLCBOVUxMLCBQUk9QX0VMRU1TSVpFKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJlbGVtU2l6ZTEiLCBqc19tYXRfZ2V0X3Byb3BzLCBOVUxMLCBQUk9QX0VMRU1TSVpFMSksCiAgICBKU19DR0VUU0VUX0RFRigiYnVmZmVyIiwganNfbWF0X2J1ZmZlciwgTlVMTCksCiAgICBKU19DR0VUU0VUX0RFRigiYXJyYXkiLCBqc19tYXRfYXJyYXksIE5VTEwpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJjb2wiLCAxLCBqc19tYXRfZnVuY3MsIE1FVEhPRF9DT0wpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJyb3ciLCAxLCBqc19tYXRfZnVuY3MsIE1FVEhPRF9ST1cpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJjb2xSYW5nZSIsIDIsIGpzX21hdF9mdW5jcywgTUVUSE9EX0NPTF9SQU5HRSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInJvd1JhbmdlIiwgMiwganNfbWF0X2Z1bmNzLCBNRVRIT0RfUk9XX1JBTkdFKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiY2xvbmUiLCAwLCBqc19tYXRfZnVuY3MsIE1FVEhPRF9DTE9ORSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInJvaSIsIDAsIGpzX21hdF9mdW5jcywgTUVUSE9EX1JPSSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInJlbGVhc2UiLCAwLCBqc19tYXRfZnVuY3MsIE1FVEhPRF9SRUxFQVNFKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZHVwIiwgMCwganNfbWF0X2Z1bmNzLCBNRVRIT0RfRFVQKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiY2xlYXIiLCAwLCBqc19tYXRfZnVuY3MsIE1FVEhPRF9DTEVBUiksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInJlc2V0IiwgMCwganNfbWF0X2Z1bmNzLCBNRVRIT0RfUkVTRVQpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJyZXNpemUiLCAxLCBqc19tYXRfZnVuY3MsIE1FVEhPRF9SRVNJWkUpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJzdGVwMSIsIDAsIGpzX21hdF9mdW5jcywgTUVUSE9EX1NURVAxKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigibG9jYXRlUk9JIiwgMCwganNfbWF0X2Z1bmNzLCBNRVRIT0RfTE9DQVRFX1JPSSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInB0ciIsIDAsIGpzX21hdF9mdW5jcywgTUVUSE9EX1BUUiksCgogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJhbmQiLCAyLCBqc19tYXRfZXhwciwgTUFUX0VYUFJfQU5EKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigib3IiLCAyLCBqc19tYXRfZXhwciwgTUFUX0VYUFJfT1IpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJ4b3IiLCAzLCBqc19tYXRfZXhwciwgTUFUX0VYUFJfWE9SKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigibXVsIiwgMywganNfbWF0X2V4cHIsIE1BVF9FWFBSX01VTCksCgogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJ6ZXJvIiwgMiwganNfbWF0X2ZpbGwsIDApLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJvbmUiLCAyLCBqc19tYXRfZmlsbCwgMSksCgogICAgSlNfQ0ZVTkNfREVGKCJ0b1N0cmluZyIsIDAsIGpzX21hdF90b3N0cmluZyksCiAgICBKU19DRlVOQ19ERUYoImF0IiwgMSwganNfbWF0X2F0KSwKICAgIEpTX0NGVU5DX0RFRigic2V0IiwgMiwganNfbWF0X3NldCksCiAgICBKU19DRlVOQ19ERUYoInNldFRvIiwgMSwganNfbWF0X3NldF90byksCiAgICBKU19DRlVOQ19ERUYoImNvbnZlcnRUbyIsIDIsIGpzX21hdF9jb252ZXJ0X3RvKSwKICAgIEpTX0NGVU5DX0RFRigiY29weVRvIiwgMSwganNfbWF0X2NvcHlfdG8pLAogICAgSlNfQ0ZVTkNfREVGKCJyZXNoYXBlIiwgMSwganNfbWF0X3Jlc2hhcGUpLAogICAgSlNfQ0ZVTkNfREVGKCJnZXRVTWF0IiwgMSwganNfbWF0X2dldHVtYXQpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJrZXlzIiwgMCwganNfbWF0X2l0ZXJhdG9yX25ldywgTUFUX0lURVJBVE9SX0tFWVMpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJ2YWx1ZXMiLCAwLCBqc19tYXRfaXRlcmF0b3JfbmV3LCBNQVRfSVRFUkFUT1JfVkFMVUVTKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZW50cmllcyIsIDAsIGpzX21hdF9pdGVyYXRvcl9uZXcsIE1BVF9JVEVSQVRPUl9FTlRSSUVTKSwKICAgIEpTX0FMSUFTX0RFRigiW1N5bWJvbC5pdGVyYXRvcl0iLCAidmFsdWVzIiksCiAgICBKU19BTElBU19ERUYoIltTeW1ib2wudG9QcmltaXRpdmVdIiwgInRvU3RyaW5nIiksCgogICAgSlNfUFJPUF9TVFJJTkdfREVGKCJbU3ltYm9sLnRvU3RyaW5nVGFnXSIsICJNYXQiLCBKU19QUk9QX0NPTkZJR1VSQUJMRSksCn07Cgpjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc19tYXRfaXRlcmF0b3JfcHJvdG9fZnVuY3NbXSA9IHsKICAgIEpTX0lURVJBVE9SX05FWFRfREVGKCJuZXh0IiwgMCwganNfbWF0X2l0ZXJhdG9yX25leHQsIDApLAogICAgSlNfUFJPUF9TVFJJTkdfREVGKCJbU3ltYm9sLnRvU3RyaW5nVGFnXSIsICJNYXRJdGVyYXRvciIsIEpTX1BST1BfQ09ORklHVVJBQkxFKSwKICAgIEpTX0NGVU5DX0RFRigiW1N5bWJvbC5pdGVyYXRvcl0iLCAwLCBqc19tYXRfaXRlcmF0b3JfZHVwKSwKCn07Cgpjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc19tYXRfc3RhdGljX2Z1bmNzW10gPSB7CiAgICBKU19DRlVOQ19ERUYoImdldFJvdGF0aW9uTWF0cml4MkQiLCAzLCBqc19tYXRfZ2V0cm90YXRpb25tYXRyaXgyZCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImFkZCIsIDIsIGpzX21hdF9jbGFzc19mdW5jLCAwKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigic3ViIiwgMiwganNfbWF0X2NsYXNzX2Z1bmMsIDEpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJtdWwiLCAyLCBqc19tYXRfY2xhc3NfZnVuYywgMiksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImRpdiIsIDIsIGpzX21hdF9jbGFzc19mdW5jLCAzKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiYW5kIiwgMiwganNfbWF0X2NsYXNzX2Z1bmMsIDQpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJvciIsIDIsIGpzX21hdF9jbGFzc19mdW5jLCA1KSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigieG9yIiwgMywganNfbWF0X2NsYXNzX2Z1bmMsIDYpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJ6ZXJvcyIsIDEsIGpzX21hdF9jbGFzc19jcmVhdGUsIDApLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJvbmVzIiwgMSwganNfbWF0X2NsYXNzX2NyZWF0ZSwgMSksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiQ1ZfOFUiLCBDVl9NQUtFVFlQRShDVl84VSwgMSksIEpTX1BST1BfRU5VTUVSQUJMRSksCn07CgppbnQKanNfbWF0X2luaXQoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CiAgaWYoanNfbWF0X2NsYXNzX2lkID09IDApIHsKICAgIC8qIGNyZWF0ZSB0aGUgTWF0IGNsYXNzICovCiAgICBKU19OZXdDbGFzc0lEKCZqc19tYXRfY2xhc3NfaWQpOwogICAgSlNfTmV3Q2xhc3NJRCgmanNfbWF0X2l0ZXJhdG9yX2NsYXNzX2lkKTsKICAgIEpTX05ld0NsYXNzKEpTX0dldFJ1bnRpbWUoY3R4KSwganNfbWF0X2NsYXNzX2lkLCAmanNfbWF0X2NsYXNzKTsKICAgIEpTX05ld0NsYXNzKEpTX0dldFJ1bnRpbWUoY3R4KSwganNfbWF0X2l0ZXJhdG9yX2NsYXNzX2lkLCAmanNfbWF0X2l0ZXJhdG9yX2NsYXNzKTsKCiAgICBtYXRfcHJvdG8gPSBKU19OZXdPYmplY3QoY3R4KTsKICAgIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgbWF0X3Byb3RvLCBqc19tYXRfcHJvdG9fZnVuY3MsIGNvdW50b2YoanNfbWF0X3Byb3RvX2Z1bmNzKSk7CiAgICBKU19TZXRDbGFzc1Byb3RvKGN0eCwganNfbWF0X2NsYXNzX2lkLCBtYXRfcHJvdG8pOwoKICAgIG1hdF9pdGVyYXRvcl9wcm90byA9IEpTX05ld09iamVjdChjdHgpOwogICAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBtYXRfaXRlcmF0b3JfcHJvdG8sIGpzX21hdF9pdGVyYXRvcl9wcm90b19mdW5jcywgY291bnRvZihqc19tYXRfaXRlcmF0b3JfcHJvdG9fZnVuY3MpKTsKICAgIEpTX1NldENsYXNzUHJvdG8oY3R4LCBqc19tYXRfaXRlcmF0b3JfY2xhc3NfaWQsIG1hdF9pdGVyYXRvcl9wcm90byk7CgogICAgbWF0X2NsYXNzID0gSlNfTmV3Q0Z1bmN0aW9uMihjdHgsIGpzX21hdF9jdG9yLCAiTWF0IiwgMiwgSlNfQ0ZVTkNfY29uc3RydWN0b3IsIDApOwogICAgLyogc2V0IHByb3RvLmNvbnN0cnVjdG9yIGFuZCBjdG9yLnByb3RvdHlwZSAqLwogICAgSlNfU2V0Q29uc3RydWN0b3IoY3R4LCBtYXRfY2xhc3MsIG1hdF9wcm90byk7CgogICAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBtYXRfY2xhc3MsIGpzX21hdF9zdGF0aWNfZnVuY3MsIGNvdW50b2YoanNfbWF0X3N0YXRpY19mdW5jcykpOwoKICAgIGpzX3NldF9pbnNwZWN0X21ldGhvZChjdHgsIG1hdF9wcm90bywganNfbWF0X2luc3BlY3QpOwogICAgLyogICBKU1ZhbHVlIGcgPSBKU19HZXRHbG9iYWxPYmplY3QoY3R4KTsKICAgICAgIGludDMyYXJyYXlfY3RvciA9IEpTX0dldFByb3BlcnR5KGN0eCwgZywgSlNfQVRPTV9JbnQzMkFycmF5KTsKICAgICAgIGludDMyYXJyYXlfcHJvdG8gPSBKU19HZXRQcm90b3R5cGUoY3R4LCBpbnQzMmFycmF5X2N0b3IpOwoKICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGcpOyovCiAgfQoKICBpZihtKQogICAgSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgIk1hdCIsIG1hdF9jbGFzcyk7CiAgcmV0dXJuIDA7Cn0KCmV4dGVybiAiQyIgVklTSUJMRSB2b2lkCmpzX21hdF9leHBvcnQoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CiAgSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgIk1hdCIpOwp9CgojaWYgZGVmaW5lZChKU19NQVRfTU9EVUxFKQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIFZJU0lCTEUganNfaW5pdF9tb2R1bGUKI2Vsc2UKI2RlZmluZSBKU19JTklUX01PRFVMRSBqc19pbml0X21vZHVsZV9tYXQKI2VuZGlmCgpleHRlcm4gIkMiIEpTTW9kdWxlRGVmKgpKU19JTklUX01PRFVMRShKU0NvbnRleHQqIGN0eCwgY29uc3QgY2hhciogbW9kdWxlX25hbWUpIHsKICBKU01vZHVsZURlZiogbTsKICBtID0gSlNfTmV3Q01vZHVsZShjdHgsIG1vZHVsZV9uYW1lLCAmanNfbWF0X2luaXQpOwogIGlmKCFtKQogICAgcmV0dXJuIE5VTEw7CiAganNfbWF0X2V4cG9ydChjdHgsIG0pOwogIHJldHVybiBtOwp9CgAAAAAAAAAANK4AAAAAAAAAAAAAAAAAAAAAAAA0rgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABqgQAAAAAAAG+BAAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"file": "CMakeLists.txt",
			"settings":
			{
				"buffer_size": 4060,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					15,
					1,
					"",
					null,
					"AQAAAHcOAAAAAAAAhQ4AAAAAAAAKAAAAcWpzLW9wZW5jdg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB3DgAAAAAAAIEOAAAAAAAAAAAAAAAA8L8"
				],
				[
					16,
					1,
					"",
					null,
					"AQAAALkOAAAAAAAAxw4AAAAAAAAKAAAAcWpzLW9wZW5jdg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC5DgAAAAAAAMMOAAAAAAAAAAAAAAAA8L8"
				],
				[
					17,
					1,
					"",
					null,
					"AQAAAFYPAAAAAAAAZA8AAAAAAAAKAAAAcWpzLW9wZW5jdg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABWDwAAAAAAAGAPAAAAAAAAAAAAAAAA8L8"
				],
				[
					18,
					1,
					"",
					null,
					"AQAAAMMPAAAAAAAA0Q8AAAAAAAAKAAAAcWpzLW9wZW5jdg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADDDwAAAAAAAM0PAAAAAAAAAAAAAAAA8L8"
				],
				[
					19,
					1,
					"",
					null,
					"AQAAAAQQAAAAAAAAEhAAAAAAAAAKAAAAcWpzLW9wZW5jdg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAEEAAAAAAAAA4QAAAAAAAAAAAAAAAA8L8"
				],
				[
					65,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABtEAAAY21ha2VfbWluaW11bV9yZXF1aXJlZChWRVJTSU9OIDMuMCkKcHJvamVjdChxanMtb3BlbmN2KQoKc2V0KERJU0FCTEVfV0VSUk9SIFRSVUUgQ0FDSEUgQk9PTCAiRGlzYWJsZSAtV2Vycm9yIGZsYWciIEZPUkNFKQoKc2V0KENNQUtFX0JVSUxEX1RZUEUgIkRlYnVnIiBDQUNIRSBTVFJJTkcgImJ1aWxkIHR5cGUiKQoKc2V0X3Byb3BlcnR5KENBQ0hFIENNQUtFX0JVSUxEX1RZUEUgUFJPUEVSVFkgU1RSSU5HUyBEZWJ1ZyBSZWxlYXNlIE1pblNpemVSZWwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmVsV2l0aERlYkluZm8pCgpzZXQocXVpY2tqc19zb3VyY2VzX3Jvb3QgJHtDTUFLRV9DVVJSRU5UX1NPVVJDRV9ESVJ9L3F1aWNranMpCgppZihOT1QgQ01BS0VfQlVJTERfVFlQRSBPUiBDTUFLRV9CVUlMRF9UWVBFIFNUUkVRVUFMICIiKQogIHNldChDTUFLRV9CVUlMRF9UWVBFICJEZWJ1ZyIpCmVuZGlmKE5PVCBDTUFLRV9CVUlMRF9UWVBFIE9SIENNQUtFX0JVSUxEX1RZUEUgU1RSRVFVQUwgIiIpCgppZihXSU4zMikKICBzZXQoTElCV1MyXzMyIHdzMl8zMikKZWxzZShXSU4zMikKCmVuZGlmKFdJTjMyKQoKaW5jbHVkZShGaW5kVGhyZWFkcykKaW5jbHVkZShGaW5kUGtnQ29uZmlnKQppbmNsdWRlKCR7Q01BS0VfQ1VSUkVOVF9TT1VSQ0VfRElSfS9jbWFrZS9GdW5jdGlvbnMuY21ha2UpCmluY2x1ZGUoJHtDTUFLRV9DVVJSRU5UX1NPVVJDRV9ESVJ9L2NtYWtlL0NoZWNrRmxhZ3MuY21ha2UpCmluY2x1ZGUoJHtDTUFLRV9DVVJSRU5UX1NPVVJDRV9ESVJ9L2NtYWtlL0ZpbmRRdWlja0pTLmNtYWtlKQppbmNsdWRlKCR7Q01BS0VfQ1VSUkVOVF9TT1VSQ0VfRElSfS9jbWFrZS9KU0JpbmRpbmdzLmNtYWtlKQppbmNsdWRlKCR7Q01BS0VfQ1VSUkVOVF9TT1VSQ0VfRElSfS9jbWFrZS9PcGVuQ1YuY21ha2UpCgppZihFTkFCTEVfQ0NBQ0hFKQogIGluY2x1ZGUoJHtDTUFLRV9DVVJSRU5UX1NPVVJDRV9ESVJ9L2NtYWtlL0NDYWNoZS5jbWFrZSkKICBlbmFibGVfY2NhY2hlKCkKZW5kaWYoRU5BQkxFX0NDQUNIRSkKCmNoZWNrX3NpemUoImxvbmciIFNJWkVPRl9MT05HKQpjaGVja19zaXplKCJsb25nIGxvbmciIFNJWkVPRl9MT05HX0xPTkcpCmNoZWNrX3NpemUoInNpemVfdCIgU0laRU9GX1NJWkVfVCkKCmlmKE5PVCBQT1NJVElPTl9JTkRFUEVOREVOVF9DT0RFKQogIHNldChQT1NJVElPTl9JTkRFUEVOREVOVF9DT0RFIE9OKQplbmRpZihOT1QgUE9TSVRJT05fSU5ERVBFTkRFTlRfQ09ERSkKb3B0aW9uKEJVSUxEX1NIQVJFRF9MSUJTICJCdWlsZCBzaGFyZWQgbGlicmFyaWVzIiBPTikKCm1lc3NhZ2UoIlRocmVhZCBsaWJyYXJ5OiAke0NNQUtFX1RIUkVBRF9MSUJTX0lOSVR9IikKaWYoQ01BS0VfVEhSRUFEX0xJQlNfSU5JVCkKICBzZXQoTElCUFRIUkVBRCAke0NNQUtFX1RIUkVBRF9MSUJTX0lOSVR9KQplbmRpZihDTUFLRV9USFJFQURfTElCU19JTklUKQoKY2hlY2tfbGlicmFyeV9leGlzdHMobSBhdGFuMiAvdXNyL2xpYiBIQVZFX0xJQk0pCmlmKEhBVkVfTElCTSkKICBzZXQoTElCTSBtKQogICMgbWVzc2FnZSgiRm91bmQgbWF0aCBsaWJyYXJ5OiAke0xJQk19IikKZW5kaWYoSEFWRV9MSUJNKQoKY2hlY2tfbGlicmFyeV9leGlzdHMoZGwgZGxvcGVuIC91c3IvbGliIEhBVkVfTElCREwpCmlmKEhBVkVfTElCREwpCiAgc2V0KExJQkRMIGRsKQogICMgbWVzc2FnZSgiRm91bmQgZGxmY24gbGlicmFyeTogJHtMSUJETH0iKQplbmRpZihIQVZFX0xJQkRMKQoKY2hlY2tfbGlicmFyeV9leGlzdHMoanNvbi1jcHAgWk40WUFNTDZkZXRhaWw5bm9kZV9kYXRhOXJlc2V0X21hcEV2IC91c3IKICAgICAgICAgICAgICAgICAgICAgSlNPTl9DUFApCgpmaW5kX3F1aWNranMoKQpmaW5kX29wZW5jdigpCgpzZXQoQ01BS0VfSU5TVEFMTF9SUEFUSCAiJHtPUEVOQ1ZfTElCX0RJUn0iCiAgICBDQUNIRSBQQVRIICJCdWlsZCB3aXRoIGluc3RhbGwgcnBhdGgiIEZPUkNFKQoKaW5jbHVkZV9kaXJlY3Rvcmllcygke09QRU5DVl9JTkNMVURFX0RJUlN9ICR7Q01BS0VfQ1VSUkVOVF9TT1VSQ0VfRElSfSkKCmNoZWNrX2N4eF9zdGFuZGFyZF9mbGFnKCkKCnN0cmluZyhSRUdFWCBSRVBMQUNFICIgLVdhbGwiICIiIENNQUtFX0NfRkxBR1MgIiR7Q01BS0VfQ19GTEFHU30iKQpzdHJpbmcoUkVHRVggUkVQTEFDRSAiIC1XYWxsIiAiIiBDTUFLRV9DWFhfRkxBR1MgIiR7Q01BS0VfQ1hYX0ZMQUdTfSIpCgpjaGVja19ub3dhcm5fZmxhZygtV25vLXVudXNlZC12YWx1ZSkKY2hlY2tfbm93YXJuX2ZsYWcoLVduby11bnVzZWQtdmFyaWFibGUpCgppZigiJHtDTUFLRV9DWFhfQ09NUElMRVJfSUR9IiBNQVRDSEVTICIuKkNsYW5nLioiKQogIGNoZWNrX25vd2Fybl9mbGFnKC1Xbm8tZGVwcmVjYXRlZC1hbm9uLWVudW0tZW51bS1jb252ZXJzaW9uKQogIGNoZWNrX25vd2Fybl9mbGFnKC1Xbm8tZXh0ZXJuLWMtY29tcGF0KQogIGNoZWNrX25vd2Fybl9mbGFnKC1Xbm8taW1wbGljaXQtaW50LWZsb2F0LWNvbnZlcnNpb24pCiAgY2hlY2tfbm93YXJuX2ZsYWcoLVduby1kZXByZWNhdGVkLWVudW0tZW51bS1jb252ZXJzaW9uKQplbmRpZigiJHtDTUFLRV9DWFhfQ09NUElMRVJfSUR9IiBNQVRDSEVTICIuKkNsYW5nLioiKQoKIyBkdW1wKENNQUtFX0NfRkxBR1MgQ01BS0VfQ1hYX0ZMQUdTKSBkdW1wKENNQUtFX0NYWF9GTEFHU19ERUJVRykKCmNoZWNrX3BpY19mbGFnKFFVSUNLSlNfTU9EVUxFX0NGTEFHUykKCnNldChERUJVR19PVVRQVVQgVFJVRSBDQUNIRSBCT09MICJEZWJ1ZyBvdXRwdXQiIEZPUkNFKQpzZXQoREVCVUdfTUFUIEZBTFNFIENBQ0hFIEJPT0wgIkRlYnVnIGN2OjpNYXQiIEZPUkNFKQoKY2hlY2tfb3B0X25vbmVfZmxhZygpCgpjaGVja19kZWJ1Z19nZGJfZmxhZygpCgpjaGVja19jX2NvbXBpbGVyX2ZsYWcoIi1mbHRvIiBIQVNfRl9MVE9fRkxBRykKCmlmKEhBU19GX0xUT19GTEFHKQogIG9wdGlvbihFTkFCTEVfTFRPICJFbmFibGUgbGluay10aW1lIG9wdGltaXphdGlvbiIgT0ZGKQplbmRpZihIQVNfRl9MVE9fRkxBRykKCmlmKEVOQUJMRV9MVE8pCiAgc2V0KENNQUtFX0NfRkxBR1MgIiR7Q01BS0VfQ19GTEFHU30gLWZsdG8iKQogIHNldChDTUFLRV9FWEVfTElOS0VSX0ZMQUdTICIke0NNQUtFX0VYRV9MSU5LRVJfRkxBR1N9IC1mbHRvIikKZW5kaWYoRU5BQkxFX0xUTykKCmxpbmtfZGlyZWN0b3JpZXMoQkVGT1JFICR7cXVpY2tqc19CSU5BUllfRElSfSkKCmxpbmtfZGlyZWN0b3JpZXMoIiR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfS9xdWlja2pzIikKCnNldChRVUlDS0pTX0xJQlJBUlkgcXVpY2tqcykKbGlua19kaXJlY3Rvcmllcygke0NNQUtFX0NVUlJFTlRfQklOQVJZX0RJUn0vcXVpY2tqcykKCm9wdGlvbihRVUlDS0pTX01PRFVMRVMgIkJ1aWxkIC5zbyBtb2R1bGVzIGZvciBxdWlja2pzIiBPTikKCm9wdGlvbihCVUlMRF9RVUlDS0pTICJCdWlsZCBRdWlja0pTIiBPTikKCmZpbGUoR0xPQiBPUEVOQ1ZfU09VUkNFUyAqLmhwcCAqLmNwcCkKIyBkdW1wKE9QRU5DVl9TT1VSQ0VTKQoKZHVtcChRVUlDS0pTX01PRFVMRV9DRkxBR1MgRl9QSUMpCgpsaXN0KEZJTFRFUiBPUEVOQ1ZfU09VUkNFUyBFWENMVURFIFJFR0VYICJpbml0X21vZHVsZVxcLmNwcCIpCmxpc3QoRklMVEVSIE9QRU5DVl9TT1VSQ0VTIEVYQ0xVREUgUkVHRVggImpzXFwuW2hjXXBwIikKCmFkZF9saWJyYXJ5KHF1aWNranMtb3BlbmN2IFNUQVRJQyAke09QRU5DVl9TT1VSQ0VTfSkKc2V0X3RhcmdldF9wcm9wZXJ0aWVzKAogIHF1aWNranMtb3BlbmN2IFBST1BFUlRJRVMgUFJFRklYICIiIE9VVFBVVF9OQU1FIG9wZW5jdgogICAgICAgICAgICAgICAgICAgICAgICBDT01QSUxFX0ZMQUdTICIke1FVSUNLSlNfTU9EVUxFX0NGTEFHU30gJHtGX1BJQ30iKQp0YXJnZXRfY29tcGlsZV9kZWZpbml0aW9ucyhxdWlja2pzLW9wZW5jdgogICAgICAgICAgICAgICAgICAgICAgICAgICBQUklWQVRFIENPTkZJR19QUkVGSVg9IiR7Q01BS0VfSU5TVEFMTF9QUkVGSVh9IikKCgppbnN0YWxsKFRBUkdFVFMgcXVpY2tqcy1vcGVuY3YgREVTVElOQVRJT04gbGliL3F1aWNranMpCnNldChqc2JpbmRpbmdzX0xJQlJBUklFUyBxdWlja2pzLW9wZW5jdikKCiMgbWFrZV9zdGF0aWNfbW9kdWxlKG9wZW5jdiBpbml0X21vZHVsZS5jcHApCm1ha2Vfc2hhcmVkX21vZHVsZShvcGVuY3YgaW5pdF9tb2R1bGUuY3BwKQoAAAAAAAAAAPAPAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABtEAAAAAAAAG0QAAAAAAAAAAAAAAAA8L8"
				],
				[
					78,
					1,
					"",
					null,
					"AQAAADEOAAAAAAAAPQ4AAAAAAAAOAAAAcXVpY2tqcy1vcGVuY3Y",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAxDgAAAAAAAD8OAAAAAAAAAAAAAAAA8L8"
				],
				[
					79,
					1,
					"",
					null,
					"AQAAAG4OAAAAAAAAeg4AAAAAAAAOAAAAcXVpY2tqcy1vcGVuY3Y",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABuDgAAAAAAAHwOAAAAAAAAAAAAAAAA8L8"
				],
				[
					80,
					1,
					"",
					null,
					"AQAAAPEOAAAAAAAA/Q4AAAAAAAAOAAAAcXVpY2tqcy1vcGVuY3Y",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADxDgAAAAAAAP8OAAAAAAAAAAAAAAAA8L8"
				],
				[
					81,
					1,
					"",
					null,
					"AQAAAEAPAAAAAAAATA8AAAAAAAAOAAAAcXVpY2tqcy1vcGVuY3Y",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABADwAAAAAAAE4PAAAAAAAAAAAAAAAA8L8"
				],
				[
					82,
					1,
					"",
					null,
					"AQAAAH8PAAAAAAAAiw8AAAAAAAAOAAAAcXVpY2tqcy1vcGVuY3Y",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB/DwAAAAAAAI0PAAAAAAAAAAAAAAAA8L8"
				],
				[
					86,
					1,
					"",
					null,
					"AQAAADEOAAAAAAAAOw4AAAAAAAAMAAAAcWpzLW9wZW5jdi1h",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAxDgAAAAAAAD0OAAAAAAAAAAAAAAAA8L8"
				],
				[
					87,
					1,
					"",
					null,
					"AQAAAGwOAAAAAAAAdg4AAAAAAAAMAAAAcWpzLW9wZW5jdi1h",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABsDgAAAAAAAHgOAAAAAAAAAAAAAAAA8L8"
				],
				[
					88,
					1,
					"",
					null,
					"AQAAAO0OAAAAAAAA9w4AAAAAAAAMAAAAcWpzLW9wZW5jdi1h",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADtDgAAAAAAAPkOAAAAAAAAAAAAAAAA8L8"
				],
				[
					89,
					1,
					"",
					null,
					"AQAAADoPAAAAAAAARA8AAAAAAAAMAAAAcWpzLW9wZW5jdi1h",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAA6DwAAAAAAAEYPAAAAAAAAAAAAAAAA8L8"
				],
				[
					90,
					1,
					"",
					null,
					"AQAAAHcPAAAAAAAAgQ8AAAAAAAAMAAAAcWpzLW9wZW5jdi1h",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAB3DwAAAAAAAIMPAAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"file": "cmake/JSBindings.cmake",
			"settings":
			{
				"buffer_size": 5704,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					52,
					1,
					"paste",
					null,
					"AQAAAEkNAAAAAAAAgQ0AAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABJDQAAAAAAAEkNAAAAAAAAAAAAAAAA8L8"
				],
				[
					59,
					1,
					"insert",
					{
						"characters": " \""
					},
					"AwAAAFMNAAAAAAAAVA0AAAAAAAAAAAAAVA0AAAAAAABUDQAAAAAAAAgAAABTVEFUVVMgIlQNAAAAAAAAVQ0AAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABTDQAAAAAAAFsNAAAAAAAAAAAAAAAA8L8"
				],
				[
					62,
					1,
					"paste",
					null,
					"AgAAAFUNAAAAAAAAZQ0AAAAAAAAAAAAAZQ0AAAAAAABlDQAAAAAAACMAAABDb25maWd1cmVkIG1vZHVsZXM6ICR7TU9EVUxFX05BTUVTfQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABVDQAAAAAAAHgNAAAAAAAAAAAAAAAA8L8"
				],
				[
					71,
					1,
					"paste",
					null,
					"AQAAAMUDAAAAAAAA5QMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADFAwAAAAAAAMUDAAAAAAAAAAAAAAAA8L8"
				],
				[
					81,
					1,
					"paste",
					null,
					"AgAAANIDAAAAAAAA5AMAAAAAAAAAAAAA5AMAAAAAAADkAwAAAAAAABAAAABtYWtlX2pzX2JpbmRpbmdz",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADSAwAAAAAAAOIDAAAAAAAAAAAAAAAA8L8"
				],
				[
					82,
					1,
					"insert",
					{
						"characters": " ${FNAM"
					},
					"BwAAAOQDAAAAAAAA5QMAAAAAAAAAAAAA5QMAAAAAAADmAwAAAAAAAAAAAADmAwAAAAAAAOcDAAAAAAAAAAAAAOcDAAAAAAAA6AMAAAAAAAAAAAAA6AMAAAAAAADpAwAAAAAAAAAAAADpAwAAAAAAAOoDAAAAAAAAAAAAAOoDAAAAAAAA6wMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADkAwAAAAAAAOQDAAAAAAAAAAAAAAAA8L8"
				],
				[
					83,
					1,
					"insert",
					{
						"characters": "E})"
					},
					"AwAAAOsDAAAAAAAA7AMAAAAAAAAAAAAA7AMAAAAAAADtAwAAAAAAAAAAAADtAwAAAAAAAO4DAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADrAwAAAAAAAOsDAAAAAAAAAAAAAAAA8L8"
				],
				[
					88,
					1,
					"left_delete",
					null,
					"AQAAAOQDAAAAAAAA5AMAAAAAAAABAAAAIA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADlAwAAAAAAAOUDAAAAAAAAAAAAAAAA8L8"
				],
				[
					89,
					1,
					"insert",
					{
						"characters": "("
					},
					"AQAAAOQDAAAAAAAA5QMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADkAwAAAAAAAOQDAAAAAAAAAAAAAAAA8L8"
				],
				[
					93,
					1,
					"cut",
					null,
					"AQAAAMUDAAAAAAAAxQMAAAAAAAAtAAAAICAgbWVzc2FnZSggIm1ha2Vfc2hhcmVkX21vZHVsZSgke0ZOQU1FfSkiKQog",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADFAwAAAAAAAPIDAAAAAAAAAAAAAAAAIEA"
				],
				[
					94,
					1,
					"paste",
					null,
					"AQAAAMUDAAAAAAAA8gMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADFAwAAAAAAAMUDAAAAAAAAAAAAAAAA8L8"
				],
				[
					97,
					1,
					"paste",
					null,
					"AQAAALkJAAAAAAAA5gkAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC5CQAAAAAAALkJAAAAAAAAAAAAAAAA8L8"
				],
				[
					105,
					1,
					"paste",
					null,
					"AgAAAMYJAAAAAAAA2AkAAAAAAAAAAAAA2AkAAAAAAADYCQAAAAAAABIAAABtYWtlX3NoYXJlZF9tb2R1bGU",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADGCQAAAAAAANgJAAAAAAAAAAAAAAAA8L8"
				],
				[
					106,
					1,
					"revert",
					null,
					"AwAAAAAAAAAAAAAAAAAAAAAAAACBFgAAaWYoV0lOMzIgT1IgTUlOR1cpCiAgc2V0KFFVSUNLSlNfTElCUkFSWV9ESVIgIiR7cXVpY2tqc19CSU5BUllfRElSfSIpCiAgc2V0KFFVSUNLSlNfTU9EVUxFX0RFUEVOREVOQ0lFUyAicXVpY2tqcyIpCmVuZGlmKFdJTjMyIE9SIE1JTkdXKQoKc2V0KFFVSUNLSlNfTU9EVUxFX0NGTEFHUyAiLWZ2aXNpYmlsaXR5PWhpZGRlbiIpCgpmdW5jdGlvbihjb25maWdfc2hhcmVkX21vZHVsZSBUQVJHRVRfTkFNRSkKICBpZihRVUlDS0pTX0xJQlJBUllfRElSKQogICAgdGFyZ2V0X2xpbmtfZGlyZWN0b3JpZXMoJHtUQVJHRVRfTkFNRX0gUFJJVkFURSAiJHtRVUlDS0pTX0xJQlJBUllfRElSfSIpCiAgZW5kaWYoUVVJQ0tKU19MSUJSQVJZX0RJUikKICBpZihRVUlDS0pTX01PRFVMRV9ERVBFTkRFTkNJRVMpCiAgICB0YXJnZXRfbGlua19saWJyYXJpZXMoJHtUQVJHRVRfTkFNRX0gJHtRVUlDS0pTX01PRFVMRV9ERVBFTkRFTkNJRVN9KQogIGVuZGlmKFFVSUNLSlNfTU9EVUxFX0RFUEVOREVOQ0lFUykKICBpZihRVUlDS0pTX01PRFVMRV9DRkxBR1MpCiAgICB0YXJnZXRfY29tcGlsZV9vcHRpb25zKCR7VEFSR0VUX05BTUV9IFBSSVZBVEUgIiR7UVVJQ0tKU19NT0RVTEVfQ0ZMQUdTfSIpCiAgZW5kaWYoUVVJQ0tKU19NT0RVTEVfQ0ZMQUdTKQplbmRmdW5jdGlvbihjb25maWdfc2hhcmVkX21vZHVsZSBUQVJHRVRfTkFNRSkKCnNldChKU19CSU5ESU5HU19DT01NT04gY29sb3IuaHBwIGdlb21ldHJ5LmhwcCBqcy5ocHAganNfYWxsb2MuaHBwIGpzX2FycmF5LmhwcCBqc19jb250b3VyLmhwcCBqc19saW5lLmhwcCBqc19wb2ludC5ocHAganNfcmVjdC5ocHAganNfc2l6ZS5ocHAganNfdHlwZWRfYXJyYXkuaHBwIGpzYmluZGluZ3MuaHBwIHBzaW1wbC5ocHAgdXRpbC5ocHApCnNldChqc19saW5lX1NPVVJDRVMgbGluZS5jcHAgbGluZS5ocHApCgpmdW5jdGlvbihtYWtlX3NoYXJlZF9tb2R1bGUgRk5BTUUpCiAgICBtZXNzYWdlKCAibWFrZV9zaGFyZWRfbW9kdWxlKCR7Rk5BTUV9KSIpCiBzdHJpbmcoUkVHRVggUkVQTEFDRSAiXyIgIi0iIE5BTUUgIiR7Rk5BTUV9IikKICBzdHJpbmcoVE9VUFBFUiAiJHtGTkFNRX0iIFVOQU1FKQoKICBzZXQoVEFSR0VUX05BTUUgcXVpY2tqcy0ke05BTUV9KQoKICBpZihBUkdOKQogICAgc2V0KFNPVVJDRVMgJHtBUkdOfSkKICBlbHNlKEFSR04pCiAgICBzZXQoU09VUkNFUyBqc18ke0ZOQU1FfS5jcHAgJHtqc18ke0ZOQU1FfV9TT1VSQ0VTfSBqc2JpbmRpbmdzLmNwcCB1dGlsLmNwcCBqcy5ocHAganMuY3BwICR7SlNfQklORElOR1NfQ09NTU9OfSkKICBlbmRpZihBUkdOKQoKICBhZGRfbGlicmFyeSgke1RBUkdFVF9OQU1FfSBTSEFSRUQgJHtTT1VSQ0VTfSkKCiAgdGFyZ2V0X2xpbmtfbGlicmFyaWVzKCR7VEFSR0VUX05BTUV9ICR7anNiaW5kaW5nc19MSUJSQVJJRVN9ICR7T3BlbkNWX0xJQlN9KQogIHNldF90YXJnZXRfcHJvcGVydGllcygke1RBUkdFVF9OQU1FfSBQUk9QRVJUSUVTIFBSRUZJWCAiIiAjIEJVSUxEX1JQQVRIICIke09QRU5DVl9MSUJSQVJZX0RJUlN9OiR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSUEFUSCAiJHtPUEVOQ1ZfTElCUkFSWV9ESVJTfToke0NNQUtFX0lOU1RBTExfUFJFRklYfS9saWI6JHtDTUFLRV9JTlNUQUxMX1BSRUZJWH0vbGliL3F1aWNranMiIE9VVFBVVF9OQU1FICIke05BTUV9IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDT01QSUxFX0ZMQUdTICIke1FVSUNLSlNfTU9EVUxFX0NGTEFHU30iIEJVSUxEX1JQQVRIICIke0NNQUtFX0NVUlJFTlRfQklOQVJZX0RJUn06JHtDTUFLRV9DVVJSRU5UX0JJTkFSWV9ESVJ9OiR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfS9xdWlja2pzOiR7Q01BS0VfQ1VSUkVOVF9CSU5BUllfRElSfS9xdWlja2pzIikKICB0YXJnZXRfY29tcGlsZV9kZWZpbml0aW9ucygke1RBUkdFVF9OQU1FfSBQUklWQVRFIEpTXyR7VU5BTUV9X01PRFVMRSBDT05GSUdfUFJFRklYPSIke0NNQUtFX0lOU1RBTExfUFJFRklYfSIpCiAgaW5zdGFsbChUQVJHRVRTICR7VEFSR0VUX05BTUV9IERFU1RJTkFUSU9OIGxpYi9xdWlja2pzIFBFUk1JU1NJT05TIE9XTkVSX1JFQUQgT1dORVJfV1JJVEUgT1dORVJfRVhFQ1VURSBHUk9VUF9SRUFEIEdST1VQX0VYRUNVVEUgV09STERfUkVBRCBXT1JMRF9FWEVDVVRFKQoKICBjb25maWdfc2hhcmVkX21vZHVsZSgke1RBUkdFVF9OQU1FfSkKCiAgaWYoT3BlbkNWX0ZPVU5EKQogICAgdGFyZ2V0X2luY2x1ZGVfZGlyZWN0b3JpZXMoJHtUQVJHRVRfTkFNRX0gUFVCTElDICR7T3BlbkNWX0lOQ0xVREVfRElSU30pCiAgICB0YXJnZXRfbGlua19saWJyYXJpZXMoJHtUQVJHRVRfTkFNRX0gJHtPcGVuQ1ZfTElCU30pCiAgZW5kaWYoKQplbmRmdW5jdGlvbigpCgpmdW5jdGlvbihtYWtlX3N0YXRpY19tb2R1bGUgRk5BTUUpCiAgICBtZXNzYWdlKCAibWFrZV9zdGF0aWNfbW9kdWxlKCR7Rk5BTUV9KSIpCiAgc3RyaW5nKFJFR0VYIFJFUExBQ0UgIl8iICItIiBOQU1FICIke0ZOQU1FfSIpCiAgc3RyaW5nKFRPVVBQRVIgIiR7Rk5BTUV9IiBVTkFNRSkKCiAgc2V0KFRBUkdFVF9OQU1FIHF1aWNranMtJHtOQU1FfS1zdGF0aWMpCgogIGlmKEFSR04pCiAgICBzZXQoU09VUkNFUyAke0FSR059KQogIGVsc2UoQVJHTikKICAgIHNldChTT1VSQ0VTIGpzXyR7Rk5BTUV9LmNwcCAke2pzXyR7Rk5BTUV9X1NPVVJDRVN9IGpzYmluZGluZ3MuY3BwIHV0aWwuY3BwIGpzLmhwcCBqcy5jcHAgJHtKU19CSU5ESU5HU19DT01NT059KQogIGVuZGlmKEFSR04pCgogIGFkZF9saWJyYXJ5KCR7VEFSR0VUX05BTUV9IFNUQVRJQyAke1NPVVJDRVN9KQoKICB0YXJnZXRfbGlua19saWJyYXJpZXMoJHtUQVJHRVRfTkFNRX0gJHtqc2JpbmRpbmdzX0xJQlJBUklFU30gJHtPcGVuQ1ZfTElCU30pCiAgc2V0X3RhcmdldF9wcm9wZXJ0aWVzKCR7VEFSR0VUX05BTUV9IFBST1BFUlRJRVMgUFJFRklYICIiIE9VVFBVVF9OQU1FICIke05BTUV9IiBDT01QSUxFX0ZMQUdTICIke1FVSUNLSlNfTU9EVUxFX0NGTEFHU30iKQogIHRhcmdldF9jb21waWxlX2RlZmluaXRpb25zKCR7VEFSR0VUX05BTUV9IFBSSVZBVEUgQ09ORklHX1BSRUZJWD0iJHtDTUFLRV9JTlNUQUxMX1BSRUZJWH0iKQogIGluc3RhbGwoVEFSR0VUUyAke1RBUkdFVF9OQU1FfSBERVNUSU5BVElPTiBsaWIvcXVpY2tqcykKCiAgY29uZmlnX3NoYXJlZF9tb2R1bGUoJHtUQVJHRVRfTkFNRX0pCgogIGlmKE9wZW5DVl9GT1VORCkKICAgIHRhcmdldF9pbmNsdWRlX2RpcmVjdG9yaWVzKCR7VEFSR0VUX05BTUV9IFBVQkxJQyAke09wZW5DVl9JTkNMVURFX0RJUlN9KQogICAgdGFyZ2V0X2xpbmtfbGlicmFyaWVzKCR7VEFSR0VUX05BTUV9ICR7T3BlbkNWX0xJQlN9KQogIGVuZGlmKCkKZW5kZnVuY3Rpb24oKQoKZnVuY3Rpb24obWFrZV9qc19iaW5kaW5ncykKICAgbWVzc2FnZSggIm1ha2VfanNfYmluZGluZ3MiKQogZmlsZShHTE9CIEpTX0JJTkRJTkdTX1NPVVJDRVMgJHtDTUFLRV9DVVJSRU5UX1NPVVJDRV9ESVJ9L2pzXyouY3BwKQoKICBmb3JlYWNoKE1PRCAke0pTX0JJTkRJTkdTX1NPVVJDRVN9KQogICAgc3RyaW5nKFJFR0VYIFJFUExBQ0UgIlxcLmNwcCIgIiIgTU9EICIke01PRH0iKQogICAgc3RyaW5nKFJFR0VYIFJFUExBQ0UgIi4qL2pzXyIgIiIgTU9EICIke01PRH0iKQogICAgbGlzdChBUFBFTkQgSlNfQklORElOR1NfTU9EVUxFUyAke01PRH0pCiAgZW5kZm9yZWFjaChNT0QgJHtKU19CSU5ESU5HU19TT1VSQ0VTfSkKCiAgZm9yZWFjaChKU19NT0RVTEUgJHtKU19CSU5ESU5HU19NT0RVTEVTfSkKICAgIG1ha2Vfc2hhcmVkX21vZHVsZSgke0pTX01PRFVMRX0pCiAgZW5kZm9yZWFjaCgpCgogIHN0cmluZyhSRVBMQUNFICI7IiAiICIgTU9EVUxFX05BTUVTICIke0pTX0JJTkRJTkdTX01PRFVMRVN9IikKICBtZXNzYWdlKFNUQVRVUyAiQ29uZmlndXJlZCBtb2R1bGVzOiAke01PRFVMRV9OQU1FU30iKQoKICBhZGRfZGVwZW5kZW5jaWVzKHF1aWNranMtcmVjdCBxdWlja2pzLXBvaW50IHF1aWNranMtc2l6ZSkKICAjIGFkZF9kZXBlbmRlbmNpZXMocXVpY2tqcy1jb250b3VyIHF1aWNranMtbWF0IHF1aWNranMtcmVjdCBxdWlja2pzLXBvaW50KQoKICBhZGRfZGVwZW5kZW5jaWVzKHF1aWNranMtY29udG91ciBxdWlja2pzLW1hdCkKCiAgdGFyZ2V0X2xpbmtfbGlicmFyaWVzKHF1aWNranMtbWF0IHF1aWNranMtc2l6ZSkKICB0YXJnZXRfbGlua19saWJyYXJpZXMocXVpY2tqcy1wb2ludC1pdGVyYXRvciBxdWlja2pzLWxpbmUgcXVpY2tqcy1wb2ludCkKICB0YXJnZXRfbGlua19saWJyYXJpZXMocXVpY2tqcy1jb250b3VyIHF1aWNranMtcG9pbnQtaXRlcmF0b3IgcXVpY2tqcy1tYXQpCiAgdGFyZ2V0X2xpbmtfbGlicmFyaWVzKHF1aWNranMtbGluZSBxdWlja2pzLXBvaW50KQogIHRhcmdldF9saW5rX2xpYnJhcmllcyhxdWlja2pzLXJlY3QgcXVpY2tqcy1zaXplIHF1aWNranMtcG9pbnQpCiAgdGFyZ2V0X2xpbmtfbGlicmFyaWVzKHF1aWNranMtdmlkZW8tY2FwdHVyZSBxdWlja2pzLW1hdCkKICB0YXJnZXRfbGlua19saWJyYXJpZXMocXVpY2tqcy1jdiBxdWlja2pzLW1hdCBxdWlja2pzLWNvbnRvdXIgcXVpY2tqcy1yZWN0IHF1aWNranMtbGluZSkKICB0YXJnZXRfbGlua19saWJyYXJpZXMocXVpY2tqcy1kcmF3IHF1aWNranMtbWF0IHF1aWNranMtY29udG91ciBxdWlja2pzLXNpemUpCiAgdGFyZ2V0X2xpbmtfbGlicmFyaWVzKHF1aWNranMtY2xhaGUgcXVpY2tqcy1tYXQgcXVpY2tqcy1zaXplKQogIHRhcmdldF9saW5rX2xpYnJhcmllcyhxdWlja2pzLXVtYXQgcXVpY2tqcy1tYXQpCiAgdGFyZ2V0X2xpbmtfbGlicmFyaWVzKHF1aWNranMtc3ViZGl2MmQgcXVpY2tqcy1jb250b3VyKQoKICB0YXJnZXRfbGlua19saWJyYXJpZXMocXVpY2tqcy1jdiBwbmcpCgogICMgYWRkX2RlcGVuZGVuY2llcyhxdWlja2pzLXBvaW50LWl0ZXJhdG9yIHF1aWNranMtY29udG91ciBxdWlja2pzLW1hdCkKCiAgZmlsZShHTE9CIEpTX0JJTkRJTkdTX1NPVVJDRVMgY29sb3IuY3BwIGRhdGEuY3BwIGdlb21ldHJ5LmNwcCBqc2JpbmRpbmdzLmNwcCBqc18qLmNwcCBqcy5jcHAgbGluZS5jcHAgbWF0cml4LmNwcCBwb2x5Z29uLmNwcCAqLmggKi5ocHApCgogICMgTWFpbgogIGFkZF9saWJyYXJ5KHF1aWNranMtb3BlbmN2IE1PRFVMRSAke0pTX0JJTkRJTkdTX1NPVVJDRVN9KQogIGNvbmZpZ19zaGFyZWRfbW9kdWxlKHF1aWNranMtb3BlbmN2KQoKICBzZXRfdGFyZ2V0X3Byb3BlcnRpZXMocXVpY2tqcy1vcGVuY3YgUFJPUEVSVElFUyAjIENPTVBJTEVfRkxBR1MgIi1mdmlzaWJpbGl0eT1oaWRkZW4iCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUlBBVEggIiR7T1BFTkNWX0xJQlJBUllfRElSU306JHtDTUFLRV9JTlNUQUxMX1BSRUZJWH0vbGliOiR7Q01BS0VfSU5TVEFMTF9QUkVGSVh9L2xpYi9xdWlja2pzIiBPVVRQVVRfTkFNRSAib3BlbmN2IiBQUkVGSVggIiIpCiAgdGFyZ2V0X2NvbXBpbGVfZGVmaW5pdGlvbnMocXVpY2tqcy1vcGVuY3YgUFJJVkFURSAtRENPTkZJR19QUkVGSVg9XCIke0NNQUtFX0lOU1RBTExfUFJFRklYfVwiKQoKICB0YXJnZXRfbGlua19saWJyYXJpZXMocXVpY2tqcy1vcGVuY3YgJHtPcGVuQ1ZfTElCU30pCiAgIyBsaW5rCmVuZGZ1bmN0aW9uKG1ha2VfanNfYmluZGluZ3MpCgAAAAAAAAAASBYAAAAAAAAAAAAAAAAAAAAAAABIFgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADYCQAAAAAAANgJAAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"contents": "Searching 115 files for \"std::ranges\" (regex, case sensitive)\n\n/home/roman/Projects/qjs-opencv/js_array.hpp:\n  621      JS_GetOwnPropertyNames(ctx, &names, &plen, obj, JS_GPN_ENUM_ONLY);\n  622  \n  623:     for(auto name : std::ranges::subrange<JSPropertyEnum>(names, names + plen)) {\n  624        JSValue value = JS_GetProperty(ctx, obj, name.atom);\n  625        T prop;\n\n/home/roman/Projects/qjs-opencv/util.hpp:\n  315  \n  316  template<class T>\n  317: static inline std::ranges::subrange<T>\n  318  sized_range(T ptr, size_t len) {\n  319:   return std::ranges::subrange<T>(ptr, ptr + len);\n  320  }\n  321  \n  322  template<class T>\n  323: static inline std::ranges::subrange<T*>\n  324  argument_range(int argc, T* argv) {\n  325:   return std::ranges::subrange<T*>(argv, argv + argc);\n  326  }\n  327  \n  328  template<class T>\n  329: static inline std::ranges::subrange<T*>\n  330  range(T* begin, T* end) {\n  331:   return std::ranges::subrange<T*>(begin, end);\n  332  }\n  333  \n  334  template<class Container>\n  335: static inline std::ranges::subrange<typename Container::value_type*>\n  336  range(Container& c) {\n  337:   return std::ranges::subrange<typename Container::value_type*>(begin(c), end(c));\n  338  }\n  339  \n  340  template<class T, class Container>\n  341: static inline std::ranges::subrange<T>\n  342  range(Container& c) {\n  343:   return std::ranges::subrange<T>(reinterpret_cast<T>(begin(c)), reinterpret_cast<T>(end(c)));\n  344  }\n  345  #endif\n\n/home/roman/Projects/qjs-opencv/js_slice_iterator.hpp:\n   21  struct JSSliceIteratorData {\n   22    uint8_t* ptr;\n   23:   std::ranges::subrange<uint8_t*> range;\n   24    int num_elems;\n   25    size_t increment;\n\n/home/roman/Projects/qjs-opencv/jsbindings.hpp:\n  266  \n  267  #if CXX_STANDARD >= 20\n  268: static inline std::ranges::subrange<uint8_t*>\n  269  js_arraybuffer_range(JSContext* ctx, JSValueConst buffer) {\n  270    size_t size;\n  271    uint8_t* ptr;\n  272    ptr = JS_GetArrayBuffer(ctx, &size, buffer);\n  273:   return std::ranges::subrange<uint8_t*>(ptr, ptr + size);\n  274  }\n  275  \n  276  template<class T>\n  277: static inline std::ranges::subrange<T>\n  278  js_arraybuffer_range(JSContext* ctx, JSValueConst buffer) {\n  279    typedef typename std::remove_pointer<T>::type value_type;\n  ...\n  282    byte_ptr = JS_GetArrayBuffer(ctx, &size, buffer);\n  283    size = round_to(size, sizeof(value_type));\n  284:   return std::ranges::subrange<T>(reinterpret_cast<T>(byte_ptr), reinterpret_cast<T>(byte_ptr + size));\n  285  }\n  286  #endif\n\n16 matches across 4 files\n\n\nSearching 115 files for \"ArrayBufferProps\" (regex, case sensitive)\n\n/home/roman/Projects/qjs-opencv/js_typed_array.hpp:\n  206  \n  207    size_t byte_offset, byte_length, bytes_per_element;\n  208:   ArrayBufferProps buffer;\n  209  \n  210    template<class T>\n\n/home/roman/Projects/qjs-opencv/jsbindings.hpp:\n  419  }\n  420  \n  421: struct ArrayBufferProps {\n  422    uint8_t* ptr;\n  423    size_t len;\n  424  \n  425:   ArrayBufferProps(uint8_t* _ptr, size_t _len) : ptr(_ptr), len(_len) {}\n  426  };\n  427  \n  ...\n  437  }\n  438  \n  439: static inline ArrayBufferProps\n  440  js_arraybuffer_props(JSContext* ctx, JSValueConst obj) {\n  441    uint8_t* ptr;\n  442    size_t len;\n  443    ptr = JS_GetArrayBuffer(ctx, &len, obj);\n  444:   return ArrayBufferProps(ptr, len);\n  445  }\n  446  \n\n5 matches across 2 files\n\n\nSearching 115 files for \"ArrayBufferProps\" (regex, case sensitive)\n\n/home/roman/Projects/qjs-opencv/js_typed_array.hpp:\n  206  \n  207    size_t byte_offset, byte_length, bytes_per_element;\n  208:   ArrayBufferProps buffer;\n  209  \n  210    template<class T>\n\n/home/roman/Projects/qjs-opencv/jsbindings.hpp:\n  419  }\n  420  \n  421: struct ArrayBufferProps {\n  422    uint8_t* ptr;\n  423    size_t len;\n  424  \n  425:   ArrayBufferProps(uint8_t* _ptr, size_t _len) : ptr(_ptr), len(_len) {}\n  426  };\n  427  \n  ...\n  437  }\n  438  \n  439: static inline ArrayBufferProps\n  440  js_arraybuffer_props(JSContext* ctx, JSValueConst obj) {\n  441    uint8_t* ptr;\n  442    size_t len;\n  443    ptr = JS_GetArrayBuffer(ctx, &len, obj);\n  444:   return ArrayBufferProps(ptr, len);\n  445  }\n  446  \n\n5 matches across 2 files\n",
			"settings":
			{
				"buffer_size": 4182,
				"line_ending": "Unix",
				"name": "Find Results",
				"scratch": true
			}
		},
		{
			"file": "js_array.hpp",
			"settings":
			{
				"buffer_size": 17576,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					39,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAC7RAAAI2lmbmRlZiBKU19BUlJBWV9IUFAKI2RlZmluZSBKU19BUlJBWV9IUFAKCiNpbmNsdWRlIDx0eXBlX3RyYWl0cz4KI2luY2x1ZGUgImpzX21hdC5ocHAiCiNpbmNsdWRlICJqc19wb2ludC5ocHAiCiNpbmNsdWRlICJqc19jb250b3VyLmhwcCIKI2luY2x1ZGUgImpzYmluZGluZ3MuaHBwIgoKc3RhdGljIGlubGluZSBpbnQ2NF90CmpzX2FycmF5X2xlbmd0aChKU0NvbnRleHQqIGN0eCwgY29uc3QgSlNWYWx1ZUNvbnN0JiBhcnIpIHsKICBpbnQ2NF90IHJldCA9IC0xOwogIGlmKGpzX2lzX2FycmF5KGN0eCwgYXJyKSkgewogICAgdWludDMyX3QgbGVuOwogICAgSlNWYWx1ZSB2ID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBhcnIsICJsZW5ndGgiKTsKICAgIEpTX1RvVWludDMyKGN0eCwgJmxlbiwgdik7CiAgICBKU19GcmVlVmFsdWUoY3R4LCB2KTsKICAgIHJldCA9IGxlbjsKICB9CiAgcmV0dXJuIHJldDsKfQoKZXh0ZXJuICJDIiBpbnQgSlNfRGVsZXRlUHJvcGVydHlJbnQ2NChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG9iaiwgaW50NjRfdCBpZHgsIGludCBmbGFncyk7CgpzdGF0aWMgaW5saW5lIGludDY0X3QKanNfYXJyYXlfdHJ1bmNhdGUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IEpTVmFsdWVDb25zdCYgYXJyLCBpbnQ2NF90IGxlbikgewogIGludDY0X3QgbmV3bGVuID0gLTE7CiAgaWYoanNfaXNfYXJyYXkoY3R4LCBhcnIpKSB7CiAgICBpbnQ2NF90IHRvcCA9IGpzX2FycmF5X2xlbmd0aChjdHgsIGFycik7CiAgICBuZXdsZW4gPSBzdGQ6Om1pbih0b3AsIGxlbiA8IDAgPyB0b3AgKyBsZW4gOiBsZW4pOwogICAgd2hpbGUoLS10b3AgPj0gbmV3bGVuKSBKU19EZWxldGVQcm9wZXJ0eUludDY0KGN0eCwgYXJyLCB0b3AsIDApOwogICAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBhcnIsICJsZW5ndGgiLCBKU19OZXdJbnQ2NChjdHgsIG5ld2xlbikpOwogIH0KICByZXR1cm4gbmV3bGVuOwp9CgpjbGFzcyBqc19hcnJheV9pdGVyYXRvciA6IHB1YmxpYyBzdGQ6Oml0ZXJhdG9yPHN0ZDo6aW5wdXRfaXRlcmF0b3JfdGFnLCBKU1ZhbHVlPiB7CnB1YmxpYzoKICBqc19hcnJheV9pdGVyYXRvcihKU0NvbnRleHQqIGMsIGNvbnN0IEpTVmFsdWVDb25zdCYgYSwgY29uc3Qgc2l6ZV90IGkgPSAwKSA6IGN0eChjKSwgYXJyYXkoJmEpLCBwb3MoaSkge30KCiAgdmFsdWVfdHlwZQogIG9wZXJhdG9yKigpIGNvbnN0IHsKICAgIHJldHVybiBKU19HZXRQcm9wZXJ0eVVpbnQzMihjdHgsICphcnJheSwgcG9zKTsKICB9CgogIGpzX2FycmF5X2l0ZXJhdG9yJgogIG9wZXJhdG9yKysoKSB7CiAgICArK3RoaXMtPnBvczsKICAgIHJldHVybiAqdGhpczsKICB9CgogIGpzX2FycmF5X2l0ZXJhdG9yCiAgb3BlcmF0b3IrKyhpbnQpIHsKICAgIGpzX2FycmF5X2l0ZXJhdG9yIHRlbXAoKnRoaXMpOwogICAgKysoKnRoaXMpOwogICAgcmV0dXJuIHRlbXA7CiAgfQoKICBib29sCiAgb3BlcmF0b3I9PShjb25zdCBqc19hcnJheV9pdGVyYXRvciYgcmhzKSB7CiAgICByZXR1cm4gYXJyYXkgPT0gcmhzLmFycmF5ICYmIHBvcyA9PSByaHMucG9zOwogIH0KCiAgYm9vbAogIG9wZXJhdG9yIT0oY29uc3QganNfYXJyYXlfaXRlcmF0b3ImIHJocykgewogICAgcmV0dXJuICFvcGVyYXRvcj09KHJocyk7CiAgfQoKcHJpdmF0ZToKICBKU0NvbnRleHQqIGN0eDsKICBjb25zdCBKU1ZhbHVlQ29uc3QqIGFycmF5OwogIGRpZmZlcmVuY2VfdHlwZSBwb3M7Cn07CgpzdGF0aWMgaW5saW5lIGpzX2FycmF5X2l0ZXJhdG9yCmpzX2JlZ2luKEpTQ29udGV4dCogYywgY29uc3QgSlNWYWx1ZUNvbnN0JiBhKSB7CiAgcmV0dXJuIGpzX2FycmF5X2l0ZXJhdG9yKGMsIGEsIDApOwp9CgpzdGF0aWMgaW5saW5lIGpzX2FycmF5X2l0ZXJhdG9yCmpzX2VuZChKU0NvbnRleHQqIGMsIGNvbnN0IEpTVmFsdWVDb25zdCYgYSkgewogIHJldHVybiBqc19hcnJheV9pdGVyYXRvcihjLCBhLCBqc19hcnJheV9sZW5ndGgoYywgYSkpOwp9Cgp0ZW1wbGF0ZTxjbGFzcyBUPiBjbGFzcyBqc19hcnJheSB7CnB1YmxpYzoKICBzdGF0aWMgaW50NjRfdAogIHRvX3ZlY3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGFyciwgc3RkOjp2ZWN0b3I8VD4mIG91dCkgewogICAgaW50NjRfdCBpLCBuOwogICAgSlNWYWx1ZSBsZW47CiAgICBpZighanNfaXNfYXJyYXkoY3R4LCBhcnIpKQogICAgICByZXR1cm4gLTE7CiAgICBsZW4gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGFyciwgImxlbmd0aCIpOwogICAgSlNfVG9JbnQ2NChjdHgsICZuLCBsZW4pOwogICAgb3V0LnJlc2VydmUob3V0LnNpemUoKSArIG4pOwogICAgZm9yKGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgIGRvdWJsZSB2YWx1ZTsKICAgICAgSlNWYWx1ZSBpdGVtID0gSlNfR2V0UHJvcGVydHlVaW50MzIoY3R4LCBhcnIsICh1aW50MzJfdClpKTsKICAgICAgaWYoSlNfVG9GbG9hdDY0KGN0eCwgJnZhbHVlLCBpdGVtKSA9PSAtMSkgewogICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGl0ZW0pOwogICAgICAgIG91dC5jbGVhcigpOwogICAgICAgIHJldHVybiAtMTsKICAgICAgfQogICAgICBvdXQucHVzaF9iYWNrKHZhbHVlKTsKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgaXRlbSk7CiAgICB9CiAgICByZXR1cm4gbjsKICB9CgogIHRlbXBsYXRlPGNsYXNzIENvbnRhaW5lcj4KICBzdGF0aWMgSlNWYWx1ZQogIGZyb20oSlNDb250ZXh0KiBjdHgsIGNvbnN0IENvbnRhaW5lciYgaW4pIHsKICAgIHJldHVybiBmcm9tX3NlcXVlbmNlPHR5cGVuYW1lIENvbnRhaW5lcjo6Y29uc3RfaXRlcmF0b3I+KGN0eCwgaW4uYmVnaW4oKSwgaW4uZW5kKCkpOwogIH0KCiAgc3RhdGljIEpTVmFsdWUKICBmcm9tX3ZlY3RvcihKU0NvbnRleHQqIGN0eCwgY29uc3Qgc3RkOjp2ZWN0b3I8VD4mIGluKSB7CiAgICByZXR1cm4gZnJvbV9zZXF1ZW5jZShjdHgsIGluLmJlZ2luKCksIGluLmVuZCgpKTsKICB9CgogIHRlbXBsYXRlPGNsYXNzIEl0ZXJhdG9yPgogc3RhdGljICBKU1ZhbHVlCiAgZnJvbV9zZXF1ZW5jZShKU0NvbnRleHQqIGN0eCwgY29uc3QgSXRlcmF0b3ImIHN0YXJ0LCBjb25zdCBJdGVyYXRvciYgZW5kIC8qLAogICAgdHlwZW5hbWUgIHN0ZDo6ZW5hYmxlX2lmPHBvaW50ZXJfdHlwZTxJdGVyYXRvcj46OnR5cGVkX2FycmF5ID46OnR5cGUqIGR1bW15ID0gMCovKSB7CiAgICBKU1ZhbHVlIGFyciA9IEpTX05ld0FycmF5KGN0eCk7CiAgICBzaXplX3QgaSA9IDA7CiAgICBmb3IoSXRlcmF0b3IgaXQgPSBzdGFydDsgaXQgIT0gZW5kOyArK2l0KSB7CiAgICAgIEpTVmFsdWUgaXRlbSA9IGpzX3ZhbHVlX2Zyb20oY3R4LCAqaXQpOwogICAgICBKU19TZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGFyciwgaSwgaXRlbSk7CiAgICAgICsraTsKICAgIH0KICAgIHJldHVybiBhcnI7CiAgfQoKICB0ZW1wbGF0ZTxzaXplX3QgTj4gc3RhdGljIGludDY0X3QgdG9fYXJyYXkoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBhcnIsIHN0ZDo6YXJyYXk8VCwgTj4mIG91dCk7CiAgc3RhdGljIGludDY0X3QgdG9fc2NhbGFyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgYXJyLCBjdjo6U2NhbGFyXzxUPiYgb3V0KTsKfTsKCnRlbXBsYXRlPGNsYXNzIFQ+CnRlbXBsYXRlPHNpemVfdCBOPgppbnQ2NF90CmpzX2FycmF5PFQ+Ojp0b19hcnJheShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGFyciwgc3RkOjphcnJheTxULCBOPiYgb3V0KSB7CiAgc3RkOjp2ZWN0b3I8VD4gdG1wOwogIHRvX3ZlY3RvcihjdHgsIGFyciwgdG1wKTsKICBpZih0bXAuc2l6ZSgpIDwgTikKICAgIHJldHVybiAtMTsKICBmb3Ioc2l6ZV90IGkgPSAwOyBpIDwgTjsgaSsrKSBvdXRbaV0gPSB0bXBbaV07CiAgcmV0dXJuIE47Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+CmludDY0X3QKanNfYXJyYXk8VD46OnRvX3NjYWxhcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGFyciwgY3Y6OlNjYWxhcl88VD4mIG91dCkgewogIHNpemVfdCBuOwogIHN0ZDo6dmVjdG9yPFQ+IHRtcDsKICB0b192ZWN0b3IoY3R4LCBhcnIsIHRtcCk7CiAgaWYoKG4gPSB0bXAuc2l6ZSgpKSA8IDQpCiAgICB0bXAucmVzaXplKDQpOwogIGZvcihzaXplX3QgaSA9IDA7IGkgPCA0OyBpKyspIG91dFtpXSA9IHRtcFtpXTsKICByZXR1cm4gbjsKfQoKdGVtcGxhdGU8PiBjbGFzcyBqc19hcnJheTx1aW50MzJfdD4gewpwdWJsaWM6CiAgc3RhdGljIGludDY0X3QKICB0b192ZWN0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBhcnIsIHN0ZDo6dmVjdG9yPHVpbnQzMl90PiYgb3V0KSB7CiAgICBpbnQ2NF90IGksIG47CiAgICBKU1ZhbHVlIGxlbjsKICAgIGlmKCFqc19pc19hcnJheShjdHgsIGFycikpCiAgICAgIHJldHVybiAtMTsKICAgIGxlbiA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgYXJyLCAibGVuZ3RoIik7CiAgICBKU19Ub0ludDY0KGN0eCwgJm4sIGxlbik7CiAgICBvdXQucmVzZXJ2ZShvdXQuc2l6ZSgpICsgbik7CiAgICBmb3IoaSA9IDA7IGkgPCBuOyBpKyspIHsKICAgICAgSlNWYWx1ZSB2YWx1ZSA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgYXJyLCAodWludDMyX3QpaSk7CiAgICAgIHVpbnQzMl90IHU7CiAgICAgIEpTX1RvVWludDMyKGN0eCwgJnUsIHZhbHVlKTsKICAgICAgb3V0LnB1c2hfYmFjayh1KTsKICAgIH0KICAgIHJldHVybiBuOwogIH0KCiAgdGVtcGxhdGU8Y2xhc3MgSXRlcmF0b3I+CiAgc3RhdGljIEpTVmFsdWUKICBmcm9tX3NlcXVlbmNlKEpTQ29udGV4dCogY3R4LCBjb25zdCBJdGVyYXRvciYgc3RhcnQsIGNvbnN0IEl0ZXJhdG9yJiBlbmQpIHsKICAgIEpTVmFsdWUgYXJyID0gSlNfTmV3QXJyYXkoY3R4KTsKICAgIHNpemVfdCBpID0gMDsKICAgIGZvcihJdGVyYXRvciBpdCA9IHN0YXJ0OyBpdCAhPSBlbmQ7ICsraXQpIHsKICAgICAgdWludDMyX3QgdSA9ICppdDsKICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCBhcnIsIGksIEpTX05ld1VpbnQzMihjdHgsIHUpKTsKICAgICAgKytpOwogICAgfQogICAgcmV0dXJuIGFycjsKICB9CgogIHRlbXBsYXRlPHNpemVfdCBOPiBzdGF0aWMgaW50NjRfdCB0b19hcnJheShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGFyciwgc3RkOjphcnJheTx1aW50MzJfdCwgTj4mIG91dCk7Cn07Cgp0ZW1wbGF0ZTxzaXplX3QgTj4KaW50NjRfdApqc19hcnJheTx1aW50MzJfdD46OnRvX2FycmF5KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgYXJyLCBzdGQ6OmFycmF5PHVpbnQzMl90LCBOPiYgb3V0KSB7CiAgaW50NjRfdCBpOwogIGlmKCFqc19pc19hcnJheShjdHgsIGFycikpCiAgICByZXR1cm4gLTE7CiAgZm9yKGkgPSAwOyBpIDwgTjsgaSsrKSB7CiAgICBKU1ZhbHVlIHZhbHVlID0gSlNfR2V0UHJvcGVydHlVaW50MzIoY3R4LCBhcnIsICh1aW50MzJfdClpKTsKICAgIHVpbnQzMl90IHU7CiAgICBKU19Ub1VpbnQzMihjdHgsICZ1LCB2YWx1ZSk7CiAgICBvdXRbaV0gPSB1OwogIH0KICByZXR1cm4gaTsKfQoKdGVtcGxhdGU8PiBjbGFzcyBqc19hcnJheTxKU1ZhbHVlPiB7CnB1YmxpYzoKICBzdGF0aWMgaW50NjRfdAogIHRvX3ZlY3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGFyciwgc3RkOjp2ZWN0b3I8SlNWYWx1ZT4mIG91dCkgewogICAgaW50NjRfdCBpLCBuOwogICAgSlNWYWx1ZSBsZW47CiAgICBpZighanNfaXNfYXJyYXkoY3R4LCBhcnIpKQogICAgICByZXR1cm4gLTE7CiAgICBsZW4gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGFyciwgImxlbmd0aCIpOwogICAgSlNfVG9JbnQ2NChjdHgsICZuLCBsZW4pOwogICAgb3V0LnJlc2VydmUob3V0LnNpemUoKSArIG4pOwogICAgZm9yKGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgIEpTVmFsdWUgdmFsdWUgPSBKU19HZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGFyciwgKHVpbnQzMl90KWkpOwogICAgICBvdXQucHVzaF9iYWNrKHZhbHVlKTsKICAgIH0KICAgIHJldHVybiBuOwogIH0KCiAgdGVtcGxhdGU8Y2xhc3MgSXRlcmF0b3I+CiAgc3RhdGljIEpTVmFsdWUKICBmcm9tX3NlcXVlbmNlKEpTQ29udGV4dCogY3R4LCBjb25zdCBJdGVyYXRvciYgc3RhcnQsIGNvbnN0IEl0ZXJhdG9yJiBlbmQpIHsKICAgIEpTVmFsdWUgYXJyID0gSlNfTmV3QXJyYXkoY3R4KTsKICAgIHNpemVfdCBpID0gMDsKICAgIGZvcihJdGVyYXRvciBpdCA9IHN0YXJ0OyBpdCAhPSBlbmQ7ICsraXQpIHsKICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCBhcnIsIGksICppdCk7CiAgICAgICsraTsKICAgIH0KICAgIHJldHVybiBhcnI7CiAgfQoKICB0ZW1wbGF0ZTxzaXplX3QgTj4gc3RhdGljIGludDY0X3QgdG9fYXJyYXkoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBhcnIsIHN0ZDo6YXJyYXk8SlNWYWx1ZSwgTj4mIG91dCk7Cn07Cgp0ZW1wbGF0ZTxzaXplX3QgTj4KaW50NjRfdApqc19hcnJheTxKU1ZhbHVlPjo6dG9fYXJyYXkoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBhcnIsIHN0ZDo6YXJyYXk8SlNWYWx1ZSwgTj4mIG91dCkgewogIGludDY0X3QgaTsKICBpZighanNfaXNfYXJyYXkoY3R4LCBhcnIpKQogICAgcmV0dXJuIC0xOwogIGZvcihpID0gMDsgaSA8IE47IGkrKykgewogICAgSlNWYWx1ZSB2YWx1ZSA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgYXJyLCAodWludDMyX3QpaSk7CiAgICBvdXRbaV0gPSB2YWx1ZTsKICB9CiAgcmV0dXJuIGk7Cn0KCnRlbXBsYXRlPGNsYXNzIFQ+IGNsYXNzIGpzX2FycmF5PEpTQ29sb3JEYXRhPFQ+PiB7CnB1YmxpYzoKICBzdGF0aWMgaW50NjRfdAogIHRvX3ZlY3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGFyciwgc3RkOjp2ZWN0b3I8SlNDb2xvckRhdGE8VD4+JiBvdXQpIHsKICAgIGludDY0X3QgaSwgbjsKICAgIEpTVmFsdWUgbGVuOwogICAgaWYoIWpzX2lzX2FycmF5KGN0eCwgYXJyKSkKICAgICAgcmV0dXJuIC0xOwogICAgbGVuID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBhcnIsICJsZW5ndGgiKTsKICAgIEpTX1RvSW50NjQoY3R4LCAmbiwgbGVuKTsKICAgIG91dC5yZXNlcnZlKG91dC5zaXplKCkgKyBuKTsKICAgIGZvcihpID0gMDsgaSA8IG47IGkrKykgewogICAgICBKU0NvbG9yRGF0YTxUPiB2YWx1ZTsKICAgICAgSlNWYWx1ZSBpdGVtID0gSlNfR2V0UHJvcGVydHlVaW50MzIoY3R4LCBhcnIsICh1aW50MzJfdClpKTsKICAgICAgaWYoIWpzX2NvbG9yX3JlYWQoY3R4LCBpdGVtLCAmdmFsdWUpKSB7CiAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgaXRlbSk7CiAgICAgICAgb3V0LmNsZWFyKCk7CiAgICAgICAgcmV0dXJuIC0xOwogICAgICB9CiAgICAgIG91dC5wdXNoX2JhY2sodmFsdWUpOwogICAgICBKU19GcmVlVmFsdWUoY3R4LCBpdGVtKTsKICAgIH0KICAgIHJldHVybiBuOwogIH0KCiAgdGVtcGxhdGU8Y2xhc3MgSXRlcmF0b3I+CiAgc3RhdGljIEpTVmFsdWUKICBmcm9tX3NlcXVlbmNlKEpTQ29udGV4dCogY3R4LCBjb25zdCBJdGVyYXRvciYgc3RhcnQsIGNvbnN0IEl0ZXJhdG9yJiBlbmQpIHsKICAgIEpTVmFsdWUgYXJyID0gSlNfTmV3QXJyYXkoY3R4KTsKICAgIHNpemVfdCBpID0gMDsKICAgIGZvcihJdGVyYXRvciBpdCA9IHN0YXJ0OyBpdCAhPSBlbmQ7ICsraXQpIHsKICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCBhcnIsIGksIGpzX2NvbG9yX25ldyhjdHgsICppdCkpOwogICAgICArK2k7CiAgICB9CiAgICByZXR1cm4gYXJyOwogIH0KCiAgdGVtcGxhdGU8c2l6ZV90IE4+IHN0YXRpYyBpbnQ2NF90IHRvX2FycmF5KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgYXJyLCBzdGQ6OmFycmF5PEpTQ29sb3JEYXRhPFQ+LCBOPiYgb3V0KTsKfTsKCnRlbXBsYXRlPGNsYXNzIFQ+CnRlbXBsYXRlPHNpemVfdCBOPgppbnQ2NF90CmpzX2FycmF5PEpTQ29sb3JEYXRhPFQ+Pjo6dG9fYXJyYXkoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBhcnIsIHN0ZDo6YXJyYXk8SlNDb2xvckRhdGE8VD4sIE4+JiBvdXQpIHsKICB1aW50MzJfdCBpOwogIGlmKCFqc19pc19hcnJheShjdHgsIGFycikpCiAgICByZXR1cm4gLTE7CiAgZm9yKGkgPSAwOyBpIDwgTjsgaSsrKSB7CiAgICBKU1ZhbHVlIHZhbHVlID0gSlNfR2V0UHJvcGVydHlVaW50MzIoY3R4LCBhcnIsIGkpOwogICAganNfY29sb3JfcmVhZChjdHgsIHZhbHVlLCAmb3V0W2ldKTsKICB9CiAgcmV0dXJuIGk7Cn0KCiNpbmNsdWRlICJqc19wb2ludC5ocHAiCgp0ZW1wbGF0ZTxjbGFzcyBUPiBjbGFzcyBqc19hcnJheTxKU1BvaW50RGF0YTxUPj4gewpwdWJsaWM6CiAgc3RhdGljIGludDY0X3QKICB0b192ZWN0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBhcnIsIEpTQ29udG91ckRhdGE8VD4mIG91dCkgewogICAgaW50NjRfdCBpLCBuOwogICAgSlNWYWx1ZSBsZW47CiAgICBpZighanNfaXNfYXJyYXkoY3R4LCBhcnIpKQogICAgICByZXR1cm4gLTE7CiAgICBsZW4gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGFyciwgImxlbmd0aCIpOwogICAgSlNfVG9JbnQ2NChjdHgsICZuLCBsZW4pOwogICAgb3V0LnJlc2VydmUob3V0LnNpemUoKSArIG4pOwogICAgZm9yKGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgIEpTUG9pbnREYXRhPGRvdWJsZT4gdmFsdWU7CiAgICAgIEpTVmFsdWUgaXRlbSA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgYXJyLCAodWludDMyX3QpaSk7CiAgICAgIGlmKCFqc19wb2ludF9yZWFkKGN0eCwgaXRlbSwgJnZhbHVlKSkgewogICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGl0ZW0pOwogICAgICAgIG91dC5jbGVhcigpOwogICAgICAgIHJldHVybiAtMTsKICAgICAgfQogICAgICBvdXQucHVzaF9iYWNrKHZhbHVlKTsKICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgaXRlbSk7CiAgICB9CiAgICByZXR1cm4gbjsKICB9CgogIHRlbXBsYXRlPGNsYXNzIEl0ZXJhdG9yPgogIHN0YXRpYyBKU1ZhbHVlCiAgZnJvbV9zZXF1ZW5jZShKU0NvbnRleHQqIGN0eCwgY29uc3QgSXRlcmF0b3ImIHN0YXJ0LCBjb25zdCBJdGVyYXRvciYgZW5kKSB7CiAgICBKU1ZhbHVlIGFyciA9IEpTX05ld0FycmF5KGN0eCk7CiAgICBzaXplX3QgaSA9IDA7CiAgICBmb3IoSXRlcmF0b3IgaXQgPSBzdGFydDsgaXQgIT0gZW5kOyArK2l0KSB7CiAgICAgIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgYXJyLCBpLCBqc19wb2ludF93cmFwKGN0eCwgKml0KSk7CiAgICAgICsraTsKICAgIH0KICAgIHJldHVybiBhcnI7CiAgfQoKICB0ZW1wbGF0ZTxzaXplX3QgTj4gc3RhdGljIGludDY0X3QgdG9fYXJyYXkoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBhcnIsIHN0ZDo6YXJyYXk8Y3Y6Ok1hdCwgTj4mIG91dCk7Cn07Cgp0ZW1wbGF0ZTxjbGFzcyBUPiBjbGFzcyBqc19hcnJheTxKU1JlY3REYXRhPFQ+PiB7CnB1YmxpYzoKICBzdGF0aWMgaW50NjRfdAogIHRvX3ZlY3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGFyciwgc3RkOjp2ZWN0b3I8SlNSZWN0RGF0YTxUPj4mIG91dCkgewogICAgaW50NjRfdCBpLCBuOwogICAgSlNWYWx1ZSBsZW47CiAgICBpZighanNfaXNfYXJyYXkoY3R4LCBhcnIpKQogICAgICByZXR1cm4gLTE7CiAgICBsZW4gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGFyciwgImxlbmd0aCIpOwogICAgSlNfVG9JbnQ2NChjdHgsICZuLCBsZW4pOwogICAgb3V0LnJlc2VydmUob3V0LnNpemUoKSArIG4pOwogICAgZm9yKGkgPSAwOyBpIDwgbjsgaSsrKSB7CiAgICAgIEpTUmVjdERhdGE8VD4gdmFsdWU7CiAgICAgIEpTVmFsdWUgaXRlbSA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgYXJyLCAodWludDMyX3QpaSk7CiAgICAgIGlmKCFqc19yZWN0X3JlYWQoY3R4LCBpdGVtLCAmdmFsdWUpKSB7CiAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgaXRlbSk7CiAgICAgICAgb3V0LmNsZWFyKCk7CiAgICAgICAgcmV0dXJuIC0xOwogICAgICB9CiAgICAgIG91dC5wdXNoX2JhY2sodmFsdWUpOwogICAgICBKU19GcmVlVmFsdWUoY3R4LCBpdGVtKTsKICAgIH0KICAgIHJldHVybiBuOwogIH0KCiAgdGVtcGxhdGU8Y2xhc3MgSXRlcmF0b3I+CiAgc3RhdGljIEpTVmFsdWUKICBmcm9tX3NlcXVlbmNlKEpTQ29udGV4dCogY3R4LCBjb25zdCBJdGVyYXRvciYgc3RhcnQsIGNvbnN0IEl0ZXJhdG9yJiBlbmQpIHsKICAgIEpTVmFsdWUgYXJyID0gSlNfTmV3QXJyYXkoY3R4KTsKICAgIHNpemVfdCBpID0gMDsKICAgIGZvcihJdGVyYXRvciBpdCA9IHN0YXJ0OyBpdCAhPSBlbmQ7ICsraXQpIHsKICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCBhcnIsIGksIGpzX3JlY3Rfd3JhcChjdHgsICppdCkpOwogICAgICArK2k7CiAgICB9CiAgICByZXR1cm4gYXJyOwogIH0KCiAgdGVtcGxhdGU8c2l6ZV90IE4+IHN0YXRpYyBpbnQ2NF90IHRvX2FycmF5KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgYXJyLCBzdGQ6OmFycmF5PEpTUmVjdERhdGE8VD4sIE4+JiBvdXQpOwp9OwoKdGVtcGxhdGU8PiBjbGFzcyBqc19hcnJheTxkb3VibGU+IHsKcHVibGljOgogIHN0YXRpYyBpbnQ2NF90CiAgdG9fdmVjdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgYXJyLCBzdGQ6OnZlY3Rvcjxkb3VibGU+JiBvdXQpIHsKICAgIGludDY0X3QgaSwgbjsKICAgIEpTVmFsdWUgbGVuOwogICAgaWYoIWpzX2lzX2FycmF5KGN0eCwgYXJyKSkKICAgICAgcmV0dXJuIC0xOwogICAgbGVuID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBhcnIsICJsZW5ndGgiKTsKICAgIEpTX1RvSW50NjQoY3R4LCAmbiwgbGVuKTsKICAgIG91dC5yZXNlcnZlKG91dC5zaXplKCkgKyBuKTsKICAgIGZvcihpID0gMDsgaSA8IG47IGkrKykgewogICAgICBkb3VibGUgdmFsdWU7CiAgICAgIEpTVmFsdWUgaXRlbSA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgYXJyLCAodWludDMyX3QpaSk7CiAgICAgIGlmKEpTX1RvRmxvYXQ2NChjdHgsICZ2YWx1ZSwgaXRlbSkpIHsKICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBpdGVtKTsKICAgICAgICBvdXQuY2xlYXIoKTsKICAgICAgICByZXR1cm4gLTE7CiAgICAgIH0KICAgICAgb3V0LnB1c2hfYmFjayh2YWx1ZSk7CiAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGl0ZW0pOwogICAgfQogICAgcmV0dXJuIG47CiAgfQoKICB0ZW1wbGF0ZTxjbGFzcyBJdGVyYXRvcj4KICBzdGF0aWMgSlNWYWx1ZQogIGZyb21fc2VxdWVuY2UoSlNDb250ZXh0KiBjdHgsIGNvbnN0IEl0ZXJhdG9yJiBzdGFydCwgY29uc3QgSXRlcmF0b3ImIGVuZCkgewogICAgSlNWYWx1ZSBhcnIgPSBKU19OZXdBcnJheShjdHgpOwogICAgc2l6ZV90IGkgPSAwOwogICAgZm9yKEl0ZXJhdG9yIGl0ID0gc3RhcnQ7IGl0ICE9IGVuZDsgKytpdCkgewogICAgICBKU1ZhbHVlIGl0ZW0gPSBKU19OZXdGbG9hdDY0KGN0eCwgKml0KTsKICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCBhcnIsIGksIGl0ZW0pOwogICAgICArK2k7CiAgICB9CiAgICByZXR1cm4gYXJyOwogIH0KCiAgc3RhdGljIGludDY0X3QKICB0b19zY2FsYXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBhcnIsIGN2OjpTY2FsYXJfPGRvdWJsZT4mIG91dCkgewogICAgc3RkOjp2ZWN0b3I8ZG91YmxlPiB0bXA7CiAgICBzaXplX3QgbjsKICAgIHRvX3ZlY3RvcihjdHgsIGFyciwgdG1wKTsKICAgIG4gPSB0bXAuc2l6ZSgpOwoKICAgIGZvcihzaXplX3QgaSA9IDA7IGkgPCA0OyBpKyspIG91dFtpXSA9IHRtcFtpXTsKICAgIHJldHVybiBuOwogIH0KCiAgdGVtcGxhdGU8c2l6ZV90IE4+CiAgc3RhdGljIGludDY0X3QKICB0b19hcnJheShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGFyciwgc3RkOjphcnJheTxkb3VibGUsIE4+JiBvdXQpIHsKICAgIHN0ZDo6dmVjdG9yPGRvdWJsZT4gdG1wOwogICAgdG9fdmVjdG9yKGN0eCwgYXJyLCB0bXApOwoKICAgIGZvcihzaXplX3QgaSA9IDA7IGkgPCBOOyBpKyspIG91dFtpXSA9IHRtcFtpXTsKICAgIHJldHVybiBOOwogIH0KfTsKCnRlbXBsYXRlPD4gY2xhc3MganNfYXJyYXk8Y3Y6Ok1hdD4gewpwdWJsaWM6CiAgc3RhdGljIGludDY0X3QKICB0b192ZWN0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBhcnIsIHN0ZDo6dmVjdG9yPGN2OjpNYXQ+JiBvdXQpIHsKICAgIGludDY0X3QgaSwgbjsKICAgIEpTVmFsdWUgbGVuOwogICAgaWYoIWpzX2lzX2FycmF5KGN0eCwgYXJyKSkKICAgICAgcmV0dXJuIC0xOwogICAgbGVuID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBhcnIsICJsZW5ndGgiKTsKICAgIEpTX1RvSW50NjQoY3R4LCAmbiwgbGVuKTsKICAgIG91dC5yZXNlcnZlKG91dC5zaXplKCkgKyBuKTsKICAgIGZvcihpID0gMDsgaSA8IG47IGkrKykgewogICAgICBKU01hdERhdGEqIHZhbHVlOwogICAgICBKU1ZhbHVlIGl0ZW0gPSBKU19HZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGFyciwgKHVpbnQzMl90KWkpOwogICAgICB2YWx1ZSA9IGpzX21hdF9kYXRhKGN0eCwgaXRlbSk7CiAgICAgIGlmKHZhbHVlID09IG51bGxwdHIpIHsKICAgICAgICBKU19GcmVlVmFsdWUoY3R4LCBpdGVtKTsKICAgICAgICBvdXQuY2xlYXIoKTsKICAgICAgICByZXR1cm4gLTE7CiAgICAgIH0KICAgICAgb3V0LnB1c2hfYmFjaygqdmFsdWUpOwogICAgICBKU19GcmVlVmFsdWUoY3R4LCBpdGVtKTsKICAgIH0KICAgIHJldHVybiBuOwogIH0KCiAgdGVtcGxhdGU8c2l6ZV90IE4+IHN0YXRpYyBpbnQ2NF90IHRvX2FycmF5KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgYXJyLCBzdGQ6OmFycmF5PGN2OjpNYXQsIE4+JiBvdXQpOwp9OwoKdGVtcGxhdGU8Y2xhc3MgVD4gY2xhc3MganNfYXJyYXk8SlNDb250b3VyRGF0YTxUPj4gewpwdWJsaWM6CiAgdHlwZWRlZiBKU0NvbnRvdXJEYXRhPFQ+IGNvbnRvdXJfdHlwZTsKICB0eXBlZGVmIEpTUG9pbnREYXRhPFQ+IHBvaW50X3R5cGU7CgogIHN0YXRpYyBpbnQ2NF90CiAgdG9fdmVjdG9yKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgYXJyLCBzdGQ6OnZlY3Rvcjxjb250b3VyX3R5cGU+JiBvdXQpIHsKICAgIGludDY0X3QgaSwgbjsKICAgIEpTVmFsdWUgbGVuOwogICAgaWYoIWpzX2lzX2FycmF5KGN0eCwgYXJyKSkKICAgICAgcmV0dXJuIC0xOwogICAgbGVuID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBhcnIsICJsZW5ndGgiKTsKICAgIEpTX1RvSW50NjQoY3R4LCAmbiwgbGVuKTsKICAgIG91dC5yZXNlcnZlKG91dC5zaXplKCkgKyBuKTsKICAgIGZvcihpID0gMDsgaSA8IG47IGkrKykgewogICAgICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qIHB0cjsKICAgICAgY29udG91cl90eXBlIGNvbnRvdXI7CiAgICAgIEpTVmFsdWUgaXRlbSA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgYXJyLCAodWludDMyX3QpaSk7CiAgICAgIGlmKChwdHIgPSBqc19jb250b3VyX2RhdGEoY3R4LCBpdGVtKSkpIHsKICAgICAgICBmb3IoY29uc3QgYXV0byYgcG9pbnQgOiAqcHRyKSBjb250b3VyLmVtcGxhY2VfYmFjayhwb2ludC54LCBwb2ludC55KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBqc19hcnJheTxKU1BvaW50RGF0YTxUPj46OnRvX3ZlY3RvcihjdHgsIGl0ZW0sIGNvbnRvdXIpOwogICAgICB9CiAgICAgIG91dC5wdXNoX2JhY2soY29udG91cik7CiAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIGl0ZW0pOwogICAgfQogICAgcmV0dXJuIG47CiAgfQoKICB0ZW1wbGF0ZTxjbGFzcyBJdGVyYXRvcj4KICBzdGF0aWMgSlNWYWx1ZQogIGZyb21fc2VxdWVuY2UoSlNDb250ZXh0KiBjdHgsIGNvbnN0IEl0ZXJhdG9yJiBzdGFydCwgY29uc3QgSXRlcmF0b3ImIGVuZCkgewogICAgSlNWYWx1ZSBhcnIgPSBKU19OZXdBcnJheShjdHgpOwogICAgc2l6ZV90IGkgPSAwOwogICAgZm9yKEl0ZXJhdG9yIGl0ID0gc3RhcnQ7IGl0ICE9IGVuZDsgKytpdCkgewogICAgICBKU1ZhbHVlIGl0ZW0gPSBqc19jb250b3VyX25ldyhjdHgsICppdCk7CiAgICAgIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgYXJyLCBpLCBpdGVtKTsKICAgICAgKytpOwogICAgfQogICAgcmV0dXJuIGFycjsKICB9CgogIHRlbXBsYXRlPGNsYXNzIENvbnRhaW5lcj4KICBzdGF0aWMgSlNWYWx1ZQogIGZyb20oSlNDb250ZXh0KiBjdHgsIGNvbnN0IENvbnRhaW5lciYgaW4pIHsKICAgIHJldHVybiBmcm9tX3NlcXVlbmNlPHR5cGVuYW1lIENvbnRhaW5lcjo6Y29uc3RfaXRlcmF0b3I+KGN0eCwgaW4uYmVnaW4oKSwgaW4uZW5kKCkpOwogIH0KfTsKCnRlbXBsYXRlPGNsYXNzIFQ+IGNsYXNzIGpzX2FycmF5PHN0ZDo6dmVjdG9yPFQ+PiB7CnB1YmxpYzoKICBzdGF0aWMgaW50NjRfdAogIHRvX3ZlY3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGFyciwgc3RkOjp2ZWN0b3I8c3RkOjp2ZWN0b3I8VD4+JiBvdXQpIHsKICAgIGludDY0X3QgaSwgbjsKICAgIEpTVmFsdWUgbGVuOwogICAgaWYoIWpzX2lzX2FycmF5KGN0eCwgYXJyKSkKICAgICAgcmV0dXJuIC0xOwogICAgbGVuID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBhcnIsICJsZW5ndGgiKTsKICAgIEpTX1RvSW50NjQoY3R4LCAmbiwgbGVuKTsKICAgIG91dC5yZXNlcnZlKG91dC5zaXplKCkgKyBuKTsKICAgIGZvcihpID0gMDsgaSA8IG47IGkrKykgewogICAgICBzdGQ6OnZlY3RvcjxUPiB2YWx1ZTsKICAgICAgSlNWYWx1ZSBpdGVtID0gSlNfR2V0UHJvcGVydHlVaW50MzIoY3R4LCBhcnIsICh1aW50MzJfdClpKTsKICAgICAgaWYoanNfYXJyYXk8VD46OnRvX3ZlY3RvcihjdHgsIGFyciwgdmFsdWUpID09IC0xKSB7CiAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgaXRlbSk7CiAgICAgICAgb3V0LmNsZWFyKCk7CiAgICAgICAgcmV0dXJuIC0xOwogICAgICB9CiAgICAgIG91dC5wdXNoX2JhY2sodmFsdWUpOwogICAgICBKU19GcmVlVmFsdWUoY3R4LCBpdGVtKTsKICAgIH0KICAgIHJldHVybiBuOwogIH0KCiAgdGVtcGxhdGU8Y2xhc3MgSXRlcmF0b3I+CiAgc3RhdGljIEpTVmFsdWUKICBmcm9tX3NlcXVlbmNlKEpTQ29udGV4dCogY3R4LCBjb25zdCBJdGVyYXRvciYgc3RhcnQsIGNvbnN0IEl0ZXJhdG9yJiBlbmQpIHsKICAgIEpTVmFsdWUgYXJyID0gSlNfTmV3QXJyYXkoY3R4KTsKICAgIHNpemVfdCBpID0gMDsKICAgIGZvcihJdGVyYXRvciBpdCA9IHN0YXJ0OyBpdCAhPSBlbmQ7ICsraXQpIHsKICAgICAgSlNWYWx1ZSBpdGVtID0ganNfYXJyYXlfZnJvbShjdHgsICppdCk7CiAgICAgIEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgYXJyLCBpLCBpdGVtKTsKICAgICAgKytpOwogICAgfQogICAgcmV0dXJuIGFycjsKICB9CgogIHRlbXBsYXRlPHNpemVfdCBOPiBzdGF0aWMgaW50NjRfdCB0b19hcnJheShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGFyciwgc3RkOjphcnJheTxzdGQ6OnZlY3RvcjxUPiwgTj4mIG91dCk7Cn07Cgp0ZW1wbGF0ZTxjbGFzcyBUPgpzdGF0aWMgaW5saW5lIGludDY0X3QKanNfYXJyYXlfdG8oSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBhcnIsIHN0ZDo6dmVjdG9yPFQ+JiBvdXQpIHsKICByZXR1cm4ganNfYXJyYXk8VD46OnRvX3ZlY3RvcihjdHgsIGFyciwgb3V0KTsKfQoKdGVtcGxhdGU8Y2xhc3MgVCwgc2l6ZV90IE4+CnN0YXRpYyBpbmxpbmUgaW50NjRfdApqc19hcnJheV90byhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGFyciwgc3RkOjphcnJheTxULCBOPiYgb3V0KSB7CiAgdHlwZWRlZiBqc19hcnJheTxUPiBhcnJheV90eXBlOwogIHJldHVybiBhcnJheV90eXBlOjp0b19hcnJheShjdHgsIGFyciwgb3V0KTsKfQoKdGVtcGxhdGU8Y2xhc3MgVD4Kc3RhdGljIGlubGluZSBpbnQ2NF90CmpzX2FycmF5X3RvKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgYXJyLCBjdjo6U2NhbGFyXzxUPiYgb3V0KSB7CiAgcmV0dXJuIGpzX2FycmF5PFQ+Ojp0b19zY2FsYXIoY3R4LCBhcnIsIG91dCk7Cn0KCnRlbXBsYXRlPGNsYXNzIEl0ZXJhdG9yPgpzdGF0aWMgaW5saW5lIHR5cGVuYW1lIHN0ZDo6ZW5hYmxlX2lmPHN0ZDo6aXNfcG9pbnRlcjxJdGVyYXRvcj46OnZhbHVlLCBKU1ZhbHVlPjo6dHlwZQpqc19hcnJheV9mcm9tKEpTQ29udGV4dCogY3R4LCBjb25zdCBJdGVyYXRvciYgc3RhcnQsIGNvbnN0IEl0ZXJhdG9yJiBlbmQpIHsKICByZXR1cm4ganNfYXJyYXk8dHlwZW5hbWUgc3RkOjpyZW1vdmVfcG9pbnRlcjxJdGVyYXRvcj46OnR5cGU+Ojpmcm9tX3NlcXVlbmNlKGN0eCwgc3RhcnQsIGVuZCk7Cn0KCnRlbXBsYXRlPGNsYXNzIEl0ZXJhdG9yPgpzdGF0aWMgaW5saW5lIHR5cGVuYW1lIHN0ZDo6ZW5hYmxlX2lmPEl0ZXJhdG9yOjp2YWx1ZV90eXBlLCBKU1ZhbHVlPjo6dHlwZQpqc19hcnJheV9mcm9tKEpTQ29udGV4dCogY3R4LCBjb25zdCBJdGVyYXRvciYgc3RhcnQsIGNvbnN0IEl0ZXJhdG9yJiBlbmQpIHsKICByZXR1cm4ganNfYXJyYXk8dHlwZW5hbWUgSXRlcmF0b3I6OnZhbHVlX3R5cGU+Ojpmcm9tX3NlcXVlbmNlKGN0eCwgc3RhcnQsIGVuZCk7Cn0KCnRlbXBsYXRlPGNsYXNzIENvbnRhaW5lcj4Kc3RhdGljIGlubGluZSBKU1ZhbHVlCmpzX2FycmF5X2Zyb20oSlNDb250ZXh0KiBjdHgsIGNvbnN0IENvbnRhaW5lciYgdikgewogIHJldHVybiBqc19hcnJheTx0eXBlbmFtZSBDb250YWluZXI6OnZhbHVlX3R5cGU+Ojpmcm9tX3NlcXVlbmNlKGN0eCwgdi5iZWdpbigpLCB2LmVuZCgpKTsKfQoKY2xhc3MganNfb2JqZWN0IHsKcHVibGljOgogIHRlbXBsYXRlPGNsYXNzIFQ+CiAgc3RhdGljIGludDY0X3QKICB0b19tYXAoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBvYmosIHN0ZDo6bWFwPHN0ZDo6c3RyaW5nLCBUPiYgb3V0KSB7CiAgICBpbnQ2NF90IGkgPSAwOwogICAgSlNQcm9wZXJ0eUVudW0qIG5hbWVzOwogICAgdWludDMyX3QgcGxlbjsKCiAgICBKU19HZXRPd25Qcm9wZXJ0eU5hbWVzKGN0eCwgJm5hbWVzLCAmcGxlbiwgb2JqLCBKU19HUE5fRU5VTV9PTkxZKTsKCiAgICBmb3IoYXV0byBuYW1lIDogc3RkOjpyYW5nZXM6OnN1YnJhbmdlPEpTUHJvcGVydHlFbnVtPihuYW1lcywgbmFtZXMgKyBwbGVuKSkgewogICAgICBKU1ZhbHVlIHZhbHVlID0gSlNfR2V0UHJvcGVydHkoY3R4LCBvYmosIG5hbWUuYXRvbSk7CiAgICAgIFQgcHJvcDsKICAgICAganNfdmFsdWVfdG8oY3R4LCB2YWx1ZSwgcHJvcCk7CiAgICAgIG91dFtuYW1lXSA9IHByb3A7CiAgICAgICsraTsKICAgIH0KICAgIHJldHVybiBpOwogIH0KCiAgdGVtcGxhdGU8Y2xhc3MgVD4KICBzdGF0aWMgSlNWYWx1ZQogIGZyb21fbWFwKEpTQ29udGV4dCogY3R4LCBjb25zdCBzdGQ6Om1hcDxzdGQ6OnN0cmluZywgVD4mIGluKSB7CiAgICB0eXBlZGVmIHN0ZDo6cGFpcjxzdGQ6OnN0cmluZywgVD4gZW50cnlfdHlwZTsKICAgIEpTVmFsdWUgb2JqID0gSlNfTmV3T2JqZWN0KGN0eCk7CgogICAgZm9yKGVudHJ5X3R5cGUgZW50cnkgOiBpbikgewogICAgICBUIHByb3AgPSBlbnRyeS5zZWNvbmQ7CiAgICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgb2JqLCBlbnRyeS5maXJzdC5jX3N0cigpLCBqc192YWx1ZV9mcm9tKGN0eCwgcHJvcCkgLyosIEpTX1BST1BfQ19XX0UqLyk7CiAgICB9CgogICAgcmV0dXJuIG9iajsKICB9Cn07CgojZW5kaWYgLyogZGVmaW5lZChKU19BUlJBWV9IUFApICovAAAAAAAAAAC7RAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACcQgAAAAAAAJxCAAAAAAAAAAAAAAAA8L8"
				],
				[
					69,
					2,
					"right_delete",
					null,
					"AgAAADBCAAAAAAAAMEIAAAAAAAAUAAAAc3RkOjpyYW5nZXM6OnN1YnJhbmcwQgAAAAAAADBCAAAAAAAAAQAAAGU",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAwQgAAAAAAAERCAAAAAAAAAAAAAAAA8L8"
				],
				[
					70,
					1,
					"insert",
					{
						"characters": "range_view"
					},
					"CgAAADBCAAAAAAAAMUIAAAAAAAAAAAAAMUIAAAAAAAAyQgAAAAAAAAAAAAAyQgAAAAAAADNCAAAAAAAAAAAAADNCAAAAAAAANEIAAAAAAAAAAAAANEIAAAAAAAA1QgAAAAAAAAAAAAA1QgAAAAAAADZCAAAAAAAAAAAAADZCAAAAAAAAN0IAAAAAAAAAAAAAN0IAAAAAAAA4QgAAAAAAAAAAAAA4QgAAAAAAADlCAAAAAAAAAAAAADlCAAAAAAAAOkIAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAwQgAAAAAAADBCAAAAAAAAAAAAAAAA8L8"
				],
				[
					80,
					4,
					"right_delete",
					null,
					"BAAAAFJCAAAAAAAAUkIAAAAAAAAFAAAAbmFtZXNSQgAAAAAAAFJCAAAAAAAAAQAAACBSQgAAAAAAAFJCAAAAAAAAAQAAACtSQgAAAAAAAFJCAAAAAAAAAQAAACA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABSQgAAAAAAAFdCAAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"file": "js_line.cpp",
			"settings":
			{
				"buffer_size": 14369,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					1,
					1,
					"insert",
					{
						"characters": "g"
					},
					"AQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8L8"
				],
				[
					2,
					1,
					"left_delete",
					null,
					"AQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAZw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAA8L8"
				],
				[
					66,
					3,
					"right_delete",
					null,
					"AwAAANoEAAAAAAAA2gQAAAAAAAAGAAAAcmFuZ2Vz2gQAAAAAAADaBAAAAAAAAAEAAAA62gQAAAAAAADaBAAAAAAAAAEAAAA6",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADaBAAAAAAAAOAEAAAAAAAAAAAAAAAA8L8"
				],
				[
					72,
					1,
					"insert",
					{
						"characters": "args,."
					},
					"BwAAAOEEAAAAAAAA4gQAAAAAAAAAAAAA4gQAAAAAAADiBAAAAAAAAAQAAABhcmdz4gQAAAAAAADjBAAAAAAAAAAAAADjBAAAAAAAAOQEAAAAAAAAAAAAAOQEAAAAAAAA5QQAAAAAAAAAAAAA5QQAAAAAAADmBAAAAAAAAAAAAADmBAAAAAAAAOcEAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADhBAAAAAAAAOUEAAAAAAAAAAAAAAAA8L8"
				],
				[
					73,
					1,
					"insert",
					{
						"characters": " a"
					},
					"AgAAAOcEAAAAAAAA6AQAAAAAAAAAAAAA6AQAAAAAAADpBAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADnBAAAAAAAAOcEAAAAAAAAAAAAAAAA8L8"
				],
				[
					74,
					3,
					"left_delete",
					null,
					"AwAAAOgEAAAAAAAA6AQAAAAAAAABAAAAYecEAAAAAAAA5wQAAAAAAAABAAAAIOYEAAAAAAAA5gQAAAAAAAABAAAALg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADpBAAAAAAAAOkEAAAAAAAAAAAAAAAA8L8"
				],
				[
					75,
					1,
					"insert",
					{
						"characters": " args"
					},
					"BQAAAOYEAAAAAAAA5wQAAAAAAAAAAAAA5wQAAAAAAADoBAAAAAAAAAAAAADoBAAAAAAAAOkEAAAAAAAAAAAAAOkEAAAAAAAA6gQAAAAAAAAAAAAA6gQAAAAAAADrBAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADmBAAAAAAAAOYEAAAAAAAAAAAAAAAA8L8"
				],
				[
					76,
					7,
					"left_delete",
					null,
					"BwAAAOoEAAAAAAAA6gQAAAAAAAABAAAAc+kEAAAAAAAA6QQAAAAAAAABAAAAZ+gEAAAAAAAA6AQAAAAAAAABAAAAcucEAAAAAAAA5wQAAAAAAAABAAAAYeYEAAAAAAAA5gQAAAAAAAABAAAAIOUEAAAAAAAA5QQAAAAAAAABAAAALOQEAAAAAAAA5AQAAAAAAAABAAAAcw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADrBAAAAAAAAOsEAAAAAAAAAAAAAAAA8L8"
				],
				[
					77,
					1,
					"insert",
					{
						"characters": "v,"
					},
					"AgAAAOQEAAAAAAAA5QQAAAAAAAAAAAAA5QQAAAAAAADmBAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADkBAAAAAAAAOQEAAAAAAAAAAAAAAAA8L8"
				],
				[
					78,
					1,
					"insert",
					{
						"characters": " argv+std::"
					},
					"CwAAAOYEAAAAAAAA5wQAAAAAAAAAAAAA5wQAAAAAAADoBAAAAAAAAAAAAADoBAAAAAAAAOkEAAAAAAAAAAAAAOkEAAAAAAAA6gQAAAAAAAAAAAAA6gQAAAAAAADrBAAAAAAAAAAAAADrBAAAAAAAAOwEAAAAAAAAAAAAAOwEAAAAAAAA7QQAAAAAAAAAAAAA7QQAAAAAAADuBAAAAAAAAAAAAADuBAAAAAAAAO8EAAAAAAAAAAAAAO8EAAAAAAAA8AQAAAAAAAAAAAAA8AQAAAAAAADxBAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADmBAAAAAAAAOYEAAAAAAAAAAAAAAAA8L8"
				],
				[
					79,
					1,
					"insert",
					{
						"characters": "min(4,argc)"
					},
					"CwAAAPEEAAAAAAAA8gQAAAAAAAAAAAAA8gQAAAAAAADzBAAAAAAAAAAAAADzBAAAAAAAAPQEAAAAAAAAAAAAAPQEAAAAAAAA9QQAAAAAAAAAAAAA9QQAAAAAAAD2BAAAAAAAAAAAAAD2BAAAAAAAAPcEAAAAAAAAAAAAAPcEAAAAAAAA+AQAAAAAAAAAAAAA+AQAAAAAAAD5BAAAAAAAAAAAAAD5BAAAAAAAAPoEAAAAAAAAAAAAAPoEAAAAAAAA+wQAAAAAAAAAAAAA+wQAAAAAAAD8BAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADxBAAAAAAAAPEEAAAAAAAAAAAAAAAA8L8"
				],
				[
					84,
					1,
					"cut",
					null,
					"AQAAADoEAAAAAAAAOgQAAAAAAAA3AAAAICBhdXRvIGFyZ3MgPSBhcmd1bWVudF9yYW5nZShzdGQ6Om1pbig0LCBhcmdjKSwgYXJndik7Cg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAA6BAAAAAAAAHEEAAAAAAAAAAAAAAAAAAA"
				],
				[
					95,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAeOAAAI2luY2x1ZGUgImpzYmluZGluZ3MuaHBwIgojaW5jbHVkZSAianNfcG9pbnQuaHBwIgojaW5jbHVkZSAianNfYWxsb2MuaHBwIgojaW5jbHVkZSAianNfbGluZS5ocHAiCiNpbmNsdWRlICJqc19hcnJheS5ocHAiCiNpbmNsdWRlICJqc190eXBlZF9hcnJheS5ocHAiCiNpbmNsdWRlICJ1dGlsLmhwcCIKI2luY2x1ZGUgImxpbmUuaHBwIgoKZW51bSB7IFBST1BfU0xPUEUgPSAwLCBQUk9QX1BJVk9ULCBQUk9QX1RPLCBQUk9QX0FOR0xFLCBQUk9QX0xFTkdUSCB9OwplbnVtIHsgTUVUSE9EX1NXQVAgPSAwLCBNRVRIT0RfQVQsIE1FVEhPRF9JTlRFUlNFQ1QsIE1FVEhPRF9FTkRQT0lOVF9ESVNUQU5DRVMsIE1FVEhPRF9ESVNUQU5DRSB9OwoKZXh0ZXJuICJDIiB7CgpKU1ZhbHVlIGxpbmVfcHJvdG8gPSBKU19VTkRFRklORUQsIGxpbmVfY2xhc3MgPSBKU19VTkRFRklORUQ7CkpTQ2xhc3NJRCBqc19saW5lX2NsYXNzX2lkID0gMDsKClZJU0lCTEUgSlNWYWx1ZQpqc19saW5lX25ldyhKU0NvbnRleHQqIGN0eCwgZG91YmxlIHgxLCBkb3VibGUgeTEsIGRvdWJsZSB4MiwgZG91YmxlIHkyKSB7CiAgSlNWYWx1ZSByZXQ7CiAgSlNMaW5lRGF0YTxkb3VibGU+KiBsbjsKCiAgaWYoSlNfSXNVbmRlZmluZWQobGluZV9wcm90bykpCiAgICBqc19saW5lX2luaXQoY3R4LCBOVUxMKTsKCiAgcmV0ID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIGxpbmVfcHJvdG8sIGpzX2xpbmVfY2xhc3NfaWQpOwoKICBsbiA9IGpzX2FsbG9jYXRlPEpTTGluZURhdGE8ZG91YmxlPj4oY3R4KTsKCiAgbG4tPmFycmF5WzBdID0geDE7CiAgbG4tPmFycmF5WzFdID0geTE7CiAgbG4tPmFycmF5WzJdID0geDI7CiAgbG4tPmFycmF5WzNdID0geTI7CgogIEpTX1NldE9wYXF1ZShyZXQsIGxuKTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19saW5lX2N0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBuZXdfdGFyZ2V0LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNMaW5lRGF0YTxkb3VibGU+KiBsbjsKICBKU1ZhbHVlIG9iaiA9IEpTX1VOREVGSU5FRDsKICBKU1ZhbHVlIHByb3RvOwoKICBsbiA9IGpzX2FsbG9jYXRlPEpTTGluZURhdGE8ZG91YmxlPj4oY3R4KTsKICBpZighbG4pCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihhcmdjID49IDQgJiYgc3RkOjphbGxfb2YoYXJndiwgYXJnditzdGQ6Om1pbig0LGFyZ2MpLCBKU19Jc051bWJlcikpIHsKICAgIGlmKEpTX1RvRmxvYXQ2NChjdHgsICZsbi0+YXJyYXlbMF0sIGFyZ3ZbMF0pKQogICAgICBnb3RvIGZhaWw7CiAgICBpZihKU19Ub0Zsb2F0NjQoY3R4LCAmbG4tPmFycmF5WzFdLCBhcmd2WzFdKSkKICAgICAgZ290byBmYWlsOwogICAgaWYoSlNfVG9GbG9hdDY0KGN0eCwgJmxuLT5hcnJheVsyXSwgYXJndlsyXSkpCiAgICAgIGdvdG8gZmFpbDsKICAgIGlmKEpTX1RvRmxvYXQ2NChjdHgsICZsbi0+YXJyYXlbM10sIGFyZ3ZbM10pKQogICAgICBnb3RvIGZhaWw7CiAgfSBlbHNlIGlmKCFqc19saW5lX3JlYWQoY3R4LCBhcmd2WzBdLCBsbikpIHsKICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJhcmd1bWVudCAxIGlzIG5vdCBhIHZhbGlkIGxpbmUiKTsKICB9CiAgLyogdXNpbmcgbmV3X3RhcmdldCB0byBnZXQgdGhlIHByb3RvdHlwZSBpcyBuZWNlc3Nhcnkgd2hlbiB0aGUKICAgICBjbGFzcyBpcyBleHRlbmRlZC4gKi8KICBwcm90byA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgbmV3X3RhcmdldCwgInByb3RvdHlwZSIpOwogIGlmKEpTX0lzRXhjZXB0aW9uKHByb3RvKSkKICAgIGdvdG8gZmFpbDsKICBvYmogPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgcHJvdG8sIGpzX2xpbmVfY2xhc3NfaWQpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHByb3RvKTsKICBpZihKU19Jc0V4Y2VwdGlvbihvYmopKQogICAgZ290byBmYWlsOwogIEpTX1NldE9wYXF1ZShvYmosIGxuKTsKICByZXR1cm4gb2JqOwpmYWlsOgogIGpzX2RlYWxsb2NhdGUoY3R4LCBsbik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpKU0xpbmVEYXRhPGRvdWJsZT4qCmpzX2xpbmVfZGF0YShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbCkgewogIHJldHVybiBzdGF0aWNfY2FzdDxKU0xpbmVEYXRhPGRvdWJsZT4qPihKU19HZXRPcGFxdWUyKGN0eCwgdmFsLCBqc19saW5lX2NsYXNzX2lkKSk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2xpbmVfZ2V0X3h5MTIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IG1hZ2ljKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgSlNMaW5lRGF0YTxkb3VibGU+KiBsbiA9IHN0YXRpY19jYXN0PEpTTGluZURhdGE8ZG91YmxlPio+KEpTX0dldE9wYXF1ZTIoY3R4LCB0aGlzX3ZhbCwganNfbGluZV9jbGFzc19pZCkpOwogIGlmKCFsbikKICAgIHJldCA9IEpTX0VYQ0VQVElPTjsKICBlbHNlIGlmKG1hZ2ljID09IDApCiAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgbG4tPmFycmF5WzBdKTsKICBlbHNlIGlmKG1hZ2ljID09IDEpCiAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgbG4tPmFycmF5WzFdKTsKICBlbHNlIGlmKG1hZ2ljID09IDIpCiAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgbG4tPmFycmF5WzJdKTsKICBlbHNlIGlmKG1hZ2ljID09IDMpCiAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgbG4tPmFycmF5WzNdKTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19saW5lX2dldF9hYihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBKU0xpbmVEYXRhPGRvdWJsZT4qIGxuID0gc3RhdGljX2Nhc3Q8SlNMaW5lRGF0YTxkb3VibGU+Kj4oSlNfR2V0T3BhcXVlMihjdHgsIHRoaXNfdmFsLCBqc19saW5lX2NsYXNzX2lkKSk7CiAgaWYoIWxuKQogICAgcmV0ID0gSlNfRVhDRVBUSU9OOwogIGVsc2UgaWYobWFnaWMgPT0gMCkKICAgIHJldCA9IGpzX3BvaW50X25ldyhjdHgsIGxuLT5hcnJheVswXSwgbG4tPmFycmF5WzFdKTsKICBlbHNlIGlmKG1hZ2ljID09IDEpCiAgICByZXQgPSBqc19wb2ludF9uZXcoY3R4LCBsbi0+YXJyYXlbMl0sIGxuLT5hcnJheVszXSk7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2xpbmVfZ2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBtYWdpYykgewogIEpTTGluZURhdGE8ZG91YmxlPiogbG47CgogIGlmKCEobG4gPSBzdGF0aWNfY2FzdDxKU0xpbmVEYXRhPGRvdWJsZT4qPihKU19HZXRPcGFxdWUyKGN0eCwgdGhpc192YWwsIGpzX2xpbmVfY2xhc3NfaWQpKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBQUk9QX1NMT1BFOiB7CiAgICAgIExpbmU8ZG91YmxlPiBsaW5lKGxuLT5hcnJheSk7CiAgICAgIHJldHVybiBqc19wb2ludF93cmFwKGN0eCwgbGluZS5zbG9wZSgpKTsKICAgIH0KICAgIGNhc2UgUFJPUF9QSVZPVDogewogICAgICBKU1BvaW50RGF0YTxkb3VibGU+IHBpdm90KGxuLT54MSwgbG4tPnkxKTsKICAgICAgcmV0dXJuIGpzX3BvaW50X3dyYXAoY3R4LCBwaXZvdCk7CiAgICB9CiAgICBjYXNlIFBST1BfVE86IHsKICAgICAgSlNQb2ludERhdGE8ZG91YmxlPiB0byhsbi0+eDIsIGxuLT55Mik7CiAgICAgIHJldHVybiBqc19wb2ludF93cmFwKGN0eCwgdG8pOwogICAgfQogICAgY2FzZSBQUk9QX0FOR0xFOiB7CiAgICAgIExpbmU8ZG91YmxlPiBsaW5lKGxuLT5hcnJheSk7CiAgICAgIHJldHVybiBKU19OZXdGbG9hdDY0KGN0eCwgc3RkOjphdGFuMihsbi0+eDIgLSBsbi0+eDEsIGxuLT55MiAtIGxuLT55MSkpOwogICAgfQogICAgY2FzZSBQUk9QX0xFTkdUSDogewogICAgICBMaW5lPGRvdWJsZT4gbGluZShsbi0+YXJyYXkpOwogICAgICByZXR1cm4gSlNfTmV3RmxvYXQ2NChjdHgsIGxpbmUubGVuZ3RoKCkpOwogICAgfQogIH0KICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19saW5lX3NldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBKU1ZhbHVlQ29uc3QgdmFsLCBpbnQgbWFnaWMpIHsKICBKU0xpbmVEYXRhPGRvdWJsZT4qIGxuOwogIGRvdWJsZSB2OwogIGlmKCEobG4gPSBzdGF0aWNfY2FzdDxKU0xpbmVEYXRhPGRvdWJsZT4qPihKU19HZXRPcGFxdWUyKGN0eCwgdGhpc192YWwsIGpzX2xpbmVfY2xhc3NfaWQpKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBQUk9QX1BJVk9UOiB7CiAgICAgIEpTUG9pbnREYXRhPGRvdWJsZT4gcGl2b3Q7CiAgICAgIGpzX3BvaW50X3JlYWQoY3R4LCB2YWwsICZwaXZvdCk7CgogICAgICBsbi0+eDEgPSBwaXZvdC54OwogICAgICBsbi0+eTEgPSBwaXZvdC55OwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUFJPUF9UTzogewogICAgICBKU1BvaW50RGF0YTxkb3VibGU+IHRvOwogICAgICBqc19wb2ludF9yZWFkKGN0eCwgdmFsLCAmdG8pOwoKICAgICAgbG4tPngyID0gdG8ueDsKICAgICAgbG4tPnkyID0gdG8ueTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19saW5lX3NldF94eTEyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIEpTVmFsdWVDb25zdCB2YWwsIGludCBtYWdpYykgewogIEpTTGluZURhdGE8ZG91YmxlPiogbG4gPSBzdGF0aWNfY2FzdDxKU0xpbmVEYXRhPGRvdWJsZT4qPihKU19HZXRPcGFxdWUyKGN0eCwgdGhpc192YWwsIGpzX2xpbmVfY2xhc3NfaWQpKTsKICBkb3VibGUgdjsKICBpZighbG4pCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIGlmKEpTX1RvRmxvYXQ2NChjdHgsICZ2LCB2YWwpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICBpZihtYWdpYyA9PSAwKQogICAgbG4tPmFycmF5WzBdID0gdjsKICBlbHNlIGlmKG1hZ2ljID09IDEpCiAgICBsbi0+YXJyYXlbMV0gPSB2OwogIGVsc2UgaWYobWFnaWMgPT0gMikKICAgIGxuLT5hcnJheVsyXSA9IHY7CiAgZWxzZSBpZihtYWdpYyA9PSAzKQogICAgbG4tPmFycmF5WzNdID0gdjsKCiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKanNfbGluZV9zZXRfYWIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgSlNWYWx1ZUNvbnN0IHZhbCwgaW50IG1hZ2ljKSB7CiAgSlNMaW5lRGF0YTxkb3VibGU+KiBsbjsKICBKU1BvaW50RGF0YTxkb3VibGU+IHB0OwoKICBpZighKGxuID0gc3RhdGljX2Nhc3Q8SlNMaW5lRGF0YTxkb3VibGU+Kj4oSlNfR2V0T3BhcXVlMihjdHgsIHRoaXNfdmFsLCBqc19saW5lX2NsYXNzX2lkKSkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAganNfcG9pbnRfcmVhZChjdHgsIHZhbCwgJnB0KTsKCiAgaWYobWFnaWMgPT0gMCkgewogICAgbG4tPmFycmF5WzBdID0gcHQueDsKICAgIGxuLT5hcnJheVsxXSA9IHB0Lnk7CgogIH0gZWxzZSBpZihtYWdpYyA9PSAxKSB7CiAgICBsbi0+YXJyYXlbMl0gPSBwdC54OwogICAgbG4tPmFycmF5WzNdID0gcHQueTsKICB9CgogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2xpbmVfcG9pbnRzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0xpbmVEYXRhPGRvdWJsZT4qIGxuOwoKICBpZighKGxuID0gc3RhdGljX2Nhc3Q8SlNMaW5lRGF0YTxkb3VibGU+Kj4oSlNfR2V0T3BhcXVlMihjdHgsIHRoaXNfdmFsLCBqc19saW5lX2NsYXNzX2lkKSkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgcmV0dXJuIGpzX2FycmF5X2Zyb20oY3R4LCBsbi0+cG9pbnRzKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfbGluZV9pbnNwZWN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0xpbmVEYXRhPGRvdWJsZT4qIGxuID0ganNfbGluZV9kYXRhKGN0eCwgdGhpc192YWwpOwogIEpTVmFsdWUgb2JqID0gSlNfTmV3T2JqZWN0Q2xhc3MoY3R4LCBqc19saW5lX2NsYXNzX2lkKTsKCiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgIngxIiwgSlNfTmV3RmxvYXQ2NChjdHgsIGxuLT54MSksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgInkxIiwgSlNfTmV3RmxvYXQ2NChjdHgsIGxuLT55MSksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgIngyIiwgSlNfTmV3RmxvYXQ2NChjdHgsIGxuLT54MiksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgInkyIiwgSlNfTmV3RmxvYXQ2NChjdHgsIGxuLT55MiksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgcmV0dXJuIG9iajsKfQoKc3RhdGljIEpTVmFsdWUKanNfbGluZV9tZXRob2RzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YsIGludCBtYWdpYykgewogIEpTTGluZURhdGE8ZG91YmxlPiogbG47CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgaWYoIShsbiA9IHN0YXRpY19jYXN0PEpTTGluZURhdGE8ZG91YmxlPio+KEpTX0dldE9wYXF1ZTIoY3R4LCB0aGlzX3ZhbCwganNfbGluZV9jbGFzc19pZCkpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBNRVRIT0RfU1dBUDogewogICAgICBKU1BvaW50RGF0YTxkb3VibGU+IGEgPSBsbi0+cG9pbnRzWzBdLCBiID0gbG4tPnBvaW50c1sxXTsKICAgICAgbG4tPnBvaW50c1swXSA9IGI7CiAgICAgIGxuLT5wb2ludHNbMV0gPSBhOwogICAgICByZXQgPSBKU19EdXBWYWx1ZShjdHgsIHRoaXNfdmFsKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIE1FVEhPRF9BVDogewogICAgICBkb3VibGUgc2lnbWE7CiAgICAgIEpTUG9pbnREYXRhPGRvdWJsZT4gcDsKICAgICAganNfdmFsdWVfdG8oY3R4LCBhcmd2WzBdLCBzaWdtYSk7CgogICAgICBzaWdtYSA9IGZtaW4oZm1heChzaWdtYSwgMSksIDApOwoKICAgICAgcC54ID0gbG4tPnBvaW50c1swXS54ICogKDEuMCAtIHNpZ21hKSArIGxuLT5wb2ludHNbMV0ueCAqIHNpZ21hOwogICAgICBwLnkgPSBsbi0+cG9pbnRzWzBdLnkgKiAoMS4wIC0gc2lnbWEpICsgbG4tPnBvaW50c1sxXS55ICogc2lnbWE7CgogICAgICByZXQgPSBqc19wb2ludF93cmFwKGN0eCwgcCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBNRVRIT0RfSU5URVJTRUNUOiB7CiAgICAgIHN0ZDo6YXJyYXk8ZG91YmxlLCA0PiBhcmcgPSBqc19saW5lX2dldDxkb3VibGU+KGN0eCwgYXJndlswXSk7CiAgICAgIEpTUG9pbnREYXRhPGRvdWJsZT4qIHBvaW50ID0gbnVsbHB0cjsKCiAgICAgIGlmKGFyZ2MgPiAxKQogICAgICAgIHBvaW50ID0ganNfcG9pbnRfZGF0YShjdHgsIGFyZ3ZbMV0pOwoKICAgICAgTGluZTxkb3VibGU+IGxpbmUgPSBMaW5lKGxuLT5hcnJheSk7CiAgICAgIExpbmU8ZG91YmxlPiBvdGhlciA9IExpbmUoYXJnKTsKCiAgICAgIHJldCA9IEpTX05ld0Jvb2woY3R4LCBsaW5lLmludGVyc2VjdChvdGhlciwgcG9pbnQpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIE1FVEhPRF9FTkRQT0lOVF9ESVNUQU5DRVM6IHsKICAgICAgSlNQb2ludERhdGE8ZG91YmxlPiBwdDsKICAgICAganNfcG9pbnRfcmVhZChjdHgsIGFyZ3ZbMF0sICZwdCk7CiAgICAgIExpbmU8ZG91YmxlPiBsaW5lID0gTGluZShsbi0+YXJyYXkpOwogICAgICBhdXRvIGRpc3RhbmNlcyA9IGxpbmUuZW5kcG9pbnRfZGlzdGFuY2VzKHB0KTsKICAgICAgcmV0ID0gSlNfTmV3QXJyYXkoY3R4KTsKICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDAsIGpzX251bWJlcl9uZXcoY3R4LCBkaXN0YW5jZXMuZmlyc3QpKTsKICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDEsIGpzX251bWJlcl9uZXcoY3R4LCBkaXN0YW5jZXMuc2Vjb25kKSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBNRVRIT0RfRElTVEFOQ0U6IHsKICAgICAgY3Y6OlBvaW50MmQgcHQ7CiAgICAgIGpzX3BvaW50X3JlYWQoY3R4LCBhcmd2WzBdLCAmcHQpOwogICAgICBMaW5lPGRvdWJsZT4gbGluZSA9IExpbmUobG4tPmFycmF5KTsKICAgICAgcmV0ID0ganNfbnVtYmVyX25ldyhjdHgsIGxpbmUuZGlzdGFuY2UocHQpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2xpbmVfdG9hcnJheShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGxpbmUsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZykgewogIEpTTGluZURhdGE8ZG91YmxlPiogbG47CgogIGlmKCEobG4gPSBzdGF0aWNfY2FzdDxKU0xpbmVEYXRhPGRvdWJsZT4qPihKU19HZXRPcGFxdWUyKGN0eCwgbGluZSwganNfbGluZV9jbGFzc19pZCkpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHJldHVybiBqc190eXBlZGFycmF5X2Zyb20oY3R4LCBsbi0+YXJyYXkpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jYWxsX21ldGhvZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZSBvYmosIGNvbnN0IGNoYXIqIG5hbWUsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1ZhbHVlIGZuLCByZXQgPSBKU19VTkRFRklORUQ7CgogIGZuID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmosIG5hbWUpOwogIGlmKCFKU19Jc1VuZGVmaW5lZChmbikpCiAgICByZXQgPSBKU19DYWxsKGN0eCwgZm4sIG9iaiwgYXJnYywgYXJndik7CiAgcmV0dXJuIHJldDsKfQoKI2RlZmluZSBKU19MSU5FX0FTX1BPSU5UUyAweDAxCiNkZWZpbmUgSlNfTElORV9BU19WRUNUT1IgMHgwMgoKI2RlZmluZSBKU19MSU5FX0dFVF9JVEVSQVRPUiAweDgwCiNkZWZpbmUgSlNfTElORV9UT19TVFJJTkcgMHg0MAoKc3RhdGljIEpTVmFsdWUKanNfbGluZV9pdGVyYXRvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2LCBpbnQgbWFnaWMpIHsKICBKU0xpbmVEYXRhPGRvdWJsZT4qIGxuID0gc3RhdGljX2Nhc3Q8SlNMaW5lRGF0YTxkb3VibGU+Kj4oSlNfR2V0T3BhcXVlMihjdHgsIHRoaXNfdmFsLCBqc19saW5lX2NsYXNzX2lkKSk7CiAgSlNWYWx1ZSBtZXRob2QsIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYobWFnaWMgJiBKU19MSU5FX0FTX1BPSU5UUykKICAgIHJldCA9IGpzX2xpbmVfcG9pbnRzKGN0eCwgdGhpc192YWwsIGFyZ2MsIGFyZ3YpOwogIGlmKG1hZ2ljICYgSlNfTElORV9BU19WRUNUT1IpCiAgICByZXQgPSBqc19saW5lX3RvYXJyYXkoY3R4LCB0aGlzX3ZhbCwgYXJnYywgYXJndik7CgogIGlmKG1hZ2ljICYgSlNfTElORV9HRVRfSVRFUkFUT1IpCiAgICByZXQgPSBqc19jYWxsX21ldGhvZChjdHgsIHJldCwgInZhbHVlcyIsIDAsIE5VTEwpOwoKICBpZihtYWdpYyAmIEpTX0xJTkVfVE9fU1RSSU5HKSB7CiAgICBKU1ZhbHVlQ29uc3QgYXJnc1sxXSA9IHswfTsKICAgIGFyZ3NbMF0gPSBKU19OZXdTdHJpbmcoY3R4LCAiICIpOwoKICAgIHJldCA9IGpzX2NhbGxfbWV0aG9kKGN0eCwgcmV0LCAiam9pbiIsIDEsIGFyZ3MpOwogIH0KCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfbGluZV9mcm9tKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0xpbmVEYXRhPGRvdWJsZT4gbGluZSA9IHswLCAwLCAwLCAwfTsKICBKU1ZhbHVlIHJldCA9IEpTX0VYQ0VQVElPTjsKCiAgaWYoSlNfSXNTdHJpbmcoYXJndlswXSkpIHsKICAgIGNvbnN0IGNoYXIqIHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbMF0pOwogICAgY2hhciogZW5kcHRyID0gbnVsbHB0cjsKICAgIGZvcihzaXplX3QgaSA9IDA7IGkgPCA0OyBpKyspIHsKICAgICAgd2hpbGUoIWlzZGlnaXQoKnN0cikgJiYgKnN0ciAhPSAnLScgJiYgKnN0ciAhPSAnKycgJiYgISgqc3RyID09ICcuJyAmJiBpc2RpZ2l0KHN0clsxXSkpKSBzdHIrKzsKICAgICAgaWYoKnN0ciA9PSAnXDAnKQogICAgICAgIGJyZWFrOwogICAgICBsaW5lLmFycmF5W2ldID0gc3RydG9kKHN0ciwgJmVuZHB0cik7CiAgICAgIHN0ciA9IGVuZHB0cjsKICAgIH0KICB9IGVsc2UgewogICAganNfbGluZV9yZWFkKGN0eCwgYXJndlswXSwgJmxpbmUpOwogIH0KICBpZihsaW5lLmFycmF5WzJdID4gMCAmJiBsaW5lLmFycmF5WzNdID4gMCkKICAgIHJldCA9IGpzX2xpbmVfbmV3KGN0eCwgbGluZS5hcnJheVswXSwgbGluZS5hcnJheVsxXSwgbGluZS5hcnJheVsyXSwgbGluZS5hcnJheVszXSk7CiAgcmV0dXJuIHJldDsKfQoKdm9pZApqc19saW5lX2ZpbmFsaXplcihKU1J1bnRpbWUqIHJ0LCBKU1ZhbHVlIHZhbCkgewogIEpTTGluZURhdGE8ZG91YmxlPiogbG47CgogIGlmKChsbiA9IHN0YXRpY19jYXN0PEpTTGluZURhdGE8ZG91YmxlPio+KEpTX0dldE9wYXF1ZSh2YWwsIGpzX2xpbmVfY2xhc3NfaWQpKSkpCiAgICAvKiBOb3RlOiAnbG4nIGNhbiBiZSBOVUxMIGluIGNhc2UgSlNfU2V0T3BhcXVlKCkgd2FzIG5vdCBjYWxsZWQgKi8KICAgIGpzX2RlYWxsb2NhdGUocnQsIGxuKTsKfQoKSlNDbGFzc0RlZiBqc19saW5lX2NsYXNzID0gewogICAgLmNsYXNzX25hbWUgPSAiTGluZSIsCiAgICAuZmluYWxpemVyID0ganNfbGluZV9maW5hbGl6ZXIsCn07Cgpjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc19saW5lX3Byb3RvX2Z1bmNzW10gPSB7CiAgICBKU19DR0VUU0VUX0VOVU1FUkFCTEVfREVGKCJ4MSIsIGpzX2xpbmVfZ2V0X3h5MTIsIGpzX2xpbmVfc2V0X3h5MTIsIDApLAogICAgSlNfQ0dFVFNFVF9FTlVNRVJBQkxFX0RFRigieTEiLCBqc19saW5lX2dldF94eTEyLCBqc19saW5lX3NldF94eTEyLCAxKSwKICAgIEpTX0NHRVRTRVRfRU5VTUVSQUJMRV9ERUYoIngyIiwganNfbGluZV9nZXRfeHkxMiwganNfbGluZV9zZXRfeHkxMiwgMiksCiAgICBKU19DR0VUU0VUX0VOVU1FUkFCTEVfREVGKCJ5MiIsIGpzX2xpbmVfZ2V0X3h5MTIsIGpzX2xpbmVfc2V0X3h5MTIsIDMpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImEiLCBqc19saW5lX2dldF9hYiwganNfbGluZV9zZXRfYWIsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImIiLCBqc19saW5lX2dldF9hYiwganNfbGluZV9zZXRfYWIsIDEpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoIjAiLCBqc19saW5lX2dldF9hYiwganNfbGluZV9zZXRfYWIsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoIjEiLCBqc19saW5lX2dldF9hYiwganNfbGluZV9zZXRfYWIsIDEpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoInNsb3BlIiwganNfbGluZV9nZXQsIDAsIFBST1BfU0xPUEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImFuZ2xlIiwganNfbGluZV9nZXQsIDAsIFBST1BfQU5HTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImxlbmd0aCIsIGpzX2xpbmVfZ2V0LCAwLCBQUk9QX0xFTkdUSCksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigicGl2b3QiLCBqc19saW5lX2dldCwganNfbGluZV9zZXQsIFBST1BfUElWT1QpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoInRvIiwganNfbGluZV9nZXQsIGpzX2xpbmVfc2V0LCBQUk9QX1RPKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigic3dhcCIsIDAsIGpzX2xpbmVfbWV0aG9kcywgTUVUSE9EX1NXQVApLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJhdCIsIDEsIGpzX2xpbmVfbWV0aG9kcywgTUVUSE9EX0FUKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiaW50ZXJzZWN0IiwgMSwganNfbGluZV9tZXRob2RzLCBNRVRIT0RfSU5URVJTRUNUKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZW5kcG9pbnREaXN0YW5jZXMiLCAxLCBqc19saW5lX21ldGhvZHMsIE1FVEhPRF9FTkRQT0lOVF9ESVNUQU5DRVMpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJkaXN0YW5jZSIsIDEsIGpzX2xpbmVfbWV0aG9kcywgTUVUSE9EX0RJU1RBTkNFKSwKICAgIEpTX0NGVU5DX0RFRigidG9BcnJheSIsIDAsIGpzX2xpbmVfdG9hcnJheSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInRvUG9pbnRzIiwgMCwganNfbGluZV9pdGVyYXRvciwgSlNfTElORV9BU19QT0lOVFMpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJ0b1N0cmluZyIsIDAsIGpzX2xpbmVfaXRlcmF0b3IsIEpTX0xJTkVfQVNfUE9JTlRTIHwgSlNfTElORV9UT19TVFJJTkcpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJ2YWx1ZXMiLCAwLCBqc19saW5lX2l0ZXJhdG9yLCBKU19MSU5FX0FTX1ZFQ1RPUiB8IEpTX0xJTkVfR0VUX0lURVJBVE9SKSwKICAgIEpTX0FMSUFTX0RFRigic3RhcnQiLCAicGl2b3QiKSwKICAgIEpTX0FMSUFTX0RFRigiZW5kIiwgInRvIiksCiAgICBKU19BTElBU19ERUYoIltTeW1ib2wuaXRlcmF0b3JdIiwgInZhbHVlcyIpLAogICAgSlNfUFJPUF9TVFJJTkdfREVGKCJbU3ltYm9sLnRvU3RyaW5nVGFnXSIsICJMaW5lIiwgSlNfUFJPUF9DT05GSUdVUkFCTEUpLAp9OwoKY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfbGluZV9zdGF0aWNfZnVuY3NbXSA9IHtKU19DRlVOQ19ERUYoImZyb20iLCAxLCBqc19saW5lX2Zyb20pfTsKCmludApqc19saW5lX2luaXQoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CgogIGlmKGpzX2xpbmVfY2xhc3NfaWQgPT0gMCkgewogICAgLyogY3JlYXRlIHRoZSBMaW5lIGNsYXNzICovCiAgICBKU19OZXdDbGFzc0lEKCZqc19saW5lX2NsYXNzX2lkKTsKICAgIEpTX05ld0NsYXNzKEpTX0dldFJ1bnRpbWUoY3R4KSwganNfbGluZV9jbGFzc19pZCwgJmpzX2xpbmVfY2xhc3MpOwoKICAgIGxpbmVfcHJvdG8gPSBKU19OZXdPYmplY3QoY3R4KTsKICAgIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgbGluZV9wcm90bywganNfbGluZV9wcm90b19mdW5jcywgY291bnRvZihqc19saW5lX3Byb3RvX2Z1bmNzKSk7CiAgICBKU19TZXRDbGFzc1Byb3RvKGN0eCwganNfbGluZV9jbGFzc19pZCwgbGluZV9wcm90byk7CgogICAgbGluZV9jbGFzcyA9IEpTX05ld0NGdW5jdGlvbjIoY3R4LCBqc19saW5lX2N0b3IsICJMaW5lIiwgMiwgSlNfQ0ZVTkNfY29uc3RydWN0b3IsIDApOwogICAgLyogc2V0IHByb3RvLmNvbnN0cnVjdG9yIGFuZCBjdG9yLnByb3RvdHlwZSAqLwogICAgSlNfU2V0Q29uc3RydWN0b3IoY3R4LCBsaW5lX2NsYXNzLCBsaW5lX3Byb3RvKTsKICAgIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgbGluZV9jbGFzcywganNfbGluZV9zdGF0aWNfZnVuY3MsIGNvdW50b2YoanNfbGluZV9zdGF0aWNfZnVuY3MpKTsKCiAgICBqc19zZXRfaW5zcGVjdF9tZXRob2QoY3R4LCBsaW5lX3Byb3RvLCBqc19saW5lX2luc3BlY3QpOwogIH0KCiAgaWYobSkKICAgIEpTX1NldE1vZHVsZUV4cG9ydChjdHgsIG0sICJMaW5lIiwgbGluZV9jbGFzcyk7CgogIHJldHVybiAwOwp9CgpleHRlcm4gIkMiIFZJU0lCTEUgdm9pZApqc19saW5lX2V4cG9ydChKU0NvbnRleHQqIGN0eCwgSlNNb2R1bGVEZWYqIG0pIHsKICBKU19BZGRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiTGluZSIpOwp9Cgp2b2lkCmpzX2xpbmVfY29uc3RydWN0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWUgcGFyZW50LCBjb25zdCBjaGFyKiBuYW1lKSB7CiAgaWYoSlNfSXNVbmRlZmluZWQobGluZV9jbGFzcykpCiAgICBqc19saW5lX2luaXQoY3R4LCAwKTsKCiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBwYXJlbnQsIG5hbWUgPyBuYW1lIDogIkxpbmUiLCBsaW5lX2NsYXNzKTsKfQoKI2lmZGVmIEpTX0xJTkVfTU9EVUxFCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUgVklTSUJMRSBqc19pbml0X21vZHVsZQojZWxzZQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIGpzX2luaXRfbW9kdWxlX2xpbmUKI2VuZGlmCgpKU01vZHVsZURlZioKSlNfSU5JVF9NT0RVTEUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG1vZHVsZV9uYW1lKSB7CiAgSlNNb2R1bGVEZWYqIG07CiAgbSA9IEpTX05ld0NNb2R1bGUoY3R4LCBtb2R1bGVfbmFtZSwgJmpzX2xpbmVfaW5pdCk7CiAgaWYoIW0pCiAgICByZXR1cm4gTlVMTDsKICBqc19saW5lX2V4cG9ydChjdHgsIG0pOwogIHJldHVybiBtOwp9Cn0AAAAAAAAAACE4AAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABwAAAAAAAAAHIAAAAAAAAAAAAAAAAA8L8"
				],
				[
					96,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAhOAAAI2luY2x1ZGUgImpzYmluZGluZ3MuaHBwIgojaW5jbHVkZSAianNfcG9pbnQuaHBwIgojaW5jbHVkZSAianNfYWxsb2MuaHBwIgojaW5jbHVkZSAianNfbGluZS5ocHAiCiNpbmNsdWRlICJqc19hcnJheS5ocHAiCiNpbmNsdWRlICJqc190eXBlZF9hcnJheS5ocHAiCiNpbmNsdWRlICJ1dGlsLmhwcCIKI2luY2x1ZGUgImxpbmUuaHBwIgoKZW51bSB7IFBST1BfU0xPUEUgPSAwLCBQUk9QX1BJVk9ULCBQUk9QX1RPLCBQUk9QX0FOR0xFLCBQUk9QX0xFTkdUSCB9OwplbnVtIHsgTUVUSE9EX1NXQVAgPSAwLCBNRVRIT0RfQVQsIE1FVEhPRF9JTlRFUlNFQ1QsIE1FVEhPRF9FTkRQT0lOVF9ESVNUQU5DRVMsIE1FVEhPRF9ESVNUQU5DRSB9OwoKZXh0ZXJuICJDIiB7CgpKU1ZhbHVlIGxpbmVfcHJvdG8gPSBKU19VTkRFRklORUQsIGxpbmVfY2xhc3MgPSBKU19VTkRFRklORUQ7CkpTQ2xhc3NJRCBqc19saW5lX2NsYXNzX2lkID0gMDsKClZJU0lCTEUgSlNWYWx1ZQpqc19saW5lX25ldyhKU0NvbnRleHQqIGN0eCwgZG91YmxlIHgxLCBkb3VibGUgeTEsIGRvdWJsZSB4MiwgZG91YmxlIHkyKSB7CiAgSlNWYWx1ZSByZXQ7CiAgSlNMaW5lRGF0YTxkb3VibGU+KiBsbjsKCiAgaWYoSlNfSXNVbmRlZmluZWQobGluZV9wcm90bykpCiAgICBqc19saW5lX2luaXQoY3R4LCBOVUxMKTsKCiAgcmV0ID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIGxpbmVfcHJvdG8sIGpzX2xpbmVfY2xhc3NfaWQpOwoKICBsbiA9IGpzX2FsbG9jYXRlPEpTTGluZURhdGE8ZG91YmxlPj4oY3R4KTsKCiAgbG4tPmFycmF5WzBdID0geDE7CiAgbG4tPmFycmF5WzFdID0geTE7CiAgbG4tPmFycmF5WzJdID0geDI7CiAgbG4tPmFycmF5WzNdID0geTI7CgogIEpTX1NldE9wYXF1ZShyZXQsIGxuKTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19saW5lX2N0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBuZXdfdGFyZ2V0LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNMaW5lRGF0YTxkb3VibGU+KiBsbjsKICBKU1ZhbHVlIG9iaiA9IEpTX1VOREVGSU5FRDsKICBKU1ZhbHVlIHByb3RvOwoKICBsbiA9IGpzX2FsbG9jYXRlPEpTTGluZURhdGE8ZG91YmxlPj4oY3R4KTsKICBpZighbG4pCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihhcmdjID49IDQgJiYgc3RkOjphbGxfb2YoYXJndiwgYXJndiArIHN0ZDo6bWluKDQsIGFyZ2MpLCBKU19Jc051bWJlcikpIHsKICAgIGlmKEpTX1RvRmxvYXQ2NChjdHgsICZsbi0+YXJyYXlbMF0sIGFyZ3ZbMF0pKQogICAgICBnb3RvIGZhaWw7CiAgICBpZihKU19Ub0Zsb2F0NjQoY3R4LCAmbG4tPmFycmF5WzFdLCBhcmd2WzFdKSkKICAgICAgZ290byBmYWlsOwogICAgaWYoSlNfVG9GbG9hdDY0KGN0eCwgJmxuLT5hcnJheVsyXSwgYXJndlsyXSkpCiAgICAgIGdvdG8gZmFpbDsKICAgIGlmKEpTX1RvRmxvYXQ2NChjdHgsICZsbi0+YXJyYXlbM10sIGFyZ3ZbM10pKQogICAgICBnb3RvIGZhaWw7CiAgfSBlbHNlIGlmKCFqc19saW5lX3JlYWQoY3R4LCBhcmd2WzBdLCBsbikpIHsKICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJhcmd1bWVudCAxIGlzIG5vdCBhIHZhbGlkIGxpbmUiKTsKICB9CiAgLyogdXNpbmcgbmV3X3RhcmdldCB0byBnZXQgdGhlIHByb3RvdHlwZSBpcyBuZWNlc3Nhcnkgd2hlbiB0aGUKICAgICBjbGFzcyBpcyBleHRlbmRlZC4gKi8KICBwcm90byA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgbmV3X3RhcmdldCwgInByb3RvdHlwZSIpOwogIGlmKEpTX0lzRXhjZXB0aW9uKHByb3RvKSkKICAgIGdvdG8gZmFpbDsKICBvYmogPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgcHJvdG8sIGpzX2xpbmVfY2xhc3NfaWQpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHByb3RvKTsKICBpZihKU19Jc0V4Y2VwdGlvbihvYmopKQogICAgZ290byBmYWlsOwogIEpTX1NldE9wYXF1ZShvYmosIGxuKTsKICByZXR1cm4gb2JqOwpmYWlsOgogIGpzX2RlYWxsb2NhdGUoY3R4LCBsbik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpKU0xpbmVEYXRhPGRvdWJsZT4qCmpzX2xpbmVfZGF0YShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbCkgewogIHJldHVybiBzdGF0aWNfY2FzdDxKU0xpbmVEYXRhPGRvdWJsZT4qPihKU19HZXRPcGFxdWUyKGN0eCwgdmFsLCBqc19saW5lX2NsYXNzX2lkKSk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2xpbmVfZ2V0X3h5MTIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IG1hZ2ljKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgSlNMaW5lRGF0YTxkb3VibGU+KiBsbiA9IHN0YXRpY19jYXN0PEpTTGluZURhdGE8ZG91YmxlPio+KEpTX0dldE9wYXF1ZTIoY3R4LCB0aGlzX3ZhbCwganNfbGluZV9jbGFzc19pZCkpOwogIGlmKCFsbikKICAgIHJldCA9IEpTX0VYQ0VQVElPTjsKICBlbHNlIGlmKG1hZ2ljID09IDApCiAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgbG4tPmFycmF5WzBdKTsKICBlbHNlIGlmKG1hZ2ljID09IDEpCiAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgbG4tPmFycmF5WzFdKTsKICBlbHNlIGlmKG1hZ2ljID09IDIpCiAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgbG4tPmFycmF5WzJdKTsKICBlbHNlIGlmKG1hZ2ljID09IDMpCiAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgbG4tPmFycmF5WzNdKTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19saW5lX2dldF9hYihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBKU0xpbmVEYXRhPGRvdWJsZT4qIGxuID0gc3RhdGljX2Nhc3Q8SlNMaW5lRGF0YTxkb3VibGU+Kj4oSlNfR2V0T3BhcXVlMihjdHgsIHRoaXNfdmFsLCBqc19saW5lX2NsYXNzX2lkKSk7CiAgaWYoIWxuKQogICAgcmV0ID0gSlNfRVhDRVBUSU9OOwogIGVsc2UgaWYobWFnaWMgPT0gMCkKICAgIHJldCA9IGpzX3BvaW50X25ldyhjdHgsIGxuLT5hcnJheVswXSwgbG4tPmFycmF5WzFdKTsKICBlbHNlIGlmKG1hZ2ljID09IDEpCiAgICByZXQgPSBqc19wb2ludF9uZXcoY3R4LCBsbi0+YXJyYXlbMl0sIGxuLT5hcnJheVszXSk7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2xpbmVfZ2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBtYWdpYykgewogIEpTTGluZURhdGE8ZG91YmxlPiogbG47CgogIGlmKCEobG4gPSBzdGF0aWNfY2FzdDxKU0xpbmVEYXRhPGRvdWJsZT4qPihKU19HZXRPcGFxdWUyKGN0eCwgdGhpc192YWwsIGpzX2xpbmVfY2xhc3NfaWQpKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBQUk9QX1NMT1BFOiB7CiAgICAgIExpbmU8ZG91YmxlPiBsaW5lKGxuLT5hcnJheSk7CiAgICAgIHJldHVybiBqc19wb2ludF93cmFwKGN0eCwgbGluZS5zbG9wZSgpKTsKICAgIH0KICAgIGNhc2UgUFJPUF9QSVZPVDogewogICAgICBKU1BvaW50RGF0YTxkb3VibGU+IHBpdm90KGxuLT54MSwgbG4tPnkxKTsKICAgICAgcmV0dXJuIGpzX3BvaW50X3dyYXAoY3R4LCBwaXZvdCk7CiAgICB9CiAgICBjYXNlIFBST1BfVE86IHsKICAgICAgSlNQb2ludERhdGE8ZG91YmxlPiB0byhsbi0+eDIsIGxuLT55Mik7CiAgICAgIHJldHVybiBqc19wb2ludF93cmFwKGN0eCwgdG8pOwogICAgfQogICAgY2FzZSBQUk9QX0FOR0xFOiB7CiAgICAgIExpbmU8ZG91YmxlPiBsaW5lKGxuLT5hcnJheSk7CiAgICAgIHJldHVybiBKU19OZXdGbG9hdDY0KGN0eCwgc3RkOjphdGFuMihsbi0+eDIgLSBsbi0+eDEsIGxuLT55MiAtIGxuLT55MSkpOwogICAgfQogICAgY2FzZSBQUk9QX0xFTkdUSDogewogICAgICBMaW5lPGRvdWJsZT4gbGluZShsbi0+YXJyYXkpOwogICAgICByZXR1cm4gSlNfTmV3RmxvYXQ2NChjdHgsIGxpbmUubGVuZ3RoKCkpOwogICAgfQogIH0KICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19saW5lX3NldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBKU1ZhbHVlQ29uc3QgdmFsLCBpbnQgbWFnaWMpIHsKICBKU0xpbmVEYXRhPGRvdWJsZT4qIGxuOwogIGRvdWJsZSB2OwogIGlmKCEobG4gPSBzdGF0aWNfY2FzdDxKU0xpbmVEYXRhPGRvdWJsZT4qPihKU19HZXRPcGFxdWUyKGN0eCwgdGhpc192YWwsIGpzX2xpbmVfY2xhc3NfaWQpKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBQUk9QX1BJVk9UOiB7CiAgICAgIEpTUG9pbnREYXRhPGRvdWJsZT4gcGl2b3Q7CiAgICAgIGpzX3BvaW50X3JlYWQoY3R4LCB2YWwsICZwaXZvdCk7CgogICAgICBsbi0+eDEgPSBwaXZvdC54OwogICAgICBsbi0+eTEgPSBwaXZvdC55OwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUFJPUF9UTzogewogICAgICBKU1BvaW50RGF0YTxkb3VibGU+IHRvOwogICAgICBqc19wb2ludF9yZWFkKGN0eCwgdmFsLCAmdG8pOwoKICAgICAgbG4tPngyID0gdG8ueDsKICAgICAgbG4tPnkyID0gdG8ueTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19saW5lX3NldF94eTEyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIEpTVmFsdWVDb25zdCB2YWwsIGludCBtYWdpYykgewogIEpTTGluZURhdGE8ZG91YmxlPiogbG4gPSBzdGF0aWNfY2FzdDxKU0xpbmVEYXRhPGRvdWJsZT4qPihKU19HZXRPcGFxdWUyKGN0eCwgdGhpc192YWwsIGpzX2xpbmVfY2xhc3NfaWQpKTsKICBkb3VibGUgdjsKICBpZighbG4pCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIGlmKEpTX1RvRmxvYXQ2NChjdHgsICZ2LCB2YWwpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICBpZihtYWdpYyA9PSAwKQogICAgbG4tPmFycmF5WzBdID0gdjsKICBlbHNlIGlmKG1hZ2ljID09IDEpCiAgICBsbi0+YXJyYXlbMV0gPSB2OwogIGVsc2UgaWYobWFnaWMgPT0gMikKICAgIGxuLT5hcnJheVsyXSA9IHY7CiAgZWxzZSBpZihtYWdpYyA9PSAzKQogICAgbG4tPmFycmF5WzNdID0gdjsKCiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKanNfbGluZV9zZXRfYWIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgSlNWYWx1ZUNvbnN0IHZhbCwgaW50IG1hZ2ljKSB7CiAgSlNMaW5lRGF0YTxkb3VibGU+KiBsbjsKICBKU1BvaW50RGF0YTxkb3VibGU+IHB0OwoKICBpZighKGxuID0gc3RhdGljX2Nhc3Q8SlNMaW5lRGF0YTxkb3VibGU+Kj4oSlNfR2V0T3BhcXVlMihjdHgsIHRoaXNfdmFsLCBqc19saW5lX2NsYXNzX2lkKSkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAganNfcG9pbnRfcmVhZChjdHgsIHZhbCwgJnB0KTsKCiAgaWYobWFnaWMgPT0gMCkgewogICAgbG4tPmFycmF5WzBdID0gcHQueDsKICAgIGxuLT5hcnJheVsxXSA9IHB0Lnk7CgogIH0gZWxzZSBpZihtYWdpYyA9PSAxKSB7CiAgICBsbi0+YXJyYXlbMl0gPSBwdC54OwogICAgbG4tPmFycmF5WzNdID0gcHQueTsKICB9CgogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2xpbmVfcG9pbnRzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0xpbmVEYXRhPGRvdWJsZT4qIGxuOwoKICBpZighKGxuID0gc3RhdGljX2Nhc3Q8SlNMaW5lRGF0YTxkb3VibGU+Kj4oSlNfR2V0T3BhcXVlMihjdHgsIHRoaXNfdmFsLCBqc19saW5lX2NsYXNzX2lkKSkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgcmV0dXJuIGpzX2FycmF5X2Zyb20oY3R4LCBsbi0+cG9pbnRzKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfbGluZV9pbnNwZWN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0xpbmVEYXRhPGRvdWJsZT4qIGxuID0ganNfbGluZV9kYXRhKGN0eCwgdGhpc192YWwpOwogIEpTVmFsdWUgb2JqID0gSlNfTmV3T2JqZWN0Q2xhc3MoY3R4LCBqc19saW5lX2NsYXNzX2lkKTsKCiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgIngxIiwgSlNfTmV3RmxvYXQ2NChjdHgsIGxuLT54MSksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgInkxIiwgSlNfTmV3RmxvYXQ2NChjdHgsIGxuLT55MSksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgIngyIiwgSlNfTmV3RmxvYXQ2NChjdHgsIGxuLT54MiksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgInkyIiwgSlNfTmV3RmxvYXQ2NChjdHgsIGxuLT55MiksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgcmV0dXJuIG9iajsKfQoKc3RhdGljIEpTVmFsdWUKanNfbGluZV9tZXRob2RzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YsIGludCBtYWdpYykgewogIEpTTGluZURhdGE8ZG91YmxlPiogbG47CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgaWYoIShsbiA9IHN0YXRpY19jYXN0PEpTTGluZURhdGE8ZG91YmxlPio+KEpTX0dldE9wYXF1ZTIoY3R4LCB0aGlzX3ZhbCwganNfbGluZV9jbGFzc19pZCkpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBNRVRIT0RfU1dBUDogewogICAgICBKU1BvaW50RGF0YTxkb3VibGU+IGEgPSBsbi0+cG9pbnRzWzBdLCBiID0gbG4tPnBvaW50c1sxXTsKICAgICAgbG4tPnBvaW50c1swXSA9IGI7CiAgICAgIGxuLT5wb2ludHNbMV0gPSBhOwogICAgICByZXQgPSBKU19EdXBWYWx1ZShjdHgsIHRoaXNfdmFsKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIE1FVEhPRF9BVDogewogICAgICBkb3VibGUgc2lnbWE7CiAgICAgIEpTUG9pbnREYXRhPGRvdWJsZT4gcDsKICAgICAganNfdmFsdWVfdG8oY3R4LCBhcmd2WzBdLCBzaWdtYSk7CgogICAgICBzaWdtYSA9IGZtaW4oZm1heChzaWdtYSwgMSksIDApOwoKICAgICAgcC54ID0gbG4tPnBvaW50c1swXS54ICogKDEuMCAtIHNpZ21hKSArIGxuLT5wb2ludHNbMV0ueCAqIHNpZ21hOwogICAgICBwLnkgPSBsbi0+cG9pbnRzWzBdLnkgKiAoMS4wIC0gc2lnbWEpICsgbG4tPnBvaW50c1sxXS55ICogc2lnbWE7CgogICAgICByZXQgPSBqc19wb2ludF93cmFwKGN0eCwgcCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBNRVRIT0RfSU5URVJTRUNUOiB7CiAgICAgIHN0ZDo6YXJyYXk8ZG91YmxlLCA0PiBhcmcgPSBqc19saW5lX2dldDxkb3VibGU+KGN0eCwgYXJndlswXSk7CiAgICAgIEpTUG9pbnREYXRhPGRvdWJsZT4qIHBvaW50ID0gbnVsbHB0cjsKCiAgICAgIGlmKGFyZ2MgPiAxKQogICAgICAgIHBvaW50ID0ganNfcG9pbnRfZGF0YShjdHgsIGFyZ3ZbMV0pOwoKICAgICAgTGluZTxkb3VibGU+IGxpbmUgPSBMaW5lKGxuLT5hcnJheSk7CiAgICAgIExpbmU8ZG91YmxlPiBvdGhlciA9IExpbmUoYXJnKTsKCiAgICAgIHJldCA9IEpTX05ld0Jvb2woY3R4LCBsaW5lLmludGVyc2VjdChvdGhlciwgcG9pbnQpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIE1FVEhPRF9FTkRQT0lOVF9ESVNUQU5DRVM6IHsKICAgICAgSlNQb2ludERhdGE8ZG91YmxlPiBwdDsKICAgICAganNfcG9pbnRfcmVhZChjdHgsIGFyZ3ZbMF0sICZwdCk7CiAgICAgIExpbmU8ZG91YmxlPiBsaW5lID0gTGluZShsbi0+YXJyYXkpOwogICAgICBhdXRvIGRpc3RhbmNlcyA9IGxpbmUuZW5kcG9pbnRfZGlzdGFuY2VzKHB0KTsKICAgICAgcmV0ID0gSlNfTmV3QXJyYXkoY3R4KTsKICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDAsIGpzX251bWJlcl9uZXcoY3R4LCBkaXN0YW5jZXMuZmlyc3QpKTsKICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDEsIGpzX251bWJlcl9uZXcoY3R4LCBkaXN0YW5jZXMuc2Vjb25kKSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBNRVRIT0RfRElTVEFOQ0U6IHsKICAgICAgY3Y6OlBvaW50MmQgcHQ7CiAgICAgIGpzX3BvaW50X3JlYWQoY3R4LCBhcmd2WzBdLCAmcHQpOwogICAgICBMaW5lPGRvdWJsZT4gbGluZSA9IExpbmUobG4tPmFycmF5KTsKICAgICAgcmV0ID0ganNfbnVtYmVyX25ldyhjdHgsIGxpbmUuZGlzdGFuY2UocHQpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2xpbmVfdG9hcnJheShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGxpbmUsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZykgewogIEpTTGluZURhdGE8ZG91YmxlPiogbG47CgogIGlmKCEobG4gPSBzdGF0aWNfY2FzdDxKU0xpbmVEYXRhPGRvdWJsZT4qPihKU19HZXRPcGFxdWUyKGN0eCwgbGluZSwganNfbGluZV9jbGFzc19pZCkpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHJldHVybiBqc190eXBlZGFycmF5X2Zyb20oY3R4LCBsbi0+YXJyYXkpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jYWxsX21ldGhvZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZSBvYmosIGNvbnN0IGNoYXIqIG5hbWUsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1ZhbHVlIGZuLCByZXQgPSBKU19VTkRFRklORUQ7CgogIGZuID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmosIG5hbWUpOwogIGlmKCFKU19Jc1VuZGVmaW5lZChmbikpCiAgICByZXQgPSBKU19DYWxsKGN0eCwgZm4sIG9iaiwgYXJnYywgYXJndik7CiAgcmV0dXJuIHJldDsKfQoKI2RlZmluZSBKU19MSU5FX0FTX1BPSU5UUyAweDAxCiNkZWZpbmUgSlNfTElORV9BU19WRUNUT1IgMHgwMgoKI2RlZmluZSBKU19MSU5FX0dFVF9JVEVSQVRPUiAweDgwCiNkZWZpbmUgSlNfTElORV9UT19TVFJJTkcgMHg0MAoKc3RhdGljIEpTVmFsdWUKanNfbGluZV9pdGVyYXRvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2LCBpbnQgbWFnaWMpIHsKICBKU0xpbmVEYXRhPGRvdWJsZT4qIGxuID0gc3RhdGljX2Nhc3Q8SlNMaW5lRGF0YTxkb3VibGU+Kj4oSlNfR2V0T3BhcXVlMihjdHgsIHRoaXNfdmFsLCBqc19saW5lX2NsYXNzX2lkKSk7CiAgSlNWYWx1ZSBtZXRob2QsIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYobWFnaWMgJiBKU19MSU5FX0FTX1BPSU5UUykKICAgIHJldCA9IGpzX2xpbmVfcG9pbnRzKGN0eCwgdGhpc192YWwsIGFyZ2MsIGFyZ3YpOwogIGlmKG1hZ2ljICYgSlNfTElORV9BU19WRUNUT1IpCiAgICByZXQgPSBqc19saW5lX3RvYXJyYXkoY3R4LCB0aGlzX3ZhbCwgYXJnYywgYXJndik7CgogIGlmKG1hZ2ljICYgSlNfTElORV9HRVRfSVRFUkFUT1IpCiAgICByZXQgPSBqc19jYWxsX21ldGhvZChjdHgsIHJldCwgInZhbHVlcyIsIDAsIE5VTEwpOwoKICBpZihtYWdpYyAmIEpTX0xJTkVfVE9fU1RSSU5HKSB7CiAgICBKU1ZhbHVlQ29uc3QgYXJnc1sxXSA9IHswfTsKICAgIGFyZ3NbMF0gPSBKU19OZXdTdHJpbmcoY3R4LCAiICIpOwoKICAgIHJldCA9IGpzX2NhbGxfbWV0aG9kKGN0eCwgcmV0LCAiam9pbiIsIDEsIGFyZ3MpOwogIH0KCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfbGluZV9mcm9tKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0xpbmVEYXRhPGRvdWJsZT4gbGluZSA9IHswLCAwLCAwLCAwfTsKICBKU1ZhbHVlIHJldCA9IEpTX0VYQ0VQVElPTjsKCiAgaWYoSlNfSXNTdHJpbmcoYXJndlswXSkpIHsKICAgIGNvbnN0IGNoYXIqIHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbMF0pOwogICAgY2hhciogZW5kcHRyID0gbnVsbHB0cjsKICAgIGZvcihzaXplX3QgaSA9IDA7IGkgPCA0OyBpKyspIHsKICAgICAgd2hpbGUoIWlzZGlnaXQoKnN0cikgJiYgKnN0ciAhPSAnLScgJiYgKnN0ciAhPSAnKycgJiYgISgqc3RyID09ICcuJyAmJiBpc2RpZ2l0KHN0clsxXSkpKSBzdHIrKzsKICAgICAgaWYoKnN0ciA9PSAnXDAnKQogICAgICAgIGJyZWFrOwogICAgICBsaW5lLmFycmF5W2ldID0gc3RydG9kKHN0ciwgJmVuZHB0cik7CiAgICAgIHN0ciA9IGVuZHB0cjsKICAgIH0KICB9IGVsc2UgewogICAganNfbGluZV9yZWFkKGN0eCwgYXJndlswXSwgJmxpbmUpOwogIH0KICBpZihsaW5lLmFycmF5WzJdID4gMCAmJiBsaW5lLmFycmF5WzNdID4gMCkKICAgIHJldCA9IGpzX2xpbmVfbmV3KGN0eCwgbGluZS5hcnJheVswXSwgbGluZS5hcnJheVsxXSwgbGluZS5hcnJheVsyXSwgbGluZS5hcnJheVszXSk7CiAgcmV0dXJuIHJldDsKfQoKdm9pZApqc19saW5lX2ZpbmFsaXplcihKU1J1bnRpbWUqIHJ0LCBKU1ZhbHVlIHZhbCkgewogIEpTTGluZURhdGE8ZG91YmxlPiogbG47CgogIGlmKChsbiA9IHN0YXRpY19jYXN0PEpTTGluZURhdGE8ZG91YmxlPio+KEpTX0dldE9wYXF1ZSh2YWwsIGpzX2xpbmVfY2xhc3NfaWQpKSkpCiAgICAvKiBOb3RlOiAnbG4nIGNhbiBiZSBOVUxMIGluIGNhc2UgSlNfU2V0T3BhcXVlKCkgd2FzIG5vdCBjYWxsZWQgKi8KICAgIGpzX2RlYWxsb2NhdGUocnQsIGxuKTsKfQoKSlNDbGFzc0RlZiBqc19saW5lX2NsYXNzID0gewogICAgLmNsYXNzX25hbWUgPSAiTGluZSIsCiAgICAuZmluYWxpemVyID0ganNfbGluZV9maW5hbGl6ZXIsCn07Cgpjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc19saW5lX3Byb3RvX2Z1bmNzW10gPSB7CiAgICBKU19DR0VUU0VUX0VOVU1FUkFCTEVfREVGKCJ4MSIsIGpzX2xpbmVfZ2V0X3h5MTIsIGpzX2xpbmVfc2V0X3h5MTIsIDApLAogICAgSlNfQ0dFVFNFVF9FTlVNRVJBQkxFX0RFRigieTEiLCBqc19saW5lX2dldF94eTEyLCBqc19saW5lX3NldF94eTEyLCAxKSwKICAgIEpTX0NHRVRTRVRfRU5VTUVSQUJMRV9ERUYoIngyIiwganNfbGluZV9nZXRfeHkxMiwganNfbGluZV9zZXRfeHkxMiwgMiksCiAgICBKU19DR0VUU0VUX0VOVU1FUkFCTEVfREVGKCJ5MiIsIGpzX2xpbmVfZ2V0X3h5MTIsIGpzX2xpbmVfc2V0X3h5MTIsIDMpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImEiLCBqc19saW5lX2dldF9hYiwganNfbGluZV9zZXRfYWIsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImIiLCBqc19saW5lX2dldF9hYiwganNfbGluZV9zZXRfYWIsIDEpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoIjAiLCBqc19saW5lX2dldF9hYiwganNfbGluZV9zZXRfYWIsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoIjEiLCBqc19saW5lX2dldF9hYiwganNfbGluZV9zZXRfYWIsIDEpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoInNsb3BlIiwganNfbGluZV9nZXQsIDAsIFBST1BfU0xPUEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImFuZ2xlIiwganNfbGluZV9nZXQsIDAsIFBST1BfQU5HTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImxlbmd0aCIsIGpzX2xpbmVfZ2V0LCAwLCBQUk9QX0xFTkdUSCksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigicGl2b3QiLCBqc19saW5lX2dldCwganNfbGluZV9zZXQsIFBST1BfUElWT1QpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoInRvIiwganNfbGluZV9nZXQsIGpzX2xpbmVfc2V0LCBQUk9QX1RPKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigic3dhcCIsIDAsIGpzX2xpbmVfbWV0aG9kcywgTUVUSE9EX1NXQVApLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJhdCIsIDEsIGpzX2xpbmVfbWV0aG9kcywgTUVUSE9EX0FUKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiaW50ZXJzZWN0IiwgMSwganNfbGluZV9tZXRob2RzLCBNRVRIT0RfSU5URVJTRUNUKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZW5kcG9pbnREaXN0YW5jZXMiLCAxLCBqc19saW5lX21ldGhvZHMsIE1FVEhPRF9FTkRQT0lOVF9ESVNUQU5DRVMpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJkaXN0YW5jZSIsIDEsIGpzX2xpbmVfbWV0aG9kcywgTUVUSE9EX0RJU1RBTkNFKSwKICAgIEpTX0NGVU5DX0RFRigidG9BcnJheSIsIDAsIGpzX2xpbmVfdG9hcnJheSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInRvUG9pbnRzIiwgMCwganNfbGluZV9pdGVyYXRvciwgSlNfTElORV9BU19QT0lOVFMpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJ0b1N0cmluZyIsIDAsIGpzX2xpbmVfaXRlcmF0b3IsIEpTX0xJTkVfQVNfUE9JTlRTIHwgSlNfTElORV9UT19TVFJJTkcpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJ2YWx1ZXMiLCAwLCBqc19saW5lX2l0ZXJhdG9yLCBKU19MSU5FX0FTX1ZFQ1RPUiB8IEpTX0xJTkVfR0VUX0lURVJBVE9SKSwKICAgIEpTX0FMSUFTX0RFRigic3RhcnQiLCAicGl2b3QiKSwKICAgIEpTX0FMSUFTX0RFRigiZW5kIiwgInRvIiksCiAgICBKU19BTElBU19ERUYoIltTeW1ib2wuaXRlcmF0b3JdIiwgInZhbHVlcyIpLAogICAgSlNfUFJPUF9TVFJJTkdfREVGKCJbU3ltYm9sLnRvU3RyaW5nVGFnXSIsICJMaW5lIiwgSlNfUFJPUF9DT05GSUdVUkFCTEUpLAp9OwoKY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfbGluZV9zdGF0aWNfZnVuY3NbXSA9IHtKU19DRlVOQ19ERUYoImZyb20iLCAxLCBqc19saW5lX2Zyb20pfTsKCmludApqc19saW5lX2luaXQoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CgogIGlmKGpzX2xpbmVfY2xhc3NfaWQgPT0gMCkgewogICAgLyogY3JlYXRlIHRoZSBMaW5lIGNsYXNzICovCiAgICBKU19OZXdDbGFzc0lEKCZqc19saW5lX2NsYXNzX2lkKTsKICAgIEpTX05ld0NsYXNzKEpTX0dldFJ1bnRpbWUoY3R4KSwganNfbGluZV9jbGFzc19pZCwgJmpzX2xpbmVfY2xhc3MpOwoKICAgIGxpbmVfcHJvdG8gPSBKU19OZXdPYmplY3QoY3R4KTsKICAgIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgbGluZV9wcm90bywganNfbGluZV9wcm90b19mdW5jcywgY291bnRvZihqc19saW5lX3Byb3RvX2Z1bmNzKSk7CiAgICBKU19TZXRDbGFzc1Byb3RvKGN0eCwganNfbGluZV9jbGFzc19pZCwgbGluZV9wcm90byk7CgogICAgbGluZV9jbGFzcyA9IEpTX05ld0NGdW5jdGlvbjIoY3R4LCBqc19saW5lX2N0b3IsICJMaW5lIiwgMiwgSlNfQ0ZVTkNfY29uc3RydWN0b3IsIDApOwogICAgLyogc2V0IHByb3RvLmNvbnN0cnVjdG9yIGFuZCBjdG9yLnByb3RvdHlwZSAqLwogICAgSlNfU2V0Q29uc3RydWN0b3IoY3R4LCBsaW5lX2NsYXNzLCBsaW5lX3Byb3RvKTsKICAgIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgbGluZV9jbGFzcywganNfbGluZV9zdGF0aWNfZnVuY3MsIGNvdW50b2YoanNfbGluZV9zdGF0aWNfZnVuY3MpKTsKCiAgICBqc19zZXRfaW5zcGVjdF9tZXRob2QoY3R4LCBsaW5lX3Byb3RvLCBqc19saW5lX2luc3BlY3QpOwogIH0KCiAgaWYobSkKICAgIEpTX1NldE1vZHVsZUV4cG9ydChjdHgsIG0sICJMaW5lIiwgbGluZV9jbGFzcyk7CgogIHJldHVybiAwOwp9CgpleHRlcm4gIkMiIFZJU0lCTEUgdm9pZApqc19saW5lX2V4cG9ydChKU0NvbnRleHQqIGN0eCwgSlNNb2R1bGVEZWYqIG0pIHsKICBKU19BZGRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiTGluZSIpOwp9Cgp2b2lkCmpzX2xpbmVfY29uc3RydWN0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWUgcGFyZW50LCBjb25zdCBjaGFyKiBuYW1lKSB7CiAgaWYoSlNfSXNVbmRlZmluZWQobGluZV9jbGFzcykpCiAgICBqc19saW5lX2luaXQoY3R4LCAwKTsKCiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBwYXJlbnQsIG5hbWUgPyBuYW1lIDogIkxpbmUiLCBsaW5lX2NsYXNzKTsKfQoKI2lmZGVmIEpTX0xJTkVfTU9EVUxFCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUgVklTSUJMRSBqc19pbml0X21vZHVsZQojZWxzZQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIGpzX2luaXRfbW9kdWxlX2xpbmUKI2VuZGlmCgpKU01vZHVsZURlZioKSlNfSU5JVF9NT0RVTEUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG1vZHVsZV9uYW1lKSB7CiAgSlNNb2R1bGVEZWYqIG07CiAgbSA9IEpTX05ld0NNb2R1bGUoY3R4LCBtb2R1bGVfbmFtZSwgJmpzX2xpbmVfaW5pdCk7CiAgaWYoIW0pCiAgICByZXR1cm4gTlVMTDsKICBqc19saW5lX2V4cG9ydChjdHgsIG0pOwogIHJldHVybiBtOwp9Cn0AAAAAAAAAACE4AAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABwAAAAAAAAAHIAAAAAAAAAAAAAAAAA8L8"
				],
				[
					97,
					1,
					"revert",
					null,
					"AwAAAAAAAAAAAAAAAAAAAAAAAAAhOAAAI2luY2x1ZGUgImpzYmluZGluZ3MuaHBwIgojaW5jbHVkZSAianNfcG9pbnQuaHBwIgojaW5jbHVkZSAianNfYWxsb2MuaHBwIgojaW5jbHVkZSAianNfbGluZS5ocHAiCiNpbmNsdWRlICJqc19hcnJheS5ocHAiCiNpbmNsdWRlICJqc190eXBlZF9hcnJheS5ocHAiCiNpbmNsdWRlICJ1dGlsLmhwcCIKI2luY2x1ZGUgImxpbmUuaHBwIgoKZW51bSB7IFBST1BfU0xPUEUgPSAwLCBQUk9QX1BJVk9ULCBQUk9QX1RPLCBQUk9QX0FOR0xFLCBQUk9QX0xFTkdUSCB9OwplbnVtIHsgTUVUSE9EX1NXQVAgPSAwLCBNRVRIT0RfQVQsIE1FVEhPRF9JTlRFUlNFQ1QsIE1FVEhPRF9FTkRQT0lOVF9ESVNUQU5DRVMsIE1FVEhPRF9ESVNUQU5DRSB9OwoKZXh0ZXJuICJDIiB7CgpKU1ZhbHVlIGxpbmVfcHJvdG8gPSBKU19VTkRFRklORUQsIGxpbmVfY2xhc3MgPSBKU19VTkRFRklORUQ7CkpTQ2xhc3NJRCBqc19saW5lX2NsYXNzX2lkID0gMDsKClZJU0lCTEUgSlNWYWx1ZQpqc19saW5lX25ldyhKU0NvbnRleHQqIGN0eCwgZG91YmxlIHgxLCBkb3VibGUgeTEsIGRvdWJsZSB4MiwgZG91YmxlIHkyKSB7CiAgSlNWYWx1ZSByZXQ7CiAgSlNMaW5lRGF0YTxkb3VibGU+KiBsbjsKCiAgaWYoSlNfSXNVbmRlZmluZWQobGluZV9wcm90bykpCiAgICBqc19saW5lX2luaXQoY3R4LCBOVUxMKTsKCiAgcmV0ID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIGxpbmVfcHJvdG8sIGpzX2xpbmVfY2xhc3NfaWQpOwoKICBsbiA9IGpzX2FsbG9jYXRlPEpTTGluZURhdGE8ZG91YmxlPj4oY3R4KTsKCiAgbG4tPmFycmF5WzBdID0geDE7CiAgbG4tPmFycmF5WzFdID0geTE7CiAgbG4tPmFycmF5WzJdID0geDI7CiAgbG4tPmFycmF5WzNdID0geTI7CgogIEpTX1NldE9wYXF1ZShyZXQsIGxuKTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19saW5lX2N0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCBuZXdfdGFyZ2V0LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNMaW5lRGF0YTxkb3VibGU+KiBsbjsKICBKU1ZhbHVlIG9iaiA9IEpTX1VOREVGSU5FRDsKICBKU1ZhbHVlIHByb3RvOwoKICBsbiA9IGpzX2FsbG9jYXRlPEpTTGluZURhdGE8ZG91YmxlPj4oY3R4KTsKICBpZighbG4pCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihhcmdjID49IDQgJiYgc3RkOjphbGxfb2YoYXJndiwgYXJndiArIHN0ZDo6bWluKDQsIGFyZ2MpLCBKU19Jc051bWJlcikpIHsKICAgIGlmKEpTX1RvRmxvYXQ2NChjdHgsICZsbi0+YXJyYXlbMF0sIGFyZ3ZbMF0pKQogICAgICBnb3RvIGZhaWw7CiAgICBpZihKU19Ub0Zsb2F0NjQoY3R4LCAmbG4tPmFycmF5WzFdLCBhcmd2WzFdKSkKICAgICAgZ290byBmYWlsOwogICAgaWYoSlNfVG9GbG9hdDY0KGN0eCwgJmxuLT5hcnJheVsyXSwgYXJndlsyXSkpCiAgICAgIGdvdG8gZmFpbDsKICAgIGlmKEpTX1RvRmxvYXQ2NChjdHgsICZsbi0+YXJyYXlbM10sIGFyZ3ZbM10pKQogICAgICBnb3RvIGZhaWw7CiAgfSBlbHNlIGlmKCFqc19saW5lX3JlYWQoY3R4LCBhcmd2WzBdLCBsbikpIHsKICAgIHJldHVybiBKU19UaHJvd1R5cGVFcnJvcihjdHgsICJhcmd1bWVudCAxIGlzIG5vdCBhIHZhbGlkIGxpbmUiKTsKICB9CiAgLyogdXNpbmcgbmV3X3RhcmdldCB0byBnZXQgdGhlIHByb3RvdHlwZSBpcyBuZWNlc3Nhcnkgd2hlbiB0aGUKICAgICBjbGFzcyBpcyBleHRlbmRlZC4gKi8KICBwcm90byA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgbmV3X3RhcmdldCwgInByb3RvdHlwZSIpOwogIGlmKEpTX0lzRXhjZXB0aW9uKHByb3RvKSkKICAgIGdvdG8gZmFpbDsKICBvYmogPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgcHJvdG8sIGpzX2xpbmVfY2xhc3NfaWQpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHByb3RvKTsKICBpZihKU19Jc0V4Y2VwdGlvbihvYmopKQogICAgZ290byBmYWlsOwogIEpTX1NldE9wYXF1ZShvYmosIGxuKTsKICByZXR1cm4gb2JqOwpmYWlsOgogIGpzX2RlYWxsb2NhdGUoY3R4LCBsbik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpKU0xpbmVEYXRhPGRvdWJsZT4qCmpzX2xpbmVfZGF0YShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHZhbCkgewogIHJldHVybiBzdGF0aWNfY2FzdDxKU0xpbmVEYXRhPGRvdWJsZT4qPihKU19HZXRPcGFxdWUyKGN0eCwgdmFsLCBqc19saW5lX2NsYXNzX2lkKSk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2xpbmVfZ2V0X3h5MTIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IG1hZ2ljKSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgSlNMaW5lRGF0YTxkb3VibGU+KiBsbiA9IHN0YXRpY19jYXN0PEpTTGluZURhdGE8ZG91YmxlPio+KEpTX0dldE9wYXF1ZTIoY3R4LCB0aGlzX3ZhbCwganNfbGluZV9jbGFzc19pZCkpOwogIGlmKCFsbikKICAgIHJldCA9IEpTX0VYQ0VQVElPTjsKICBlbHNlIGlmKG1hZ2ljID09IDApCiAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgbG4tPmFycmF5WzBdKTsKICBlbHNlIGlmKG1hZ2ljID09IDEpCiAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgbG4tPmFycmF5WzFdKTsKICBlbHNlIGlmKG1hZ2ljID09IDIpCiAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgbG4tPmFycmF5WzJdKTsKICBlbHNlIGlmKG1hZ2ljID09IDMpCiAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgbG4tPmFycmF5WzNdKTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19saW5lX2dldF9hYihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgbWFnaWMpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBKU0xpbmVEYXRhPGRvdWJsZT4qIGxuID0gc3RhdGljX2Nhc3Q8SlNMaW5lRGF0YTxkb3VibGU+Kj4oSlNfR2V0T3BhcXVlMihjdHgsIHRoaXNfdmFsLCBqc19saW5lX2NsYXNzX2lkKSk7CiAgaWYoIWxuKQogICAgcmV0ID0gSlNfRVhDRVBUSU9OOwogIGVsc2UgaWYobWFnaWMgPT0gMCkKICAgIHJldCA9IGpzX3BvaW50X25ldyhjdHgsIGxuLT5hcnJheVswXSwgbG4tPmFycmF5WzFdKTsKICBlbHNlIGlmKG1hZ2ljID09IDEpCiAgICByZXQgPSBqc19wb2ludF9uZXcoY3R4LCBsbi0+YXJyYXlbMl0sIGxuLT5hcnJheVszXSk7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2xpbmVfZ2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBtYWdpYykgewogIEpTTGluZURhdGE8ZG91YmxlPiogbG47CgogIGlmKCEobG4gPSBzdGF0aWNfY2FzdDxKU0xpbmVEYXRhPGRvdWJsZT4qPihKU19HZXRPcGFxdWUyKGN0eCwgdGhpc192YWwsIGpzX2xpbmVfY2xhc3NfaWQpKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBQUk9QX1NMT1BFOiB7CiAgICAgIExpbmU8ZG91YmxlPiBsaW5lKGxuLT5hcnJheSk7CiAgICAgIHJldHVybiBqc19wb2ludF93cmFwKGN0eCwgbGluZS5zbG9wZSgpKTsKICAgIH0KICAgIGNhc2UgUFJPUF9QSVZPVDogewogICAgICBKU1BvaW50RGF0YTxkb3VibGU+IHBpdm90KGxuLT54MSwgbG4tPnkxKTsKICAgICAgcmV0dXJuIGpzX3BvaW50X3dyYXAoY3R4LCBwaXZvdCk7CiAgICB9CiAgICBjYXNlIFBST1BfVE86IHsKICAgICAgSlNQb2ludERhdGE8ZG91YmxlPiB0byhsbi0+eDIsIGxuLT55Mik7CiAgICAgIHJldHVybiBqc19wb2ludF93cmFwKGN0eCwgdG8pOwogICAgfQogICAgY2FzZSBQUk9QX0FOR0xFOiB7CiAgICAgIExpbmU8ZG91YmxlPiBsaW5lKGxuLT5hcnJheSk7CiAgICAgIHJldHVybiBKU19OZXdGbG9hdDY0KGN0eCwgc3RkOjphdGFuMihsbi0+eDIgLSBsbi0+eDEsIGxuLT55MiAtIGxuLT55MSkpOwogICAgfQogICAgY2FzZSBQUk9QX0xFTkdUSDogewogICAgICBMaW5lPGRvdWJsZT4gbGluZShsbi0+YXJyYXkpOwogICAgICByZXR1cm4gSlNfTmV3RmxvYXQ2NChjdHgsIGxpbmUubGVuZ3RoKCkpOwogICAgfQogIH0KICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19saW5lX3NldChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBKU1ZhbHVlQ29uc3QgdmFsLCBpbnQgbWFnaWMpIHsKICBKU0xpbmVEYXRhPGRvdWJsZT4qIGxuOwogIGRvdWJsZSB2OwogIGlmKCEobG4gPSBzdGF0aWNfY2FzdDxKU0xpbmVEYXRhPGRvdWJsZT4qPihKU19HZXRPcGFxdWUyKGN0eCwgdGhpc192YWwsIGpzX2xpbmVfY2xhc3NfaWQpKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBQUk9QX1BJVk9UOiB7CiAgICAgIEpTUG9pbnREYXRhPGRvdWJsZT4gcGl2b3Q7CiAgICAgIGpzX3BvaW50X3JlYWQoY3R4LCB2YWwsICZwaXZvdCk7CgogICAgICBsbi0+eDEgPSBwaXZvdC54OwogICAgICBsbi0+eTEgPSBwaXZvdC55OwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUFJPUF9UTzogewogICAgICBKU1BvaW50RGF0YTxkb3VibGU+IHRvOwogICAgICBqc19wb2ludF9yZWFkKGN0eCwgdmFsLCAmdG8pOwoKICAgICAgbG4tPngyID0gdG8ueDsKICAgICAgbG4tPnkyID0gdG8ueTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19saW5lX3NldF94eTEyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIEpTVmFsdWVDb25zdCB2YWwsIGludCBtYWdpYykgewogIEpTTGluZURhdGE8ZG91YmxlPiogbG4gPSBzdGF0aWNfY2FzdDxKU0xpbmVEYXRhPGRvdWJsZT4qPihKU19HZXRPcGFxdWUyKGN0eCwgdGhpc192YWwsIGpzX2xpbmVfY2xhc3NfaWQpKTsKICBkb3VibGUgdjsKICBpZighbG4pCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIGlmKEpTX1RvRmxvYXQ2NChjdHgsICZ2LCB2YWwpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICBpZihtYWdpYyA9PSAwKQogICAgbG4tPmFycmF5WzBdID0gdjsKICBlbHNlIGlmKG1hZ2ljID09IDEpCiAgICBsbi0+YXJyYXlbMV0gPSB2OwogIGVsc2UgaWYobWFnaWMgPT0gMikKICAgIGxuLT5hcnJheVsyXSA9IHY7CiAgZWxzZSBpZihtYWdpYyA9PSAzKQogICAgbG4tPmFycmF5WzNdID0gdjsKCiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKanNfbGluZV9zZXRfYWIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgSlNWYWx1ZUNvbnN0IHZhbCwgaW50IG1hZ2ljKSB7CiAgSlNMaW5lRGF0YTxkb3VibGU+KiBsbjsKICBKU1BvaW50RGF0YTxkb3VibGU+IHB0OwoKICBpZighKGxuID0gc3RhdGljX2Nhc3Q8SlNMaW5lRGF0YTxkb3VibGU+Kj4oSlNfR2V0T3BhcXVlMihjdHgsIHRoaXNfdmFsLCBqc19saW5lX2NsYXNzX2lkKSkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAganNfcG9pbnRfcmVhZChjdHgsIHZhbCwgJnB0KTsKCiAgaWYobWFnaWMgPT0gMCkgewogICAgbG4tPmFycmF5WzBdID0gcHQueDsKICAgIGxuLT5hcnJheVsxXSA9IHB0Lnk7CgogIH0gZWxzZSBpZihtYWdpYyA9PSAxKSB7CiAgICBsbi0+YXJyYXlbMl0gPSBwdC54OwogICAgbG4tPmFycmF5WzNdID0gcHQueTsKICB9CgogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2xpbmVfcG9pbnRzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0xpbmVEYXRhPGRvdWJsZT4qIGxuOwoKICBpZighKGxuID0gc3RhdGljX2Nhc3Q8SlNMaW5lRGF0YTxkb3VibGU+Kj4oSlNfR2V0T3BhcXVlMihjdHgsIHRoaXNfdmFsLCBqc19saW5lX2NsYXNzX2lkKSkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgcmV0dXJuIGpzX2FycmF5X2Zyb20oY3R4LCBsbi0+cG9pbnRzKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfbGluZV9pbnNwZWN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0xpbmVEYXRhPGRvdWJsZT4qIGxuID0ganNfbGluZV9kYXRhKGN0eCwgdGhpc192YWwpOwogIEpTVmFsdWUgb2JqID0gSlNfTmV3T2JqZWN0Q2xhc3MoY3R4LCBqc19saW5lX2NsYXNzX2lkKTsKCiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgIngxIiwgSlNfTmV3RmxvYXQ2NChjdHgsIGxuLT54MSksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgInkxIiwgSlNfTmV3RmxvYXQ2NChjdHgsIGxuLT55MSksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgIngyIiwgSlNfTmV3RmxvYXQ2NChjdHgsIGxuLT54MiksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgInkyIiwgSlNfTmV3RmxvYXQ2NChjdHgsIGxuLT55MiksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgcmV0dXJuIG9iajsKfQoKc3RhdGljIEpTVmFsdWUKanNfbGluZV9tZXRob2RzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YsIGludCBtYWdpYykgewogIEpTTGluZURhdGE8ZG91YmxlPiogbG47CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgaWYoIShsbiA9IHN0YXRpY19jYXN0PEpTTGluZURhdGE8ZG91YmxlPio+KEpTX0dldE9wYXF1ZTIoY3R4LCB0aGlzX3ZhbCwganNfbGluZV9jbGFzc19pZCkpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBNRVRIT0RfU1dBUDogewogICAgICBKU1BvaW50RGF0YTxkb3VibGU+IGEgPSBsbi0+cG9pbnRzWzBdLCBiID0gbG4tPnBvaW50c1sxXTsKICAgICAgbG4tPnBvaW50c1swXSA9IGI7CiAgICAgIGxuLT5wb2ludHNbMV0gPSBhOwogICAgICByZXQgPSBKU19EdXBWYWx1ZShjdHgsIHRoaXNfdmFsKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIE1FVEhPRF9BVDogewogICAgICBkb3VibGUgc2lnbWE7CiAgICAgIEpTUG9pbnREYXRhPGRvdWJsZT4gcDsKICAgICAganNfdmFsdWVfdG8oY3R4LCBhcmd2WzBdLCBzaWdtYSk7CgogICAgICBzaWdtYSA9IGZtaW4oZm1heChzaWdtYSwgMSksIDApOwoKICAgICAgcC54ID0gbG4tPnBvaW50c1swXS54ICogKDEuMCAtIHNpZ21hKSArIGxuLT5wb2ludHNbMV0ueCAqIHNpZ21hOwogICAgICBwLnkgPSBsbi0+cG9pbnRzWzBdLnkgKiAoMS4wIC0gc2lnbWEpICsgbG4tPnBvaW50c1sxXS55ICogc2lnbWE7CgogICAgICByZXQgPSBqc19wb2ludF93cmFwKGN0eCwgcCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBNRVRIT0RfSU5URVJTRUNUOiB7CiAgICAgIHN0ZDo6YXJyYXk8ZG91YmxlLCA0PiBhcmcgPSBqc19saW5lX2dldDxkb3VibGU+KGN0eCwgYXJndlswXSk7CiAgICAgIEpTUG9pbnREYXRhPGRvdWJsZT4qIHBvaW50ID0gbnVsbHB0cjsKCiAgICAgIGlmKGFyZ2MgPiAxKQogICAgICAgIHBvaW50ID0ganNfcG9pbnRfZGF0YShjdHgsIGFyZ3ZbMV0pOwoKICAgICAgTGluZTxkb3VibGU+IGxpbmUgPSBMaW5lKGxuLT5hcnJheSk7CiAgICAgIExpbmU8ZG91YmxlPiBvdGhlciA9IExpbmUoYXJnKTsKCiAgICAgIHJldCA9IEpTX05ld0Jvb2woY3R4LCBsaW5lLmludGVyc2VjdChvdGhlciwgcG9pbnQpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIE1FVEhPRF9FTkRQT0lOVF9ESVNUQU5DRVM6IHsKICAgICAgSlNQb2ludERhdGE8ZG91YmxlPiBwdDsKICAgICAganNfcG9pbnRfcmVhZChjdHgsIGFyZ3ZbMF0sICZwdCk7CiAgICAgIExpbmU8ZG91YmxlPiBsaW5lID0gTGluZShsbi0+YXJyYXkpOwogICAgICBhdXRvIGRpc3RhbmNlcyA9IGxpbmUuZW5kcG9pbnRfZGlzdGFuY2VzKHB0KTsKICAgICAgcmV0ID0gSlNfTmV3QXJyYXkoY3R4KTsKICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDAsIGpzX251bWJlcl9uZXcoY3R4LCBkaXN0YW5jZXMuZmlyc3QpKTsKICAgICAgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIDEsIGpzX251bWJlcl9uZXcoY3R4LCBkaXN0YW5jZXMuc2Vjb25kKSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBNRVRIT0RfRElTVEFOQ0U6IHsKICAgICAgY3Y6OlBvaW50MmQgcHQ7CiAgICAgIGpzX3BvaW50X3JlYWQoY3R4LCBhcmd2WzBdLCAmcHQpOwogICAgICBMaW5lPGRvdWJsZT4gbGluZSA9IExpbmUobG4tPmFycmF5KTsKICAgICAgcmV0ID0ganNfbnVtYmVyX25ldyhjdHgsIGxpbmUuZGlzdGFuY2UocHQpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2xpbmVfdG9hcnJheShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IGxpbmUsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZykgewogIEpTTGluZURhdGE8ZG91YmxlPiogbG47CgogIGlmKCEobG4gPSBzdGF0aWNfY2FzdDxKU0xpbmVEYXRhPGRvdWJsZT4qPihKU19HZXRPcGFxdWUyKGN0eCwgbGluZSwganNfbGluZV9jbGFzc19pZCkpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHJldHVybiBqc190eXBlZGFycmF5X2Zyb20oY3R4LCBsbi0+YXJyYXkpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jYWxsX21ldGhvZChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZSBvYmosIGNvbnN0IGNoYXIqIG5hbWUsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1ZhbHVlIGZuLCByZXQgPSBKU19VTkRFRklORUQ7CgogIGZuID0gSlNfR2V0UHJvcGVydHlTdHIoY3R4LCBvYmosIG5hbWUpOwogIGlmKCFKU19Jc1VuZGVmaW5lZChmbikpCiAgICByZXQgPSBKU19DYWxsKGN0eCwgZm4sIG9iaiwgYXJnYywgYXJndik7CiAgcmV0dXJuIHJldDsKfQoKI2RlZmluZSBKU19MSU5FX0FTX1BPSU5UUyAweDAxCiNkZWZpbmUgSlNfTElORV9BU19WRUNUT1IgMHgwMgoKI2RlZmluZSBKU19MSU5FX0dFVF9JVEVSQVRPUiAweDgwCiNkZWZpbmUgSlNfTElORV9UT19TVFJJTkcgMHg0MAoKc3RhdGljIEpTVmFsdWUKanNfbGluZV9pdGVyYXRvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2LCBpbnQgbWFnaWMpIHsKICBKU0xpbmVEYXRhPGRvdWJsZT4qIGxuID0gc3RhdGljX2Nhc3Q8SlNMaW5lRGF0YTxkb3VibGU+Kj4oSlNfR2V0T3BhcXVlMihjdHgsIHRoaXNfdmFsLCBqc19saW5lX2NsYXNzX2lkKSk7CiAgSlNWYWx1ZSBtZXRob2QsIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYobWFnaWMgJiBKU19MSU5FX0FTX1BPSU5UUykKICAgIHJldCA9IGpzX2xpbmVfcG9pbnRzKGN0eCwgdGhpc192YWwsIGFyZ2MsIGFyZ3YpOwogIGlmKG1hZ2ljICYgSlNfTElORV9BU19WRUNUT1IpCiAgICByZXQgPSBqc19saW5lX3RvYXJyYXkoY3R4LCB0aGlzX3ZhbCwgYXJnYywgYXJndik7CgogIGlmKG1hZ2ljICYgSlNfTElORV9HRVRfSVRFUkFUT1IpCiAgICByZXQgPSBqc19jYWxsX21ldGhvZChjdHgsIHJldCwgInZhbHVlcyIsIDAsIE5VTEwpOwoKICBpZihtYWdpYyAmIEpTX0xJTkVfVE9fU1RSSU5HKSB7CiAgICBKU1ZhbHVlQ29uc3QgYXJnc1sxXSA9IHswfTsKICAgIGFyZ3NbMF0gPSBKU19OZXdTdHJpbmcoY3R4LCAiICIpOwoKICAgIHJldCA9IGpzX2NhbGxfbWV0aG9kKGN0eCwgcmV0LCAiam9pbiIsIDEsIGFyZ3MpOwogIH0KCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfbGluZV9mcm9tKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0xpbmVEYXRhPGRvdWJsZT4gbGluZSA9IHswLCAwLCAwLCAwfTsKICBKU1ZhbHVlIHJldCA9IEpTX0VYQ0VQVElPTjsKCiAgaWYoSlNfSXNTdHJpbmcoYXJndlswXSkpIHsKICAgIGNvbnN0IGNoYXIqIHN0ciA9IEpTX1RvQ1N0cmluZyhjdHgsIGFyZ3ZbMF0pOwogICAgY2hhciogZW5kcHRyID0gbnVsbHB0cjsKICAgIGZvcihzaXplX3QgaSA9IDA7IGkgPCA0OyBpKyspIHsKICAgICAgd2hpbGUoIWlzZGlnaXQoKnN0cikgJiYgKnN0ciAhPSAnLScgJiYgKnN0ciAhPSAnKycgJiYgISgqc3RyID09ICcuJyAmJiBpc2RpZ2l0KHN0clsxXSkpKSBzdHIrKzsKICAgICAgaWYoKnN0ciA9PSAnXDAnKQogICAgICAgIGJyZWFrOwogICAgICBsaW5lLmFycmF5W2ldID0gc3RydG9kKHN0ciwgJmVuZHB0cik7CiAgICAgIHN0ciA9IGVuZHB0cjsKICAgIH0KICB9IGVsc2UgewogICAganNfbGluZV9yZWFkKGN0eCwgYXJndlswXSwgJmxpbmUpOwogIH0KICBpZihsaW5lLmFycmF5WzJdID4gMCAmJiBsaW5lLmFycmF5WzNdID4gMCkKICAgIHJldCA9IGpzX2xpbmVfbmV3KGN0eCwgbGluZS5hcnJheVswXSwgbGluZS5hcnJheVsxXSwgbGluZS5hcnJheVsyXSwgbGluZS5hcnJheVszXSk7CiAgcmV0dXJuIHJldDsKfQoKdm9pZApqc19saW5lX2ZpbmFsaXplcihKU1J1bnRpbWUqIHJ0LCBKU1ZhbHVlIHZhbCkgewogIEpTTGluZURhdGE8ZG91YmxlPiogbG47CgogIGlmKChsbiA9IHN0YXRpY19jYXN0PEpTTGluZURhdGE8ZG91YmxlPio+KEpTX0dldE9wYXF1ZSh2YWwsIGpzX2xpbmVfY2xhc3NfaWQpKSkpCiAgICAvKiBOb3RlOiAnbG4nIGNhbiBiZSBOVUxMIGluIGNhc2UgSlNfU2V0T3BhcXVlKCkgd2FzIG5vdCBjYWxsZWQgKi8KICAgIGpzX2RlYWxsb2NhdGUocnQsIGxuKTsKfQoKSlNDbGFzc0RlZiBqc19saW5lX2NsYXNzID0gewogICAgLmNsYXNzX25hbWUgPSAiTGluZSIsCiAgICAuZmluYWxpemVyID0ganNfbGluZV9maW5hbGl6ZXIsCn07Cgpjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc19saW5lX3Byb3RvX2Z1bmNzW10gPSB7CiAgICBKU19DR0VUU0VUX0VOVU1FUkFCTEVfREVGKCJ4MSIsIGpzX2xpbmVfZ2V0X3h5MTIsIGpzX2xpbmVfc2V0X3h5MTIsIDApLAogICAgSlNfQ0dFVFNFVF9FTlVNRVJBQkxFX0RFRigieTEiLCBqc19saW5lX2dldF94eTEyLCBqc19saW5lX3NldF94eTEyLCAxKSwKICAgIEpTX0NHRVRTRVRfRU5VTUVSQUJMRV9ERUYoIngyIiwganNfbGluZV9nZXRfeHkxMiwganNfbGluZV9zZXRfeHkxMiwgMiksCiAgICBKU19DR0VUU0VUX0VOVU1FUkFCTEVfREVGKCJ5MiIsIGpzX2xpbmVfZ2V0X3h5MTIsIGpzX2xpbmVfc2V0X3h5MTIsIDMpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImEiLCBqc19saW5lX2dldF9hYiwganNfbGluZV9zZXRfYWIsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImIiLCBqc19saW5lX2dldF9hYiwganNfbGluZV9zZXRfYWIsIDEpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoIjAiLCBqc19saW5lX2dldF9hYiwganNfbGluZV9zZXRfYWIsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoIjEiLCBqc19saW5lX2dldF9hYiwganNfbGluZV9zZXRfYWIsIDEpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoInNsb3BlIiwganNfbGluZV9nZXQsIDAsIFBST1BfU0xPUEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImFuZ2xlIiwganNfbGluZV9nZXQsIDAsIFBST1BfQU5HTEUpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImxlbmd0aCIsIGpzX2xpbmVfZ2V0LCAwLCBQUk9QX0xFTkdUSCksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigicGl2b3QiLCBqc19saW5lX2dldCwganNfbGluZV9zZXQsIFBST1BfUElWT1QpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoInRvIiwganNfbGluZV9nZXQsIGpzX2xpbmVfc2V0LCBQUk9QX1RPKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigic3dhcCIsIDAsIGpzX2xpbmVfbWV0aG9kcywgTUVUSE9EX1NXQVApLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJhdCIsIDEsIGpzX2xpbmVfbWV0aG9kcywgTUVUSE9EX0FUKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiaW50ZXJzZWN0IiwgMSwganNfbGluZV9tZXRob2RzLCBNRVRIT0RfSU5URVJTRUNUKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigiZW5kcG9pbnREaXN0YW5jZXMiLCAxLCBqc19saW5lX21ldGhvZHMsIE1FVEhPRF9FTkRQT0lOVF9ESVNUQU5DRVMpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJkaXN0YW5jZSIsIDEsIGpzX2xpbmVfbWV0aG9kcywgTUVUSE9EX0RJU1RBTkNFKSwKICAgIEpTX0NGVU5DX0RFRigidG9BcnJheSIsIDAsIGpzX2xpbmVfdG9hcnJheSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInRvUG9pbnRzIiwgMCwganNfbGluZV9pdGVyYXRvciwgSlNfTElORV9BU19QT0lOVFMpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJ0b1N0cmluZyIsIDAsIGpzX2xpbmVfaXRlcmF0b3IsIEpTX0xJTkVfQVNfUE9JTlRTIHwgSlNfTElORV9UT19TVFJJTkcpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJ2YWx1ZXMiLCAwLCBqc19saW5lX2l0ZXJhdG9yLCBKU19MSU5FX0FTX1ZFQ1RPUiB8IEpTX0xJTkVfR0VUX0lURVJBVE9SKSwKICAgIEpTX0FMSUFTX0RFRigic3RhcnQiLCAicGl2b3QiKSwKICAgIEpTX0FMSUFTX0RFRigiZW5kIiwgInRvIiksCiAgICBKU19BTElBU19ERUYoIltTeW1ib2wuaXRlcmF0b3JdIiwgInZhbHVlcyIpLAogICAgSlNfUFJPUF9TVFJJTkdfREVGKCJbU3ltYm9sLnRvU3RyaW5nVGFnXSIsICJMaW5lIiwgSlNfUFJPUF9DT05GSUdVUkFCTEUpLAp9OwoKY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfbGluZV9zdGF0aWNfZnVuY3NbXSA9IHtKU19DRlVOQ19ERUYoImZyb20iLCAxLCBqc19saW5lX2Zyb20pfTsKCmludApqc19saW5lX2luaXQoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CgogIGlmKGpzX2xpbmVfY2xhc3NfaWQgPT0gMCkgewogICAgLyogY3JlYXRlIHRoZSBMaW5lIGNsYXNzICovCiAgICBKU19OZXdDbGFzc0lEKCZqc19saW5lX2NsYXNzX2lkKTsKICAgIEpTX05ld0NsYXNzKEpTX0dldFJ1bnRpbWUoY3R4KSwganNfbGluZV9jbGFzc19pZCwgJmpzX2xpbmVfY2xhc3MpOwoKICAgIGxpbmVfcHJvdG8gPSBKU19OZXdPYmplY3QoY3R4KTsKICAgIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgbGluZV9wcm90bywganNfbGluZV9wcm90b19mdW5jcywgY291bnRvZihqc19saW5lX3Byb3RvX2Z1bmNzKSk7CiAgICBKU19TZXRDbGFzc1Byb3RvKGN0eCwganNfbGluZV9jbGFzc19pZCwgbGluZV9wcm90byk7CgogICAgbGluZV9jbGFzcyA9IEpTX05ld0NGdW5jdGlvbjIoY3R4LCBqc19saW5lX2N0b3IsICJMaW5lIiwgMiwgSlNfQ0ZVTkNfY29uc3RydWN0b3IsIDApOwogICAgLyogc2V0IHByb3RvLmNvbnN0cnVjdG9yIGFuZCBjdG9yLnByb3RvdHlwZSAqLwogICAgSlNfU2V0Q29uc3RydWN0b3IoY3R4LCBsaW5lX2NsYXNzLCBsaW5lX3Byb3RvKTsKICAgIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgbGluZV9jbGFzcywganNfbGluZV9zdGF0aWNfZnVuY3MsIGNvdW50b2YoanNfbGluZV9zdGF0aWNfZnVuY3MpKTsKCiAgICBqc19zZXRfaW5zcGVjdF9tZXRob2QoY3R4LCBsaW5lX3Byb3RvLCBqc19saW5lX2luc3BlY3QpOwogIH0KCiAgaWYobSkKICAgIEpTX1NldE1vZHVsZUV4cG9ydChjdHgsIG0sICJMaW5lIiwgbGluZV9jbGFzcyk7CgogIHJldHVybiAwOwp9CgpleHRlcm4gIkMiIFZJU0lCTEUgdm9pZApqc19saW5lX2V4cG9ydChKU0NvbnRleHQqIGN0eCwgSlNNb2R1bGVEZWYqIG0pIHsKICBKU19BZGRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiTGluZSIpOwp9Cgp2b2lkCmpzX2xpbmVfY29uc3RydWN0b3IoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWUgcGFyZW50LCBjb25zdCBjaGFyKiBuYW1lKSB7CiAgaWYoSlNfSXNVbmRlZmluZWQobGluZV9jbGFzcykpCiAgICBqc19saW5lX2luaXQoY3R4LCAwKTsKCiAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCBwYXJlbnQsIG5hbWUgPyBuYW1lIDogIkxpbmUiLCBsaW5lX2NsYXNzKTsKfQoKI2lmZGVmIEpTX0xJTkVfTU9EVUxFCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUgVklTSUJMRSBqc19pbml0X21vZHVsZQojZWxzZQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIGpzX2luaXRfbW9kdWxlX2xpbmUKI2VuZGlmCgpKU01vZHVsZURlZioKSlNfSU5JVF9NT0RVTEUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG1vZHVsZV9uYW1lKSB7CiAgSlNNb2R1bGVEZWYqIG07CiAgbSA9IEpTX05ld0NNb2R1bGUoY3R4LCBtb2R1bGVfbmFtZSwgJmpzX2xpbmVfaW5pdCk7CiAgaWYoIW0pCiAgICByZXR1cm4gTlVMTDsKICBqc19saW5lX2V4cG9ydChjdHgsIG0pOwogIHJldHVybiBtOwp9Cn0AAAAAAAAAACE4AAAAAAAAAAAAAAAAAAAAAAAAITgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABwAAAAAAAAAHIAAAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"file": "js_contour.cpp",
			"settings":
			{
				"buffer_size": 32340,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					232,
					1,
					"insert",
					{
						"characters": "data"
					},
					"BQAAAL9qAAAAAAAAwGoAAAAAAAAAAAAAwGoAAAAAAADAagAAAAAAAAUAAABiZWdpbsBqAAAAAAAAwWoAAAAAAAAAAAAAwWoAAAAAAADCagAAAAAAAAAAAADCagAAAAAAAMNqAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC/agAAAAAAAMRqAAAAAAAAAAAAAAAA8L8"
				],
				[
					242,
					1,
					"insert",
					{
						"characters": "data"
					},
					"BQAAAMpqAAAAAAAAy2oAAAAAAAAAAAAAy2oAAAAAAADLagAAAAAAAAMAAABlbmTLagAAAAAAAMxqAAAAAAAAAAAAAMxqAAAAAAAAzWoAAAAAAAAAAAAAzWoAAAAAAADOagAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADKagAAAAAAAM1qAAAAAAAAAAAAAAAA8L8"
				],
				[
					245,
					1,
					"insert",
					{
						"characters": "+s->size()"
					},
					"CgAAANBqAAAAAAAA0WoAAAAAAAAAAAAA0WoAAAAAAADSagAAAAAAAAAAAADSagAAAAAAANNqAAAAAAAAAAAAANNqAAAAAAAA1GoAAAAAAAAAAAAA1GoAAAAAAADVagAAAAAAAAAAAADVagAAAAAAANZqAAAAAAAAAAAAANZqAAAAAAAA12oAAAAAAAAAAAAA12oAAAAAAADYagAAAAAAAAAAAADYagAAAAAAANlqAAAAAAAAAAAAANlqAAAAAAAA2moAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADQagAAAAAAANBqAAAAAAAAAAAAAAAA8L8"
				],
				[
					246,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABkfgAAI2luY2x1ZGUgImpzYmluZGluZ3MuaHBwIgojaW5jbHVkZSAianNfcG9pbnQuaHBwIgojaW5jbHVkZSAianNfcmVjdC5ocHAiCiNpbmNsdWRlICJqc19jb250b3VyLmhwcCIKI2luY2x1ZGUgImpzX2FycmF5LmhwcCIKI2luY2x1ZGUgImpzX3R5cGVkX2FycmF5LmhwcCIKI2luY2x1ZGUgImpzX2FsbG9jLmhwcCIKI2luY2x1ZGUgImpzX3BvaW50X2l0ZXJhdG9yLmhwcCIKI2luY2x1ZGUgInV0aWwuaHBwIgoKI2luY2x1ZGUgPG9wZW5jdjIvY29yZS9jb3JlLmhwcD4KI2luY2x1ZGUgPG9wZW5jdjIvaW1ncHJvYy9pbWdwcm9jLmhwcD4KCi8vI2luY2x1ZGUgInBsb3QtY3YuaHBwIgovLyNpbmNsdWRlICJjb2xvci5ocHAiCiNpbmNsdWRlICJnZW9tZXRyeS5ocHAiCiNpbmNsdWRlICJwc2ltcGwuaHBwIgoKI2luY2x1ZGUgPGlvbWFuaXA+CiNpbmNsdWRlIDxyYW5nZXM+CgpleHRlcm4gIkMiIHsKSlNWYWx1ZSBjb250b3VyX3Byb3RvID0gSlNfVU5ERUZJTkVELCBjb250b3VyX2NsYXNzID0gSlNfVU5ERUZJTkVEOwpWSVNJQkxFIEpTQ2xhc3NJRCBqc19jb250b3VyX2NsYXNzX2lkID0gMDsKfQoKc3RhdGljIEpTVmFsdWUgZmxvYXQ2NF9hcnJheTsKCi8vIHVzaW5nIG5hbWVzcGFjZSBjdjsKCkpTVmFsdWUKanNfY29udG91cl9uZXcoSlNDb250ZXh0KiBjdHgsIGNvbnN0IEpTQ29udG91ckRhdGE8ZG91YmxlPiYgcG9pbnRzKSB7CiAgSlNWYWx1ZSByZXQ7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KiBjb250b3VyOwoKICByZXQgPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgY29udG91cl9wcm90bywganNfY29udG91cl9jbGFzc19pZCk7CiAgY29udG91ciA9IGpzX2FsbG9jYXRlPEpTQ29udG91ckRhdGE8ZG91YmxlPj4oY3R4KTsKCiAgbmV3KGNvbnRvdXIpIEpTQ29udG91ckRhdGE8ZG91YmxlPigpOwoKICBjb250b3VyLT5yZXNpemUocG9pbnRzLnNpemUoKSk7CiAgdHJhbnNmb3JtX3BvaW50cyhwb2ludHMuY2JlZ2luKCksIHBvaW50cy5jZW5kKCksIGNvbnRvdXItPmJlZ2luKCkpOwoKICBKU19TZXRPcGFxdWUocmV0LCBjb250b3VyKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX2NvbnRvdXJfbW92ZShKU0NvbnRleHQqIGN0eCwgY29uc3QgSlNDb250b3VyRGF0YTxkb3VibGU+JiYgcG9pbnRzKSB7CiAgSlNWYWx1ZSByZXQ7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KiBjb250b3VyOwoKICByZXQgPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgY29udG91cl9wcm90bywganNfY29udG91cl9jbGFzc19pZCk7CiAgY29udG91ciA9IGpzX2FsbG9jYXRlPEpTQ29udG91ckRhdGE8ZG91YmxlPj4oY3R4KTsKCiAgbmV3KGNvbnRvdXIpIEpTQ29udG91ckRhdGE8ZG91YmxlPihzdGQ6Om1vdmUocG9pbnRzKSk7CgogIC8qICBjb250b3VyLT5yZXNpemUocG9pbnRzLnNpemUoKSk7CiAgICB0cmFuc2Zvcm1fcG9pbnRzKHBvaW50cy5jYmVnaW4oKSwgcG9pbnRzLmNlbmQoKSwgY29udG91ci0+YmVnaW4oKSk7Ki8KCiAgSlNfU2V0T3BhcXVlKHJldCwgY29udG91cik7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl9idWZmZXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCkgewogIEpTQ29udG91ckRhdGE8ZG91YmxlPiogY29udG91cjsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoKGNvbnRvdXIgPSBqc19jb250b3VyX2RhdGEoY3R4LCB0aGlzX3ZhbCkpID09IG51bGxwdHIpCiAgICByZXR1cm4gcmV0OwoKICBKU1ZhbHVlKiB2YWxwdHIgPSBzdGF0aWNfY2FzdDxKU1ZhbHVlKj4oanNfbWFsbG9jKGN0eCwgc2l6ZW9mKEpTVmFsdWUpKSk7CiAgKnZhbHB0ciA9IEpTX0R1cFZhbHVlKGN0eCwgdGhpc192YWwpOwoKICByZXQgPSBKU19OZXdBcnJheUJ1ZmZlcigKICAgICAgY3R4LAogICAgICByZWludGVycHJldF9jYXN0PHVpbnQ4X3QqPihjb250b3VyLT5kYXRhKCkpLAogICAgICBjb250b3VyLT5zaXplKCkgKiBzaXplb2YoSlNQb2ludERhdGE8ZG91YmxlPiksCiAgICAgIFtdKEpTUnVudGltZSogcnQsIHZvaWQqIG9wYXF1ZSwgdm9pZCogcHRyKSB7CiAgICAgICAgSlNfRnJlZVZhbHVlUlQocnQsICooSlNWYWx1ZSopb3BhcXVlKTsKICAgICAgICBqc19mcmVlX3J0KHJ0LCBvcGFxdWUpOwogICAgICB9LAogICAgICB2YWxwdHIsCiAgICAgIGZhbHNlKTsKCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl9hcnJheShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsKSB7CiAgSlNWYWx1ZSByZXQ7CiAgSlNWYWx1ZUNvbnN0IGJ1ZmZlciA9IGpzX2NvbnRvdXJfYnVmZmVyKGN0eCwgdGhpc192YWwpOwoKICByZXQgPSBKU19DYWxsQ29uc3RydWN0b3IoY3R4LCBmbG9hdDY0X2FycmF5LCAxLCAmYnVmZmVyKTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jb250b3VyX2FwcHJveHBvbHlkcChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgZG91YmxlIGVwc2lsb247CiAgYm9vbCBjbG9zZWQgPSBmYWxzZTsKICBzdGQ6OnZlY3Rvcjxjdjo6UG9pbnQ+IGN1cnZlOwogIEpTQ29udG91ckRhdGE8ZmxvYXQ+IGFwcHJveEN1cnZlOwogIEpTQ29udG91ckRhdGE8ZG91YmxlPipvdXQsICp2OwoKICB2ID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpOwoKICBpZighdikKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgb3V0ID0gc3RhdGljX2Nhc3Q8SlNDb250b3VyRGF0YTxkb3VibGU+Kj4oSlNfR2V0T3BhcXVlMihjdHgsIGFyZ3ZbMF0sIGpzX2NvbnRvdXJfY2xhc3NfaWQpKTsKCiAgaWYoYXJnYyA+IDEpIHsKICAgIEpTX1RvRmxvYXQ2NChjdHgsICZlcHNpbG9uLCBhcmd2WzFdKTsKCiAgICBpZihhcmdjID4gMikgewogICAgICBjbG9zZWQgPSAhIUpTX1RvQm9vbChjdHgsIGFyZ3ZbMl0pOwogICAgfQogIH0KCiAgc3RkOjp0cmFuc2Zvcm0odi0+YmVnaW4oKSwgdi0+ZW5kKCksIHN0ZDo6YmFja19pbnNlcnRlcihjdXJ2ZSksIFtdKGNvbnN0IEpTUG9pbnREYXRhPGRvdWJsZT4mIHB0KSAtPiBjdjo6UG9pbnQgewogICAgcmV0dXJuIGN2OjpQb2ludChwdC54LCBwdC55KTsKICB9KTsKCiAgY3Y6OmFwcHJveFBvbHlEUChjdXJ2ZSwgYXBwcm94Q3VydmUsIGVwc2lsb24sIGNsb3NlZCk7CgogIHN0ZDo6dHJhbnNmb3JtKGFwcHJveEN1cnZlLmJlZ2luKCksCiAgICAgICAgICAgICAgICAgYXBwcm94Q3VydmUuZW5kKCksCiAgICAgICAgICAgICAgICAgc3RkOjpiYWNrX2luc2VydGVyKCpvdXQpLAogICAgICAgICAgICAgICAgIFtdKGNvbnN0IEpTUG9pbnREYXRhPGZsb2F0PiYgcHQpIC0+IEpTUG9pbnREYXRhPGRvdWJsZT4geyByZXR1cm4gSlNQb2ludERhdGE8ZG91YmxlPihwdC54LCBwdC55KTsgfSk7CgogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfYXJjbGVuZ3RoKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qdiwgKm90aGVyID0gbnVsbHB0ciwgKnB0cjsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBKU1BvaW50RGF0YTxmbG9hdD4gcHQ7CiAgYm9vbCBjbG9zZWQgPSBmYWxzZTsKICBKU0NvbnRvdXJEYXRhPGZsb2F0PiBjb250b3VyOwogIEpTUG9pbnREYXRhPGRvdWJsZT4qIHBvaW50OwogIGRvdWJsZSByZXR2YWw7CgogIHYgPSBqc19jb250b3VyX2RhdGEoY3R4LCB0aGlzX3ZhbCk7CiAgaWYoIXYpCgogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYoYXJnYyA+IDApIHsKICAgIGNsb3NlZCA9ICEhSlNfVG9Cb29sKGN0eCwgYXJndlswXSk7CiAgfQoKICBzdGQ6OnRyYW5zZm9ybSh2LT5iZWdpbigpLCB2LT5lbmQoKSwgc3RkOjpiYWNrX2luc2VydGVyKGNvbnRvdXIpLCBbXShjb25zdCBKU1BvaW50RGF0YTxkb3VibGU+JiBwdCkgLT4gSlNQb2ludERhdGE8ZmxvYXQ+IHsKICAgIHJldHVybiBKU1BvaW50RGF0YTxmbG9hdD4ocHQueCwgcHQueSk7CiAgfSk7CgogIHJldHZhbCA9IGN2OjphcmNMZW5ndGgoY29udG91ciwgY2xvc2VkKTsKCiAgcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsIHJldHZhbCk7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfYXJlYShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsKSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KiB2OwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGRvdWJsZSBhcmVhOwogIEpTQ29udG91ckRhdGE8ZmxvYXQ+IGNvbnRvdXI7CiAgdiA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKTsKICBpZighdikKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgc3RkOjp0cmFuc2Zvcm0odi0+YmVnaW4oKSwgdi0+ZW5kKCksIHN0ZDo6YmFja19pbnNlcnRlcihjb250b3VyKSwgW10oY29uc3QgSlNQb2ludERhdGE8ZG91YmxlPiYgcHQpIC0+IEpTUG9pbnREYXRhPGZsb2F0PiB7CiAgICByZXR1cm4gSlNQb2ludERhdGE8ZmxvYXQ+KHB0LngsIHB0LnkpOwogIH0pOwogIGFyZWEgPSBjdjo6Y29udG91ckFyZWEoY29udG91cik7CiAgcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsIGFyZWEpOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfYm91bmRpbmdyZWN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBjdjo6UmVjdDJmIHJlY3Q7CiAgSlNDb250b3VyRGF0YTxmbG9hdD4gY3VydmU7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KiB2OwogIEpTUmVjdERhdGE8ZG91YmxlPiByOwoKICB2ID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpOwoKICBpZighdikKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHN0ZDo6dHJhbnNmb3JtKHYtPmJlZ2luKCksIHYtPmVuZCgpLCBzdGQ6OmJhY2tfaW5zZXJ0ZXIoY3VydmUpLCBbXShjb25zdCBKU1BvaW50RGF0YTxkb3VibGU+JiBwdCkgLT4gSlNQb2ludERhdGE8ZmxvYXQ+IHsKICAgIHJldHVybiBKU1BvaW50RGF0YTxmbG9hdD4ocHQueCwgcHQueSk7CiAgfSk7CgogIHJlY3QgPSBjdjo6Ym91bmRpbmdSZWN0KGN1cnZlKTsKCiAgcmV0ID0ganNfbmV3KGN0eCwgIlJlY3QiKTsKICAvLyByZXQgPSBKU19OZXdPYmplY3QoY3R4LCByZWN0X3Byb3RvLCBqc19yZWN0X2NsYXNzX2lkKTsKICAvLyByID0ganNfYWxsb2NhdGU8IEpTUmVjdERhdGE8ZG91YmxlPiA+KGN0eCk7CiAgLy8qciA9IHJlY3Q7CiAgLy8gSlNfU2V0T3BhcXVlKHJldCwgcik7CiAgLy8KICByID0gcmVjdDsKCiAganNfcmVjdF93cml0ZShjdHgsIHJldCwgcik7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfY2VudGVyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qIHY7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgZG91YmxlIGFyZWE7CiAgdiA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKTsKICBpZighdikKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgewogICAgc3RkOjp2ZWN0b3I8Y3Y6OlBvaW50PiBwb2ludHM7CiAgICBwb2ludHMucmVzaXplKHYtPnNpemUoKSk7CiAgICBzdGQ6OmNvcHkodi0+YmVnaW4oKSwgdi0+ZW5kKCksIHBvaW50cy5iZWdpbigpKTsKICAgIGN2OjpNb21lbnRzIG11ID0gY3Y6Om1vbWVudHMocG9pbnRzKTsKICAgIGN2OjpQb2ludCBjZW50cm9pZCA9IGN2OjpQb2ludChtdS5tMTAgLyBtdS5tMDAsIG11Lm0wMSAvIG11Lm0wMCk7CgogICAgcmV0ID0ganNfcG9pbnRfbmV3KGN0eCwgY2VudHJvaWQueCwgY2VudHJvaWQueSk7CiAgfQoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jb250b3VyX2NvbnZleGh1bGwoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGJvb2wgY2xvY2t3aXNlID0gZmFsc2UsIHJldHVyblBvaW50cyA9IHRydWU7CiAgSlNDb250b3VyRGF0YTxmbG9hdD4gY3VydmUsIGh1bGw7CiAgc3RkOjp2ZWN0b3I8aW50PiBodWxsSW5kaWNlczsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qb3V0LCAqdjsKCiAgdiA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKTsKCiAgaWYoIXYpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihhcmdjID4gMCkgewogICAgY2xvY2t3aXNlID0gISFKU19Ub0Jvb2woY3R4LCBhcmd2WzBdKTsKCiAgICBpZihhcmdjID4gMSkgewogICAgICByZXR1cm5Qb2ludHMgPSAhIUpTX1RvQm9vbChjdHgsIGFyZ3ZbMV0pOwogICAgfQogIH0KCiAgc3RkOjp0cmFuc2Zvcm0odi0+YmVnaW4oKSwgdi0+ZW5kKCksIHN0ZDo6YmFja19pbnNlcnRlcihjdXJ2ZSksIFtdKGNvbnN0IEpTUG9pbnREYXRhPGRvdWJsZT4mIHB0KSAtPiBKU1BvaW50RGF0YTxmbG9hdD4gewogICAgcmV0dXJuIEpTUG9pbnREYXRhPGZsb2F0PihwdC54LCBwdC55KTsKICB9KTsKCiAgaWYocmV0dXJuUG9pbnRzKQogICAgY3Y6OmNvbnZleEh1bGwoY3VydmUsIGh1bGwsIGNsb2Nrd2lzZSwgdHJ1ZSk7CiAgZWxzZQogICAgY3Y6OmNvbnZleEh1bGwoY3VydmUsIGh1bGxJbmRpY2VzLCBjbG9ja3dpc2UsIGZhbHNlKTsKCiAgaWYocmV0dXJuUG9pbnRzKSB7CiAgICByZXQgPSBqc19jb250b3VyX25ldyhjdHgsIGh1bGwpOwogIH0gZWxzZSB7CiAgICB1aW50MzJfdCBpLCBzaXplID0gaHVsbEluZGljZXMuc2l6ZSgpOwoKICAgIHJldCA9IEpTX05ld0FycmF5KGN0eCk7CgogICAgZm9yKGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7IEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCBpLCBKU19OZXdJbnQzMihjdHgsIGh1bGxJbmRpY2VzW2ldKSk7IH0KICB9CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfY29udmV4aXR5ZGVmZWN0cyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KiBzID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBzdGQ6OnZlY3RvcjxpbnQ+IGh1bGxJbmRpY2VzOwogIHN0ZDo6dmVjdG9yPGN2OjpWZWM0aT4gZGVmZWN0czsKCiAgaWYoYXJnYyA+IDApIHsKICAgIGludDY0X3QgbiA9IGpzX2FycmF5X3RvKGN0eCwgYXJndlswXSwgaHVsbEluZGljZXMpOwogICAgaWYobiA9PSAwKQogICAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIH0KCiAgaWYocy0+c2l6ZSgpID09IDAgfHwgaHVsbEluZGljZXMuc2l6ZSgpID09IDApCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBkZWZlY3RzLnJlc2l6ZShodWxsSW5kaWNlcy5zaXplKCkpOwogIGN2Ojpjb252ZXhpdHlEZWZlY3RzKCpzLCBodWxsSW5kaWNlcywgZGVmZWN0cyk7CgogIHJldCA9IGpzX2FycmF5X2Zyb20oY3R4LCBkZWZlY3RzKTsKCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl9jb25zdHJ1Y3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG5ld190YXJnZXQsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qIHY7CiAgSlNWYWx1ZSBvYmogPSBKU19VTkRFRklORUQ7CiAgSlNWYWx1ZSBwcm90bzsKCiAgdiA9IGpzX2FsbG9jYXRlPEpTQ29udG91ckRhdGE8ZG91YmxlPj4oY3R4KTsKICBpZighdikKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIG5ldyh2KSBKU0NvbnRvdXJEYXRhPGRvdWJsZT4oKTsKCiAgLyogdXNpbmcgbmV3X3RhcmdldCB0byBnZXQgdGhlIHByb3RvdHlwZSBpcyBuZWNlc3Nhcnkgd2hlbiB0aGUKICAgICBjbGFzcyBpcyBleHRlbmRlZC4gKi8KICBwcm90byA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgbmV3X3RhcmdldCwgInByb3RvdHlwZSIpOwogIGlmKEpTX0lzRXhjZXB0aW9uKHByb3RvKSkKICAgIGdvdG8gZmFpbDsKICBvYmogPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgcHJvdG8sIGpzX2NvbnRvdXJfY2xhc3NfaWQpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHByb3RvKTsKICBpZihKU19Jc0V4Y2VwdGlvbihvYmopKQogICAgZ290byBmYWlsOwogIEpTX1NldE9wYXF1ZShvYmosIHYpOwoKICBpZihhcmdjID4gMCkgewogICAgaW50IGk7CgogICAgZm9yKGkgPSAwOyBpIDwgYXJnYzsgaSsrKSB7CiAgICAgIEpTUG9pbnREYXRhPGRvdWJsZT4gcDsKICAgICAgaWYoanNfaXNfYXJyYXkoY3R4LCBhcmd2W2ldKSkgewogICAgICAgIGlmKGpzX2FycmF5X2xlbmd0aChjdHgsIGFyZ3ZbaV0pID4gMCkgewogICAgICAgICAgSlNWYWx1ZSBwdCA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgYXJndltpXSwgMCk7CgogICAgICAgICAgaWYoanNfaXNfcG9pbnQoY3R4LCBwdCkpIHsKICAgICAgICAgICAganNfYXJyYXlfdG8gLyo8IEpTUG9pbnREYXRhPGRvdWJsZT4gPiovIChjdHgsIGFyZ3ZbaV0sICp2KTsKICAgICAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgcHQpOwogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHB0KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmKGpzX3BvaW50X3JlYWQoY3R4LCBhcmd2W2ldLCAmcCkpIHsKICAgICAgICB2LT5wdXNoX2JhY2socCk7CiAgICAgICAgY29udGludWU7CiAgICAgIH0KICAgICAgZ290byBmYWlsOwogICAgfQogIH0KCiAgcmV0dXJuIG9iajsKZmFpbDoKICBqc19kZWFsbG9jYXRlKGN0eCwgdik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9Cgp2b2lkCmpzX2NvbnRvdXJfZmluYWxpemVyKEpTUnVudGltZSogcnQsIEpTVmFsdWUgdmFsKSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KiBzOwoKICBpZigocyA9IHN0YXRpY19jYXN0PEpTQ29udG91ckRhdGE8ZG91YmxlPio+KEpTX0dldE9wYXF1ZSh2YWwsIGpzX2NvbnRvdXJfY2xhc3NfaWQpKSkpIHsKICAgIGpzX2RlYWxsb2NhdGUocnQsIHMpOwogIH0KCiAgSlNfRnJlZVZhbHVlUlQocnQsIHZhbCk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfZml0ZWxsaXBzZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KnYsICpwdHI7CiAgY3Y6OlJvdGF0ZWRSZWN0IHJyOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGRvdWJsZSBhcmVhOwogIEpTQ29udG91ckRhdGE8ZmxvYXQ+IGNvbnRvdXIsIGVsbGlwc2U7CgogIGlmKCEodiA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBzdGQ6OnRyYW5zZm9ybSh2LT5iZWdpbigpLCB2LT5lbmQoKSwgc3RkOjpiYWNrX2luc2VydGVyKGNvbnRvdXIpLCBbXShjb25zdCBKU1BvaW50RGF0YTxkb3VibGU+JiBwdCkgLT4gSlNQb2ludERhdGE8ZmxvYXQ+IHsKICAgIHJldHVybiBKU1BvaW50RGF0YTxmbG9hdD4ocHQueCwgcHQueSk7CiAgfSk7CgogIHJyID0gY3Y6OmZpdEVsbGlwc2UoY29udG91cik7CgogIGVsbGlwc2UucmVzaXplKDUpOwogIHJyLnBvaW50cyhlbGxpcHNlLmRhdGEoKSk7CgogIHJldCA9IGpzX2NvbnRvdXJfbmV3KGN0eCwgZWxsaXBzZSk7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfZml0bGluZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KnYsICpwdHI7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgaW50NjRfdCBkaXN0VHlwZSA9IGN2OjpESVNUX0ZBSVI7CiAgZG91YmxlIHBhcmFtID0gMCwgcmVwcyA9IDAuMDEsIGFlcHMgPSAwLjAxOwogIHN0ZDo6dmVjdG9yPGN2OjpQb2ludD4gY29udG91cjsKICBKU0NvbnRvdXJEYXRhPGZsb2F0PiBwb2ludHM7CiAgY3Y6OlZlYzRmIGxpbmU7CgogIGlmKCEodiA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihhcmdjID4gMCkgewoKICAgIEpTX1RvSW50NjQoY3R4LCAmZGlzdFR5cGUsIGFyZ3ZbMF0pOwoKICAgIGlmKGFyZ2MgPiAxKSB7CiAgICAgIEpTX1RvRmxvYXQ2NChjdHgsICZwYXJhbSwgYXJndlsxXSk7CiAgICAgIGlmKGFyZ2MgPiAyKSB7CiAgICAgICAgSlNfVG9GbG9hdDY0KGN0eCwgJnJlcHMsIGFyZ3ZbMl0pOwogICAgICAgIGlmKGFyZ2MgPiAzKSB7CiAgICAgICAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmYWVwcywgYXJndlszXSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICBzdGQ6OnRyYW5zZm9ybSh2LT5iZWdpbigpLCB2LT5lbmQoKSwgc3RkOjpiYWNrX2luc2VydGVyKGNvbnRvdXIpLCBbXShjb25zdCBKU1BvaW50RGF0YTxkb3VibGU+JiBwdCkgLT4gY3Y6OlBvaW50IHsKICAgIHJldHVybiBjdjo6UG9pbnQocHQueCwgcHQueSk7CiAgfSk7CgogIGN2OjpmaXRMaW5lKGNvbnRvdXIsIGxpbmUsIGRpc3RUeXBlLCBwYXJhbSwgcmVwcywgYWVwcyk7CgogIHBvaW50cy5wdXNoX2JhY2soSlNQb2ludERhdGE8ZmxvYXQ+KGxpbmVbMF0sIGxpbmVbMV0pKTsKICBwb2ludHMucHVzaF9iYWNrKEpTUG9pbnREYXRhPGZsb2F0PihsaW5lWzJdLCBsaW5lWzNdKSk7CgogIHJldCA9IGpzX2NvbnRvdXJfbmV3KGN0eCwgcG9pbnRzKTsKCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl9hdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KiB2OwogIEpTVmFsdWUgcmV0OwogIEpTVmFsdWUgeCwgeTsKICBpbnQ2NF90IGk7CiAgSlNQb2ludERhdGE8ZG91YmxlPiogcG9pbnQ7CgogIGlmKCEodiA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBKU19Ub0ludDY0KGN0eCwgJmksIGFyZ3ZbMF0pOwoKICBpZihpID49IHYtPnNpemUoKSB8fCBpIDwgMCkKICAgIHJldHVybiBKU19VTkRFRklORUQ7CgogIHJldCA9IGpzX3BvaW50X25ldyhjdHgsICgqdilbaV0ueCwgKCp2KVtpXS55KTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jb250b3VyX2dldG1hdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KiB2OwogIEpTTWF0RGltZW5zaW9ucyBzaXplOwogIGludDMyX3QgdHlwZTsKICBjdjo6TWF0IG1hdDsKCiAgaWYoISh2ID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHNpemUucm93cyA9IDE7CiAgc2l6ZS5jb2xzID0gdi0+c2l6ZSgpOwogIHR5cGUgPSBDVl82NEZDMjsKCiAgbWF0ID0gY3Y6Ok1hdChjdjo6U2l6ZShzaXplKSwgdHlwZSwgc3RhdGljX2Nhc3Q8dm9pZCo+KHYtPmRhdGEoKSkpOwoKICByZXR1cm4ganNfbWF0X3dyYXAoY3R4LCBtYXQpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jb250b3VyX2ludGVyc2VjdGNvbnZleChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KnYsICpvdGhlciA9IG51bGxwdHIsICpwdHI7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgYm9vbCBoYW5kbGVOZXN0ZWQgPSB0cnVlOwogIEpTQ29udG91ckRhdGE8ZmxvYXQ+IGEsIGIsIGludGVyc2VjdGlvbjsKCiAgaWYoISh2ID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGlmKGFyZ2MgPiAwKSB7CiAgICBvdGhlciA9IHN0YXRpY19jYXN0PEpTQ29udG91ckRhdGE8ZG91YmxlPio+KEpTX0dldE9wYXF1ZTIoY3R4LCBhcmd2WzBdLCBqc19jb250b3VyX2NsYXNzX2lkKSk7CgogICAgaWYoYXJnYyA+IDEpIHsKICAgICAgaGFuZGxlTmVzdGVkID0gISFKU19Ub0Jvb2woY3R4LCBhcmd2WzFdKTsKICAgIH0KICB9CgogIHN0ZDo6dHJhbnNmb3JtKHYtPmJlZ2luKCksIHYtPmVuZCgpLCBzdGQ6OmJhY2tfaW5zZXJ0ZXIoYSksIFtdKGNvbnN0IEpTUG9pbnREYXRhPGRvdWJsZT4mIHB0KSAtPiBKU1BvaW50RGF0YTxmbG9hdD4gewogICAgcmV0dXJuIEpTUG9pbnREYXRhPGZsb2F0PihwdC54LCBwdC55KTsKICB9KTsKCiAgc3RkOjp0cmFuc2Zvcm0ob3RoZXItPmJlZ2luKCksIG90aGVyLT5lbmQoKSwgc3RkOjpiYWNrX2luc2VydGVyKGIpLCBbXShjb25zdCBKU1BvaW50RGF0YTxkb3VibGU+JiBwdCkgLT4gSlNQb2ludERhdGE8ZmxvYXQ+IHsKICAgIHJldHVybiBKU1BvaW50RGF0YTxmbG9hdD4ocHQueCwgcHQueSk7CiAgfSk7CgogIGN2OjppbnRlcnNlY3RDb252ZXhDb252ZXgoYSwgYiwgaW50ZXJzZWN0aW9uLCBoYW5kbGVOZXN0ZWQpOwoKICByZXQgPSBqc19jb250b3VyX25ldyhjdHgsIGludGVyc2VjdGlvbik7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl9pc2NvbnZleChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KnYsICpvdGhlciA9IG51bGxwdHIsICpwdHI7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgYm9vbCBpc0NvbnZleDsKICBKU0NvbnRvdXJEYXRhPGZsb2F0PiBjb250b3VyOwoKICBpZighKHYgPSBqc19jb250b3VyX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc3RkOjp0cmFuc2Zvcm0odi0+YmVnaW4oKSwgdi0+ZW5kKCksIHN0ZDo6YmFja19pbnNlcnRlcihjb250b3VyKSwgW10oY29uc3QgSlNQb2ludERhdGE8ZG91YmxlPiYgcHQpIC0+IEpTUG9pbnREYXRhPGZsb2F0PiB7CiAgICByZXR1cm4gSlNQb2ludERhdGE8ZmxvYXQ+KHB0LngsIHB0LnkpOwogIH0pOwoKICBpc0NvbnZleCA9IGN2Ojppc0NvbnRvdXJDb252ZXgoY29udG91cik7CgogIHJldCA9IEpTX05ld0Jvb2woY3R4LCBpc0NvbnZleCk7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfbGVuZ3RoKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qIHY7CiAgSlNWYWx1ZSByZXQ7CiAgaWYoISh2ID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgcmV0ID0gSlNfTmV3SW50NjQoY3R4LCB2LT5zaXplKCkpOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfbWluYXJlYXJlY3QoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTQ29udG91ckRhdGE8ZG91YmxlPip2LCAqb3RoZXIgPSBudWxscHRyLCAqcHRyOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGN2OjpSb3RhdGVkUmVjdCBycjsKCiAgSlNDb250b3VyRGF0YTxmbG9hdD4gY29udG91ciwgbWluYXJlYTsKCiAgaWYoISh2ID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgc3RkOjp0cmFuc2Zvcm0odi0+YmVnaW4oKSwgdi0+ZW5kKCksIHN0ZDo6YmFja19pbnNlcnRlcihjb250b3VyKSwgW10oY29uc3QgSlNQb2ludERhdGE8ZG91YmxlPiYgcHQpIC0+IEpTUG9pbnREYXRhPGZsb2F0PiB7CiAgICByZXR1cm4gSlNQb2ludERhdGE8ZmxvYXQ+KHB0LngsIHB0LnkpOwogIH0pOwogIHJyID0gY3Y6Om1pbkFyZWFSZWN0KGNvbnRvdXIpOwogIG1pbmFyZWEucmVzaXplKDUpOwogIHJyLnBvaW50cyhtaW5hcmVhLmRhdGEoKSk7CgogIHJldCA9IGpzX2NvbnRvdXJfbmV3KGN0eCwgbWluYXJlYSk7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl9taW5lbmNsb3NpbmdjaXJjbGUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTQ29udG91ckRhdGE8ZG91YmxlPip2LCAqb3RoZXIgPSBudWxscHRyLCAqcHRyOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGN2OjpSb3RhdGVkUmVjdCBycjsKCiAgSlNDb250b3VyRGF0YTxmbG9hdD4gY29udG91cjsKICBKU1BvaW50RGF0YTxmbG9hdD4gY2VudGVyOwogIGZsb2F0IHJhZGl1czsKCiAgaWYoISh2ID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHN0ZDo6dHJhbnNmb3JtKHYtPmJlZ2luKCksIHYtPmVuZCgpLCBzdGQ6OmJhY2tfaW5zZXJ0ZXIoY29udG91ciksIFtdKGNvbnN0IEpTUG9pbnREYXRhPGRvdWJsZT4mIHB0KSAtPiBKU1BvaW50RGF0YTxmbG9hdD4gewogICAgcmV0dXJuIEpTUG9pbnREYXRhPGZsb2F0PihwdC54LCBwdC55KTsKICB9KTsKCiAgY3Y6Om1pbkVuY2xvc2luZ0NpcmNsZShjb250b3VyLCBjZW50ZXIsIHJhZGl1cyk7CgogIHJldCA9IEpTX05ld09iamVjdChjdHgpOwoKICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIHJldCwgImNlbnRlciIsIGpzX3BvaW50X25ldyhjdHgsIGNlbnRlci54LCBjZW50ZXIueSkpOwogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAicmFkaXVzIiwgSlNfTmV3RmxvYXQ2NChjdHgsIHJhZGl1cykpOwoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jb250b3VyX21pbmVuY2xvc2luZ3RyaWFuZ2xlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qdiwgKm90aGVyID0gbnVsbHB0ciwgKnB0cjsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBjdjo6Um90YXRlZFJlY3QgcnI7CgogIEpTQ29udG91ckRhdGE8ZmxvYXQ+IGNvbnRvdXIsIHRyaWFuZ2xlOwogIEpTUG9pbnREYXRhPGZsb2F0PiBjZW50ZXI7CiAgZmxvYXQgcmFkaXVzOwoKICBpZighKHYgPSBqc19jb250b3VyX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc3RkOjp0cmFuc2Zvcm0odi0+YmVnaW4oKSwgdi0+ZW5kKCksIHN0ZDo6YmFja19pbnNlcnRlcihjb250b3VyKSwgW10oY29uc3QgSlNQb2ludERhdGE8ZG91YmxlPiYgcHQpIC0+IEpTUG9pbnREYXRhPGZsb2F0PiB7CiAgICByZXR1cm4gSlNQb2ludERhdGE8ZmxvYXQ+KHB0LngsIHB0LnkpOwogIH0pOwoKICBjdjo6bWluRW5jbG9zaW5nVHJpYW5nbGUoY29udG91ciwgdHJpYW5nbGUpOwoKICByZXQgPSBqc19jb250b3VyX25ldyhjdHgsIHRyaWFuZ2xlKTsKCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl9wb2ludHBvbHlnb250ZXN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qdiwgKm90aGVyID0gbnVsbHB0ciwgKnB0cjsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBjdjo6Um90YXRlZFJlY3QgcnI7CiAgSlNQb2ludERhdGE8ZmxvYXQ+IHB0OwogIGJvb2wgbWVhc3VyZURpc3QgPSBmYWxzZTsKICBKU0NvbnRvdXJEYXRhPGZsb2F0PiBjb250b3VyLCB0cmlhbmdsZTsKICBKU1BvaW50RGF0YTxkb3VibGU+IHBvaW50OwogIGRvdWJsZSByZXR2YWw7CgogIGlmKCEodiA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihhcmdjID4gMCkgewogICAgcG9pbnQgPSBqc19wb2ludF9nZXQoY3R4LCBhcmd2WzBdKTsKCiAgICBwdC54ID0gcG9pbnQueDsKICAgIHB0LnkgPSBwb2ludC55OwoKICAgIGlmKGFyZ2MgPiAxKSB7CiAgICAgIG1lYXN1cmVEaXN0ID0gISFKU19Ub0Jvb2woY3R4LCBhcmd2WzFdKTsKICAgIH0KICB9CgogIHN0ZDo6dHJhbnNmb3JtKHYtPmJlZ2luKCksIHYtPmVuZCgpLCBzdGQ6OmJhY2tfaW5zZXJ0ZXIoY29udG91ciksIFtdKGNvbnN0IEpTUG9pbnREYXRhPGRvdWJsZT4mIHB0KSAtPiBKU1BvaW50RGF0YTxmbG9hdD4gewogICAgcmV0dXJuIEpTUG9pbnREYXRhPGZsb2F0PihwdC54LCBwdC55KTsKICB9KTsKCiAgcmV0dmFsID0gY3Y6OnBvaW50UG9seWdvblRlc3QoY29udG91ciwgcHQsIG1lYXN1cmVEaXN0KTsKCiAgcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsIHJldHZhbCk7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfcHNpbXBsKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YsIGludCBtYWdpYykgewogIEpTQ29udG91ckRhdGE8ZG91YmxlPiogcyA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKTsKICBpbnQzMl90IHNoaWZ0ID0gMTsKICB1aW50MzJfdCBzaXplID0gcy0+c2l6ZSgpOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIEpTQ29udG91ckRhdGE8ZG91YmxlPiByOwogIGRvdWJsZSBhcmcxID0gMCwgYXJnMiA9IDA7CiAgZG91YmxlKiBpdDsKICBKU1BvaW50RGF0YTxkb3VibGU+KiBzdGFydCA9ICYoKnMpWzBdOwogIEpTUG9pbnREYXRhPGRvdWJsZT4qIGVuZCA9IHN0YXJ0ICsgc2l6ZTsKICByLnJlc2l6ZShzaXplKTsKICBpdCA9IChkb3VibGUqKSZyWzBdOwoKICBpZighcykKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGlmKGFyZ2MgPiAwKSB7CiAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmYXJnMSwgYXJndlswXSk7CiAgICBpZihhcmdjID4gMSkgewogICAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmYXJnMiwgYXJndlsxXSk7CiAgICB9CiAgfQoKICBpZihtYWdpYyA9PSAwKSB7CiAgICBpZihhcmcxID09IDApCiAgICAgIGFyZzEgPSAyOwogICAgaXQgPSBwc2ltcGw6OnNpbXBsaWZ5X3JldW1hbm5fd2l0a2FtPDI+KChkb3VibGUqKXN0YXJ0LCAoZG91YmxlKillbmQsIGFyZzEsIGl0KTsKICB9IGVsc2UgaWYobWFnaWMgPT0gMSkgewogICAgaWYoYXJnMSA9PSAwKQogICAgICBhcmcxID0gMjsKICAgIGlmKGFyZzIgPT0gMCkKICAgICAgYXJnMiA9IDEwOwogICAgaXQgPSBwc2ltcGw6OnNpbXBsaWZ5X29waGVpbTwyPigoZG91YmxlKilzdGFydCwgKGRvdWJsZSopZW5kLCBhcmcxLCBhcmcyLCBpdCk7CiAgfSBlbHNlIGlmKG1hZ2ljID09IDIpIHsKICAgIGlmKGFyZzEgPT0gMCkKICAgICAgYXJnMSA9IDI7CiAgICBpZihhcmcyID09IDApCiAgICAgIGFyZzIgPSAxMDsKICAgIGl0ID0gcHNpbXBsOjpzaW1wbGlmeV9sYW5nPDI+KChkb3VibGUqKXN0YXJ0LCAoZG91YmxlKillbmQsIGFyZzEsIGFyZzIsIGl0KTsKICB9IGVsc2UgaWYobWFnaWMgPT0gMykgewogICAgaWYoYXJnMSA9PSAwKQogICAgICBhcmcxID0gMjsKICAgIGl0ID0gcHNpbXBsOjpzaW1wbGlmeV9kb3VnbGFzX3BldWNrZXI8Mj4oKGRvdWJsZSopc3RhcnQsIChkb3VibGUqKWVuZCwgYXJnMSwgaXQpOwogIH0gZWxzZSBpZihtYWdpYyA9PSA0KSB7CiAgICBpZihhcmcxID09IDApCiAgICAgIGFyZzEgPSAyOwogICAgaXQgPSBwc2ltcGw6OnNpbXBsaWZ5X250aF9wb2ludDwyPigoZG91YmxlKilzdGFydCwgKGRvdWJsZSopZW5kLCBhcmcxLCBpdCk7CiAgfSBlbHNlIGlmKG1hZ2ljID09IDUpIHsKICAgIGlmKGFyZzEgPT0gMCkKICAgICAgYXJnMSA9IDI7CiAgICBpdCA9IHBzaW1wbDo6c2ltcGxpZnlfcmFkaWFsX2Rpc3RhbmNlPDI+KChkb3VibGUqKXN0YXJ0LCAoZG91YmxlKillbmQsIGFyZzEsIGl0KTsKICB9IGVsc2UgaWYobWFnaWMgPT0gNikgewogICAgaWYoYXJnMSA9PSAwKQogICAgICBhcmcxID0gMjsKICAgIGlmKGFyZzIgPT0gMCkKICAgICAgYXJnMiA9IDE7CiAgICBpdCA9IHBzaW1wbDo6c2ltcGxpZnlfcGVycGVuZGljdWxhcl9kaXN0YW5jZTwyPigoZG91YmxlKilzdGFydCwgKGRvdWJsZSopZW5kLCBhcmcxLCBhcmcyLCBpdCk7CiAgfQogIHNpemUgPSBpdCAtIChkb3VibGUqKSZyWzBdOwogIHIucmVzaXplKHNpemUgLyAyKTsKICByZXQgPSBqc19jb250b3VyX25ldzxkb3VibGU+KGN0eCwgcik7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl9wdXNoKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qIHY7CiAgaW50IGk7CiAgZG91YmxlIHgsIHk7CiAgSlNWYWx1ZUNvbnN0IHh2LCB5djsKICBKU1BvaW50RGF0YTxkb3VibGU+IHBvaW50OwoKICBpZighKHYgPSBqc19jb250b3VyX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgZm9yKGkgPSAwOyBpIDwgYXJnYzsgaSsrKSB7CiAgICBpZihKU19Jc09iamVjdChhcmd2W2ldKSkgewogICAgICB4diA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgYXJndltpXSwgIngiKTsKICAgICAgeXYgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGFyZ3ZbaV0sICJ5Iik7CiAgICB9IGVsc2UgaWYoanNfaXNfYXJyYXkoY3R4LCBhcmd2W2ldKSkgewoKICAgICAgeHYgPSBKU19HZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGFyZ3ZbaV0sIDApOwogICAgICB5diA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgYXJndltpXSwgMSk7CiAgICB9IGVsc2UgaWYoaSArIDEgPCBhcmdjKSB7CiAgICAgIHh2ID0gYXJndltpKytdOwogICAgICB5diA9IGFyZ3ZbaV07CiAgICB9CiAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmcG9pbnQueCwgeHYpOwogICAgSlNfVG9GbG9hdDY0KGN0eCwgJnBvaW50LnksIHl2KTsKCiAgICB2LT5wdXNoX2JhY2socG9pbnQpOwogIH0KICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jb250b3VyX3BvcChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KiB2OwogIEpTVmFsdWUgcmV0OwogIEpTVmFsdWUgeCwgeTsKICBKU1BvaW50RGF0YTxkb3VibGU+KnB0ciwgcG9pbnQ7CiAgaW50NjRfdCBuID0gMDsKCiAgaWYoISh2ID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgbiA9IHYtPnNpemUoKTsKICBpZihuID4gMCkgewogICAgcG9pbnQgPSAoKnYpW24gLSAxXTsKICAgIHYtPnBvcF9iYWNrKCk7CiAgfSBlbHNlIHsKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgfQoKICByZXQgPSBqc19wb2ludF9uZXcoY3R4LCBwb2ludC54LCBwb2ludC55KTsKCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl91bnNoaWZ0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qIHY7CiAgaW50IGk7CiAgZG91YmxlIHgsIHk7CiAgSlNWYWx1ZUNvbnN0IHh2LCB5djsKICBKU1BvaW50RGF0YTxkb3VibGU+IHBvaW50OwoKICBpZighKHYgPSBqc19jb250b3VyX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgZm9yKGkgPSAwOyBpIDwgYXJnYzsgaSsrKSB7CiAgICBpZihKU19Jc09iamVjdChhcmd2W2ldKSkgewogICAgICB4diA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgYXJndltpXSwgIngiKTsKICAgICAgeXYgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGFyZ3ZbaV0sICJ5Iik7CiAgICB9IGVsc2UgaWYoanNfaXNfYXJyYXkoY3R4LCBhcmd2W2ldKSkgewoKICAgICAgeHYgPSBKU19HZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGFyZ3ZbaV0sIDApOwogICAgICB5diA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgYXJndltpXSwgMSk7CiAgICB9IGVsc2UgaWYoaSArIDEgPCBhcmdjKSB7CiAgICAgIHh2ID0gYXJndltpKytdOwogICAgICB5diA9IGFyZ3ZbaV07CiAgICB9CiAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmcG9pbnQueCwgeHYpOwogICAgSlNfVG9GbG9hdDY0KGN0eCwgJnBvaW50LnksIHl2KTsKCiAgICB2LT5pbnNlcnQodi0+YmVnaW4oKSwgcG9pbnQpOwogIH0KICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jb250b3VyX3NoaWZ0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qIHY7CiAgSlNWYWx1ZSByZXQ7CiAgSlNWYWx1ZSB4LCB5OwogIEpTUG9pbnREYXRhPGRvdWJsZT4qcHRyLCBwb2ludDsKICBpbnQ2NF90IG4gPSAwOwoKICBpZighKHYgPSBqc19jb250b3VyX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICBuID0gdi0+c2l6ZSgpOwogIGlmKG4gPiAwKSB7CiAgICBwb2ludCA9ICgqdilbMF07CiAgICB2LT5lcmFzZSh2LT5iZWdpbigpKTsKICB9IGVsc2UgewogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICB9CgogIHJldCA9IGpzX3BvaW50X25ldyhjdHgsIHBvaW50LngsIHBvaW50LnkpOwoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jb250b3VyX2NvbmNhdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KnYsICpvdGhlciwgKnI7CiAgaW50IGk7CiAgZG91YmxlIHgsIHk7CiAgSlNWYWx1ZSByZXQ7CiAgSlNWYWx1ZUNvbnN0IHh2LCB5djsKICBKU1BvaW50RGF0YTxkb3VibGU+IHBvaW50OwoKICBpZighKHYgPSBqc19jb250b3VyX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYoIShvdGhlciA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIGFyZ3ZbMF0pKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHJldCA9IGpzX2NvbnRvdXJfbmV3KGN0eCwgKnYpOwoKICByID0ganNfY29udG91cl9kYXRhKGN0eCwgcmV0KTsKICBzdGQ6OmNvcHkob3RoZXItPmNiZWdpbigpLCBvdGhlci0+Y2VuZCgpLCBzdGQ6OmJhY2tfaW5zZXJ0ZXIoKnIpKTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jb250b3VyX3JvdGF0ZWRyZWN0YW5nbGVpbnRlcnNlY3Rpb24oSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTQ29udG91ckRhdGE8ZG91YmxlPip2LCAqb3RoZXIgPSBudWxscHRyLCAqcHRyOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGJvb2wgaGFuZGxlTmVzdGVkID0gdHJ1ZTsKICBKU0NvbnRvdXJEYXRhPGZsb2F0PiBhLCBiLCBpbnRlcnNlY3Rpb247CgogIGlmKCEodiA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihhcmdjID4gMCkgewogICAgb3RoZXIgPSBzdGF0aWNfY2FzdDxKU0NvbnRvdXJEYXRhPGRvdWJsZT4qPihKU19HZXRPcGFxdWUyKGN0eCwgYXJndlswXSwganNfY29udG91cl9jbGFzc19pZCkpOwogIH0KCiAgc3RkOjp0cmFuc2Zvcm0odi0+YmVnaW4oKSwgdi0+ZW5kKCksIHN0ZDo6YmFja19pbnNlcnRlcihhKSwgW10oY29uc3QgSlNQb2ludERhdGE8ZG91YmxlPiYgcHQpIC0+IEpTUG9pbnREYXRhPGZsb2F0PiB7CiAgICByZXR1cm4gSlNQb2ludERhdGE8ZmxvYXQ+KHB0LngsIHB0LnkpOwogIH0pOwoKICBzdGQ6OnRyYW5zZm9ybShvdGhlci0+YmVnaW4oKSwgb3RoZXItPmVuZCgpLCBzdGQ6OmJhY2tfaW5zZXJ0ZXIoYiksIFtdKGNvbnN0IEpTUG9pbnREYXRhPGRvdWJsZT4mIHB0KSAtPiBKU1BvaW50RGF0YTxmbG9hdD4gewogICAgcmV0dXJuIEpTUG9pbnREYXRhPGZsb2F0PihwdC54LCBwdC55KTsKICB9KTsKICB7CiAgICBjdjo6Um90YXRlZFJlY3QgcnJhKGFbMF0sIGFbMV0sIGFbMl0pOwogICAgY3Y6OlJvdGF0ZWRSZWN0IHJyYihiWzBdLCBiWzFdLCBiWzJdKTsKCiAgICBjdjo6cm90YXRlZFJlY3RhbmdsZUludGVyc2VjdGlvbihycmEsIHJyYiwgaW50ZXJzZWN0aW9uKTsKCiAgICByZXQgPSBqc19jb250b3VyX25ldyhjdHgsIGludGVyc2VjdGlvbik7CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfcm90YXRlcG9pbnRzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qIHMgPSBqc19jb250b3VyX2RhdGEoY3R4LCB0aGlzX3ZhbCk7CiAgaW50MzJfdCBzaGlmdCA9IDE7CiAgdWludDMyX3Qgc2l6ZSA9IHMtPnNpemUoKTsKICBpZighcykKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgaWYoYXJnYyA+IDApCiAgICBKU19Ub0ludDMyKGN0eCwgJnNoaWZ0LCBhcmd2WzBdKTsKCiAgc2hpZnQgJT0gc2l6ZTsKCiAgaWYoc2hpZnQgPiAwKSB7CiAgICBzdGQ6OnJvdGF0ZShzLT5iZWdpbigpLCBzLT5iZWdpbigpICsgc2hpZnQsIHMtPmVuZCgpKTsKCiAgfSBlbHNlIGlmKHNoaWZ0IDwgMCkgewogICAgc3RkOjpyb3RhdGUocy0+cmJlZ2luKCksIHMtPnJiZWdpbigpICsgKC1zaGlmdCksIHMtPnJlbmQoKSk7CiAgfQogIHJldHVybiBKU1ZhbHVlKHRoaXNfdmFsKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl90b2FycmF5KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qIHM7CiAgdWludDMyX3QgaSwgc2l6ZTsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoIShzID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgc2l6ZSA9IHMtPnNpemUoKTsKICByZXQgPSBKU19OZXdBcnJheShjdHgpOwoKICBmb3IoaSA9IDA7IGkgPCBzaXplOyBpKyspIHsgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIGksIGpzX3BvaW50X2Nsb25lKGN0eCwgKCpzKVtpXSkpOyB9CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfdG9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndiwgaW50IG1hZ2ljKSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KiBzOwogIHN0ZDo6b3N0cmluZ3N0cmVhbSBvczsKICBpbnQgaSA9IDA7CiAgaW50IHByZWMgPSA5OwogIGludDMyX3QgZmxhZ3M7CgogIGlmKCEocyA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihtYWdpYyA9PSAxICYmICEoZmxhZ3MgJiAweDEwMCkpCiAgICBvcyA8PCAibmV3IENvbnRvdXIoIjsKCiAgaWYoYXJnYyA+IDApCiAgICBKU19Ub0ludDMyKGN0eCwgJmZsYWdzLCBhcmd2WzBdKTsKICBlbHNlCiAgICBmbGFncyA9IDA7CgogIGlmKCEoZmxhZ3MgJiAweDEwMCkpCiAgICBvcyA8PCAnWyc7CgogIHN0ZDo6Zm9yX2VhY2gocy0+YmVnaW4oKSwgcy0+ZW5kKCksIFsmaSwgJm9zLCBmbGFncywgcHJlY10oY29uc3QgSlNQb2ludERhdGE8ZG91YmxlPiYgcG9pbnQpIHsKICAgIGlmKGkgPiAwKQogICAgICBvcyA8PCAoKGZsYWdzICYgMHgxMCkgPyAiICIgOiAiLCIpOwoKICAgIGlmKCEoZmxhZ3MgJiAweDEwMCkpCiAgICAgIG9zIDw8ICgoZmxhZ3MgJiAweDAzKSA9PSAwID8gInsiIDogIlsiKTsKCiAgICBpZihmbGFncyAmIDB4MDMpCiAgICAgIG9zIDw8IHN0ZDo6c2V0cHJlY2lzaW9uKHByZWMpIDw8IHBvaW50LnggPDwgIiwiIDw8IHBvaW50Lnk7CiAgICBlbHNlCiAgICAgIG9zIDw8ICJ4OiIgPDwgc3RkOjpzZXRwcmVjaXNpb24ocHJlYykgPDwgcG9pbnQueCA8PCAiLHk6IiA8PCBwb2ludC55OwoKICAgIGlmKCEoZmxhZ3MgJiAweDEwMCkpCiAgICAgIG9zIDw8ICgoZmxhZ3MgJiAweDAzKSA9PSAwID8gIn0iIDogIl0iKTsKCiAgICBpKys7CiAgfSk7CiAgaWYoIShmbGFncyAmIDB4MTAwKSkKICAgIG9zIDw8ICddJzsgLy8gPDwgc3RkOjplbmRsOwoKICBpZihtYWdpYyA9PSAxICYmICEoZmxhZ3MgJiAweDEwMCkpCiAgICBvcyA8PCAiKSI7CgogIHJldHVybiBKU19OZXdTdHJpbmcoY3R4LCBvcy5zdHIoKS5jX3N0cigpKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl9yZWN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4gcG9pbnRzOwogIEpTUmVjdERhdGE8ZG91YmxlPiBzID0ganNfcmVjdF9nZXQoY3R4LCBhcmd2WzBdKTsKCiAgcG9pbnRzLnB1c2hfYmFjayhKU1BvaW50RGF0YTxkb3VibGU+KHMueCwgcy55KSk7CiAgcG9pbnRzLnB1c2hfYmFjayhKU1BvaW50RGF0YTxkb3VibGU+KHMueCArIHMud2lkdGgsIHMueSkpOwogIHBvaW50cy5wdXNoX2JhY2soSlNQb2ludERhdGE8ZG91YmxlPihzLnggKyBzLndpZHRoLCBzLnkgKyBzLmhlaWdodCkpOwogIHBvaW50cy5wdXNoX2JhY2soSlNQb2ludERhdGE8ZG91YmxlPihzLngsIHMueSArIHMuaGVpZ2h0KSk7CiAgcG9pbnRzLnB1c2hfYmFjayhKU1BvaW50RGF0YTxkb3VibGU+KHMueCwgcy55KSk7CgogIHJldCA9IGpzX2NvbnRvdXJfbmV3PGRvdWJsZT4oY3R4LCBwb2ludHMpOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfZ2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBtYWdpYykgewogIEpTQ29udG91ckRhdGE8ZG91YmxlPiogY29udG91cjsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoIShjb250b3VyID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSAwOiB7CiAgICAgIEpTQ29udG91ckRhdGE8ZmxvYXQ+IHBvaW50czsKICAgICAgSlNSZWN0RGF0YTxmbG9hdD4gcmVjdDsKCiAgICAgIHBvaW50cy5yZXNpemUoY29udG91ci0+c2l6ZSgpKTsKCiAgICAgIHN0ZDo6Y29weShjb250b3VyLT5iZWdpbigpLCBjb250b3VyLT5lbmQoKSwgcG9pbnRzLmJlZ2luKCkpOwoKICAgICAgcmVjdCA9IGN2Ojpib3VuZGluZ1JlY3QocG9pbnRzKTsKCiAgICAgIHJldCA9IEpTX05ld0Zsb2F0NjQoY3R4LCAoZG91YmxlKXJlY3Qud2lkdGggLyByZWN0LmhlaWdodCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSAxOiB7CiAgICAgIGRvdWJsZSBhcmVhID0gY3Y6OmNvbnRvdXJBcmVhKCpjb250b3VyKTsKICAgICAgSlNSZWN0RGF0YTxkb3VibGU+IHJlY3QgPSBjdjo6Ym91bmRpbmdSZWN0KCpjb250b3VyKTsKCiAgICAgIHJldCA9IEpTX05ld0Zsb2F0NjQoY3R4LCBhcmVhIC8gKHJlY3Qud2lkdGggKiByZWN0LmhlaWdodCkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgMjogewogICAgICBkb3VibGUgYXJlYSA9IGN2Ojpjb250b3VyQXJlYSgqY29udG91cik7CiAgICAgIEpTQ29udG91ckRhdGE8ZG91YmxlPiBodWxsOwogICAgICBjdjo6Y29udmV4SHVsbCgqY29udG91ciwgaHVsbCk7CiAgICAgIGRvdWJsZSBodWxsQXJlYSA9IGN2Ojpjb250b3VyQXJlYShodWxsKTsKCiAgICAgIHJldCA9IEpTX05ld0Zsb2F0NjQoY3R4LCBhcmVhIC8gY3Y6OmNvbnRvdXJBcmVhKGh1bGwpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIDM6IHsKICAgICAgZG91YmxlIGFyZWEgPSBjdjo6Y29udG91ckFyZWEoKmNvbnRvdXIpOwoKICAgICAgcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsIHN0ZDo6c3FydCg0ICogYXJlYSAvIDMuMTQxNTkyNjUzNTg5NzkzMjM4NDYpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIDQ6IHsKICAgICAgY3Y6OlJvdGF0ZWRSZWN0IHJlY3QgPSBjdjo6Zml0RWxsaXBzZSgqY29udG91cik7CgogICAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgcmVjdC5hbmdsZSk7CiAgICAgIGJyZWFrOwogICAgfQogIH0KICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jb250b3VyX2luc3BlY3QoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTQ29udG91ckRhdGE8ZG91YmxlPiogY29udG91cjsKCiAgaWYoIShjb250b3VyID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIEpTVmFsdWUgb2JqID0gSlNfTmV3T2JqZWN0Q2xhc3MoY3R4LCBqc19jb250b3VyX2NsYXNzX2lkKTsKCiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgImxlbmd0aCIsIEpTX05ld1VpbnQzMihjdHgsIGNvbnRvdXItPnNpemUoKSksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgcmV0dXJuIG9iajsKfQoKZXh0ZXJuICJDIiB7CgpKU0NsYXNzRGVmIGpzX2NvbnRvdXJfY2xhc3MgPSB7CiAgICAuY2xhc3NfbmFtZSA9ICJDb250b3VyIiwKICAgIC5maW5hbGl6ZXIgPSBqc19jb250b3VyX2ZpbmFsaXplciwKfTsKCkpTVmFsdWUKanNfY29udG91cl9pdGVyYXRvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2LCBpbnQgbWFnaWMpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qIHM7CgogIGlmKCEocyA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICByZXR1cm4ganNfcG9pbnRfaXRlcmF0b3JfbmV3KGN0eCwgcy0+ZGF0YSgpLCBzLT5kYXRhKCkrcy0+c2l6ZSgpLCBtYWdpYyk7Cn0KCmNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IGpzX2NvbnRvdXJfcHJvdG9fZnVuY3NbXSA9IHsKICAgIEpTX0NGVU5DX0RFRigicHVzaCIsIDEsIGpzX2NvbnRvdXJfcHVzaCksCiAgICBKU19DRlVOQ19ERUYoInBvcCIsIDAsIGpzX2NvbnRvdXJfcG9wKSwKICAgIEpTX0NGVU5DX0RFRigidW5zaGlmdCIsIDEsIGpzX2NvbnRvdXJfdW5zaGlmdCksCiAgICBKU19DRlVOQ19ERUYoInNoaWZ0IiwgMCwganNfY29udG91cl9zaGlmdCksCiAgICBKU19DRlVOQ19ERUYoImNvbmNhdCIsIDEsIGpzX2NvbnRvdXJfY29uY2F0KSwKICAgIEpTX0NGVU5DX0RFRigiYXQiLCAxLCBqc19jb250b3VyX2F0KSwKICAgIEpTX0NGVU5DX0RFRigiZ2V0TWF0IiwgMCwganNfY29udG91cl9nZXRtYXQpLAogICAgSlNfQ0dFVFNFVF9ERUYoImxlbmd0aCIsIGpzX2NvbnRvdXJfbGVuZ3RoLCBOVUxMKSwKICAgIEpTX0NHRVRTRVRfREVGKCJhcmVhIiwganNfY29udG91cl9hcmVhLCBOVUxMKSwKICAgIEpTX0NHRVRTRVRfREVGKCJidWZmZXIiLCBqc19jb250b3VyX2J1ZmZlciwgTlVMTCksCiAgICBKU19DR0VUU0VUX0RFRigiYXJyYXkiLCBqc19jb250b3VyX2FycmF5LCBOVUxMKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJhc3BlY3RSYXRpbyIsIGpzX2NvbnRvdXJfZ2V0LCBOVUxMLCAwKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJleHRlbnQiLCBqc19jb250b3VyX2dldCwgTlVMTCwgMSksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigic29saWRpdHkiLCBqc19jb250b3VyX2dldCwgTlVMTCwgMiksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigiZXF1aXZhbGVudERpYW1ldGVyIiwganNfY29udG91cl9nZXQsIE5VTEwsIDMpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoIm9yaWVudGF0aW9uIiwganNfY29udG91cl9nZXQsIE5VTEwsIDQpLAoKICAgIEpTX0NGVU5DX0RFRigiYXBwcm94UG9seURQIiwgMSwganNfY29udG91cl9hcHByb3hwb2x5ZHApLAogICAgSlNfQ0ZVTkNfREVGKCJjb252ZXhIdWxsIiwgMSwganNfY29udG91cl9jb252ZXhodWxsKSwKICAgIEpTX0NGVU5DX0RFRigiYm91bmRpbmdSZWN0IiwgMCwganNfY29udG91cl9ib3VuZGluZ3JlY3QpLAogICAgSlNfQ0ZVTkNfREVGKCJmaXRFbGxpcHNlIiwgMCwganNfY29udG91cl9maXRlbGxpcHNlKSwKICAgIEpTX0NGVU5DX0RFRigiZml0TGluZSIsIDAsIGpzX2NvbnRvdXJfZml0bGluZSksCiAgICBKU19DRlVOQ19ERUYoImludGVyc2VjdENvbnZleCIsIDAsIGpzX2NvbnRvdXJfaW50ZXJzZWN0Y29udmV4KSwKICAgIEpTX0NGVU5DX0RFRigiaXNDb252ZXgiLCAwLCBqc19jb250b3VyX2lzY29udmV4KSwKICAgIEpTX0NGVU5DX0RFRigibWluQXJlYVJlY3QiLCAwLCBqc19jb250b3VyX21pbmFyZWFyZWN0KSwKICAgIEpTX0NGVU5DX0RFRigibWluRW5jbG9zaW5nQ2lyY2xlIiwgMCwganNfY29udG91cl9taW5lbmNsb3NpbmdjaXJjbGUpLAogICAgSlNfQ0ZVTkNfREVGKCJtaW5FbmNsb3NpbmdUcmlhbmdsZSIsIDAsIGpzX2NvbnRvdXJfbWluZW5jbG9zaW5ndHJpYW5nbGUpLAogICAgSlNfQ0ZVTkNfREVGKCJwb2ludFBvbHlnb25UZXN0IiwgMCwganNfY29udG91cl9wb2ludHBvbHlnb250ZXN0KSwKICAgIEpTX0NGVU5DX0RFRigicm90YXRlZFJlY3RhbmdsZUludGVyc2VjdGlvbiIsIDAsIGpzX2NvbnRvdXJfcm90YXRlZHJlY3RhbmdsZWludGVyc2VjdGlvbiksCiAgICBKU19DRlVOQ19ERUYoImFyY0xlbmd0aCIsIDAsIGpzX2NvbnRvdXJfYXJjbGVuZ3RoKSwKICAgIEpTX0NGVU5DX0RFRigicm90YXRlUG9pbnRzIiwgMSwganNfY29udG91cl9yb3RhdGVwb2ludHMpLAogICAgSlNfQ0ZVTkNfREVGKCJjb252ZXhpdHlEZWZlY3RzIiwgMSwganNfY29udG91cl9jb252ZXhpdHlkZWZlY3RzKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigic2ltcGxpZnlSZXVtYW5uV2l0a2FtIiwgMCwganNfY29udG91cl9wc2ltcGwsIDApLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJzaW1wbGlmeU9waGVpbSIsIDAsIGpzX2NvbnRvdXJfcHNpbXBsLCAxKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigic2ltcGxpZnlMYW5nIiwgMCwganNfY29udG91cl9wc2ltcGwsIDIpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJzaW1wbGlmeURvdWdsYXNQZXVja2VyIiwgMCwganNfY29udG91cl9wc2ltcGwsIDMpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJzaW1wbGlmeU50aFBvaW50IiwgMCwganNfY29udG91cl9wc2ltcGwsIDQpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJzaW1wbGlmeVJhZGlhbERpc3RhbmNlIiwgMCwganNfY29udG91cl9wc2ltcGwsIDUpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJzaW1wbGlmeVBlcnBlbmRpY3VsYXJEaXN0YW5jZSIsIDAsIGpzX2NvbnRvdXJfcHNpbXBsLCA2KSwKICAgIEpTX0NGVU5DX0RFRigidG9BcnJheSIsIDAsIGpzX2NvbnRvdXJfdG9hcnJheSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInRvU3RyaW5nIiwgMCwganNfY29udG91cl90b3N0cmluZywgMCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInRvU291cmNlIiwgMCwganNfY29udG91cl90b3N0cmluZywgMSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoImxpbmVzIiwgMCwganNfY29udG91cl9pdGVyYXRvciwgTkVYVF9MSU5FKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigicG9pbnRzIiwgMCwganNfY29udG91cl9pdGVyYXRvciwgTkVYVF9QT0lOVCksCgogICAgSlNfQUxJQVNfREVGKCJbU3ltYm9sLml0ZXJhdG9yXSIsICJwb2ludHMiKSwKICAgIEpTX0FMSUFTX0RFRigic2l6ZSIsICJsZW5ndGgiKSwKICAgIC8vICAgIEpTX0FMSUFTX0RFRigiW1N5bWJvbC50b1N0cmluZ1RhZ10iLCAidG9TdHJpbmciKSwKCiAgICBKU19QUk9QX1NUUklOR19ERUYoIltTeW1ib2wudG9TdHJpbmdUYWddIiwgIkNvbnRvdXIiLCBKU19QUk9QX0NPTkZJR1VSQUJMRSksCgp9Owpjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc19jb250b3VyX3N0YXRpY19mdW5jc1tdID0gewogICAgSlNfQ0ZVTkNfREVGKCJmcm9tUmVjdCIsIDEsIGpzX2NvbnRvdXJfcmVjdCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRk9STUFUX1hZIiwgMHgwMCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRk9STUFUXzAxIiwgMHgwMiwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRk9STUFUX1NQQUNFIiwgMHgxMCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRk9STUFUX0NPTU1BIiwgMHgwMCwgMCksCiAgICBKU19QUk9QX0lOVDMyX0RFRigiRk9STUFUX0JSQUNLRVQiLCAweDAwLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJGT1JNQVRfTk9CUkFDS0VUIiwgMHgxMDAsIDApLAp9OwoKaW50CmpzX2NvbnRvdXJfaW5pdChKU0NvbnRleHQqIGN0eCwgSlNNb2R1bGVEZWYqIG0pIHsKCiAgaWYoanNfY29udG91cl9jbGFzc19pZCA9PSAwKSB7CiAgICAvKiBjcmVhdGUgdGhlIENvbnRvdXIgY2xhc3MgKi8KICAgIEpTX05ld0NsYXNzSUQoJmpzX2NvbnRvdXJfY2xhc3NfaWQpOwogICAgSlNfTmV3Q2xhc3MoSlNfR2V0UnVudGltZShjdHgpLCBqc19jb250b3VyX2NsYXNzX2lkLCAmanNfY29udG91cl9jbGFzcyk7CgogICAgY29udG91cl9wcm90byA9IEpTX05ld09iamVjdChjdHgpOwogICAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBjb250b3VyX3Byb3RvLCBqc19jb250b3VyX3Byb3RvX2Z1bmNzLCBjb3VudG9mKGpzX2NvbnRvdXJfcHJvdG9fZnVuY3MpKTsKICAgIEpTX1NldENsYXNzUHJvdG8oY3R4LCBqc19jb250b3VyX2NsYXNzX2lkLCBjb250b3VyX3Byb3RvKTsKCiAgICBjb250b3VyX2NsYXNzID0gSlNfTmV3Q0Z1bmN0aW9uMihjdHgsIGpzX2NvbnRvdXJfY29uc3RydWN0b3IsICJDb250b3VyIiwgMiwgSlNfQ0ZVTkNfY29uc3RydWN0b3IsIDApOwogICAgLyogc2V0IHByb3RvLmNvbnN0cnVjdG9yIGFuZCBjdG9yLnByb3RvdHlwZSAqLwogICAgSlNfU2V0Q29uc3RydWN0b3IoY3R4LCBjb250b3VyX2NsYXNzLCBjb250b3VyX3Byb3RvKTsKICAgIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwgY29udG91cl9jbGFzcywganNfY29udG91cl9zdGF0aWNfZnVuY3MsIGNvdW50b2YoanNfY29udG91cl9zdGF0aWNfZnVuY3MpKTsKICB9CiAganNfc2V0X2luc3BlY3RfbWV0aG9kKGN0eCwgY29udG91cl9wcm90bywganNfY29udG91cl9pbnNwZWN0KTsKCiAgewogICAgSlNWYWx1ZSBnbG9iYWwgPSBKU19HZXRHbG9iYWxPYmplY3QoY3R4KTsKICAgIGZsb2F0NjRfYXJyYXkgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGdsb2JhbCwgIkZsb2F0NjRBcnJheSIpOwogIH0KCiAgaWYobSkKICAgIEpTX1NldE1vZHVsZUV4cG9ydChjdHgsIG0sICJDb250b3VyIiwgY29udG91cl9jbGFzcyk7CiAgLyogIGVsc2UKICAgICAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCAqc3RhdGljX2Nhc3Q8SlNWYWx1ZSo+KG0pLCAiQ29udG91ciIsIGNvbnRvdXJfY2xhc3MpOyovCiAgcmV0dXJuIDA7Cn0KCmV4dGVybiAiQyIgVklTSUJMRSB2b2lkCmpzX2NvbnRvdXJfZXhwb3J0KEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewogIEpTX0FkZE1vZHVsZUV4cG9ydChjdHgsIG0sICJDb250b3VyIik7Cn0KCiNpZiBkZWZpbmVkKEpTX0NPTlRPVVJfTU9EVUxFKQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIFZJU0lCTEUganNfaW5pdF9tb2R1bGUKI2Vsc2UKI2RlZmluZSBKU19JTklUX01PRFVMRSBqc19pbml0X21vZHVsZV9jb250b3VyCiNlbmRpZgoKSlNNb2R1bGVEZWYqCkpTX0lOSVRfTU9EVUxFKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBtb2R1bGVfbmFtZSkgewogIEpTTW9kdWxlRGVmKiBtOwogIG0gPSBKU19OZXdDTW9kdWxlKGN0eCwgbW9kdWxlX25hbWUsICZqc19jb250b3VyX2luaXQpOwogIGlmKCFtKQogICAgcmV0dXJuIE5VTEw7CiAganNfY29udG91cl9leHBvcnQoY3R4LCBtKTsKICByZXR1cm4gbTsKfQp9CgAAAAAAAAAAZn4AAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADaagAAAAAAANpqAAAAAAAAAAAAAAAA8L8"
				],
				[
					247,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAABmfgAAI2luY2x1ZGUgImpzYmluZGluZ3MuaHBwIgojaW5jbHVkZSAianNfcG9pbnQuaHBwIgojaW5jbHVkZSAianNfcmVjdC5ocHAiCiNpbmNsdWRlICJqc19jb250b3VyLmhwcCIKI2luY2x1ZGUgImpzX2FycmF5LmhwcCIKI2luY2x1ZGUgImpzX3R5cGVkX2FycmF5LmhwcCIKI2luY2x1ZGUgImpzX2FsbG9jLmhwcCIKI2luY2x1ZGUgImpzX3BvaW50X2l0ZXJhdG9yLmhwcCIKI2luY2x1ZGUgInV0aWwuaHBwIgoKI2luY2x1ZGUgPG9wZW5jdjIvY29yZS9jb3JlLmhwcD4KI2luY2x1ZGUgPG9wZW5jdjIvaW1ncHJvYy9pbWdwcm9jLmhwcD4KCi8vI2luY2x1ZGUgInBsb3QtY3YuaHBwIgovLyNpbmNsdWRlICJjb2xvci5ocHAiCiNpbmNsdWRlICJnZW9tZXRyeS5ocHAiCiNpbmNsdWRlICJwc2ltcGwuaHBwIgoKI2luY2x1ZGUgPGlvbWFuaXA+CiNpbmNsdWRlIDxyYW5nZXM+CgpleHRlcm4gIkMiIHsKSlNWYWx1ZSBjb250b3VyX3Byb3RvID0gSlNfVU5ERUZJTkVELCBjb250b3VyX2NsYXNzID0gSlNfVU5ERUZJTkVEOwpWSVNJQkxFIEpTQ2xhc3NJRCBqc19jb250b3VyX2NsYXNzX2lkID0gMDsKfQoKc3RhdGljIEpTVmFsdWUgZmxvYXQ2NF9hcnJheTsKCi8vIHVzaW5nIG5hbWVzcGFjZSBjdjsKCkpTVmFsdWUKanNfY29udG91cl9uZXcoSlNDb250ZXh0KiBjdHgsIGNvbnN0IEpTQ29udG91ckRhdGE8ZG91YmxlPiYgcG9pbnRzKSB7CiAgSlNWYWx1ZSByZXQ7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KiBjb250b3VyOwoKICByZXQgPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgY29udG91cl9wcm90bywganNfY29udG91cl9jbGFzc19pZCk7CiAgY29udG91ciA9IGpzX2FsbG9jYXRlPEpTQ29udG91ckRhdGE8ZG91YmxlPj4oY3R4KTsKCiAgbmV3KGNvbnRvdXIpIEpTQ29udG91ckRhdGE8ZG91YmxlPigpOwoKICBjb250b3VyLT5yZXNpemUocG9pbnRzLnNpemUoKSk7CiAgdHJhbnNmb3JtX3BvaW50cyhwb2ludHMuY2JlZ2luKCksIHBvaW50cy5jZW5kKCksIGNvbnRvdXItPmJlZ2luKCkpOwoKICBKU19TZXRPcGFxdWUocmV0LCBjb250b3VyKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX2NvbnRvdXJfbW92ZShKU0NvbnRleHQqIGN0eCwgY29uc3QgSlNDb250b3VyRGF0YTxkb3VibGU+JiYgcG9pbnRzKSB7CiAgSlNWYWx1ZSByZXQ7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KiBjb250b3VyOwoKICByZXQgPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgY29udG91cl9wcm90bywganNfY29udG91cl9jbGFzc19pZCk7CiAgY29udG91ciA9IGpzX2FsbG9jYXRlPEpTQ29udG91ckRhdGE8ZG91YmxlPj4oY3R4KTsKCiAgbmV3KGNvbnRvdXIpIEpTQ29udG91ckRhdGE8ZG91YmxlPihzdGQ6Om1vdmUocG9pbnRzKSk7CgogIC8qICBjb250b3VyLT5yZXNpemUocG9pbnRzLnNpemUoKSk7CiAgICB0cmFuc2Zvcm1fcG9pbnRzKHBvaW50cy5jYmVnaW4oKSwgcG9pbnRzLmNlbmQoKSwgY29udG91ci0+YmVnaW4oKSk7Ki8KCiAgSlNfU2V0T3BhcXVlKHJldCwgY29udG91cik7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl9idWZmZXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCkgewogIEpTQ29udG91ckRhdGE8ZG91YmxlPiogY29udG91cjsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoKGNvbnRvdXIgPSBqc19jb250b3VyX2RhdGEoY3R4LCB0aGlzX3ZhbCkpID09IG51bGxwdHIpCiAgICByZXR1cm4gcmV0OwoKICBKU1ZhbHVlKiB2YWxwdHIgPSBzdGF0aWNfY2FzdDxKU1ZhbHVlKj4oanNfbWFsbG9jKGN0eCwgc2l6ZW9mKEpTVmFsdWUpKSk7CiAgKnZhbHB0ciA9IEpTX0R1cFZhbHVlKGN0eCwgdGhpc192YWwpOwoKICByZXQgPSBKU19OZXdBcnJheUJ1ZmZlcigKICAgICAgY3R4LAogICAgICByZWludGVycHJldF9jYXN0PHVpbnQ4X3QqPihjb250b3VyLT5kYXRhKCkpLAogICAgICBjb250b3VyLT5zaXplKCkgKiBzaXplb2YoSlNQb2ludERhdGE8ZG91YmxlPiksCiAgICAgIFtdKEpTUnVudGltZSogcnQsIHZvaWQqIG9wYXF1ZSwgdm9pZCogcHRyKSB7CiAgICAgICAgSlNfRnJlZVZhbHVlUlQocnQsICooSlNWYWx1ZSopb3BhcXVlKTsKICAgICAgICBqc19mcmVlX3J0KHJ0LCBvcGFxdWUpOwogICAgICB9LAogICAgICB2YWxwdHIsCiAgICAgIGZhbHNlKTsKCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl9hcnJheShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsKSB7CiAgSlNWYWx1ZSByZXQ7CiAgSlNWYWx1ZUNvbnN0IGJ1ZmZlciA9IGpzX2NvbnRvdXJfYnVmZmVyKGN0eCwgdGhpc192YWwpOwoKICByZXQgPSBKU19DYWxsQ29uc3RydWN0b3IoY3R4LCBmbG9hdDY0X2FycmF5LCAxLCAmYnVmZmVyKTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jb250b3VyX2FwcHJveHBvbHlkcChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgZG91YmxlIGVwc2lsb247CiAgYm9vbCBjbG9zZWQgPSBmYWxzZTsKICBzdGQ6OnZlY3Rvcjxjdjo6UG9pbnQ+IGN1cnZlOwogIEpTQ29udG91ckRhdGE8ZmxvYXQ+IGFwcHJveEN1cnZlOwogIEpTQ29udG91ckRhdGE8ZG91YmxlPipvdXQsICp2OwoKICB2ID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpOwoKICBpZighdikKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgb3V0ID0gc3RhdGljX2Nhc3Q8SlNDb250b3VyRGF0YTxkb3VibGU+Kj4oSlNfR2V0T3BhcXVlMihjdHgsIGFyZ3ZbMF0sIGpzX2NvbnRvdXJfY2xhc3NfaWQpKTsKCiAgaWYoYXJnYyA+IDEpIHsKICAgIEpTX1RvRmxvYXQ2NChjdHgsICZlcHNpbG9uLCBhcmd2WzFdKTsKCiAgICBpZihhcmdjID4gMikgewogICAgICBjbG9zZWQgPSAhIUpTX1RvQm9vbChjdHgsIGFyZ3ZbMl0pOwogICAgfQogIH0KCiAgc3RkOjp0cmFuc2Zvcm0odi0+YmVnaW4oKSwgdi0+ZW5kKCksIHN0ZDo6YmFja19pbnNlcnRlcihjdXJ2ZSksIFtdKGNvbnN0IEpTUG9pbnREYXRhPGRvdWJsZT4mIHB0KSAtPiBjdjo6UG9pbnQgewogICAgcmV0dXJuIGN2OjpQb2ludChwdC54LCBwdC55KTsKICB9KTsKCiAgY3Y6OmFwcHJveFBvbHlEUChjdXJ2ZSwgYXBwcm94Q3VydmUsIGVwc2lsb24sIGNsb3NlZCk7CgogIHN0ZDo6dHJhbnNmb3JtKGFwcHJveEN1cnZlLmJlZ2luKCksCiAgICAgICAgICAgICAgICAgYXBwcm94Q3VydmUuZW5kKCksCiAgICAgICAgICAgICAgICAgc3RkOjpiYWNrX2luc2VydGVyKCpvdXQpLAogICAgICAgICAgICAgICAgIFtdKGNvbnN0IEpTUG9pbnREYXRhPGZsb2F0PiYgcHQpIC0+IEpTUG9pbnREYXRhPGRvdWJsZT4geyByZXR1cm4gSlNQb2ludERhdGE8ZG91YmxlPihwdC54LCBwdC55KTsgfSk7CgogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfYXJjbGVuZ3RoKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qdiwgKm90aGVyID0gbnVsbHB0ciwgKnB0cjsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBKU1BvaW50RGF0YTxmbG9hdD4gcHQ7CiAgYm9vbCBjbG9zZWQgPSBmYWxzZTsKICBKU0NvbnRvdXJEYXRhPGZsb2F0PiBjb250b3VyOwogIEpTUG9pbnREYXRhPGRvdWJsZT4qIHBvaW50OwogIGRvdWJsZSByZXR2YWw7CgogIHYgPSBqc19jb250b3VyX2RhdGEoY3R4LCB0aGlzX3ZhbCk7CiAgaWYoIXYpCgogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYoYXJnYyA+IDApIHsKICAgIGNsb3NlZCA9ICEhSlNfVG9Cb29sKGN0eCwgYXJndlswXSk7CiAgfQoKICBzdGQ6OnRyYW5zZm9ybSh2LT5iZWdpbigpLCB2LT5lbmQoKSwgc3RkOjpiYWNrX2luc2VydGVyKGNvbnRvdXIpLCBbXShjb25zdCBKU1BvaW50RGF0YTxkb3VibGU+JiBwdCkgLT4gSlNQb2ludERhdGE8ZmxvYXQ+IHsKICAgIHJldHVybiBKU1BvaW50RGF0YTxmbG9hdD4ocHQueCwgcHQueSk7CiAgfSk7CgogIHJldHZhbCA9IGN2OjphcmNMZW5ndGgoY29udG91ciwgY2xvc2VkKTsKCiAgcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsIHJldHZhbCk7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfYXJlYShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsKSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KiB2OwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGRvdWJsZSBhcmVhOwogIEpTQ29udG91ckRhdGE8ZmxvYXQ+IGNvbnRvdXI7CiAgdiA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKTsKICBpZighdikKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgc3RkOjp0cmFuc2Zvcm0odi0+YmVnaW4oKSwgdi0+ZW5kKCksIHN0ZDo6YmFja19pbnNlcnRlcihjb250b3VyKSwgW10oY29uc3QgSlNQb2ludERhdGE8ZG91YmxlPiYgcHQpIC0+IEpTUG9pbnREYXRhPGZsb2F0PiB7CiAgICByZXR1cm4gSlNQb2ludERhdGE8ZmxvYXQ+KHB0LngsIHB0LnkpOwogIH0pOwogIGFyZWEgPSBjdjo6Y29udG91ckFyZWEoY29udG91cik7CiAgcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsIGFyZWEpOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfYm91bmRpbmdyZWN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBjdjo6UmVjdDJmIHJlY3Q7CiAgSlNDb250b3VyRGF0YTxmbG9hdD4gY3VydmU7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KiB2OwogIEpTUmVjdERhdGE8ZG91YmxlPiByOwoKICB2ID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpOwoKICBpZighdikKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHN0ZDo6dHJhbnNmb3JtKHYtPmJlZ2luKCksIHYtPmVuZCgpLCBzdGQ6OmJhY2tfaW5zZXJ0ZXIoY3VydmUpLCBbXShjb25zdCBKU1BvaW50RGF0YTxkb3VibGU+JiBwdCkgLT4gSlNQb2ludERhdGE8ZmxvYXQ+IHsKICAgIHJldHVybiBKU1BvaW50RGF0YTxmbG9hdD4ocHQueCwgcHQueSk7CiAgfSk7CgogIHJlY3QgPSBjdjo6Ym91bmRpbmdSZWN0KGN1cnZlKTsKCiAgcmV0ID0ganNfbmV3KGN0eCwgIlJlY3QiKTsKICAvLyByZXQgPSBKU19OZXdPYmplY3QoY3R4LCByZWN0X3Byb3RvLCBqc19yZWN0X2NsYXNzX2lkKTsKICAvLyByID0ganNfYWxsb2NhdGU8IEpTUmVjdERhdGE8ZG91YmxlPiA+KGN0eCk7CiAgLy8qciA9IHJlY3Q7CiAgLy8gSlNfU2V0T3BhcXVlKHJldCwgcik7CiAgLy8KICByID0gcmVjdDsKCiAganNfcmVjdF93cml0ZShjdHgsIHJldCwgcik7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfY2VudGVyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qIHY7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgZG91YmxlIGFyZWE7CiAgdiA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKTsKICBpZighdikKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgewogICAgc3RkOjp2ZWN0b3I8Y3Y6OlBvaW50PiBwb2ludHM7CiAgICBwb2ludHMucmVzaXplKHYtPnNpemUoKSk7CiAgICBzdGQ6OmNvcHkodi0+YmVnaW4oKSwgdi0+ZW5kKCksIHBvaW50cy5iZWdpbigpKTsKICAgIGN2OjpNb21lbnRzIG11ID0gY3Y6Om1vbWVudHMocG9pbnRzKTsKICAgIGN2OjpQb2ludCBjZW50cm9pZCA9IGN2OjpQb2ludChtdS5tMTAgLyBtdS5tMDAsIG11Lm0wMSAvIG11Lm0wMCk7CgogICAgcmV0ID0ganNfcG9pbnRfbmV3KGN0eCwgY2VudHJvaWQueCwgY2VudHJvaWQueSk7CiAgfQoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jb250b3VyX2NvbnZleGh1bGwoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGJvb2wgY2xvY2t3aXNlID0gZmFsc2UsIHJldHVyblBvaW50cyA9IHRydWU7CiAgSlNDb250b3VyRGF0YTxmbG9hdD4gY3VydmUsIGh1bGw7CiAgc3RkOjp2ZWN0b3I8aW50PiBodWxsSW5kaWNlczsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qb3V0LCAqdjsKCiAgdiA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKTsKCiAgaWYoIXYpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihhcmdjID4gMCkgewogICAgY2xvY2t3aXNlID0gISFKU19Ub0Jvb2woY3R4LCBhcmd2WzBdKTsKCiAgICBpZihhcmdjID4gMSkgewogICAgICByZXR1cm5Qb2ludHMgPSAhIUpTX1RvQm9vbChjdHgsIGFyZ3ZbMV0pOwogICAgfQogIH0KCiAgc3RkOjp0cmFuc2Zvcm0odi0+YmVnaW4oKSwgdi0+ZW5kKCksIHN0ZDo6YmFja19pbnNlcnRlcihjdXJ2ZSksIFtdKGNvbnN0IEpTUG9pbnREYXRhPGRvdWJsZT4mIHB0KSAtPiBKU1BvaW50RGF0YTxmbG9hdD4gewogICAgcmV0dXJuIEpTUG9pbnREYXRhPGZsb2F0PihwdC54LCBwdC55KTsKICB9KTsKCiAgaWYocmV0dXJuUG9pbnRzKQogICAgY3Y6OmNvbnZleEh1bGwoY3VydmUsIGh1bGwsIGNsb2Nrd2lzZSwgdHJ1ZSk7CiAgZWxzZQogICAgY3Y6OmNvbnZleEh1bGwoY3VydmUsIGh1bGxJbmRpY2VzLCBjbG9ja3dpc2UsIGZhbHNlKTsKCiAgaWYocmV0dXJuUG9pbnRzKSB7CiAgICByZXQgPSBqc19jb250b3VyX25ldyhjdHgsIGh1bGwpOwogIH0gZWxzZSB7CiAgICB1aW50MzJfdCBpLCBzaXplID0gaHVsbEluZGljZXMuc2l6ZSgpOwoKICAgIHJldCA9IEpTX05ld0FycmF5KGN0eCk7CgogICAgZm9yKGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7IEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCBpLCBKU19OZXdJbnQzMihjdHgsIGh1bGxJbmRpY2VzW2ldKSk7IH0KICB9CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfY29udmV4aXR5ZGVmZWN0cyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KiBzID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBzdGQ6OnZlY3RvcjxpbnQ+IGh1bGxJbmRpY2VzOwogIHN0ZDo6dmVjdG9yPGN2OjpWZWM0aT4gZGVmZWN0czsKCiAgaWYoYXJnYyA+IDApIHsKICAgIGludDY0X3QgbiA9IGpzX2FycmF5X3RvKGN0eCwgYXJndlswXSwgaHVsbEluZGljZXMpOwogICAgaWYobiA9PSAwKQogICAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIH0KCiAgaWYocy0+c2l6ZSgpID09IDAgfHwgaHVsbEluZGljZXMuc2l6ZSgpID09IDApCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBkZWZlY3RzLnJlc2l6ZShodWxsSW5kaWNlcy5zaXplKCkpOwogIGN2Ojpjb252ZXhpdHlEZWZlY3RzKCpzLCBodWxsSW5kaWNlcywgZGVmZWN0cyk7CgogIHJldCA9IGpzX2FycmF5X2Zyb20oY3R4LCBkZWZlY3RzKTsKCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl9jb25zdHJ1Y3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG5ld190YXJnZXQsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qIHY7CiAgSlNWYWx1ZSBvYmogPSBKU19VTkRFRklORUQ7CiAgSlNWYWx1ZSBwcm90bzsKCiAgdiA9IGpzX2FsbG9jYXRlPEpTQ29udG91ckRhdGE8ZG91YmxlPj4oY3R4KTsKICBpZighdikKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIG5ldyh2KSBKU0NvbnRvdXJEYXRhPGRvdWJsZT4oKTsKCiAgLyogdXNpbmcgbmV3X3RhcmdldCB0byBnZXQgdGhlIHByb3RvdHlwZSBpcyBuZWNlc3Nhcnkgd2hlbiB0aGUKICAgICBjbGFzcyBpcyBleHRlbmRlZC4gKi8KICBwcm90byA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgbmV3X3RhcmdldCwgInByb3RvdHlwZSIpOwogIGlmKEpTX0lzRXhjZXB0aW9uKHByb3RvKSkKICAgIGdvdG8gZmFpbDsKICBvYmogPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgcHJvdG8sIGpzX2NvbnRvdXJfY2xhc3NfaWQpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHByb3RvKTsKICBpZihKU19Jc0V4Y2VwdGlvbihvYmopKQogICAgZ290byBmYWlsOwogIEpTX1NldE9wYXF1ZShvYmosIHYpOwoKICBpZihhcmdjID4gMCkgewogICAgaW50IGk7CgogICAgZm9yKGkgPSAwOyBpIDwgYXJnYzsgaSsrKSB7CiAgICAgIEpTUG9pbnREYXRhPGRvdWJsZT4gcDsKICAgICAgaWYoanNfaXNfYXJyYXkoY3R4LCBhcmd2W2ldKSkgewogICAgICAgIGlmKGpzX2FycmF5X2xlbmd0aChjdHgsIGFyZ3ZbaV0pID4gMCkgewogICAgICAgICAgSlNWYWx1ZSBwdCA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgYXJndltpXSwgMCk7CgogICAgICAgICAgaWYoanNfaXNfcG9pbnQoY3R4LCBwdCkpIHsKICAgICAgICAgICAganNfYXJyYXlfdG8gLyo8IEpTUG9pbnREYXRhPGRvdWJsZT4gPiovIChjdHgsIGFyZ3ZbaV0sICp2KTsKICAgICAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgcHQpOwogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHB0KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmKGpzX3BvaW50X3JlYWQoY3R4LCBhcmd2W2ldLCAmcCkpIHsKICAgICAgICB2LT5wdXNoX2JhY2socCk7CiAgICAgICAgY29udGludWU7CiAgICAgIH0KICAgICAgZ290byBmYWlsOwogICAgfQogIH0KCiAgcmV0dXJuIG9iajsKZmFpbDoKICBqc19kZWFsbG9jYXRlKGN0eCwgdik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9Cgp2b2lkCmpzX2NvbnRvdXJfZmluYWxpemVyKEpTUnVudGltZSogcnQsIEpTVmFsdWUgdmFsKSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KiBzOwoKICBpZigocyA9IHN0YXRpY19jYXN0PEpTQ29udG91ckRhdGE8ZG91YmxlPio+KEpTX0dldE9wYXF1ZSh2YWwsIGpzX2NvbnRvdXJfY2xhc3NfaWQpKSkpIHsKICAgIGpzX2RlYWxsb2NhdGUocnQsIHMpOwogIH0KCiAgSlNfRnJlZVZhbHVlUlQocnQsIHZhbCk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfZml0ZWxsaXBzZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KnYsICpwdHI7CiAgY3Y6OlJvdGF0ZWRSZWN0IHJyOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGRvdWJsZSBhcmVhOwogIEpTQ29udG91ckRhdGE8ZmxvYXQ+IGNvbnRvdXIsIGVsbGlwc2U7CgogIGlmKCEodiA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBzdGQ6OnRyYW5zZm9ybSh2LT5iZWdpbigpLCB2LT5lbmQoKSwgc3RkOjpiYWNrX2luc2VydGVyKGNvbnRvdXIpLCBbXShjb25zdCBKU1BvaW50RGF0YTxkb3VibGU+JiBwdCkgLT4gSlNQb2ludERhdGE8ZmxvYXQ+IHsKICAgIHJldHVybiBKU1BvaW50RGF0YTxmbG9hdD4ocHQueCwgcHQueSk7CiAgfSk7CgogIHJyID0gY3Y6OmZpdEVsbGlwc2UoY29udG91cik7CgogIGVsbGlwc2UucmVzaXplKDUpOwogIHJyLnBvaW50cyhlbGxpcHNlLmRhdGEoKSk7CgogIHJldCA9IGpzX2NvbnRvdXJfbmV3KGN0eCwgZWxsaXBzZSk7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfZml0bGluZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KnYsICpwdHI7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgaW50NjRfdCBkaXN0VHlwZSA9IGN2OjpESVNUX0ZBSVI7CiAgZG91YmxlIHBhcmFtID0gMCwgcmVwcyA9IDAuMDEsIGFlcHMgPSAwLjAxOwogIHN0ZDo6dmVjdG9yPGN2OjpQb2ludD4gY29udG91cjsKICBKU0NvbnRvdXJEYXRhPGZsb2F0PiBwb2ludHM7CiAgY3Y6OlZlYzRmIGxpbmU7CgogIGlmKCEodiA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihhcmdjID4gMCkgewoKICAgIEpTX1RvSW50NjQoY3R4LCAmZGlzdFR5cGUsIGFyZ3ZbMF0pOwoKICAgIGlmKGFyZ2MgPiAxKSB7CiAgICAgIEpTX1RvRmxvYXQ2NChjdHgsICZwYXJhbSwgYXJndlsxXSk7CiAgICAgIGlmKGFyZ2MgPiAyKSB7CiAgICAgICAgSlNfVG9GbG9hdDY0KGN0eCwgJnJlcHMsIGFyZ3ZbMl0pOwogICAgICAgIGlmKGFyZ2MgPiAzKSB7CiAgICAgICAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmYWVwcywgYXJndlszXSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICBzdGQ6OnRyYW5zZm9ybSh2LT5iZWdpbigpLCB2LT5lbmQoKSwgc3RkOjpiYWNrX2luc2VydGVyKGNvbnRvdXIpLCBbXShjb25zdCBKU1BvaW50RGF0YTxkb3VibGU+JiBwdCkgLT4gY3Y6OlBvaW50IHsKICAgIHJldHVybiBjdjo6UG9pbnQocHQueCwgcHQueSk7CiAgfSk7CgogIGN2OjpmaXRMaW5lKGNvbnRvdXIsIGxpbmUsIGRpc3RUeXBlLCBwYXJhbSwgcmVwcywgYWVwcyk7CgogIHBvaW50cy5wdXNoX2JhY2soSlNQb2ludERhdGE8ZmxvYXQ+KGxpbmVbMF0sIGxpbmVbMV0pKTsKICBwb2ludHMucHVzaF9iYWNrKEpTUG9pbnREYXRhPGZsb2F0PihsaW5lWzJdLCBsaW5lWzNdKSk7CgogIHJldCA9IGpzX2NvbnRvdXJfbmV3KGN0eCwgcG9pbnRzKTsKCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl9hdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KiB2OwogIEpTVmFsdWUgcmV0OwogIEpTVmFsdWUgeCwgeTsKICBpbnQ2NF90IGk7CiAgSlNQb2ludERhdGE8ZG91YmxlPiogcG9pbnQ7CgogIGlmKCEodiA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBKU19Ub0ludDY0KGN0eCwgJmksIGFyZ3ZbMF0pOwoKICBpZihpID49IHYtPnNpemUoKSB8fCBpIDwgMCkKICAgIHJldHVybiBKU19VTkRFRklORUQ7CgogIHJldCA9IGpzX3BvaW50X25ldyhjdHgsICgqdilbaV0ueCwgKCp2KVtpXS55KTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jb250b3VyX2dldG1hdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KiB2OwogIEpTTWF0RGltZW5zaW9ucyBzaXplOwogIGludDMyX3QgdHlwZTsKICBjdjo6TWF0IG1hdDsKCiAgaWYoISh2ID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHNpemUucm93cyA9IDE7CiAgc2l6ZS5jb2xzID0gdi0+c2l6ZSgpOwogIHR5cGUgPSBDVl82NEZDMjsKCiAgbWF0ID0gY3Y6Ok1hdChjdjo6U2l6ZShzaXplKSwgdHlwZSwgc3RhdGljX2Nhc3Q8dm9pZCo+KHYtPmRhdGEoKSkpOwoKICByZXR1cm4ganNfbWF0X3dyYXAoY3R4LCBtYXQpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jb250b3VyX2ludGVyc2VjdGNvbnZleChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KnYsICpvdGhlciA9IG51bGxwdHIsICpwdHI7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgYm9vbCBoYW5kbGVOZXN0ZWQgPSB0cnVlOwogIEpTQ29udG91ckRhdGE8ZmxvYXQ+IGEsIGIsIGludGVyc2VjdGlvbjsKCiAgaWYoISh2ID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGlmKGFyZ2MgPiAwKSB7CiAgICBvdGhlciA9IHN0YXRpY19jYXN0PEpTQ29udG91ckRhdGE8ZG91YmxlPio+KEpTX0dldE9wYXF1ZTIoY3R4LCBhcmd2WzBdLCBqc19jb250b3VyX2NsYXNzX2lkKSk7CgogICAgaWYoYXJnYyA+IDEpIHsKICAgICAgaGFuZGxlTmVzdGVkID0gISFKU19Ub0Jvb2woY3R4LCBhcmd2WzFdKTsKICAgIH0KICB9CgogIHN0ZDo6dHJhbnNmb3JtKHYtPmJlZ2luKCksIHYtPmVuZCgpLCBzdGQ6OmJhY2tfaW5zZXJ0ZXIoYSksIFtdKGNvbnN0IEpTUG9pbnREYXRhPGRvdWJsZT4mIHB0KSAtPiBKU1BvaW50RGF0YTxmbG9hdD4gewogICAgcmV0dXJuIEpTUG9pbnREYXRhPGZsb2F0PihwdC54LCBwdC55KTsKICB9KTsKCiAgc3RkOjp0cmFuc2Zvcm0ob3RoZXItPmJlZ2luKCksIG90aGVyLT5lbmQoKSwgc3RkOjpiYWNrX2luc2VydGVyKGIpLCBbXShjb25zdCBKU1BvaW50RGF0YTxkb3VibGU+JiBwdCkgLT4gSlNQb2ludERhdGE8ZmxvYXQ+IHsKICAgIHJldHVybiBKU1BvaW50RGF0YTxmbG9hdD4ocHQueCwgcHQueSk7CiAgfSk7CgogIGN2OjppbnRlcnNlY3RDb252ZXhDb252ZXgoYSwgYiwgaW50ZXJzZWN0aW9uLCBoYW5kbGVOZXN0ZWQpOwoKICByZXQgPSBqc19jb250b3VyX25ldyhjdHgsIGludGVyc2VjdGlvbik7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl9pc2NvbnZleChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KnYsICpvdGhlciA9IG51bGxwdHIsICpwdHI7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgYm9vbCBpc0NvbnZleDsKICBKU0NvbnRvdXJEYXRhPGZsb2F0PiBjb250b3VyOwoKICBpZighKHYgPSBqc19jb250b3VyX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc3RkOjp0cmFuc2Zvcm0odi0+YmVnaW4oKSwgdi0+ZW5kKCksIHN0ZDo6YmFja19pbnNlcnRlcihjb250b3VyKSwgW10oY29uc3QgSlNQb2ludERhdGE8ZG91YmxlPiYgcHQpIC0+IEpTUG9pbnREYXRhPGZsb2F0PiB7CiAgICByZXR1cm4gSlNQb2ludERhdGE8ZmxvYXQ+KHB0LngsIHB0LnkpOwogIH0pOwoKICBpc0NvbnZleCA9IGN2Ojppc0NvbnRvdXJDb252ZXgoY29udG91cik7CgogIHJldCA9IEpTX05ld0Jvb2woY3R4LCBpc0NvbnZleCk7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfbGVuZ3RoKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qIHY7CiAgSlNWYWx1ZSByZXQ7CiAgaWYoISh2ID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgcmV0ID0gSlNfTmV3SW50NjQoY3R4LCB2LT5zaXplKCkpOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfbWluYXJlYXJlY3QoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTQ29udG91ckRhdGE8ZG91YmxlPip2LCAqb3RoZXIgPSBudWxscHRyLCAqcHRyOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGN2OjpSb3RhdGVkUmVjdCBycjsKCiAgSlNDb250b3VyRGF0YTxmbG9hdD4gY29udG91ciwgbWluYXJlYTsKCiAgaWYoISh2ID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgc3RkOjp0cmFuc2Zvcm0odi0+YmVnaW4oKSwgdi0+ZW5kKCksIHN0ZDo6YmFja19pbnNlcnRlcihjb250b3VyKSwgW10oY29uc3QgSlNQb2ludERhdGE8ZG91YmxlPiYgcHQpIC0+IEpTUG9pbnREYXRhPGZsb2F0PiB7CiAgICByZXR1cm4gSlNQb2ludERhdGE8ZmxvYXQ+KHB0LngsIHB0LnkpOwogIH0pOwogIHJyID0gY3Y6Om1pbkFyZWFSZWN0KGNvbnRvdXIpOwogIG1pbmFyZWEucmVzaXplKDUpOwogIHJyLnBvaW50cyhtaW5hcmVhLmRhdGEoKSk7CgogIHJldCA9IGpzX2NvbnRvdXJfbmV3KGN0eCwgbWluYXJlYSk7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl9taW5lbmNsb3NpbmdjaXJjbGUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTQ29udG91ckRhdGE8ZG91YmxlPip2LCAqb3RoZXIgPSBudWxscHRyLCAqcHRyOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGN2OjpSb3RhdGVkUmVjdCBycjsKCiAgSlNDb250b3VyRGF0YTxmbG9hdD4gY29udG91cjsKICBKU1BvaW50RGF0YTxmbG9hdD4gY2VudGVyOwogIGZsb2F0IHJhZGl1czsKCiAgaWYoISh2ID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHN0ZDo6dHJhbnNmb3JtKHYtPmJlZ2luKCksIHYtPmVuZCgpLCBzdGQ6OmJhY2tfaW5zZXJ0ZXIoY29udG91ciksIFtdKGNvbnN0IEpTUG9pbnREYXRhPGRvdWJsZT4mIHB0KSAtPiBKU1BvaW50RGF0YTxmbG9hdD4gewogICAgcmV0dXJuIEpTUG9pbnREYXRhPGZsb2F0PihwdC54LCBwdC55KTsKICB9KTsKCiAgY3Y6Om1pbkVuY2xvc2luZ0NpcmNsZShjb250b3VyLCBjZW50ZXIsIHJhZGl1cyk7CgogIHJldCA9IEpTX05ld09iamVjdChjdHgpOwoKICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIHJldCwgImNlbnRlciIsIGpzX3BvaW50X25ldyhjdHgsIGNlbnRlci54LCBjZW50ZXIueSkpOwogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAicmFkaXVzIiwgSlNfTmV3RmxvYXQ2NChjdHgsIHJhZGl1cykpOwoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jb250b3VyX21pbmVuY2xvc2luZ3RyaWFuZ2xlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qdiwgKm90aGVyID0gbnVsbHB0ciwgKnB0cjsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBjdjo6Um90YXRlZFJlY3QgcnI7CgogIEpTQ29udG91ckRhdGE8ZmxvYXQ+IGNvbnRvdXIsIHRyaWFuZ2xlOwogIEpTUG9pbnREYXRhPGZsb2F0PiBjZW50ZXI7CiAgZmxvYXQgcmFkaXVzOwoKICBpZighKHYgPSBqc19jb250b3VyX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc3RkOjp0cmFuc2Zvcm0odi0+YmVnaW4oKSwgdi0+ZW5kKCksIHN0ZDo6YmFja19pbnNlcnRlcihjb250b3VyKSwgW10oY29uc3QgSlNQb2ludERhdGE8ZG91YmxlPiYgcHQpIC0+IEpTUG9pbnREYXRhPGZsb2F0PiB7CiAgICByZXR1cm4gSlNQb2ludERhdGE8ZmxvYXQ+KHB0LngsIHB0LnkpOwogIH0pOwoKICBjdjo6bWluRW5jbG9zaW5nVHJpYW5nbGUoY29udG91ciwgdHJpYW5nbGUpOwoKICByZXQgPSBqc19jb250b3VyX25ldyhjdHgsIHRyaWFuZ2xlKTsKCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl9wb2ludHBvbHlnb250ZXN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qdiwgKm90aGVyID0gbnVsbHB0ciwgKnB0cjsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBjdjo6Um90YXRlZFJlY3QgcnI7CiAgSlNQb2ludERhdGE8ZmxvYXQ+IHB0OwogIGJvb2wgbWVhc3VyZURpc3QgPSBmYWxzZTsKICBKU0NvbnRvdXJEYXRhPGZsb2F0PiBjb250b3VyLCB0cmlhbmdsZTsKICBKU1BvaW50RGF0YTxkb3VibGU+IHBvaW50OwogIGRvdWJsZSByZXR2YWw7CgogIGlmKCEodiA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihhcmdjID4gMCkgewogICAgcG9pbnQgPSBqc19wb2ludF9nZXQoY3R4LCBhcmd2WzBdKTsKCiAgICBwdC54ID0gcG9pbnQueDsKICAgIHB0LnkgPSBwb2ludC55OwoKICAgIGlmKGFyZ2MgPiAxKSB7CiAgICAgIG1lYXN1cmVEaXN0ID0gISFKU19Ub0Jvb2woY3R4LCBhcmd2WzFdKTsKICAgIH0KICB9CgogIHN0ZDo6dHJhbnNmb3JtKHYtPmJlZ2luKCksIHYtPmVuZCgpLCBzdGQ6OmJhY2tfaW5zZXJ0ZXIoY29udG91ciksIFtdKGNvbnN0IEpTUG9pbnREYXRhPGRvdWJsZT4mIHB0KSAtPiBKU1BvaW50RGF0YTxmbG9hdD4gewogICAgcmV0dXJuIEpTUG9pbnREYXRhPGZsb2F0PihwdC54LCBwdC55KTsKICB9KTsKCiAgcmV0dmFsID0gY3Y6OnBvaW50UG9seWdvblRlc3QoY29udG91ciwgcHQsIG1lYXN1cmVEaXN0KTsKCiAgcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsIHJldHZhbCk7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfcHNpbXBsKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YsIGludCBtYWdpYykgewogIEpTQ29udG91ckRhdGE8ZG91YmxlPiogcyA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKTsKICBpbnQzMl90IHNoaWZ0ID0gMTsKICB1aW50MzJfdCBzaXplID0gcy0+c2l6ZSgpOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIEpTQ29udG91ckRhdGE8ZG91YmxlPiByOwogIGRvdWJsZSBhcmcxID0gMCwgYXJnMiA9IDA7CiAgZG91YmxlKiBpdDsKICBKU1BvaW50RGF0YTxkb3VibGU+KiBzdGFydCA9ICYoKnMpWzBdOwogIEpTUG9pbnREYXRhPGRvdWJsZT4qIGVuZCA9IHN0YXJ0ICsgc2l6ZTsKICByLnJlc2l6ZShzaXplKTsKICBpdCA9IChkb3VibGUqKSZyWzBdOwoKICBpZighcykKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGlmKGFyZ2MgPiAwKSB7CiAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmYXJnMSwgYXJndlswXSk7CiAgICBpZihhcmdjID4gMSkgewogICAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmYXJnMiwgYXJndlsxXSk7CiAgICB9CiAgfQoKICBpZihtYWdpYyA9PSAwKSB7CiAgICBpZihhcmcxID09IDApCiAgICAgIGFyZzEgPSAyOwogICAgaXQgPSBwc2ltcGw6OnNpbXBsaWZ5X3JldW1hbm5fd2l0a2FtPDI+KChkb3VibGUqKXN0YXJ0LCAoZG91YmxlKillbmQsIGFyZzEsIGl0KTsKICB9IGVsc2UgaWYobWFnaWMgPT0gMSkgewogICAgaWYoYXJnMSA9PSAwKQogICAgICBhcmcxID0gMjsKICAgIGlmKGFyZzIgPT0gMCkKICAgICAgYXJnMiA9IDEwOwogICAgaXQgPSBwc2ltcGw6OnNpbXBsaWZ5X29waGVpbTwyPigoZG91YmxlKilzdGFydCwgKGRvdWJsZSopZW5kLCBhcmcxLCBhcmcyLCBpdCk7CiAgfSBlbHNlIGlmKG1hZ2ljID09IDIpIHsKICAgIGlmKGFyZzEgPT0gMCkKICAgICAgYXJnMSA9IDI7CiAgICBpZihhcmcyID09IDApCiAgICAgIGFyZzIgPSAxMDsKICAgIGl0ID0gcHNpbXBsOjpzaW1wbGlmeV9sYW5nPDI+KChkb3VibGUqKXN0YXJ0LCAoZG91YmxlKillbmQsIGFyZzEsIGFyZzIsIGl0KTsKICB9IGVsc2UgaWYobWFnaWMgPT0gMykgewogICAgaWYoYXJnMSA9PSAwKQogICAgICBhcmcxID0gMjsKICAgIGl0ID0gcHNpbXBsOjpzaW1wbGlmeV9kb3VnbGFzX3BldWNrZXI8Mj4oKGRvdWJsZSopc3RhcnQsIChkb3VibGUqKWVuZCwgYXJnMSwgaXQpOwogIH0gZWxzZSBpZihtYWdpYyA9PSA0KSB7CiAgICBpZihhcmcxID09IDApCiAgICAgIGFyZzEgPSAyOwogICAgaXQgPSBwc2ltcGw6OnNpbXBsaWZ5X250aF9wb2ludDwyPigoZG91YmxlKilzdGFydCwgKGRvdWJsZSopZW5kLCBhcmcxLCBpdCk7CiAgfSBlbHNlIGlmKG1hZ2ljID09IDUpIHsKICAgIGlmKGFyZzEgPT0gMCkKICAgICAgYXJnMSA9IDI7CiAgICBpdCA9IHBzaW1wbDo6c2ltcGxpZnlfcmFkaWFsX2Rpc3RhbmNlPDI+KChkb3VibGUqKXN0YXJ0LCAoZG91YmxlKillbmQsIGFyZzEsIGl0KTsKICB9IGVsc2UgaWYobWFnaWMgPT0gNikgewogICAgaWYoYXJnMSA9PSAwKQogICAgICBhcmcxID0gMjsKICAgIGlmKGFyZzIgPT0gMCkKICAgICAgYXJnMiA9IDE7CiAgICBpdCA9IHBzaW1wbDo6c2ltcGxpZnlfcGVycGVuZGljdWxhcl9kaXN0YW5jZTwyPigoZG91YmxlKilzdGFydCwgKGRvdWJsZSopZW5kLCBhcmcxLCBhcmcyLCBpdCk7CiAgfQogIHNpemUgPSBpdCAtIChkb3VibGUqKSZyWzBdOwogIHIucmVzaXplKHNpemUgLyAyKTsKICByZXQgPSBqc19jb250b3VyX25ldzxkb3VibGU+KGN0eCwgcik7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl9wdXNoKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qIHY7CiAgaW50IGk7CiAgZG91YmxlIHgsIHk7CiAgSlNWYWx1ZUNvbnN0IHh2LCB5djsKICBKU1BvaW50RGF0YTxkb3VibGU+IHBvaW50OwoKICBpZighKHYgPSBqc19jb250b3VyX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgZm9yKGkgPSAwOyBpIDwgYXJnYzsgaSsrKSB7CiAgICBpZihKU19Jc09iamVjdChhcmd2W2ldKSkgewogICAgICB4diA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgYXJndltpXSwgIngiKTsKICAgICAgeXYgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGFyZ3ZbaV0sICJ5Iik7CiAgICB9IGVsc2UgaWYoanNfaXNfYXJyYXkoY3R4LCBhcmd2W2ldKSkgewoKICAgICAgeHYgPSBKU19HZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGFyZ3ZbaV0sIDApOwogICAgICB5diA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgYXJndltpXSwgMSk7CiAgICB9IGVsc2UgaWYoaSArIDEgPCBhcmdjKSB7CiAgICAgIHh2ID0gYXJndltpKytdOwogICAgICB5diA9IGFyZ3ZbaV07CiAgICB9CiAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmcG9pbnQueCwgeHYpOwogICAgSlNfVG9GbG9hdDY0KGN0eCwgJnBvaW50LnksIHl2KTsKCiAgICB2LT5wdXNoX2JhY2socG9pbnQpOwogIH0KICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jb250b3VyX3BvcChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KiB2OwogIEpTVmFsdWUgcmV0OwogIEpTVmFsdWUgeCwgeTsKICBKU1BvaW50RGF0YTxkb3VibGU+KnB0ciwgcG9pbnQ7CiAgaW50NjRfdCBuID0gMDsKCiAgaWYoISh2ID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgbiA9IHYtPnNpemUoKTsKICBpZihuID4gMCkgewogICAgcG9pbnQgPSAoKnYpW24gLSAxXTsKICAgIHYtPnBvcF9iYWNrKCk7CiAgfSBlbHNlIHsKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgfQoKICByZXQgPSBqc19wb2ludF9uZXcoY3R4LCBwb2ludC54LCBwb2ludC55KTsKCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl91bnNoaWZ0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qIHY7CiAgaW50IGk7CiAgZG91YmxlIHgsIHk7CiAgSlNWYWx1ZUNvbnN0IHh2LCB5djsKICBKU1BvaW50RGF0YTxkb3VibGU+IHBvaW50OwoKICBpZighKHYgPSBqc19jb250b3VyX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgZm9yKGkgPSAwOyBpIDwgYXJnYzsgaSsrKSB7CiAgICBpZihKU19Jc09iamVjdChhcmd2W2ldKSkgewogICAgICB4diA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgYXJndltpXSwgIngiKTsKICAgICAgeXYgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGFyZ3ZbaV0sICJ5Iik7CiAgICB9IGVsc2UgaWYoanNfaXNfYXJyYXkoY3R4LCBhcmd2W2ldKSkgewoKICAgICAgeHYgPSBKU19HZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGFyZ3ZbaV0sIDApOwogICAgICB5diA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgYXJndltpXSwgMSk7CiAgICB9IGVsc2UgaWYoaSArIDEgPCBhcmdjKSB7CiAgICAgIHh2ID0gYXJndltpKytdOwogICAgICB5diA9IGFyZ3ZbaV07CiAgICB9CiAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmcG9pbnQueCwgeHYpOwogICAgSlNfVG9GbG9hdDY0KGN0eCwgJnBvaW50LnksIHl2KTsKCiAgICB2LT5pbnNlcnQodi0+YmVnaW4oKSwgcG9pbnQpOwogIH0KICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jb250b3VyX3NoaWZ0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qIHY7CiAgSlNWYWx1ZSByZXQ7CiAgSlNWYWx1ZSB4LCB5OwogIEpTUG9pbnREYXRhPGRvdWJsZT4qcHRyLCBwb2ludDsKICBpbnQ2NF90IG4gPSAwOwoKICBpZighKHYgPSBqc19jb250b3VyX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICBuID0gdi0+c2l6ZSgpOwogIGlmKG4gPiAwKSB7CiAgICBwb2ludCA9ICgqdilbMF07CiAgICB2LT5lcmFzZSh2LT5iZWdpbigpKTsKICB9IGVsc2UgewogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICB9CgogIHJldCA9IGpzX3BvaW50X25ldyhjdHgsIHBvaW50LngsIHBvaW50LnkpOwoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jb250b3VyX2NvbmNhdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KnYsICpvdGhlciwgKnI7CiAgaW50IGk7CiAgZG91YmxlIHgsIHk7CiAgSlNWYWx1ZSByZXQ7CiAgSlNWYWx1ZUNvbnN0IHh2LCB5djsKICBKU1BvaW50RGF0YTxkb3VibGU+IHBvaW50OwoKICBpZighKHYgPSBqc19jb250b3VyX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYoIShvdGhlciA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIGFyZ3ZbMF0pKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHJldCA9IGpzX2NvbnRvdXJfbmV3KGN0eCwgKnYpOwoKICByID0ganNfY29udG91cl9kYXRhKGN0eCwgcmV0KTsKICBzdGQ6OmNvcHkob3RoZXItPmNiZWdpbigpLCBvdGhlci0+Y2VuZCgpLCBzdGQ6OmJhY2tfaW5zZXJ0ZXIoKnIpKTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jb250b3VyX3JvdGF0ZWRyZWN0YW5nbGVpbnRlcnNlY3Rpb24oSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTQ29udG91ckRhdGE8ZG91YmxlPip2LCAqb3RoZXIgPSBudWxscHRyLCAqcHRyOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGJvb2wgaGFuZGxlTmVzdGVkID0gdHJ1ZTsKICBKU0NvbnRvdXJEYXRhPGZsb2F0PiBhLCBiLCBpbnRlcnNlY3Rpb247CgogIGlmKCEodiA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihhcmdjID4gMCkgewogICAgb3RoZXIgPSBzdGF0aWNfY2FzdDxKU0NvbnRvdXJEYXRhPGRvdWJsZT4qPihKU19HZXRPcGFxdWUyKGN0eCwgYXJndlswXSwganNfY29udG91cl9jbGFzc19pZCkpOwogIH0KCiAgc3RkOjp0cmFuc2Zvcm0odi0+YmVnaW4oKSwgdi0+ZW5kKCksIHN0ZDo6YmFja19pbnNlcnRlcihhKSwgW10oY29uc3QgSlNQb2ludERhdGE8ZG91YmxlPiYgcHQpIC0+IEpTUG9pbnREYXRhPGZsb2F0PiB7CiAgICByZXR1cm4gSlNQb2ludERhdGE8ZmxvYXQ+KHB0LngsIHB0LnkpOwogIH0pOwoKICBzdGQ6OnRyYW5zZm9ybShvdGhlci0+YmVnaW4oKSwgb3RoZXItPmVuZCgpLCBzdGQ6OmJhY2tfaW5zZXJ0ZXIoYiksIFtdKGNvbnN0IEpTUG9pbnREYXRhPGRvdWJsZT4mIHB0KSAtPiBKU1BvaW50RGF0YTxmbG9hdD4gewogICAgcmV0dXJuIEpTUG9pbnREYXRhPGZsb2F0PihwdC54LCBwdC55KTsKICB9KTsKICB7CiAgICBjdjo6Um90YXRlZFJlY3QgcnJhKGFbMF0sIGFbMV0sIGFbMl0pOwogICAgY3Y6OlJvdGF0ZWRSZWN0IHJyYihiWzBdLCBiWzFdLCBiWzJdKTsKCiAgICBjdjo6cm90YXRlZFJlY3RhbmdsZUludGVyc2VjdGlvbihycmEsIHJyYiwgaW50ZXJzZWN0aW9uKTsKCiAgICByZXQgPSBqc19jb250b3VyX25ldyhjdHgsIGludGVyc2VjdGlvbik7CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfcm90YXRlcG9pbnRzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qIHMgPSBqc19jb250b3VyX2RhdGEoY3R4LCB0aGlzX3ZhbCk7CiAgaW50MzJfdCBzaGlmdCA9IDE7CiAgdWludDMyX3Qgc2l6ZSA9IHMtPnNpemUoKTsKICBpZighcykKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgaWYoYXJnYyA+IDApCiAgICBKU19Ub0ludDMyKGN0eCwgJnNoaWZ0LCBhcmd2WzBdKTsKCiAgc2hpZnQgJT0gc2l6ZTsKCiAgaWYoc2hpZnQgPiAwKSB7CiAgICBzdGQ6OnJvdGF0ZShzLT5iZWdpbigpLCBzLT5iZWdpbigpICsgc2hpZnQsIHMtPmVuZCgpKTsKCiAgfSBlbHNlIGlmKHNoaWZ0IDwgMCkgewogICAgc3RkOjpyb3RhdGUocy0+cmJlZ2luKCksIHMtPnJiZWdpbigpICsgKC1zaGlmdCksIHMtPnJlbmQoKSk7CiAgfQogIHJldHVybiBKU1ZhbHVlKHRoaXNfdmFsKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl90b2FycmF5KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qIHM7CiAgdWludDMyX3QgaSwgc2l6ZTsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoIShzID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgc2l6ZSA9IHMtPnNpemUoKTsKICByZXQgPSBKU19OZXdBcnJheShjdHgpOwoKICBmb3IoaSA9IDA7IGkgPCBzaXplOyBpKyspIHsgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIGksIGpzX3BvaW50X2Nsb25lKGN0eCwgKCpzKVtpXSkpOyB9CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfdG9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndiwgaW50IG1hZ2ljKSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KiBzOwogIHN0ZDo6b3N0cmluZ3N0cmVhbSBvczsKICBpbnQgaSA9IDA7CiAgaW50IHByZWMgPSA5OwogIGludDMyX3QgZmxhZ3M7CgogIGlmKCEocyA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihtYWdpYyA9PSAxICYmICEoZmxhZ3MgJiAweDEwMCkpCiAgICBvcyA8PCAibmV3IENvbnRvdXIoIjsKCiAgaWYoYXJnYyA+IDApCiAgICBKU19Ub0ludDMyKGN0eCwgJmZsYWdzLCBhcmd2WzBdKTsKICBlbHNlCiAgICBmbGFncyA9IDA7CgogIGlmKCEoZmxhZ3MgJiAweDEwMCkpCiAgICBvcyA8PCAnWyc7CgogIHN0ZDo6Zm9yX2VhY2gocy0+YmVnaW4oKSwgcy0+ZW5kKCksIFsmaSwgJm9zLCBmbGFncywgcHJlY10oY29uc3QgSlNQb2ludERhdGE8ZG91YmxlPiYgcG9pbnQpIHsKICAgIGlmKGkgPiAwKQogICAgICBvcyA8PCAoKGZsYWdzICYgMHgxMCkgPyAiICIgOiAiLCIpOwoKICAgIGlmKCEoZmxhZ3MgJiAweDEwMCkpCiAgICAgIG9zIDw8ICgoZmxhZ3MgJiAweDAzKSA9PSAwID8gInsiIDogIlsiKTsKCiAgICBpZihmbGFncyAmIDB4MDMpCiAgICAgIG9zIDw8IHN0ZDo6c2V0cHJlY2lzaW9uKHByZWMpIDw8IHBvaW50LnggPDwgIiwiIDw8IHBvaW50Lnk7CiAgICBlbHNlCiAgICAgIG9zIDw8ICJ4OiIgPDwgc3RkOjpzZXRwcmVjaXNpb24ocHJlYykgPDwgcG9pbnQueCA8PCAiLHk6IiA8PCBwb2ludC55OwoKICAgIGlmKCEoZmxhZ3MgJiAweDEwMCkpCiAgICAgIG9zIDw8ICgoZmxhZ3MgJiAweDAzKSA9PSAwID8gIn0iIDogIl0iKTsKCiAgICBpKys7CiAgfSk7CiAgaWYoIShmbGFncyAmIDB4MTAwKSkKICAgIG9zIDw8ICddJzsgLy8gPDwgc3RkOjplbmRsOwoKICBpZihtYWdpYyA9PSAxICYmICEoZmxhZ3MgJiAweDEwMCkpCiAgICBvcyA8PCAiKSI7CgogIHJldHVybiBKU19OZXdTdHJpbmcoY3R4LCBvcy5zdHIoKS5jX3N0cigpKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl9yZWN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4gcG9pbnRzOwogIEpTUmVjdERhdGE8ZG91YmxlPiBzID0ganNfcmVjdF9nZXQoY3R4LCBhcmd2WzBdKTsKCiAgcG9pbnRzLnB1c2hfYmFjayhKU1BvaW50RGF0YTxkb3VibGU+KHMueCwgcy55KSk7CiAgcG9pbnRzLnB1c2hfYmFjayhKU1BvaW50RGF0YTxkb3VibGU+KHMueCArIHMud2lkdGgsIHMueSkpOwogIHBvaW50cy5wdXNoX2JhY2soSlNQb2ludERhdGE8ZG91YmxlPihzLnggKyBzLndpZHRoLCBzLnkgKyBzLmhlaWdodCkpOwogIHBvaW50cy5wdXNoX2JhY2soSlNQb2ludERhdGE8ZG91YmxlPihzLngsIHMueSArIHMuaGVpZ2h0KSk7CiAgcG9pbnRzLnB1c2hfYmFjayhKU1BvaW50RGF0YTxkb3VibGU+KHMueCwgcy55KSk7CgogIHJldCA9IGpzX2NvbnRvdXJfbmV3PGRvdWJsZT4oY3R4LCBwb2ludHMpOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfZ2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBtYWdpYykgewogIEpTQ29udG91ckRhdGE8ZG91YmxlPiogY29udG91cjsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoIShjb250b3VyID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSAwOiB7CiAgICAgIEpTQ29udG91ckRhdGE8ZmxvYXQ+IHBvaW50czsKICAgICAgSlNSZWN0RGF0YTxmbG9hdD4gcmVjdDsKCiAgICAgIHBvaW50cy5yZXNpemUoY29udG91ci0+c2l6ZSgpKTsKCiAgICAgIHN0ZDo6Y29weShjb250b3VyLT5iZWdpbigpLCBjb250b3VyLT5lbmQoKSwgcG9pbnRzLmJlZ2luKCkpOwoKICAgICAgcmVjdCA9IGN2Ojpib3VuZGluZ1JlY3QocG9pbnRzKTsKCiAgICAgIHJldCA9IEpTX05ld0Zsb2F0NjQoY3R4LCAoZG91YmxlKXJlY3Qud2lkdGggLyByZWN0LmhlaWdodCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSAxOiB7CiAgICAgIGRvdWJsZSBhcmVhID0gY3Y6OmNvbnRvdXJBcmVhKCpjb250b3VyKTsKICAgICAgSlNSZWN0RGF0YTxkb3VibGU+IHJlY3QgPSBjdjo6Ym91bmRpbmdSZWN0KCpjb250b3VyKTsKCiAgICAgIHJldCA9IEpTX05ld0Zsb2F0NjQoY3R4LCBhcmVhIC8gKHJlY3Qud2lkdGggKiByZWN0LmhlaWdodCkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgMjogewogICAgICBkb3VibGUgYXJlYSA9IGN2Ojpjb250b3VyQXJlYSgqY29udG91cik7CiAgICAgIEpTQ29udG91ckRhdGE8ZG91YmxlPiBodWxsOwogICAgICBjdjo6Y29udmV4SHVsbCgqY29udG91ciwgaHVsbCk7CiAgICAgIGRvdWJsZSBodWxsQXJlYSA9IGN2Ojpjb250b3VyQXJlYShodWxsKTsKCiAgICAgIHJldCA9IEpTX05ld0Zsb2F0NjQoY3R4LCBhcmVhIC8gY3Y6OmNvbnRvdXJBcmVhKGh1bGwpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIDM6IHsKICAgICAgZG91YmxlIGFyZWEgPSBjdjo6Y29udG91ckFyZWEoKmNvbnRvdXIpOwoKICAgICAgcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsIHN0ZDo6c3FydCg0ICogYXJlYSAvIDMuMTQxNTkyNjUzNTg5NzkzMjM4NDYpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIDQ6IHsKICAgICAgY3Y6OlJvdGF0ZWRSZWN0IHJlY3QgPSBjdjo6Zml0RWxsaXBzZSgqY29udG91cik7CgogICAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgcmVjdC5hbmdsZSk7CiAgICAgIGJyZWFrOwogICAgfQogIH0KICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jb250b3VyX2luc3BlY3QoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTQ29udG91ckRhdGE8ZG91YmxlPiogY29udG91cjsKCiAgaWYoIShjb250b3VyID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIEpTVmFsdWUgb2JqID0gSlNfTmV3T2JqZWN0Q2xhc3MoY3R4LCBqc19jb250b3VyX2NsYXNzX2lkKTsKCiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgImxlbmd0aCIsIEpTX05ld1VpbnQzMihjdHgsIGNvbnRvdXItPnNpemUoKSksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgcmV0dXJuIG9iajsKfQoKZXh0ZXJuICJDIiB7CgpKU0NsYXNzRGVmIGpzX2NvbnRvdXJfY2xhc3MgPSB7CiAgICAuY2xhc3NfbmFtZSA9ICJDb250b3VyIiwKICAgIC5maW5hbGl6ZXIgPSBqc19jb250b3VyX2ZpbmFsaXplciwKfTsKCkpTVmFsdWUKanNfY29udG91cl9pdGVyYXRvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2LCBpbnQgbWFnaWMpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qIHM7CgogIGlmKCEocyA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICByZXR1cm4ganNfcG9pbnRfaXRlcmF0b3JfbmV3KGN0eCwgcy0+ZGF0YSgpLCBzLT5kYXRhKCkgKyBzLT5zaXplKCksIG1hZ2ljKTsKfQoKY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfY29udG91cl9wcm90b19mdW5jc1tdID0gewogICAgSlNfQ0ZVTkNfREVGKCJwdXNoIiwgMSwganNfY29udG91cl9wdXNoKSwKICAgIEpTX0NGVU5DX0RFRigicG9wIiwgMCwganNfY29udG91cl9wb3ApLAogICAgSlNfQ0ZVTkNfREVGKCJ1bnNoaWZ0IiwgMSwganNfY29udG91cl91bnNoaWZ0KSwKICAgIEpTX0NGVU5DX0RFRigic2hpZnQiLCAwLCBqc19jb250b3VyX3NoaWZ0KSwKICAgIEpTX0NGVU5DX0RFRigiY29uY2F0IiwgMSwganNfY29udG91cl9jb25jYXQpLAogICAgSlNfQ0ZVTkNfREVGKCJhdCIsIDEsIGpzX2NvbnRvdXJfYXQpLAogICAgSlNfQ0ZVTkNfREVGKCJnZXRNYXQiLCAwLCBqc19jb250b3VyX2dldG1hdCksCiAgICBKU19DR0VUU0VUX0RFRigibGVuZ3RoIiwganNfY29udG91cl9sZW5ndGgsIE5VTEwpLAogICAgSlNfQ0dFVFNFVF9ERUYoImFyZWEiLCBqc19jb250b3VyX2FyZWEsIE5VTEwpLAogICAgSlNfQ0dFVFNFVF9ERUYoImJ1ZmZlciIsIGpzX2NvbnRvdXJfYnVmZmVyLCBOVUxMKSwKICAgIEpTX0NHRVRTRVRfREVGKCJhcnJheSIsIGpzX2NvbnRvdXJfYXJyYXksIE5VTEwpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImFzcGVjdFJhdGlvIiwganNfY29udG91cl9nZXQsIE5VTEwsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImV4dGVudCIsIGpzX2NvbnRvdXJfZ2V0LCBOVUxMLCAxKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJzb2xpZGl0eSIsIGpzX2NvbnRvdXJfZ2V0LCBOVUxMLCAyKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJlcXVpdmFsZW50RGlhbWV0ZXIiLCBqc19jb250b3VyX2dldCwgTlVMTCwgMyksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigib3JpZW50YXRpb24iLCBqc19jb250b3VyX2dldCwgTlVMTCwgNCksCgogICAgSlNfQ0ZVTkNfREVGKCJhcHByb3hQb2x5RFAiLCAxLCBqc19jb250b3VyX2FwcHJveHBvbHlkcCksCiAgICBKU19DRlVOQ19ERUYoImNvbnZleEh1bGwiLCAxLCBqc19jb250b3VyX2NvbnZleGh1bGwpLAogICAgSlNfQ0ZVTkNfREVGKCJib3VuZGluZ1JlY3QiLCAwLCBqc19jb250b3VyX2JvdW5kaW5ncmVjdCksCiAgICBKU19DRlVOQ19ERUYoImZpdEVsbGlwc2UiLCAwLCBqc19jb250b3VyX2ZpdGVsbGlwc2UpLAogICAgSlNfQ0ZVTkNfREVGKCJmaXRMaW5lIiwgMCwganNfY29udG91cl9maXRsaW5lKSwKICAgIEpTX0NGVU5DX0RFRigiaW50ZXJzZWN0Q29udmV4IiwgMCwganNfY29udG91cl9pbnRlcnNlY3Rjb252ZXgpLAogICAgSlNfQ0ZVTkNfREVGKCJpc0NvbnZleCIsIDAsIGpzX2NvbnRvdXJfaXNjb252ZXgpLAogICAgSlNfQ0ZVTkNfREVGKCJtaW5BcmVhUmVjdCIsIDAsIGpzX2NvbnRvdXJfbWluYXJlYXJlY3QpLAogICAgSlNfQ0ZVTkNfREVGKCJtaW5FbmNsb3NpbmdDaXJjbGUiLCAwLCBqc19jb250b3VyX21pbmVuY2xvc2luZ2NpcmNsZSksCiAgICBKU19DRlVOQ19ERUYoIm1pbkVuY2xvc2luZ1RyaWFuZ2xlIiwgMCwganNfY29udG91cl9taW5lbmNsb3Npbmd0cmlhbmdsZSksCiAgICBKU19DRlVOQ19ERUYoInBvaW50UG9seWdvblRlc3QiLCAwLCBqc19jb250b3VyX3BvaW50cG9seWdvbnRlc3QpLAogICAgSlNfQ0ZVTkNfREVGKCJyb3RhdGVkUmVjdGFuZ2xlSW50ZXJzZWN0aW9uIiwgMCwganNfY29udG91cl9yb3RhdGVkcmVjdGFuZ2xlaW50ZXJzZWN0aW9uKSwKICAgIEpTX0NGVU5DX0RFRigiYXJjTGVuZ3RoIiwgMCwganNfY29udG91cl9hcmNsZW5ndGgpLAogICAgSlNfQ0ZVTkNfREVGKCJyb3RhdGVQb2ludHMiLCAxLCBqc19jb250b3VyX3JvdGF0ZXBvaW50cyksCiAgICBKU19DRlVOQ19ERUYoImNvbnZleGl0eURlZmVjdHMiLCAxLCBqc19jb250b3VyX2NvbnZleGl0eWRlZmVjdHMpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJzaW1wbGlmeVJldW1hbm5XaXRrYW0iLCAwLCBqc19jb250b3VyX3BzaW1wbCwgMCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInNpbXBsaWZ5T3BoZWltIiwgMCwganNfY29udG91cl9wc2ltcGwsIDEpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJzaW1wbGlmeUxhbmciLCAwLCBqc19jb250b3VyX3BzaW1wbCwgMiksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInNpbXBsaWZ5RG91Z2xhc1BldWNrZXIiLCAwLCBqc19jb250b3VyX3BzaW1wbCwgMyksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInNpbXBsaWZ5TnRoUG9pbnQiLCAwLCBqc19jb250b3VyX3BzaW1wbCwgNCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInNpbXBsaWZ5UmFkaWFsRGlzdGFuY2UiLCAwLCBqc19jb250b3VyX3BzaW1wbCwgNSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInNpbXBsaWZ5UGVycGVuZGljdWxhckRpc3RhbmNlIiwgMCwganNfY29udG91cl9wc2ltcGwsIDYpLAogICAgSlNfQ0ZVTkNfREVGKCJ0b0FycmF5IiwgMCwganNfY29udG91cl90b2FycmF5KSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigidG9TdHJpbmciLCAwLCBqc19jb250b3VyX3Rvc3RyaW5nLCAwKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigidG9Tb3VyY2UiLCAwLCBqc19jb250b3VyX3Rvc3RyaW5nLCAxKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigibGluZXMiLCAwLCBqc19jb250b3VyX2l0ZXJhdG9yLCBORVhUX0xJTkUpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJwb2ludHMiLCAwLCBqc19jb250b3VyX2l0ZXJhdG9yLCBORVhUX1BPSU5UKSwKCiAgICBKU19BTElBU19ERUYoIltTeW1ib2wuaXRlcmF0b3JdIiwgInBvaW50cyIpLAogICAgSlNfQUxJQVNfREVGKCJzaXplIiwgImxlbmd0aCIpLAogICAgLy8gICAgSlNfQUxJQVNfREVGKCJbU3ltYm9sLnRvU3RyaW5nVGFnXSIsICJ0b1N0cmluZyIpLAoKICAgIEpTX1BST1BfU1RSSU5HX0RFRigiW1N5bWJvbC50b1N0cmluZ1RhZ10iLCAiQ29udG91ciIsIEpTX1BST1BfQ09ORklHVVJBQkxFKSwKCn07CmNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IGpzX2NvbnRvdXJfc3RhdGljX2Z1bmNzW10gPSB7CiAgICBKU19DRlVOQ19ERUYoImZyb21SZWN0IiwgMSwganNfY29udG91cl9yZWN0KSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJGT1JNQVRfWFkiLCAweDAwLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJGT1JNQVRfMDEiLCAweDAyLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJGT1JNQVRfU1BBQ0UiLCAweDEwLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJGT1JNQVRfQ09NTUEiLCAweDAwLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJGT1JNQVRfQlJBQ0tFVCIsIDB4MDAsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkZPUk1BVF9OT0JSQUNLRVQiLCAweDEwMCwgMCksCn07CgppbnQKanNfY29udG91cl9pbml0KEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewoKICBpZihqc19jb250b3VyX2NsYXNzX2lkID09IDApIHsKICAgIC8qIGNyZWF0ZSB0aGUgQ29udG91ciBjbGFzcyAqLwogICAgSlNfTmV3Q2xhc3NJRCgmanNfY29udG91cl9jbGFzc19pZCk7CiAgICBKU19OZXdDbGFzcyhKU19HZXRSdW50aW1lKGN0eCksIGpzX2NvbnRvdXJfY2xhc3NfaWQsICZqc19jb250b3VyX2NsYXNzKTsKCiAgICBjb250b3VyX3Byb3RvID0gSlNfTmV3T2JqZWN0KGN0eCk7CiAgICBKU19TZXRQcm9wZXJ0eUZ1bmN0aW9uTGlzdChjdHgsIGNvbnRvdXJfcHJvdG8sIGpzX2NvbnRvdXJfcHJvdG9fZnVuY3MsIGNvdW50b2YoanNfY29udG91cl9wcm90b19mdW5jcykpOwogICAgSlNfU2V0Q2xhc3NQcm90byhjdHgsIGpzX2NvbnRvdXJfY2xhc3NfaWQsIGNvbnRvdXJfcHJvdG8pOwoKICAgIGNvbnRvdXJfY2xhc3MgPSBKU19OZXdDRnVuY3Rpb24yKGN0eCwganNfY29udG91cl9jb25zdHJ1Y3RvciwgIkNvbnRvdXIiLCAyLCBKU19DRlVOQ19jb25zdHJ1Y3RvciwgMCk7CiAgICAvKiBzZXQgcHJvdG8uY29uc3RydWN0b3IgYW5kIGN0b3IucHJvdG90eXBlICovCiAgICBKU19TZXRDb25zdHJ1Y3RvcihjdHgsIGNvbnRvdXJfY2xhc3MsIGNvbnRvdXJfcHJvdG8pOwogICAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBjb250b3VyX2NsYXNzLCBqc19jb250b3VyX3N0YXRpY19mdW5jcywgY291bnRvZihqc19jb250b3VyX3N0YXRpY19mdW5jcykpOwogIH0KICBqc19zZXRfaW5zcGVjdF9tZXRob2QoY3R4LCBjb250b3VyX3Byb3RvLCBqc19jb250b3VyX2luc3BlY3QpOwoKICB7CiAgICBKU1ZhbHVlIGdsb2JhbCA9IEpTX0dldEdsb2JhbE9iamVjdChjdHgpOwogICAgZmxvYXQ2NF9hcnJheSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgZ2xvYmFsLCAiRmxvYXQ2NEFycmF5Iik7CiAgfQoKICBpZihtKQogICAgSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgIkNvbnRvdXIiLCBjb250b3VyX2NsYXNzKTsKICAvKiAgZWxzZQogICAgICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsICpzdGF0aWNfY2FzdDxKU1ZhbHVlKj4obSksICJDb250b3VyIiwgY29udG91cl9jbGFzcyk7Ki8KICByZXR1cm4gMDsKfQoKZXh0ZXJuICJDIiBWSVNJQkxFIHZvaWQKanNfY29udG91cl9leHBvcnQoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CiAgSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgIkNvbnRvdXIiKTsKfQoKI2lmIGRlZmluZWQoSlNfQ09OVE9VUl9NT0RVTEUpCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUgVklTSUJMRSBqc19pbml0X21vZHVsZQojZWxzZQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIGpzX2luaXRfbW9kdWxlX2NvbnRvdXIKI2VuZGlmCgpKU01vZHVsZURlZioKSlNfSU5JVF9NT0RVTEUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG1vZHVsZV9uYW1lKSB7CiAgSlNNb2R1bGVEZWYqIG07CiAgbSA9IEpTX05ld0NNb2R1bGUoY3R4LCBtb2R1bGVfbmFtZSwgJmpzX2NvbnRvdXJfaW5pdCk7CiAgaWYoIW0pCiAgICByZXR1cm4gTlVMTDsKICBqc19jb250b3VyX2V4cG9ydChjdHgsIG0pOwogIHJldHVybiBtOwp9Cn0KAAAAAAAAAABUfgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADaagAAAAAAANpqAAAAAAAAAAAAAAAA8L8"
				],
				[
					248,
					1,
					"revert",
					null,
					"AwAAAAAAAAAAAAAAAAAAAAAAAABUfgAAI2luY2x1ZGUgImpzYmluZGluZ3MuaHBwIgojaW5jbHVkZSAianNfcG9pbnQuaHBwIgojaW5jbHVkZSAianNfcmVjdC5ocHAiCiNpbmNsdWRlICJqc19jb250b3VyLmhwcCIKI2luY2x1ZGUgImpzX2FycmF5LmhwcCIKI2luY2x1ZGUgImpzX3R5cGVkX2FycmF5LmhwcCIKI2luY2x1ZGUgImpzX2FsbG9jLmhwcCIKI2luY2x1ZGUgImpzX3BvaW50X2l0ZXJhdG9yLmhwcCIKI2luY2x1ZGUgInV0aWwuaHBwIgoKI2luY2x1ZGUgPG9wZW5jdjIvY29yZS9jb3JlLmhwcD4KI2luY2x1ZGUgPG9wZW5jdjIvaW1ncHJvYy9pbWdwcm9jLmhwcD4KCi8vI2luY2x1ZGUgInBsb3QtY3YuaHBwIgovLyNpbmNsdWRlICJjb2xvci5ocHAiCiNpbmNsdWRlICJnZW9tZXRyeS5ocHAiCiNpbmNsdWRlICJwc2ltcGwuaHBwIgoKI2luY2x1ZGUgPGlvbWFuaXA+CgpleHRlcm4gIkMiIHsKSlNWYWx1ZSBjb250b3VyX3Byb3RvID0gSlNfVU5ERUZJTkVELCBjb250b3VyX2NsYXNzID0gSlNfVU5ERUZJTkVEOwpWSVNJQkxFIEpTQ2xhc3NJRCBqc19jb250b3VyX2NsYXNzX2lkID0gMDsKfQoKc3RhdGljIEpTVmFsdWUgZmxvYXQ2NF9hcnJheTsKCi8vIHVzaW5nIG5hbWVzcGFjZSBjdjsKCkpTVmFsdWUKanNfY29udG91cl9uZXcoSlNDb250ZXh0KiBjdHgsIGNvbnN0IEpTQ29udG91ckRhdGE8ZG91YmxlPiYgcG9pbnRzKSB7CiAgSlNWYWx1ZSByZXQ7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KiBjb250b3VyOwoKICByZXQgPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgY29udG91cl9wcm90bywganNfY29udG91cl9jbGFzc19pZCk7CiAgY29udG91ciA9IGpzX2FsbG9jYXRlPEpTQ29udG91ckRhdGE8ZG91YmxlPj4oY3R4KTsKCiAgbmV3KGNvbnRvdXIpIEpTQ29udG91ckRhdGE8ZG91YmxlPigpOwoKICBjb250b3VyLT5yZXNpemUocG9pbnRzLnNpemUoKSk7CiAgdHJhbnNmb3JtX3BvaW50cyhwb2ludHMuY2JlZ2luKCksIHBvaW50cy5jZW5kKCksIGNvbnRvdXItPmJlZ2luKCkpOwoKICBKU19TZXRPcGFxdWUocmV0LCBjb250b3VyKTsKICByZXR1cm4gcmV0Owp9CgpKU1ZhbHVlCmpzX2NvbnRvdXJfbW92ZShKU0NvbnRleHQqIGN0eCwgY29uc3QgSlNDb250b3VyRGF0YTxkb3VibGU+JiYgcG9pbnRzKSB7CiAgSlNWYWx1ZSByZXQ7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KiBjb250b3VyOwoKICByZXQgPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgY29udG91cl9wcm90bywganNfY29udG91cl9jbGFzc19pZCk7CiAgY29udG91ciA9IGpzX2FsbG9jYXRlPEpTQ29udG91ckRhdGE8ZG91YmxlPj4oY3R4KTsKCiAgbmV3KGNvbnRvdXIpIEpTQ29udG91ckRhdGE8ZG91YmxlPihzdGQ6Om1vdmUocG9pbnRzKSk7CgogIC8qICBjb250b3VyLT5yZXNpemUocG9pbnRzLnNpemUoKSk7CiAgICB0cmFuc2Zvcm1fcG9pbnRzKHBvaW50cy5jYmVnaW4oKSwgcG9pbnRzLmNlbmQoKSwgY29udG91ci0+YmVnaW4oKSk7Ki8KCiAgSlNfU2V0T3BhcXVlKHJldCwgY29udG91cik7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl9idWZmZXIoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCkgewogIEpTQ29udG91ckRhdGE8ZG91YmxlPiogY29udG91cjsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoKGNvbnRvdXIgPSBqc19jb250b3VyX2RhdGEoY3R4LCB0aGlzX3ZhbCkpID09IG51bGxwdHIpCiAgICByZXR1cm4gcmV0OwoKICBKU1ZhbHVlKiB2YWxwdHIgPSBzdGF0aWNfY2FzdDxKU1ZhbHVlKj4oanNfbWFsbG9jKGN0eCwgc2l6ZW9mKEpTVmFsdWUpKSk7CiAgKnZhbHB0ciA9IEpTX0R1cFZhbHVlKGN0eCwgdGhpc192YWwpOwoKICByZXQgPSBKU19OZXdBcnJheUJ1ZmZlcigKICAgICAgY3R4LAogICAgICByZWludGVycHJldF9jYXN0PHVpbnQ4X3QqPihjb250b3VyLT5kYXRhKCkpLAogICAgICBjb250b3VyLT5zaXplKCkgKiBzaXplb2YoSlNQb2ludERhdGE8ZG91YmxlPiksCiAgICAgIFtdKEpTUnVudGltZSogcnQsIHZvaWQqIG9wYXF1ZSwgdm9pZCogcHRyKSB7CiAgICAgICAgSlNfRnJlZVZhbHVlUlQocnQsICooSlNWYWx1ZSopb3BhcXVlKTsKICAgICAgICBqc19mcmVlX3J0KHJ0LCBvcGFxdWUpOwogICAgICB9LAogICAgICB2YWxwdHIsCiAgICAgIGZhbHNlKTsKCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl9hcnJheShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsKSB7CiAgSlNWYWx1ZSByZXQ7CiAgSlNWYWx1ZUNvbnN0IGJ1ZmZlciA9IGpzX2NvbnRvdXJfYnVmZmVyKGN0eCwgdGhpc192YWwpOwoKICByZXQgPSBKU19DYWxsQ29uc3RydWN0b3IoY3R4LCBmbG9hdDY0X2FycmF5LCAxLCAmYnVmZmVyKTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jb250b3VyX2FwcHJveHBvbHlkcChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgZG91YmxlIGVwc2lsb247CiAgYm9vbCBjbG9zZWQgPSBmYWxzZTsKICBzdGQ6OnZlY3Rvcjxjdjo6UG9pbnQ+IGN1cnZlOwogIEpTQ29udG91ckRhdGE8ZmxvYXQ+IGFwcHJveEN1cnZlOwogIEpTQ29udG91ckRhdGE8ZG91YmxlPipvdXQsICp2OwoKICB2ID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpOwoKICBpZighdikKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgb3V0ID0gc3RhdGljX2Nhc3Q8SlNDb250b3VyRGF0YTxkb3VibGU+Kj4oSlNfR2V0T3BhcXVlMihjdHgsIGFyZ3ZbMF0sIGpzX2NvbnRvdXJfY2xhc3NfaWQpKTsKCiAgaWYoYXJnYyA+IDEpIHsKICAgIEpTX1RvRmxvYXQ2NChjdHgsICZlcHNpbG9uLCBhcmd2WzFdKTsKCiAgICBpZihhcmdjID4gMikgewogICAgICBjbG9zZWQgPSAhIUpTX1RvQm9vbChjdHgsIGFyZ3ZbMl0pOwogICAgfQogIH0KCiAgc3RkOjp0cmFuc2Zvcm0odi0+YmVnaW4oKSwgdi0+ZW5kKCksIHN0ZDo6YmFja19pbnNlcnRlcihjdXJ2ZSksIFtdKGNvbnN0IEpTUG9pbnREYXRhPGRvdWJsZT4mIHB0KSAtPiBjdjo6UG9pbnQgewogICAgcmV0dXJuIGN2OjpQb2ludChwdC54LCBwdC55KTsKICB9KTsKCiAgY3Y6OmFwcHJveFBvbHlEUChjdXJ2ZSwgYXBwcm94Q3VydmUsIGVwc2lsb24sIGNsb3NlZCk7CgogIHN0ZDo6dHJhbnNmb3JtKGFwcHJveEN1cnZlLmJlZ2luKCksCiAgICAgICAgICAgICAgICAgYXBwcm94Q3VydmUuZW5kKCksCiAgICAgICAgICAgICAgICAgc3RkOjpiYWNrX2luc2VydGVyKCpvdXQpLAogICAgICAgICAgICAgICAgIFtdKGNvbnN0IEpTUG9pbnREYXRhPGZsb2F0PiYgcHQpIC0+IEpTUG9pbnREYXRhPGRvdWJsZT4geyByZXR1cm4gSlNQb2ludERhdGE8ZG91YmxlPihwdC54LCBwdC55KTsgfSk7CgogIHJldHVybiBKU19VTkRFRklORUQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfYXJjbGVuZ3RoKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qdiwgKm90aGVyID0gbnVsbHB0ciwgKnB0cjsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBKU1BvaW50RGF0YTxmbG9hdD4gcHQ7CiAgYm9vbCBjbG9zZWQgPSBmYWxzZTsKICBKU0NvbnRvdXJEYXRhPGZsb2F0PiBjb250b3VyOwogIEpTUG9pbnREYXRhPGRvdWJsZT4qIHBvaW50OwogIGRvdWJsZSByZXR2YWw7CgogIHYgPSBqc19jb250b3VyX2RhdGEoY3R4LCB0aGlzX3ZhbCk7CiAgaWYoIXYpCgogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYoYXJnYyA+IDApIHsKICAgIGNsb3NlZCA9ICEhSlNfVG9Cb29sKGN0eCwgYXJndlswXSk7CiAgfQoKICBzdGQ6OnRyYW5zZm9ybSh2LT5iZWdpbigpLCB2LT5lbmQoKSwgc3RkOjpiYWNrX2luc2VydGVyKGNvbnRvdXIpLCBbXShjb25zdCBKU1BvaW50RGF0YTxkb3VibGU+JiBwdCkgLT4gSlNQb2ludERhdGE8ZmxvYXQ+IHsKICAgIHJldHVybiBKU1BvaW50RGF0YTxmbG9hdD4ocHQueCwgcHQueSk7CiAgfSk7CgogIHJldHZhbCA9IGN2OjphcmNMZW5ndGgoY29udG91ciwgY2xvc2VkKTsKCiAgcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsIHJldHZhbCk7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfYXJlYShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsKSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KiB2OwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGRvdWJsZSBhcmVhOwogIEpTQ29udG91ckRhdGE8ZmxvYXQ+IGNvbnRvdXI7CiAgdiA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKTsKICBpZighdikKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgc3RkOjp0cmFuc2Zvcm0odi0+YmVnaW4oKSwgdi0+ZW5kKCksIHN0ZDo6YmFja19pbnNlcnRlcihjb250b3VyKSwgW10oY29uc3QgSlNQb2ludERhdGE8ZG91YmxlPiYgcHQpIC0+IEpTUG9pbnREYXRhPGZsb2F0PiB7CiAgICByZXR1cm4gSlNQb2ludERhdGE8ZmxvYXQ+KHB0LngsIHB0LnkpOwogIH0pOwogIGFyZWEgPSBjdjo6Y29udG91ckFyZWEoY29udG91cik7CiAgcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsIGFyZWEpOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfYm91bmRpbmdyZWN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBjdjo6UmVjdDJmIHJlY3Q7CiAgSlNDb250b3VyRGF0YTxmbG9hdD4gY3VydmU7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KiB2OwogIEpTUmVjdERhdGE8ZG91YmxlPiByOwoKICB2ID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpOwoKICBpZighdikKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHN0ZDo6dHJhbnNmb3JtKHYtPmJlZ2luKCksIHYtPmVuZCgpLCBzdGQ6OmJhY2tfaW5zZXJ0ZXIoY3VydmUpLCBbXShjb25zdCBKU1BvaW50RGF0YTxkb3VibGU+JiBwdCkgLT4gSlNQb2ludERhdGE8ZmxvYXQ+IHsKICAgIHJldHVybiBKU1BvaW50RGF0YTxmbG9hdD4ocHQueCwgcHQueSk7CiAgfSk7CgogIHJlY3QgPSBjdjo6Ym91bmRpbmdSZWN0KGN1cnZlKTsKCiAgcmV0ID0ganNfbmV3KGN0eCwgIlJlY3QiKTsKICAvLyByZXQgPSBKU19OZXdPYmplY3QoY3R4LCByZWN0X3Byb3RvLCBqc19yZWN0X2NsYXNzX2lkKTsKICAvLyByID0ganNfYWxsb2NhdGU8IEpTUmVjdERhdGE8ZG91YmxlPiA+KGN0eCk7CiAgLy8qciA9IHJlY3Q7CiAgLy8gSlNfU2V0T3BhcXVlKHJldCwgcik7CiAgLy8KICByID0gcmVjdDsKCiAganNfcmVjdF93cml0ZShjdHgsIHJldCwgcik7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfY2VudGVyKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qIHY7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgZG91YmxlIGFyZWE7CiAgdiA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKTsKICBpZighdikKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgewogICAgc3RkOjp2ZWN0b3I8Y3Y6OlBvaW50PiBwb2ludHM7CiAgICBwb2ludHMucmVzaXplKHYtPnNpemUoKSk7CiAgICBzdGQ6OmNvcHkodi0+YmVnaW4oKSwgdi0+ZW5kKCksIHBvaW50cy5iZWdpbigpKTsKICAgIGN2OjpNb21lbnRzIG11ID0gY3Y6Om1vbWVudHMocG9pbnRzKTsKICAgIGN2OjpQb2ludCBjZW50cm9pZCA9IGN2OjpQb2ludChtdS5tMTAgLyBtdS5tMDAsIG11Lm0wMSAvIG11Lm0wMCk7CgogICAgcmV0ID0ganNfcG9pbnRfbmV3KGN0eCwgY2VudHJvaWQueCwgY2VudHJvaWQueSk7CiAgfQoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jb250b3VyX2NvbnZleGh1bGwoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGJvb2wgY2xvY2t3aXNlID0gZmFsc2UsIHJldHVyblBvaW50cyA9IHRydWU7CiAgSlNDb250b3VyRGF0YTxmbG9hdD4gY3VydmUsIGh1bGw7CiAgc3RkOjp2ZWN0b3I8aW50PiBodWxsSW5kaWNlczsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qb3V0LCAqdjsKCiAgdiA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKTsKCiAgaWYoIXYpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihhcmdjID4gMCkgewogICAgY2xvY2t3aXNlID0gISFKU19Ub0Jvb2woY3R4LCBhcmd2WzBdKTsKCiAgICBpZihhcmdjID4gMSkgewogICAgICByZXR1cm5Qb2ludHMgPSAhIUpTX1RvQm9vbChjdHgsIGFyZ3ZbMV0pOwogICAgfQogIH0KCiAgc3RkOjp0cmFuc2Zvcm0odi0+YmVnaW4oKSwgdi0+ZW5kKCksIHN0ZDo6YmFja19pbnNlcnRlcihjdXJ2ZSksIFtdKGNvbnN0IEpTUG9pbnREYXRhPGRvdWJsZT4mIHB0KSAtPiBKU1BvaW50RGF0YTxmbG9hdD4gewogICAgcmV0dXJuIEpTUG9pbnREYXRhPGZsb2F0PihwdC54LCBwdC55KTsKICB9KTsKCiAgaWYocmV0dXJuUG9pbnRzKQogICAgY3Y6OmNvbnZleEh1bGwoY3VydmUsIGh1bGwsIGNsb2Nrd2lzZSwgdHJ1ZSk7CiAgZWxzZQogICAgY3Y6OmNvbnZleEh1bGwoY3VydmUsIGh1bGxJbmRpY2VzLCBjbG9ja3dpc2UsIGZhbHNlKTsKCiAgaWYocmV0dXJuUG9pbnRzKSB7CiAgICByZXQgPSBqc19jb250b3VyX25ldyhjdHgsIGh1bGwpOwogIH0gZWxzZSB7CiAgICB1aW50MzJfdCBpLCBzaXplID0gaHVsbEluZGljZXMuc2l6ZSgpOwoKICAgIHJldCA9IEpTX05ld0FycmF5KGN0eCk7CgogICAgZm9yKGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7IEpTX1NldFByb3BlcnR5VWludDMyKGN0eCwgcmV0LCBpLCBKU19OZXdJbnQzMihjdHgsIGh1bGxJbmRpY2VzW2ldKSk7IH0KICB9CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfY29udmV4aXR5ZGVmZWN0cyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KiBzID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwoKICBzdGQ6OnZlY3RvcjxpbnQ+IGh1bGxJbmRpY2VzOwogIHN0ZDo6dmVjdG9yPGN2OjpWZWM0aT4gZGVmZWN0czsKCiAgaWYoYXJnYyA+IDApIHsKICAgIGludDY0X3QgbiA9IGpzX2FycmF5X3RvKGN0eCwgYXJndlswXSwgaHVsbEluZGljZXMpOwogICAgaWYobiA9PSAwKQogICAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwogIH0KCiAgaWYocy0+c2l6ZSgpID09IDAgfHwgaHVsbEluZGljZXMuc2l6ZSgpID09IDApCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBkZWZlY3RzLnJlc2l6ZShodWxsSW5kaWNlcy5zaXplKCkpOwogIGN2Ojpjb252ZXhpdHlEZWZlY3RzKCpzLCBodWxsSW5kaWNlcywgZGVmZWN0cyk7CgogIHJldCA9IGpzX2FycmF5X2Zyb20oY3R4LCBkZWZlY3RzKTsKCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl9jb25zdHJ1Y3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG5ld190YXJnZXQsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qIHY7CiAgSlNWYWx1ZSBvYmogPSBKU19VTkRFRklORUQ7CiAgSlNWYWx1ZSBwcm90bzsKCiAgdiA9IGpzX2FsbG9jYXRlPEpTQ29udG91ckRhdGE8ZG91YmxlPj4oY3R4KTsKICBpZighdikKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIG5ldyh2KSBKU0NvbnRvdXJEYXRhPGRvdWJsZT4oKTsKCiAgLyogdXNpbmcgbmV3X3RhcmdldCB0byBnZXQgdGhlIHByb3RvdHlwZSBpcyBuZWNlc3Nhcnkgd2hlbiB0aGUKICAgICBjbGFzcyBpcyBleHRlbmRlZC4gKi8KICBwcm90byA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgbmV3X3RhcmdldCwgInByb3RvdHlwZSIpOwogIGlmKEpTX0lzRXhjZXB0aW9uKHByb3RvKSkKICAgIGdvdG8gZmFpbDsKICBvYmogPSBKU19OZXdPYmplY3RQcm90b0NsYXNzKGN0eCwgcHJvdG8sIGpzX2NvbnRvdXJfY2xhc3NfaWQpOwogIEpTX0ZyZWVWYWx1ZShjdHgsIHByb3RvKTsKICBpZihKU19Jc0V4Y2VwdGlvbihvYmopKQogICAgZ290byBmYWlsOwogIEpTX1NldE9wYXF1ZShvYmosIHYpOwoKICBpZihhcmdjID4gMCkgewogICAgaW50IGk7CgogICAgZm9yKGkgPSAwOyBpIDwgYXJnYzsgaSsrKSB7CiAgICAgIEpTUG9pbnREYXRhPGRvdWJsZT4gcDsKICAgICAgaWYoanNfaXNfYXJyYXkoY3R4LCBhcmd2W2ldKSkgewogICAgICAgIGlmKGpzX2FycmF5X2xlbmd0aChjdHgsIGFyZ3ZbaV0pID4gMCkgewogICAgICAgICAgSlNWYWx1ZSBwdCA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgYXJndltpXSwgMCk7CgogICAgICAgICAgaWYoanNfaXNfcG9pbnQoY3R4LCBwdCkpIHsKICAgICAgICAgICAganNfYXJyYXlfdG8gLyo8IEpTUG9pbnREYXRhPGRvdWJsZT4gPiovIChjdHgsIGFyZ3ZbaV0sICp2KTsKICAgICAgICAgICAgSlNfRnJlZVZhbHVlKGN0eCwgcHQpOwogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICAgIEpTX0ZyZWVWYWx1ZShjdHgsIHB0KTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmKGpzX3BvaW50X3JlYWQoY3R4LCBhcmd2W2ldLCAmcCkpIHsKICAgICAgICB2LT5wdXNoX2JhY2socCk7CiAgICAgICAgY29udGludWU7CiAgICAgIH0KICAgICAgZ290byBmYWlsOwogICAgfQogIH0KCiAgcmV0dXJuIG9iajsKZmFpbDoKICBqc19kZWFsbG9jYXRlKGN0eCwgdik7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9Cgp2b2lkCmpzX2NvbnRvdXJfZmluYWxpemVyKEpTUnVudGltZSogcnQsIEpTVmFsdWUgdmFsKSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KiBzOwoKICBpZigocyA9IHN0YXRpY19jYXN0PEpTQ29udG91ckRhdGE8ZG91YmxlPio+KEpTX0dldE9wYXF1ZSh2YWwsIGpzX2NvbnRvdXJfY2xhc3NfaWQpKSkpIHsKICAgIGpzX2RlYWxsb2NhdGUocnQsIHMpOwogIH0KCiAgSlNfRnJlZVZhbHVlUlQocnQsIHZhbCk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfZml0ZWxsaXBzZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KnYsICpwdHI7CiAgY3Y6OlJvdGF0ZWRSZWN0IHJyOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGRvdWJsZSBhcmVhOwogIEpTQ29udG91ckRhdGE8ZmxvYXQ+IGNvbnRvdXIsIGVsbGlwc2U7CgogIGlmKCEodiA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBzdGQ6OnRyYW5zZm9ybSh2LT5iZWdpbigpLCB2LT5lbmQoKSwgc3RkOjpiYWNrX2luc2VydGVyKGNvbnRvdXIpLCBbXShjb25zdCBKU1BvaW50RGF0YTxkb3VibGU+JiBwdCkgLT4gSlNQb2ludERhdGE8ZmxvYXQ+IHsKICAgIHJldHVybiBKU1BvaW50RGF0YTxmbG9hdD4ocHQueCwgcHQueSk7CiAgfSk7CgogIHJyID0gY3Y6OmZpdEVsbGlwc2UoY29udG91cik7CgogIGVsbGlwc2UucmVzaXplKDUpOwogIHJyLnBvaW50cyhlbGxpcHNlLmRhdGEoKSk7CgogIHJldCA9IGpzX2NvbnRvdXJfbmV3KGN0eCwgZWxsaXBzZSk7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfZml0bGluZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KnYsICpwdHI7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgaW50NjRfdCBkaXN0VHlwZSA9IGN2OjpESVNUX0ZBSVI7CiAgZG91YmxlIHBhcmFtID0gMCwgcmVwcyA9IDAuMDEsIGFlcHMgPSAwLjAxOwogIHN0ZDo6dmVjdG9yPGN2OjpQb2ludD4gY29udG91cjsKICBKU0NvbnRvdXJEYXRhPGZsb2F0PiBwb2ludHM7CiAgY3Y6OlZlYzRmIGxpbmU7CgogIGlmKCEodiA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihhcmdjID4gMCkgewoKICAgIEpTX1RvSW50NjQoY3R4LCAmZGlzdFR5cGUsIGFyZ3ZbMF0pOwoKICAgIGlmKGFyZ2MgPiAxKSB7CiAgICAgIEpTX1RvRmxvYXQ2NChjdHgsICZwYXJhbSwgYXJndlsxXSk7CiAgICAgIGlmKGFyZ2MgPiAyKSB7CiAgICAgICAgSlNfVG9GbG9hdDY0KGN0eCwgJnJlcHMsIGFyZ3ZbMl0pOwogICAgICAgIGlmKGFyZ2MgPiAzKSB7CiAgICAgICAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmYWVwcywgYXJndlszXSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICBzdGQ6OnRyYW5zZm9ybSh2LT5iZWdpbigpLCB2LT5lbmQoKSwgc3RkOjpiYWNrX2luc2VydGVyKGNvbnRvdXIpLCBbXShjb25zdCBKU1BvaW50RGF0YTxkb3VibGU+JiBwdCkgLT4gY3Y6OlBvaW50IHsKICAgIHJldHVybiBjdjo6UG9pbnQocHQueCwgcHQueSk7CiAgfSk7CgogIGN2OjpmaXRMaW5lKGNvbnRvdXIsIGxpbmUsIGRpc3RUeXBlLCBwYXJhbSwgcmVwcywgYWVwcyk7CgogIHBvaW50cy5wdXNoX2JhY2soSlNQb2ludERhdGE8ZmxvYXQ+KGxpbmVbMF0sIGxpbmVbMV0pKTsKICBwb2ludHMucHVzaF9iYWNrKEpTUG9pbnREYXRhPGZsb2F0PihsaW5lWzJdLCBsaW5lWzNdKSk7CgogIHJldCA9IGpzX2NvbnRvdXJfbmV3KGN0eCwgcG9pbnRzKTsKCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl9hdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KiB2OwogIEpTVmFsdWUgcmV0OwogIEpTVmFsdWUgeCwgeTsKICBpbnQ2NF90IGk7CiAgSlNQb2ludERhdGE8ZG91YmxlPiogcG9pbnQ7CgogIGlmKCEodiA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBKU19Ub0ludDY0KGN0eCwgJmksIGFyZ3ZbMF0pOwoKICBpZihpID49IHYtPnNpemUoKSB8fCBpIDwgMCkKICAgIHJldHVybiBKU19VTkRFRklORUQ7CgogIHJldCA9IGpzX3BvaW50X25ldyhjdHgsICgqdilbaV0ueCwgKCp2KVtpXS55KTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jb250b3VyX2dldG1hdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KiB2OwogIEpTTWF0RGltZW5zaW9ucyBzaXplOwogIGludDMyX3QgdHlwZTsKICBjdjo6TWF0IG1hdDsKCiAgaWYoISh2ID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHNpemUucm93cyA9IDE7CiAgc2l6ZS5jb2xzID0gdi0+c2l6ZSgpOwogIHR5cGUgPSBDVl82NEZDMjsKCiAgbWF0ID0gY3Y6Ok1hdChjdjo6U2l6ZShzaXplKSwgdHlwZSwgc3RhdGljX2Nhc3Q8dm9pZCo+KHYtPmRhdGEoKSkpOwoKICByZXR1cm4ganNfbWF0X3dyYXAoY3R4LCBtYXQpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jb250b3VyX2ludGVyc2VjdGNvbnZleChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KnYsICpvdGhlciA9IG51bGxwdHIsICpwdHI7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgYm9vbCBoYW5kbGVOZXN0ZWQgPSB0cnVlOwogIEpTQ29udG91ckRhdGE8ZmxvYXQ+IGEsIGIsIGludGVyc2VjdGlvbjsKCiAgaWYoISh2ID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGlmKGFyZ2MgPiAwKSB7CiAgICBvdGhlciA9IHN0YXRpY19jYXN0PEpTQ29udG91ckRhdGE8ZG91YmxlPio+KEpTX0dldE9wYXF1ZTIoY3R4LCBhcmd2WzBdLCBqc19jb250b3VyX2NsYXNzX2lkKSk7CgogICAgaWYoYXJnYyA+IDEpIHsKICAgICAgaGFuZGxlTmVzdGVkID0gISFKU19Ub0Jvb2woY3R4LCBhcmd2WzFdKTsKICAgIH0KICB9CgogIHN0ZDo6dHJhbnNmb3JtKHYtPmJlZ2luKCksIHYtPmVuZCgpLCBzdGQ6OmJhY2tfaW5zZXJ0ZXIoYSksIFtdKGNvbnN0IEpTUG9pbnREYXRhPGRvdWJsZT4mIHB0KSAtPiBKU1BvaW50RGF0YTxmbG9hdD4gewogICAgcmV0dXJuIEpTUG9pbnREYXRhPGZsb2F0PihwdC54LCBwdC55KTsKICB9KTsKCiAgc3RkOjp0cmFuc2Zvcm0ob3RoZXItPmJlZ2luKCksIG90aGVyLT5lbmQoKSwgc3RkOjpiYWNrX2luc2VydGVyKGIpLCBbXShjb25zdCBKU1BvaW50RGF0YTxkb3VibGU+JiBwdCkgLT4gSlNQb2ludERhdGE8ZmxvYXQ+IHsKICAgIHJldHVybiBKU1BvaW50RGF0YTxmbG9hdD4ocHQueCwgcHQueSk7CiAgfSk7CgogIGN2OjppbnRlcnNlY3RDb252ZXhDb252ZXgoYSwgYiwgaW50ZXJzZWN0aW9uLCBoYW5kbGVOZXN0ZWQpOwoKICByZXQgPSBqc19jb250b3VyX25ldyhjdHgsIGludGVyc2VjdGlvbik7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl9pc2NvbnZleChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KnYsICpvdGhlciA9IG51bGxwdHIsICpwdHI7CiAgSlNWYWx1ZSByZXQgPSBKU19VTkRFRklORUQ7CiAgYm9vbCBpc0NvbnZleDsKICBKU0NvbnRvdXJEYXRhPGZsb2F0PiBjb250b3VyOwoKICBpZighKHYgPSBqc19jb250b3VyX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc3RkOjp0cmFuc2Zvcm0odi0+YmVnaW4oKSwgdi0+ZW5kKCksIHN0ZDo6YmFja19pbnNlcnRlcihjb250b3VyKSwgW10oY29uc3QgSlNQb2ludERhdGE8ZG91YmxlPiYgcHQpIC0+IEpTUG9pbnREYXRhPGZsb2F0PiB7CiAgICByZXR1cm4gSlNQb2ludERhdGE8ZmxvYXQ+KHB0LngsIHB0LnkpOwogIH0pOwoKICBpc0NvbnZleCA9IGN2Ojppc0NvbnRvdXJDb252ZXgoY29udG91cik7CgogIHJldCA9IEpTX05ld0Jvb2woY3R4LCBpc0NvbnZleCk7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfbGVuZ3RoKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qIHY7CiAgSlNWYWx1ZSByZXQ7CiAgaWYoISh2ID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgcmV0ID0gSlNfTmV3SW50NjQoY3R4LCB2LT5zaXplKCkpOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfbWluYXJlYXJlY3QoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTQ29udG91ckRhdGE8ZG91YmxlPip2LCAqb3RoZXIgPSBudWxscHRyLCAqcHRyOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGN2OjpSb3RhdGVkUmVjdCBycjsKCiAgSlNDb250b3VyRGF0YTxmbG9hdD4gY29udG91ciwgbWluYXJlYTsKCiAgaWYoISh2ID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgc3RkOjp0cmFuc2Zvcm0odi0+YmVnaW4oKSwgdi0+ZW5kKCksIHN0ZDo6YmFja19pbnNlcnRlcihjb250b3VyKSwgW10oY29uc3QgSlNQb2ludERhdGE8ZG91YmxlPiYgcHQpIC0+IEpTUG9pbnREYXRhPGZsb2F0PiB7CiAgICByZXR1cm4gSlNQb2ludERhdGE8ZmxvYXQ+KHB0LngsIHB0LnkpOwogIH0pOwogIHJyID0gY3Y6Om1pbkFyZWFSZWN0KGNvbnRvdXIpOwogIG1pbmFyZWEucmVzaXplKDUpOwogIHJyLnBvaW50cyhtaW5hcmVhLmRhdGEoKSk7CgogIHJldCA9IGpzX2NvbnRvdXJfbmV3KGN0eCwgbWluYXJlYSk7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl9taW5lbmNsb3NpbmdjaXJjbGUoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTQ29udG91ckRhdGE8ZG91YmxlPip2LCAqb3RoZXIgPSBudWxscHRyLCAqcHRyOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGN2OjpSb3RhdGVkUmVjdCBycjsKCiAgSlNDb250b3VyRGF0YTxmbG9hdD4gY29udG91cjsKICBKU1BvaW50RGF0YTxmbG9hdD4gY2VudGVyOwogIGZsb2F0IHJhZGl1czsKCiAgaWYoISh2ID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHN0ZDo6dHJhbnNmb3JtKHYtPmJlZ2luKCksIHYtPmVuZCgpLCBzdGQ6OmJhY2tfaW5zZXJ0ZXIoY29udG91ciksIFtdKGNvbnN0IEpTUG9pbnREYXRhPGRvdWJsZT4mIHB0KSAtPiBKU1BvaW50RGF0YTxmbG9hdD4gewogICAgcmV0dXJuIEpTUG9pbnREYXRhPGZsb2F0PihwdC54LCBwdC55KTsKICB9KTsKCiAgY3Y6Om1pbkVuY2xvc2luZ0NpcmNsZShjb250b3VyLCBjZW50ZXIsIHJhZGl1cyk7CgogIHJldCA9IEpTX05ld09iamVjdChjdHgpOwoKICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIHJldCwgImNlbnRlciIsIGpzX3BvaW50X25ldyhjdHgsIGNlbnRlci54LCBjZW50ZXIueSkpOwogIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAicmFkaXVzIiwgSlNfTmV3RmxvYXQ2NChjdHgsIHJhZGl1cykpOwoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jb250b3VyX21pbmVuY2xvc2luZ3RyaWFuZ2xlKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qdiwgKm90aGVyID0gbnVsbHB0ciwgKnB0cjsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBjdjo6Um90YXRlZFJlY3QgcnI7CgogIEpTQ29udG91ckRhdGE8ZmxvYXQ+IGNvbnRvdXIsIHRyaWFuZ2xlOwogIEpTUG9pbnREYXRhPGZsb2F0PiBjZW50ZXI7CiAgZmxvYXQgcmFkaXVzOwoKICBpZighKHYgPSBqc19jb250b3VyX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgc3RkOjp0cmFuc2Zvcm0odi0+YmVnaW4oKSwgdi0+ZW5kKCksIHN0ZDo6YmFja19pbnNlcnRlcihjb250b3VyKSwgW10oY29uc3QgSlNQb2ludERhdGE8ZG91YmxlPiYgcHQpIC0+IEpTUG9pbnREYXRhPGZsb2F0PiB7CiAgICByZXR1cm4gSlNQb2ludERhdGE8ZmxvYXQ+KHB0LngsIHB0LnkpOwogIH0pOwoKICBjdjo6bWluRW5jbG9zaW5nVHJpYW5nbGUoY29udG91ciwgdHJpYW5nbGUpOwoKICByZXQgPSBqc19jb250b3VyX25ldyhjdHgsIHRyaWFuZ2xlKTsKCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl9wb2ludHBvbHlnb250ZXN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qdiwgKm90aGVyID0gbnVsbHB0ciwgKnB0cjsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBjdjo6Um90YXRlZFJlY3QgcnI7CiAgSlNQb2ludERhdGE8ZmxvYXQ+IHB0OwogIGJvb2wgbWVhc3VyZURpc3QgPSBmYWxzZTsKICBKU0NvbnRvdXJEYXRhPGZsb2F0PiBjb250b3VyLCB0cmlhbmdsZTsKICBKU1BvaW50RGF0YTxkb3VibGU+IHBvaW50OwogIGRvdWJsZSByZXR2YWw7CgogIGlmKCEodiA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihhcmdjID4gMCkgewogICAgcG9pbnQgPSBqc19wb2ludF9nZXQoY3R4LCBhcmd2WzBdKTsKCiAgICBwdC54ID0gcG9pbnQueDsKICAgIHB0LnkgPSBwb2ludC55OwoKICAgIGlmKGFyZ2MgPiAxKSB7CiAgICAgIG1lYXN1cmVEaXN0ID0gISFKU19Ub0Jvb2woY3R4LCBhcmd2WzFdKTsKICAgIH0KICB9CgogIHN0ZDo6dHJhbnNmb3JtKHYtPmJlZ2luKCksIHYtPmVuZCgpLCBzdGQ6OmJhY2tfaW5zZXJ0ZXIoY29udG91ciksIFtdKGNvbnN0IEpTUG9pbnREYXRhPGRvdWJsZT4mIHB0KSAtPiBKU1BvaW50RGF0YTxmbG9hdD4gewogICAgcmV0dXJuIEpTUG9pbnREYXRhPGZsb2F0PihwdC54LCBwdC55KTsKICB9KTsKCiAgcmV0dmFsID0gY3Y6OnBvaW50UG9seWdvblRlc3QoY29udG91ciwgcHQsIG1lYXN1cmVEaXN0KTsKCiAgcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsIHJldHZhbCk7CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfcHNpbXBsKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YsIGludCBtYWdpYykgewogIEpTQ29udG91ckRhdGE8ZG91YmxlPiogcyA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKTsKICBpbnQzMl90IHNoaWZ0ID0gMTsKICB1aW50MzJfdCBzaXplID0gcy0+c2l6ZSgpOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIEpTQ29udG91ckRhdGE8ZG91YmxlPiByOwogIGRvdWJsZSBhcmcxID0gMCwgYXJnMiA9IDA7CiAgZG91YmxlKiBpdDsKICBKU1BvaW50RGF0YTxkb3VibGU+KiBzdGFydCA9ICYoKnMpWzBdOwogIEpTUG9pbnREYXRhPGRvdWJsZT4qIGVuZCA9IHN0YXJ0ICsgc2l6ZTsKICByLnJlc2l6ZShzaXplKTsKICBpdCA9IChkb3VibGUqKSZyWzBdOwoKICBpZighcykKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIGlmKGFyZ2MgPiAwKSB7CiAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmYXJnMSwgYXJndlswXSk7CiAgICBpZihhcmdjID4gMSkgewogICAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmYXJnMiwgYXJndlsxXSk7CiAgICB9CiAgfQoKICBpZihtYWdpYyA9PSAwKSB7CiAgICBpZihhcmcxID09IDApCiAgICAgIGFyZzEgPSAyOwogICAgaXQgPSBwc2ltcGw6OnNpbXBsaWZ5X3JldW1hbm5fd2l0a2FtPDI+KChkb3VibGUqKXN0YXJ0LCAoZG91YmxlKillbmQsIGFyZzEsIGl0KTsKICB9IGVsc2UgaWYobWFnaWMgPT0gMSkgewogICAgaWYoYXJnMSA9PSAwKQogICAgICBhcmcxID0gMjsKICAgIGlmKGFyZzIgPT0gMCkKICAgICAgYXJnMiA9IDEwOwogICAgaXQgPSBwc2ltcGw6OnNpbXBsaWZ5X29waGVpbTwyPigoZG91YmxlKilzdGFydCwgKGRvdWJsZSopZW5kLCBhcmcxLCBhcmcyLCBpdCk7CiAgfSBlbHNlIGlmKG1hZ2ljID09IDIpIHsKICAgIGlmKGFyZzEgPT0gMCkKICAgICAgYXJnMSA9IDI7CiAgICBpZihhcmcyID09IDApCiAgICAgIGFyZzIgPSAxMDsKICAgIGl0ID0gcHNpbXBsOjpzaW1wbGlmeV9sYW5nPDI+KChkb3VibGUqKXN0YXJ0LCAoZG91YmxlKillbmQsIGFyZzEsIGFyZzIsIGl0KTsKICB9IGVsc2UgaWYobWFnaWMgPT0gMykgewogICAgaWYoYXJnMSA9PSAwKQogICAgICBhcmcxID0gMjsKICAgIGl0ID0gcHNpbXBsOjpzaW1wbGlmeV9kb3VnbGFzX3BldWNrZXI8Mj4oKGRvdWJsZSopc3RhcnQsIChkb3VibGUqKWVuZCwgYXJnMSwgaXQpOwogIH0gZWxzZSBpZihtYWdpYyA9PSA0KSB7CiAgICBpZihhcmcxID09IDApCiAgICAgIGFyZzEgPSAyOwogICAgaXQgPSBwc2ltcGw6OnNpbXBsaWZ5X250aF9wb2ludDwyPigoZG91YmxlKilzdGFydCwgKGRvdWJsZSopZW5kLCBhcmcxLCBpdCk7CiAgfSBlbHNlIGlmKG1hZ2ljID09IDUpIHsKICAgIGlmKGFyZzEgPT0gMCkKICAgICAgYXJnMSA9IDI7CiAgICBpdCA9IHBzaW1wbDo6c2ltcGxpZnlfcmFkaWFsX2Rpc3RhbmNlPDI+KChkb3VibGUqKXN0YXJ0LCAoZG91YmxlKillbmQsIGFyZzEsIGl0KTsKICB9IGVsc2UgaWYobWFnaWMgPT0gNikgewogICAgaWYoYXJnMSA9PSAwKQogICAgICBhcmcxID0gMjsKICAgIGlmKGFyZzIgPT0gMCkKICAgICAgYXJnMiA9IDE7CiAgICBpdCA9IHBzaW1wbDo6c2ltcGxpZnlfcGVycGVuZGljdWxhcl9kaXN0YW5jZTwyPigoZG91YmxlKilzdGFydCwgKGRvdWJsZSopZW5kLCBhcmcxLCBhcmcyLCBpdCk7CiAgfQogIHNpemUgPSBpdCAtIChkb3VibGUqKSZyWzBdOwogIHIucmVzaXplKHNpemUgLyAyKTsKICByZXQgPSBqc19jb250b3VyX25ldzxkb3VibGU+KGN0eCwgcik7CiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl9wdXNoKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qIHY7CiAgaW50IGk7CiAgZG91YmxlIHgsIHk7CiAgSlNWYWx1ZUNvbnN0IHh2LCB5djsKICBKU1BvaW50RGF0YTxkb3VibGU+IHBvaW50OwoKICBpZighKHYgPSBqc19jb250b3VyX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgZm9yKGkgPSAwOyBpIDwgYXJnYzsgaSsrKSB7CiAgICBpZihKU19Jc09iamVjdChhcmd2W2ldKSkgewogICAgICB4diA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgYXJndltpXSwgIngiKTsKICAgICAgeXYgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGFyZ3ZbaV0sICJ5Iik7CiAgICB9IGVsc2UgaWYoanNfaXNfYXJyYXkoY3R4LCBhcmd2W2ldKSkgewoKICAgICAgeHYgPSBKU19HZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGFyZ3ZbaV0sIDApOwogICAgICB5diA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgYXJndltpXSwgMSk7CiAgICB9IGVsc2UgaWYoaSArIDEgPCBhcmdjKSB7CiAgICAgIHh2ID0gYXJndltpKytdOwogICAgICB5diA9IGFyZ3ZbaV07CiAgICB9CiAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmcG9pbnQueCwgeHYpOwogICAgSlNfVG9GbG9hdDY0KGN0eCwgJnBvaW50LnksIHl2KTsKCiAgICB2LT5wdXNoX2JhY2socG9pbnQpOwogIH0KICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jb250b3VyX3BvcChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KiB2OwogIEpTVmFsdWUgcmV0OwogIEpTVmFsdWUgeCwgeTsKICBKU1BvaW50RGF0YTxkb3VibGU+KnB0ciwgcG9pbnQ7CiAgaW50NjRfdCBuID0gMDsKCiAgaWYoISh2ID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgbiA9IHYtPnNpemUoKTsKICBpZihuID4gMCkgewogICAgcG9pbnQgPSAoKnYpW24gLSAxXTsKICAgIHYtPnBvcF9iYWNrKCk7CiAgfSBlbHNlIHsKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgfQoKICByZXQgPSBqc19wb2ludF9uZXcoY3R4LCBwb2ludC54LCBwb2ludC55KTsKCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl91bnNoaWZ0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qIHY7CiAgaW50IGk7CiAgZG91YmxlIHgsIHk7CiAgSlNWYWx1ZUNvbnN0IHh2LCB5djsKICBKU1BvaW50RGF0YTxkb3VibGU+IHBvaW50OwoKICBpZighKHYgPSBqc19jb250b3VyX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgZm9yKGkgPSAwOyBpIDwgYXJnYzsgaSsrKSB7CiAgICBpZihKU19Jc09iamVjdChhcmd2W2ldKSkgewogICAgICB4diA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgYXJndltpXSwgIngiKTsKICAgICAgeXYgPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIGFyZ3ZbaV0sICJ5Iik7CiAgICB9IGVsc2UgaWYoanNfaXNfYXJyYXkoY3R4LCBhcmd2W2ldKSkgewoKICAgICAgeHYgPSBKU19HZXRQcm9wZXJ0eVVpbnQzMihjdHgsIGFyZ3ZbaV0sIDApOwogICAgICB5diA9IEpTX0dldFByb3BlcnR5VWludDMyKGN0eCwgYXJndltpXSwgMSk7CiAgICB9IGVsc2UgaWYoaSArIDEgPCBhcmdjKSB7CiAgICAgIHh2ID0gYXJndltpKytdOwogICAgICB5diA9IGFyZ3ZbaV07CiAgICB9CiAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmcG9pbnQueCwgeHYpOwogICAgSlNfVG9GbG9hdDY0KGN0eCwgJnBvaW50LnksIHl2KTsKCiAgICB2LT5pbnNlcnQodi0+YmVnaW4oKSwgcG9pbnQpOwogIH0KICByZXR1cm4gSlNfVU5ERUZJTkVEOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jb250b3VyX3NoaWZ0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qIHY7CiAgSlNWYWx1ZSByZXQ7CiAgSlNWYWx1ZSB4LCB5OwogIEpTUG9pbnREYXRhPGRvdWJsZT4qcHRyLCBwb2ludDsKICBpbnQ2NF90IG4gPSAwOwoKICBpZighKHYgPSBqc19jb250b3VyX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICBuID0gdi0+c2l6ZSgpOwogIGlmKG4gPiAwKSB7CiAgICBwb2ludCA9ICgqdilbMF07CiAgICB2LT5lcmFzZSh2LT5iZWdpbigpKTsKICB9IGVsc2UgewogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKICB9CgogIHJldCA9IGpzX3BvaW50X25ldyhjdHgsIHBvaW50LngsIHBvaW50LnkpOwoKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jb250b3VyX2NvbmNhdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KnYsICpvdGhlciwgKnI7CiAgaW50IGk7CiAgZG91YmxlIHgsIHk7CiAgSlNWYWx1ZSByZXQ7CiAgSlNWYWx1ZUNvbnN0IHh2LCB5djsKICBKU1BvaW50RGF0YTxkb3VibGU+IHBvaW50OwoKICBpZighKHYgPSBqc19jb250b3VyX2RhdGEoY3R4LCB0aGlzX3ZhbCkpKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYoIShvdGhlciA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIGFyZ3ZbMF0pKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHJldCA9IGpzX2NvbnRvdXJfbmV3KGN0eCwgKnYpOwoKICByID0ganNfY29udG91cl9kYXRhKGN0eCwgcmV0KTsKICBzdGQ6OmNvcHkob3RoZXItPmNiZWdpbigpLCBvdGhlci0+Y2VuZCgpLCBzdGQ6OmJhY2tfaW5zZXJ0ZXIoKnIpKTsKICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jb250b3VyX3JvdGF0ZWRyZWN0YW5nbGVpbnRlcnNlY3Rpb24oSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTQ29udG91ckRhdGE8ZG91YmxlPip2LCAqb3RoZXIgPSBudWxscHRyLCAqcHRyOwogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIGJvb2wgaGFuZGxlTmVzdGVkID0gdHJ1ZTsKICBKU0NvbnRvdXJEYXRhPGZsb2F0PiBhLCBiLCBpbnRlcnNlY3Rpb247CgogIGlmKCEodiA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihhcmdjID4gMCkgewogICAgb3RoZXIgPSBzdGF0aWNfY2FzdDxKU0NvbnRvdXJEYXRhPGRvdWJsZT4qPihKU19HZXRPcGFxdWUyKGN0eCwgYXJndlswXSwganNfY29udG91cl9jbGFzc19pZCkpOwogIH0KCiAgc3RkOjp0cmFuc2Zvcm0odi0+YmVnaW4oKSwgdi0+ZW5kKCksIHN0ZDo6YmFja19pbnNlcnRlcihhKSwgW10oY29uc3QgSlNQb2ludERhdGE8ZG91YmxlPiYgcHQpIC0+IEpTUG9pbnREYXRhPGZsb2F0PiB7CiAgICByZXR1cm4gSlNQb2ludERhdGE8ZmxvYXQ+KHB0LngsIHB0LnkpOwogIH0pOwoKICBzdGQ6OnRyYW5zZm9ybShvdGhlci0+YmVnaW4oKSwgb3RoZXItPmVuZCgpLCBzdGQ6OmJhY2tfaW5zZXJ0ZXIoYiksIFtdKGNvbnN0IEpTUG9pbnREYXRhPGRvdWJsZT4mIHB0KSAtPiBKU1BvaW50RGF0YTxmbG9hdD4gewogICAgcmV0dXJuIEpTUG9pbnREYXRhPGZsb2F0PihwdC54LCBwdC55KTsKICB9KTsKICB7CiAgICBjdjo6Um90YXRlZFJlY3QgcnJhKGFbMF0sIGFbMV0sIGFbMl0pOwogICAgY3Y6OlJvdGF0ZWRSZWN0IHJyYihiWzBdLCBiWzFdLCBiWzJdKTsKCiAgICBjdjo6cm90YXRlZFJlY3RhbmdsZUludGVyc2VjdGlvbihycmEsIHJyYiwgaW50ZXJzZWN0aW9uKTsKCiAgICByZXQgPSBqc19jb250b3VyX25ldyhjdHgsIGludGVyc2VjdGlvbik7CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfcm90YXRlcG9pbnRzKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qIHMgPSBqc19jb250b3VyX2RhdGEoY3R4LCB0aGlzX3ZhbCk7CiAgaW50MzJfdCBzaGlmdCA9IDE7CiAgdWludDMyX3Qgc2l6ZSA9IHMtPnNpemUoKTsKICBpZighcykKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgaWYoYXJnYyA+IDApCiAgICBKU19Ub0ludDMyKGN0eCwgJnNoaWZ0LCBhcmd2WzBdKTsKCiAgc2hpZnQgJT0gc2l6ZTsKCiAgaWYoc2hpZnQgPiAwKSB7CiAgICBzdGQ6OnJvdGF0ZShzLT5iZWdpbigpLCBzLT5iZWdpbigpICsgc2hpZnQsIHMtPmVuZCgpKTsKCiAgfSBlbHNlIGlmKHNoaWZ0IDwgMCkgewogICAgc3RkOjpyb3RhdGUocy0+cmJlZ2luKCksIHMtPnJiZWdpbigpICsgKC1zaGlmdCksIHMtPnJlbmQoKSk7CiAgfQogIHJldHVybiBKU1ZhbHVlKHRoaXNfdmFsKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl90b2FycmF5KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qIHM7CiAgdWludDMyX3QgaSwgc2l6ZTsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoIShzID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgc2l6ZSA9IHMtPnNpemUoKTsKICByZXQgPSBKU19OZXdBcnJheShjdHgpOwoKICBmb3IoaSA9IDA7IGkgPCBzaXplOyBpKyspIHsgSlNfU2V0UHJvcGVydHlVaW50MzIoY3R4LCByZXQsIGksIGpzX3BvaW50X2Nsb25lKGN0eCwgKCpzKVtpXSkpOyB9CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfdG9zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndiwgaW50IG1hZ2ljKSB7CiAgSlNDb250b3VyRGF0YTxkb3VibGU+KiBzOwogIHN0ZDo6b3N0cmluZ3N0cmVhbSBvczsKICBpbnQgaSA9IDA7CiAgaW50IHByZWMgPSA5OwogIGludDMyX3QgZmxhZ3M7CgogIGlmKCEocyA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBpZihtYWdpYyA9PSAxICYmICEoZmxhZ3MgJiAweDEwMCkpCiAgICBvcyA8PCAibmV3IENvbnRvdXIoIjsKCiAgaWYoYXJnYyA+IDApCiAgICBKU19Ub0ludDMyKGN0eCwgJmZsYWdzLCBhcmd2WzBdKTsKICBlbHNlCiAgICBmbGFncyA9IDA7CgogIGlmKCEoZmxhZ3MgJiAweDEwMCkpCiAgICBvcyA8PCAnWyc7CgogIHN0ZDo6Zm9yX2VhY2gocy0+YmVnaW4oKSwgcy0+ZW5kKCksIFsmaSwgJm9zLCBmbGFncywgcHJlY10oY29uc3QgSlNQb2ludERhdGE8ZG91YmxlPiYgcG9pbnQpIHsKICAgIGlmKGkgPiAwKQogICAgICBvcyA8PCAoKGZsYWdzICYgMHgxMCkgPyAiICIgOiAiLCIpOwoKICAgIGlmKCEoZmxhZ3MgJiAweDEwMCkpCiAgICAgIG9zIDw8ICgoZmxhZ3MgJiAweDAzKSA9PSAwID8gInsiIDogIlsiKTsKCiAgICBpZihmbGFncyAmIDB4MDMpCiAgICAgIG9zIDw8IHN0ZDo6c2V0cHJlY2lzaW9uKHByZWMpIDw8IHBvaW50LnggPDwgIiwiIDw8IHBvaW50Lnk7CiAgICBlbHNlCiAgICAgIG9zIDw8ICJ4OiIgPDwgc3RkOjpzZXRwcmVjaXNpb24ocHJlYykgPDwgcG9pbnQueCA8PCAiLHk6IiA8PCBwb2ludC55OwoKICAgIGlmKCEoZmxhZ3MgJiAweDEwMCkpCiAgICAgIG9zIDw8ICgoZmxhZ3MgJiAweDAzKSA9PSAwID8gIn0iIDogIl0iKTsKCiAgICBpKys7CiAgfSk7CiAgaWYoIShmbGFncyAmIDB4MTAwKSkKICAgIG9zIDw8ICddJzsgLy8gPDwgc3RkOjplbmRsOwoKICBpZihtYWdpYyA9PSAxICYmICEoZmxhZ3MgJiAweDEwMCkpCiAgICBvcyA8PCAiKSI7CgogIHJldHVybiBKU19OZXdTdHJpbmcoY3R4LCBvcy5zdHIoKS5jX3N0cigpKTsKfQoKc3RhdGljIEpTVmFsdWUKanNfY29udG91cl9yZWN0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4gcG9pbnRzOwogIEpTUmVjdERhdGE8ZG91YmxlPiBzID0ganNfcmVjdF9nZXQoY3R4LCBhcmd2WzBdKTsKCiAgcG9pbnRzLnB1c2hfYmFjayhKU1BvaW50RGF0YTxkb3VibGU+KHMueCwgcy55KSk7CiAgcG9pbnRzLnB1c2hfYmFjayhKU1BvaW50RGF0YTxkb3VibGU+KHMueCArIHMud2lkdGgsIHMueSkpOwogIHBvaW50cy5wdXNoX2JhY2soSlNQb2ludERhdGE8ZG91YmxlPihzLnggKyBzLndpZHRoLCBzLnkgKyBzLmhlaWdodCkpOwogIHBvaW50cy5wdXNoX2JhY2soSlNQb2ludERhdGE8ZG91YmxlPihzLngsIHMueSArIHMuaGVpZ2h0KSk7CiAgcG9pbnRzLnB1c2hfYmFjayhKU1BvaW50RGF0YTxkb3VibGU+KHMueCwgcy55KSk7CgogIHJldCA9IGpzX2NvbnRvdXJfbmV3PGRvdWJsZT4oY3R4LCBwb2ludHMpOwogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX2NvbnRvdXJfZ2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBtYWdpYykgewogIEpTQ29udG91ckRhdGE8ZG91YmxlPiogY29udG91cjsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKCiAgaWYoIShjb250b3VyID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSAwOiB7CiAgICAgIEpTQ29udG91ckRhdGE8ZmxvYXQ+IHBvaW50czsKICAgICAgSlNSZWN0RGF0YTxmbG9hdD4gcmVjdDsKCiAgICAgIHBvaW50cy5yZXNpemUoY29udG91ci0+c2l6ZSgpKTsKCiAgICAgIHN0ZDo6Y29weShjb250b3VyLT5iZWdpbigpLCBjb250b3VyLT5lbmQoKSwgcG9pbnRzLmJlZ2luKCkpOwoKICAgICAgcmVjdCA9IGN2Ojpib3VuZGluZ1JlY3QocG9pbnRzKTsKCiAgICAgIHJldCA9IEpTX05ld0Zsb2F0NjQoY3R4LCAoZG91YmxlKXJlY3Qud2lkdGggLyByZWN0LmhlaWdodCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSAxOiB7CiAgICAgIGRvdWJsZSBhcmVhID0gY3Y6OmNvbnRvdXJBcmVhKCpjb250b3VyKTsKICAgICAgSlNSZWN0RGF0YTxkb3VibGU+IHJlY3QgPSBjdjo6Ym91bmRpbmdSZWN0KCpjb250b3VyKTsKCiAgICAgIHJldCA9IEpTX05ld0Zsb2F0NjQoY3R4LCBhcmVhIC8gKHJlY3Qud2lkdGggKiByZWN0LmhlaWdodCkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgMjogewogICAgICBkb3VibGUgYXJlYSA9IGN2Ojpjb250b3VyQXJlYSgqY29udG91cik7CiAgICAgIEpTQ29udG91ckRhdGE8ZG91YmxlPiBodWxsOwogICAgICBjdjo6Y29udmV4SHVsbCgqY29udG91ciwgaHVsbCk7CiAgICAgIGRvdWJsZSBodWxsQXJlYSA9IGN2Ojpjb250b3VyQXJlYShodWxsKTsKCiAgICAgIHJldCA9IEpTX05ld0Zsb2F0NjQoY3R4LCBhcmVhIC8gY3Y6OmNvbnRvdXJBcmVhKGh1bGwpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIDM6IHsKICAgICAgZG91YmxlIGFyZWEgPSBjdjo6Y29udG91ckFyZWEoKmNvbnRvdXIpOwoKICAgICAgcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsIHN0ZDo6c3FydCg0ICogYXJlYSAvIDMuMTQxNTkyNjUzNTg5NzkzMjM4NDYpKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIDQ6IHsKICAgICAgY3Y6OlJvdGF0ZWRSZWN0IHJlY3QgPSBjdjo6Zml0RWxsaXBzZSgqY29udG91cik7CgogICAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgcmVjdC5hbmdsZSk7CiAgICAgIGJyZWFrOwogICAgfQogIH0KICByZXR1cm4gcmV0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19jb250b3VyX2luc3BlY3QoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTQ29udG91ckRhdGE8ZG91YmxlPiogY29udG91cjsKCiAgaWYoIShjb250b3VyID0ganNfY29udG91cl9kYXRhKGN0eCwgdGhpc192YWwpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIEpTVmFsdWUgb2JqID0gSlNfTmV3T2JqZWN0Q2xhc3MoY3R4LCBqc19jb250b3VyX2NsYXNzX2lkKTsKCiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgImxlbmd0aCIsIEpTX05ld1VpbnQzMihjdHgsIGNvbnRvdXItPnNpemUoKSksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgcmV0dXJuIG9iajsKfQoKZXh0ZXJuICJDIiB7CgpKU0NsYXNzRGVmIGpzX2NvbnRvdXJfY2xhc3MgPSB7CiAgICAuY2xhc3NfbmFtZSA9ICJDb250b3VyIiwKICAgIC5maW5hbGl6ZXIgPSBqc19jb250b3VyX2ZpbmFsaXplciwKfTsKCkpTVmFsdWUKanNfY29udG91cl9pdGVyYXRvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2LCBpbnQgbWFnaWMpIHsKICBKU0NvbnRvdXJEYXRhPGRvdWJsZT4qIHM7CgogIGlmKCEocyA9IGpzX2NvbnRvdXJfZGF0YShjdHgsIHRoaXNfdmFsKSkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICByZXR1cm4ganNfcG9pbnRfaXRlcmF0b3JfbmV3KGN0eCwgcy0+ZGF0YSgpLCBzLT5kYXRhKCkgKyBzLT5zaXplKCksIG1hZ2ljKTsKfQoKY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfY29udG91cl9wcm90b19mdW5jc1tdID0gewogICAgSlNfQ0ZVTkNfREVGKCJwdXNoIiwgMSwganNfY29udG91cl9wdXNoKSwKICAgIEpTX0NGVU5DX0RFRigicG9wIiwgMCwganNfY29udG91cl9wb3ApLAogICAgSlNfQ0ZVTkNfREVGKCJ1bnNoaWZ0IiwgMSwganNfY29udG91cl91bnNoaWZ0KSwKICAgIEpTX0NGVU5DX0RFRigic2hpZnQiLCAwLCBqc19jb250b3VyX3NoaWZ0KSwKICAgIEpTX0NGVU5DX0RFRigiY29uY2F0IiwgMSwganNfY29udG91cl9jb25jYXQpLAogICAgSlNfQ0ZVTkNfREVGKCJhdCIsIDEsIGpzX2NvbnRvdXJfYXQpLAogICAgSlNfQ0ZVTkNfREVGKCJnZXRNYXQiLCAwLCBqc19jb250b3VyX2dldG1hdCksCiAgICBKU19DR0VUU0VUX0RFRigibGVuZ3RoIiwganNfY29udG91cl9sZW5ndGgsIE5VTEwpLAogICAgSlNfQ0dFVFNFVF9ERUYoImFyZWEiLCBqc19jb250b3VyX2FyZWEsIE5VTEwpLAogICAgSlNfQ0dFVFNFVF9ERUYoImJ1ZmZlciIsIGpzX2NvbnRvdXJfYnVmZmVyLCBOVUxMKSwKICAgIEpTX0NHRVRTRVRfREVGKCJhcnJheSIsIGpzX2NvbnRvdXJfYXJyYXksIE5VTEwpLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImFzcGVjdFJhdGlvIiwganNfY29udG91cl9nZXQsIE5VTEwsIDApLAogICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoImV4dGVudCIsIGpzX2NvbnRvdXJfZ2V0LCBOVUxMLCAxKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJzb2xpZGl0eSIsIGpzX2NvbnRvdXJfZ2V0LCBOVUxMLCAyKSwKICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJlcXVpdmFsZW50RGlhbWV0ZXIiLCBqc19jb250b3VyX2dldCwgTlVMTCwgMyksCiAgICBKU19DR0VUU0VUX01BR0lDX0RFRigib3JpZW50YXRpb24iLCBqc19jb250b3VyX2dldCwgTlVMTCwgNCksCgogICAgSlNfQ0ZVTkNfREVGKCJhcHByb3hQb2x5RFAiLCAxLCBqc19jb250b3VyX2FwcHJveHBvbHlkcCksCiAgICBKU19DRlVOQ19ERUYoImNvbnZleEh1bGwiLCAxLCBqc19jb250b3VyX2NvbnZleGh1bGwpLAogICAgSlNfQ0ZVTkNfREVGKCJib3VuZGluZ1JlY3QiLCAwLCBqc19jb250b3VyX2JvdW5kaW5ncmVjdCksCiAgICBKU19DRlVOQ19ERUYoImZpdEVsbGlwc2UiLCAwLCBqc19jb250b3VyX2ZpdGVsbGlwc2UpLAogICAgSlNfQ0ZVTkNfREVGKCJmaXRMaW5lIiwgMCwganNfY29udG91cl9maXRsaW5lKSwKICAgIEpTX0NGVU5DX0RFRigiaW50ZXJzZWN0Q29udmV4IiwgMCwganNfY29udG91cl9pbnRlcnNlY3Rjb252ZXgpLAogICAgSlNfQ0ZVTkNfREVGKCJpc0NvbnZleCIsIDAsIGpzX2NvbnRvdXJfaXNjb252ZXgpLAogICAgSlNfQ0ZVTkNfREVGKCJtaW5BcmVhUmVjdCIsIDAsIGpzX2NvbnRvdXJfbWluYXJlYXJlY3QpLAogICAgSlNfQ0ZVTkNfREVGKCJtaW5FbmNsb3NpbmdDaXJjbGUiLCAwLCBqc19jb250b3VyX21pbmVuY2xvc2luZ2NpcmNsZSksCiAgICBKU19DRlVOQ19ERUYoIm1pbkVuY2xvc2luZ1RyaWFuZ2xlIiwgMCwganNfY29udG91cl9taW5lbmNsb3Npbmd0cmlhbmdsZSksCiAgICBKU19DRlVOQ19ERUYoInBvaW50UG9seWdvblRlc3QiLCAwLCBqc19jb250b3VyX3BvaW50cG9seWdvbnRlc3QpLAogICAgSlNfQ0ZVTkNfREVGKCJyb3RhdGVkUmVjdGFuZ2xlSW50ZXJzZWN0aW9uIiwgMCwganNfY29udG91cl9yb3RhdGVkcmVjdGFuZ2xlaW50ZXJzZWN0aW9uKSwKICAgIEpTX0NGVU5DX0RFRigiYXJjTGVuZ3RoIiwgMCwganNfY29udG91cl9hcmNsZW5ndGgpLAogICAgSlNfQ0ZVTkNfREVGKCJyb3RhdGVQb2ludHMiLCAxLCBqc19jb250b3VyX3JvdGF0ZXBvaW50cyksCiAgICBKU19DRlVOQ19ERUYoImNvbnZleGl0eURlZmVjdHMiLCAxLCBqc19jb250b3VyX2NvbnZleGl0eWRlZmVjdHMpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJzaW1wbGlmeVJldW1hbm5XaXRrYW0iLCAwLCBqc19jb250b3VyX3BzaW1wbCwgMCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInNpbXBsaWZ5T3BoZWltIiwgMCwganNfY29udG91cl9wc2ltcGwsIDEpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJzaW1wbGlmeUxhbmciLCAwLCBqc19jb250b3VyX3BzaW1wbCwgMiksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInNpbXBsaWZ5RG91Z2xhc1BldWNrZXIiLCAwLCBqc19jb250b3VyX3BzaW1wbCwgMyksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInNpbXBsaWZ5TnRoUG9pbnQiLCAwLCBqc19jb250b3VyX3BzaW1wbCwgNCksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInNpbXBsaWZ5UmFkaWFsRGlzdGFuY2UiLCAwLCBqc19jb250b3VyX3BzaW1wbCwgNSksCiAgICBKU19DRlVOQ19NQUdJQ19ERUYoInNpbXBsaWZ5UGVycGVuZGljdWxhckRpc3RhbmNlIiwgMCwganNfY29udG91cl9wc2ltcGwsIDYpLAogICAgSlNfQ0ZVTkNfREVGKCJ0b0FycmF5IiwgMCwganNfY29udG91cl90b2FycmF5KSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigidG9TdHJpbmciLCAwLCBqc19jb250b3VyX3Rvc3RyaW5nLCAwKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigidG9Tb3VyY2UiLCAwLCBqc19jb250b3VyX3Rvc3RyaW5nLCAxKSwKICAgIEpTX0NGVU5DX01BR0lDX0RFRigibGluZXMiLCAwLCBqc19jb250b3VyX2l0ZXJhdG9yLCBORVhUX0xJTkUpLAogICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJwb2ludHMiLCAwLCBqc19jb250b3VyX2l0ZXJhdG9yLCBORVhUX1BPSU5UKSwKCiAgICBKU19BTElBU19ERUYoIltTeW1ib2wuaXRlcmF0b3JdIiwgInBvaW50cyIpLAogICAgSlNfQUxJQVNfREVGKCJzaXplIiwgImxlbmd0aCIpLAogICAgLy8gICAgSlNfQUxJQVNfREVGKCJbU3ltYm9sLnRvU3RyaW5nVGFnXSIsICJ0b1N0cmluZyIpLAoKICAgIEpTX1BST1BfU1RSSU5HX0RFRigiW1N5bWJvbC50b1N0cmluZ1RhZ10iLCAiQ29udG91ciIsIEpTX1BST1BfQ09ORklHVVJBQkxFKSwKCn07CmNvbnN0IEpTQ0Z1bmN0aW9uTGlzdEVudHJ5IGpzX2NvbnRvdXJfc3RhdGljX2Z1bmNzW10gPSB7CiAgICBKU19DRlVOQ19ERUYoImZyb21SZWN0IiwgMSwganNfY29udG91cl9yZWN0KSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJGT1JNQVRfWFkiLCAweDAwLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJGT1JNQVRfMDEiLCAweDAyLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJGT1JNQVRfU1BBQ0UiLCAweDEwLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJGT1JNQVRfQ09NTUEiLCAweDAwLCAwKSwKICAgIEpTX1BST1BfSU5UMzJfREVGKCJGT1JNQVRfQlJBQ0tFVCIsIDB4MDAsIDApLAogICAgSlNfUFJPUF9JTlQzMl9ERUYoIkZPUk1BVF9OT0JSQUNLRVQiLCAweDEwMCwgMCksCn07CgppbnQKanNfY29udG91cl9pbml0KEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewoKICBpZihqc19jb250b3VyX2NsYXNzX2lkID09IDApIHsKICAgIC8qIGNyZWF0ZSB0aGUgQ29udG91ciBjbGFzcyAqLwogICAgSlNfTmV3Q2xhc3NJRCgmanNfY29udG91cl9jbGFzc19pZCk7CiAgICBKU19OZXdDbGFzcyhKU19HZXRSdW50aW1lKGN0eCksIGpzX2NvbnRvdXJfY2xhc3NfaWQsICZqc19jb250b3VyX2NsYXNzKTsKCiAgICBjb250b3VyX3Byb3RvID0gSlNfTmV3T2JqZWN0KGN0eCk7CiAgICBKU19TZXRQcm9wZXJ0eUZ1bmN0aW9uTGlzdChjdHgsIGNvbnRvdXJfcHJvdG8sIGpzX2NvbnRvdXJfcHJvdG9fZnVuY3MsIGNvdW50b2YoanNfY29udG91cl9wcm90b19mdW5jcykpOwogICAgSlNfU2V0Q2xhc3NQcm90byhjdHgsIGpzX2NvbnRvdXJfY2xhc3NfaWQsIGNvbnRvdXJfcHJvdG8pOwoKICAgIGNvbnRvdXJfY2xhc3MgPSBKU19OZXdDRnVuY3Rpb24yKGN0eCwganNfY29udG91cl9jb25zdHJ1Y3RvciwgIkNvbnRvdXIiLCAyLCBKU19DRlVOQ19jb25zdHJ1Y3RvciwgMCk7CiAgICAvKiBzZXQgcHJvdG8uY29uc3RydWN0b3IgYW5kIGN0b3IucHJvdG90eXBlICovCiAgICBKU19TZXRDb25zdHJ1Y3RvcihjdHgsIGNvbnRvdXJfY2xhc3MsIGNvbnRvdXJfcHJvdG8pOwogICAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBjb250b3VyX2NsYXNzLCBqc19jb250b3VyX3N0YXRpY19mdW5jcywgY291bnRvZihqc19jb250b3VyX3N0YXRpY19mdW5jcykpOwogIH0KICBqc19zZXRfaW5zcGVjdF9tZXRob2QoY3R4LCBjb250b3VyX3Byb3RvLCBqc19jb250b3VyX2luc3BlY3QpOwoKICB7CiAgICBKU1ZhbHVlIGdsb2JhbCA9IEpTX0dldEdsb2JhbE9iamVjdChjdHgpOwogICAgZmxvYXQ2NF9hcnJheSA9IEpTX0dldFByb3BlcnR5U3RyKGN0eCwgZ2xvYmFsLCAiRmxvYXQ2NEFycmF5Iik7CiAgfQoKICBpZihtKQogICAgSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgIkNvbnRvdXIiLCBjb250b3VyX2NsYXNzKTsKICAvKiAgZWxzZQogICAgICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsICpzdGF0aWNfY2FzdDxKU1ZhbHVlKj4obSksICJDb250b3VyIiwgY29udG91cl9jbGFzcyk7Ki8KICByZXR1cm4gMDsKfQoKZXh0ZXJuICJDIiBWSVNJQkxFIHZvaWQKanNfY29udG91cl9leHBvcnQoSlNDb250ZXh0KiBjdHgsIEpTTW9kdWxlRGVmKiBtKSB7CiAgSlNfQWRkTW9kdWxlRXhwb3J0KGN0eCwgbSwgIkNvbnRvdXIiKTsKfQoKI2lmIGRlZmluZWQoSlNfQ09OVE9VUl9NT0RVTEUpCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUgVklTSUJMRSBqc19pbml0X21vZHVsZQojZWxzZQojZGVmaW5lIEpTX0lOSVRfTU9EVUxFIGpzX2luaXRfbW9kdWxlX2NvbnRvdXIKI2VuZGlmCgpKU01vZHVsZURlZioKSlNfSU5JVF9NT0RVTEUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG1vZHVsZV9uYW1lKSB7CiAgSlNNb2R1bGVEZWYqIG07CiAgbSA9IEpTX05ld0NNb2R1bGUoY3R4LCBtb2R1bGVfbmFtZSwgJmpzX2NvbnRvdXJfaW5pdCk7CiAgaWYoIW0pCiAgICByZXR1cm4gTlVMTDsKICBqc19jb250b3VyX2V4cG9ydChjdHgsIG0pOwogIHJldHVybiBtOwp9Cn0KAAAAAAAAAABUfgAAAAAAAAAAAAAAAAAAAAAAAFR+AAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADaagAAAAAAANpqAAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"file": "js_contour.hpp",
			"settings":
			{
				"buffer_size": 2117,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					12,
					2,
					"left_delete",
					null,
					"AgAAAOUAAAAAAAAA5QAAAAAAAABCAAAAZXh0ZXJuICJDIiBWSVNJQkxFIGludCBqc19jb250b3VyX2luaXQoSlNDb250ZXh0KiwgSlNNb2R1bGVEZWYqKTsK5AAAAAAAAADkAAAAAAAAAAEAAAAK",
					"AQAAAAAAAAABAAAA5QAAAAAAAAAnAQAAAAAAAAAAAAAAAPC/"
				],
				[
					79,
					1,
					"paste",
					null,
					"AQAAAC8AAAAAAAAASQAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAALwAAAAAAAAAvAAAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "js_point_iterator.hpp",
			"settings":
			{
				"buffer_size": 770,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					15,
					1,
					"insert",
					{
						"characters": " "
					},
					"AgAAAJoBAAAAAAAAmwEAAAAAAAAAAAAAmwEAAAAAAACbAQAAAAAAABwAAABjb25zdCBzdGQ6OnJhbmdlczo6c3VicmFuZ2U8",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACaAQAAAAAAALYBAAAAAAAAAAAAAAAA8L8"
				],
				[
					20,
					1,
					"insert",
					{
						"characters": " "
					},
					"AgAAAK8BAAAAAAAAsAEAAAAAAAAAAAAAsAEAAAAAAACwAQAAAAAAAAgAAAA+JiByYW5nZQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACvAQAAAAAAALcBAAAAAAAAAAAAAAAA8L8"
				],
				[
					21,
					1,
					"insert",
					{
						"characters": "fg"
					},
					"AgAAALABAAAAAAAAsQEAAAAAAAAAAAAAsQEAAAAAAACyAQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACwAQAAAAAAALABAAAAAAAAAAAAAAAA8L8"
				],
				[
					22,
					1,
					"left_delete",
					null,
					"AQAAALEBAAAAAAAAsQEAAAAAAAABAAAAZw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACyAQAAAAAAALIBAAAAAAAAAAAAAAAA8L8"
				],
				[
					23,
					1,
					"insert",
					{
						"characters": "irst,"
					},
					"BQAAALEBAAAAAAAAsgEAAAAAAAAAAAAAsgEAAAAAAACzAQAAAAAAAAAAAACzAQAAAAAAALQBAAAAAAAAAAAAALQBAAAAAAAAtQEAAAAAAAAAAAAAtQEAAAAAAAC2AQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACxAQAAAAAAALEBAAAAAAAAAAAAAAAA8L8"
				],
				[
					24,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAALYBAAAAAAAAtwEAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC2AQAAAAAAALYBAAAAAAAAAAAAAAAA8L8"
				],
				[
					30,
					1,
					"paste",
					null,
					"AQAAALcBAAAAAAAA0QEAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC3AQAAAAAAALcBAAAAAAAAAAAAAAAA8L8"
				],
				[
					34,
					1,
					"insert",
					{
						"characters": "last"
					},
					"BQAAAMwBAAAAAAAAzQEAAAAAAAAAAAAAzQEAAAAAAADNAQAAAAAAAAUAAABmaXJzdM0BAAAAAAAAzgEAAAAAAAAAAAAAzgEAAAAAAADPAQAAAAAAAAAAAADPAQAAAAAAANABAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADMAQAAAAAAANEBAAAAAAAAAAAAAAAA8L8"
				],
				[
					41,
					1,
					"insert",
					{
						"characters": "::iut"
					},
					"BQAAAK4BAAAAAAAArwEAAAAAAAAAAAAArwEAAAAAAACwAQAAAAAAAAAAAACwAQAAAAAAALEBAAAAAAAAAAAAALEBAAAAAAAAsgEAAAAAAAAAAAAAsgEAAAAAAACzAQAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACuAQAAAAAAAK4BAAAAAAAAAAAAAAAA8L8"
				],
				[
					42,
					2,
					"left_delete",
					null,
					"AgAAALIBAAAAAAAAsgEAAAAAAAABAAAAdLEBAAAAAAAAsQEAAAAAAAABAAAAdQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACzAQAAAAAAALMBAAAAAAAAAAAAAAAA8L8"
				],
				[
					43,
					1,
					"insert",
					{
						"characters": "terator"
					},
					"BwAAALEBAAAAAAAAsgEAAAAAAAAAAAAAsgEAAAAAAACzAQAAAAAAAAAAAACzAQAAAAAAALQBAAAAAAAAAAAAALQBAAAAAAAAtQEAAAAAAAAAAAAAtQEAAAAAAAC2AQAAAAAAAAAAAAC2AQAAAAAAALcBAAAAAAAAAAAAALcBAAAAAAAAuAEAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACxAQAAAAAAALEBAAAAAAAAAAAAAAAA8L8"
				],
				[
					44,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAALgBAAAAAAAAuQEAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC4AQAAAAAAALgBAAAAAAAAAAAAAAAA8L8"
				],
				[
					45,
					1,
					"right_delete",
					null,
					"AQAAALkBAAAAAAAAuQEAAAAAAAABAAAAKg",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC5AQAAAAAAALkBAAAAAAAAAAAAAAAA8L8"
				],
				[
					46,
					1,
					"left_delete",
					null,
					"AQAAALgBAAAAAAAAuAEAAAAAAAABAAAAIA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC5AQAAAAAAALkBAAAAAAAAAAAAAAAA8L8"
				],
				[
					54,
					1,
					"paste",
					null,
					"AgAAANMBAAAAAAAA3QEAAAAAAAAAAAAA3QEAAAAAAADdAQAAAAAAAAEAAAAq",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADUAQAAAAAAANMBAAAAAAAAAAAAAAAA8L8"
				],
				[
					60,
					1,
					"insert",
					{
						"characters": "*"
					},
					"AgAAAK4BAAAAAAAArwEAAAAAAAAAAAAArwEAAAAAAACvAQAAAAAAAAoAAAA6Oml0ZXJhdG9y",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACuAQAAAAAAALgBAAAAAAAAAAAAAAAA8L8"
				],
				[
					66,
					1,
					"paste",
					null,
					"AgAAAMoBAAAAAAAAywEAAAAAAAAAAAAAywEAAAAAAADLAQAAAAAAAAoAAAA6Oml0ZXJhdG9y",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADKAQAAAAAAANQBAAAAAAAAAAAAAAAA8L8"
				],
				[
					70,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAVAwAAI2lmbmRlZiBKU19QT0lOVF9JVEVSQVRPUl9IUFAKI2RlZmluZSBKU19QT0lOVF9JVEVSQVRPUl9IUFAKCiNpbmNsdWRlICJqc2JpbmRpbmdzLmhwcCIKI2luY2x1ZGUgPHJhbmdlcz4KCmV4dGVybiAiQyIgVklTSUJMRSBpbnQganNfcG9pbnRfaXRlcmF0b3JfaW5pdChKU0NvbnRleHQqLCBKU01vZHVsZURlZiopOwoKZXh0ZXJuICJDIiB7CmVudW0gSlNQb2ludEl0ZXJhdG9yTWFnaWMgeyBORVhUX1BPSU5UID0gMCwgTkVYVF9MSU5FIH07CgpleHRlcm4gSlNWYWx1ZSBwb2ludF9pdGVyYXRvcl9wcm90bywgcG9pbnRfaXRlcmF0b3JfY2xhc3M7CmV4dGVybiBKU0NsYXNzSUQganNfcG9pbnRfaXRlcmF0b3JfY2xhc3NfaWQ7CgpWSVNJQkxFIEpTVmFsdWUganNfcG9pbnRfaXRlcmF0b3JfbmV3KEpTQ29udGV4dCogY3R4LCAgSlNQb2ludERhdGE8ZG91YmxlPiogZmlyc3QsIEpTUG9pbnREYXRhPGRvdWJsZT4qIGxhc3QsIGludCBtYWdpYyk7CgppbnQganNfcG9pbnRfaXRlcmF0b3JfaW5pdChKU0NvbnRleHQqLCBKU01vZHVsZURlZiogbSk7CgpKU01vZHVsZURlZioganNfaW5pdF9tb2R1bGVfcG9pbnRfaXRlcmF0b3IoSlNDb250ZXh0KiwgY29uc3QgY2hhciogbW9kdWxlX25hbWUpOwp9CgpzdHJ1Y3QgSlNQb2ludEl0ZXJhdG9yRGF0YSA6IHB1YmxpYyBzdGQ6OnBhaXI8SlNQb2ludERhdGE8ZG91YmxlPiosIEpTUG9pbnREYXRhPGRvdWJsZT4qPiB7CiAgSlNQb2ludEl0ZXJhdG9yTWFnaWMgbWFnaWM7Cn07CgojZW5kaWYgLyogZGVmaW5lZChKU19QT0lOVF9JVEVSQVRPUl9IUFApICovAAAAAAAAAAAUAwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACbAQAAAAAAANEBAAAAAAAAAAAAAAAA8L8"
				],
				[
					71,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAUAwAAI2lmbmRlZiBKU19QT0lOVF9JVEVSQVRPUl9IUFAKI2RlZmluZSBKU19QT0lOVF9JVEVSQVRPUl9IUFAKCiNpbmNsdWRlICJqc2JpbmRpbmdzLmhwcCIKI2luY2x1ZGUgPHJhbmdlcz4KCmV4dGVybiAiQyIgVklTSUJMRSBpbnQganNfcG9pbnRfaXRlcmF0b3JfaW5pdChKU0NvbnRleHQqLCBKU01vZHVsZURlZiopOwoKZXh0ZXJuICJDIiB7CmVudW0gSlNQb2ludEl0ZXJhdG9yTWFnaWMgeyBORVhUX1BPSU5UID0gMCwgTkVYVF9MSU5FIH07CgpleHRlcm4gSlNWYWx1ZSBwb2ludF9pdGVyYXRvcl9wcm90bywgcG9pbnRfaXRlcmF0b3JfY2xhc3M7CmV4dGVybiBKU0NsYXNzSUQganNfcG9pbnRfaXRlcmF0b3JfY2xhc3NfaWQ7CgpWSVNJQkxFIEpTVmFsdWUganNfcG9pbnRfaXRlcmF0b3JfbmV3KEpTQ29udGV4dCogY3R4LCBKU1BvaW50RGF0YTxkb3VibGU+KiBmaXJzdCwgSlNQb2ludERhdGE8ZG91YmxlPiogbGFzdCwgaW50IG1hZ2ljKTsKCmludCBqc19wb2ludF9pdGVyYXRvcl9pbml0KEpTQ29udGV4dCosIEpTTW9kdWxlRGVmKiBtKTsKCkpTTW9kdWxlRGVmKiBqc19pbml0X21vZHVsZV9wb2ludF9pdGVyYXRvcihKU0NvbnRleHQqLCBjb25zdCBjaGFyKiBtb2R1bGVfbmFtZSk7Cn0KCnN0cnVjdCBKU1BvaW50SXRlcmF0b3JEYXRhIDogcHVibGljIHN0ZDo6cGFpcjxKU1BvaW50RGF0YTxkb3VibGU+KiwgSlNQb2ludERhdGE8ZG91YmxlPio+IHsKICBKU1BvaW50SXRlcmF0b3JNYWdpYyBtYWdpYzsKfTsKCiNlbmRpZiAvKiBkZWZpbmVkKEpTX1BPSU5UX0lURVJBVE9SX0hQUCkgKi8AAAAAAAAAAAIDAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACbAQAAAAAAANEBAAAAAAAAAAAAAAAA8L8"
				],
				[
					72,
					1,
					"revert",
					null,
					"AwAAAAAAAAAAAAAAAAAAAAAAAAACAwAAI2lmbmRlZiBKU19QT0lOVF9JVEVSQVRPUl9IUFAKI2RlZmluZSBKU19QT0lOVF9JVEVSQVRPUl9IUFAKCiNpbmNsdWRlICJqc2JpbmRpbmdzLmhwcCIKCmV4dGVybiAiQyIgVklTSUJMRSBpbnQganNfcG9pbnRfaXRlcmF0b3JfaW5pdChKU0NvbnRleHQqLCBKU01vZHVsZURlZiopOwoKZXh0ZXJuICJDIiB7CmVudW0gSlNQb2ludEl0ZXJhdG9yTWFnaWMgeyBORVhUX1BPSU5UID0gMCwgTkVYVF9MSU5FIH07CgpleHRlcm4gSlNWYWx1ZSBwb2ludF9pdGVyYXRvcl9wcm90bywgcG9pbnRfaXRlcmF0b3JfY2xhc3M7CmV4dGVybiBKU0NsYXNzSUQganNfcG9pbnRfaXRlcmF0b3JfY2xhc3NfaWQ7CgpWSVNJQkxFIEpTVmFsdWUganNfcG9pbnRfaXRlcmF0b3JfbmV3KEpTQ29udGV4dCogY3R4LCBKU1BvaW50RGF0YTxkb3VibGU+KiBmaXJzdCwgSlNQb2ludERhdGE8ZG91YmxlPiogbGFzdCwgaW50IG1hZ2ljKTsKCmludCBqc19wb2ludF9pdGVyYXRvcl9pbml0KEpTQ29udGV4dCosIEpTTW9kdWxlRGVmKiBtKTsKCkpTTW9kdWxlRGVmKiBqc19pbml0X21vZHVsZV9wb2ludF9pdGVyYXRvcihKU0NvbnRleHQqLCBjb25zdCBjaGFyKiBtb2R1bGVfbmFtZSk7Cn0KCnN0cnVjdCBKU1BvaW50SXRlcmF0b3JEYXRhIDogcHVibGljIHN0ZDo6cGFpcjxKU1BvaW50RGF0YTxkb3VibGU+KiwgSlNQb2ludERhdGE8ZG91YmxlPio+IHsKICBKU1BvaW50SXRlcmF0b3JNYWdpYyBtYWdpYzsKfTsKCiNlbmRpZiAvKiBkZWZpbmVkKEpTX1BPSU5UX0lURVJBVE9SX0hQUCkgKi8AAAAAAAAAAAIDAAAAAAAAAAAAAAAAAAAAAAAAAgMAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACbAQAAAAAAANEBAAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"file": "js_point_iterator.cpp",
			"settings":
			{
				"buffer_size": 6009,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					3,
					1,
					"paste",
					null,
					"AgAAAKcBAAAAAAAA3QEAAAAAAAAAAAAA3QEAAAAAAADdAQAAAAAAADkAAABjb25zdCBzdGQ6OnJhbmdlczo6c3VicmFuZ2U8SlNQb2ludERhdGE8ZG91YmxlPio+JiByYW5nZSw",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAACnAQAAAAAAAOABAAAAAAAAAAAAAAAA8L8"
				],
				[
					14,
					1,
					"insert",
					{
						"characters": "first"
					},
					"BgAAALoDAAAAAAAAuwMAAAAAAAAAAAAAuwMAAAAAAAC7AwAAAAAAAA0AAAByYW5nZS5iZWdpbigpuwMAAAAAAAC8AwAAAAAAAAAAAAC8AwAAAAAAAL0DAAAAAAAAAAAAAL0DAAAAAAAAvgMAAAAAAAAAAAAAvgMAAAAAAAC/AwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAC6AwAAAAAAAMcDAAAAAAAAAAAAAAAA8L8"
				],
				[
					19,
					1,
					"insert",
					{
						"characters": "last"
					},
					"BQAAANADAAAAAAAA0QMAAAAAAAAAAAAA0QMAAAAAAADRAwAAAAAAAAsAAAByYW5nZS5lbmQoKdEDAAAAAAAA0gMAAAAAAAAAAAAA0gMAAAAAAADTAwAAAAAAAAAAAADTAwAAAAAAANQDAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADQAwAAAAAAANsDAAAAAAAAAAAAAAAA8L8"
				],
				[
					20,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAB5FwAAI2luY2x1ZGUgImpzYmluZGluZ3MuaHBwIgojaW5jbHVkZSAianNfYWxsb2MuaHBwIgojaW5jbHVkZSAianNfcG9pbnQuaHBwIgojaW5jbHVkZSAianNfcG9pbnRfaXRlcmF0b3IuaHBwIgojaW5jbHVkZSAiY3V0aWxzLmgiCiNpbmNsdWRlICJxdWlja2pzLmgiCgojaW5jbHVkZSA8b3BlbmN2Mi9jb3JlL2NvcmUuaHBwPgojaW5jbHVkZSA8b3BlbmN2Mi9pbWdwcm9jL2ltZ3Byb2MuaHBwPgoKZXh0ZXJuICJDIiB7CgpKU1ZhbHVlIHBvaW50X2l0ZXJhdG9yX3Byb3RvID0gSlNfVU5ERUZJTkVELCBwb2ludF9pdGVyYXRvcl9jbGFzcyA9IEpTX1VOREVGSU5FRDsKVklTSUJMRSBKU0NsYXNzSUQganNfcG9pbnRfaXRlcmF0b3JfY2xhc3NfaWQgPSAwOwoKVklTSUJMRSBKU1ZhbHVlCmpzX3BvaW50X2l0ZXJhdG9yX25ldyhKU0NvbnRleHQqIGN0eCwgSlNQb2ludERhdGE8ZG91YmxlPiogZmlyc3QsIEpTUG9pbnREYXRhPGRvdWJsZT4qIGxhc3QsIGludCBtYWdpYykgewogIEpTUG9pbnRJdGVyYXRvckRhdGEqIGl0OwogIEpTVmFsdWUgaXRlcmF0b3I7CgogIGlmKGpzX3BvaW50X2l0ZXJhdG9yX2NsYXNzX2lkID09IDApCiAgICBqc19wb2ludF9pdGVyYXRvcl9pbml0KGN0eCwgMCk7CgogIGFzc2VydChqc19wb2ludF9pdGVyYXRvcl9jbGFzc19pZCk7CgogIGl0ZXJhdG9yID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIHBvaW50X2l0ZXJhdG9yX3Byb3RvLCBqc19wb2ludF9pdGVyYXRvcl9jbGFzc19pZCk7CiAgaWYoSlNfSXNFeGNlcHRpb24oaXRlcmF0b3IpKQogICAgZ290byBmYWlsOwogIGl0ID0ganNfYWxsb2NhdGU8SlNQb2ludEl0ZXJhdG9yRGF0YT4oY3R4KTsKICBpZighaXQpCiAgICBnb3RvIGZhaWwxOwogIG5ldyhpdCkgSlNQb2ludEl0ZXJhdG9yRGF0YSgpOwoKICBpdC0+bWFnaWMgPSBKU1BvaW50SXRlcmF0b3JNYWdpYyhtYWdpYyk7CiAgaXQtPmZpcnN0ID0gZmlyc3Q7CiAgaXQtPnNlY29uZCA9IGxhc3Q7CgogIEpTX1NldE9wYXF1ZShpdGVyYXRvciwgaXQpOwogIHJldHVybiBpdGVyYXRvcjsKZmFpbDE6CiAgSlNfRnJlZVZhbHVlKGN0eCwgaXRlcmF0b3IpOwpmYWlsOgogIHJldHVybiBKU19FWENFUFRJT047Cn0KfQoKc3RhdGljIEpTVmFsdWUKanNfcG9pbnRfaXRlcmF0b3JfbmV4dChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2LCBCT09MKiBwZG9uZSwgaW50IG1hZ2ljKSB7CiAgSlNQb2ludEl0ZXJhdG9yRGF0YSogaXQ7CiAgSlNWYWx1ZSByZXN1bHQ7CgogIGlmKChpdCA9IHN0YXRpY19jYXN0PEpTUG9pbnRJdGVyYXRvckRhdGEqPihKU19HZXRPcGFxdWUodGhpc192YWwsIGpzX3BvaW50X2l0ZXJhdG9yX2NsYXNzX2lkKSkpID09IG51bGxwdHIpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICAvLyAgSlNQb2ludERhdGE8ZG91YmxlPiogcHRyOwogIC8vIHB0ciA9IGl0LT5maXJzdDsKICBzd2l0Y2goaXQtPm1hZ2ljKSB7CiAgICBjYXNlIE5FWFRfUE9JTlQ6IHsKICAgICAgKnBkb25lID0gaXQtPmZpcnN0ID09IG51bGxwdHIgfHwgaXQtPnNlY29uZCA9PSBudWxscHRyIHx8IChpdC0+Zmlyc3QgPT0gaXQtPnNlY29uZCk7CiAgICAgIHJlc3VsdCA9ICpwZG9uZSA/IEpTX05VTEwgOiBqc19wb2ludF9uZXcoY3R4LCBpdC0+Zmlyc3QtPngsIGl0LT5maXJzdC0+eSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBORVhUX0xJTkU6IHsKICAgICAgKnBkb25lID0gaXQtPmZpcnN0ID09IG51bGxwdHIgfHwgaXQtPnNlY29uZCA9PSBudWxscHRyIHx8IChpdC0+Zmlyc3QgKyAxID49IGl0LT5zZWNvbmQpOwogICAgICByZXN1bHQgPSAqcGRvbmUgPyBKU19OVUxMIDoganNfbGluZV9uZXcoY3R4LCBpdC0+Zmlyc3RbMF0ueCwgaXQtPmZpcnN0WzBdLnksIGl0LT5maXJzdFsxXS54LCBpdC0+Zmlyc3RbMV0ueSk7CiAgICAgIGJyZWFrOwogICAgfQogIH0KICBpdC0+Zmlyc3QrKzsKICByZXR1cm4gcmVzdWx0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19wb2ludF9pdGVyYXRvcl9jb25zdHJ1Y3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG5ld190YXJnZXQsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1BvaW50SXRlcmF0b3JEYXRhKiBzOwogIEpTQ29udG91ckRhdGE8ZG91YmxlPiogdjsKICBKU1ZhbHVlIG9iaiA9IEpTX1VOREVGSU5FRDsKICBKU1ZhbHVlIHByb3RvOwogIGFzc2VydCgwKTsKCiAgaWYoanNfcG9pbnRfaXRlcmF0b3JfY2xhc3NfaWQgPT0gMCkKICAgIGpzX3BvaW50X2l0ZXJhdG9yX2luaXQoY3R4LCAwKTsKCiAgYXNzZXJ0KGpzX3BvaW50X2l0ZXJhdG9yX2NsYXNzX2lkKTsKCiAgcyA9IGpzX2FsbG9jYXRlPEpTUG9pbnRJdGVyYXRvckRhdGE+KGN0eCk7CiAgaWYoIXMpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBuZXcocykgSlNQb2ludEl0ZXJhdG9yRGF0YSgpOwoKICB2ID0gc3RhdGljX2Nhc3Q8SlNDb250b3VyRGF0YTxkb3VibGU+Kj4oSlNfR2V0T3BhcXVlKGFyZ3ZbMF0sIDAgLypqc19jb250b3VyX2NsYXNzX2lkKi8pKTsKCiAgcy0+Zmlyc3QgPSAmKCp2KVswXTsKICBzLT5zZWNvbmQgPSBzLT5maXJzdCArIHYtPnNpemUoKTsKCiAgcHJvdG8gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG5ld190YXJnZXQsICJwcm90b3R5cGUiKTsKICBpZihKU19Jc0V4Y2VwdGlvbihwcm90bykpCiAgICBnb3RvIGZhaWw7CiAgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIHByb3RvLCBqc19wb2ludF9pdGVyYXRvcl9jbGFzc19pZCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcHJvdG8pOwogIGlmKEpTX0lzRXhjZXB0aW9uKG9iaikpCiAgICBnb3RvIGZhaWw7CiAgSlNfU2V0T3BhcXVlKG9iaiwgcyk7CiAgcmV0dXJuIG9iajsKZmFpbDoKICBqc19kZWFsbG9jYXRlKGN0eCwgcyk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19wb2ludF9pdGVyYXRvcl9kdXAoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIHJldHVybiBKU19EdXBWYWx1ZShjdHgsIHRoaXNfdmFsKTsKfQpzdGF0aWMgdm9pZApqc19wb2ludF9pdGVyYXRvcl9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBKU1BvaW50SXRlcmF0b3JEYXRhKiBzID0gc3RhdGljX2Nhc3Q8SlNQb2ludEl0ZXJhdG9yRGF0YSo+KEpTX0dldE9wYXF1ZSh2YWwsIGpzX3BvaW50X2l0ZXJhdG9yX2NsYXNzX2lkKSk7CiAgLyogTm90ZTogJ3MnIGNhbiBiZSBOVUxMIGluIGNhc2UgSlNfU2V0T3BhcXVlKCkgd2FzIG5vdCBjYWxsZWQgKi8KCiAgaWYocyAhPSBudWxscHRyKQogICAganNfZGVhbGxvY2F0ZShydCwgcyk7CgogIC8vIEpTX0ZyZWVWYWx1ZVJUKHJ0LCB2YWwpOwp9CmV4dGVybiAiQyIgewpKU0NsYXNzRGVmIGpzX3BvaW50X2l0ZXJhdG9yX2NsYXNzID0gewogICAgLmNsYXNzX25hbWUgPSAiUG9pbnRJdGVyYXRvciIsCiAgICAuZmluYWxpemVyID0ganNfcG9pbnRfaXRlcmF0b3JfZmluYWxpemVyLAp9OwoKY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfcG9pbnRfaXRlcmF0b3JfcHJvdG9fZnVuY3NbXSA9IHsKICAgIEpTX0lURVJBVE9SX05FWFRfREVGKCJuZXh0IiwgMCwganNfcG9pbnRfaXRlcmF0b3JfbmV4dCwgMCksCiAgICBKU19DRlVOQ19ERUYoIltTeW1ib2wuaXRlcmF0b3JdIiwgMCwganNfcG9pbnRfaXRlcmF0b3JfZHVwKSwKICAgIEpTX1BST1BfU1RSSU5HX0RFRigiW1N5bWJvbC50b1N0cmluZ1RhZ10iLCAiUG9pbnRJdGVyYXRvciIsIEpTX1BST1BfQ09ORklHVVJBQkxFKSwKfTsKCmludApqc19wb2ludF9pdGVyYXRvcl9pbml0KEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewoKICBpZihqc19wb2ludF9pdGVyYXRvcl9jbGFzc19pZCA9PSAwKSB7CiAgICAvKiBjcmVhdGUgdGhlIFBvaW50SXRlcmF0b3IgY2xhc3MgKi8KICAgIEpTX05ld0NsYXNzSUQoJmpzX3BvaW50X2l0ZXJhdG9yX2NsYXNzX2lkKTsKICAgIEpTX05ld0NsYXNzKEpTX0dldFJ1bnRpbWUoY3R4KSwganNfcG9pbnRfaXRlcmF0b3JfY2xhc3NfaWQsICZqc19wb2ludF9pdGVyYXRvcl9jbGFzcyk7CgogICAgcG9pbnRfaXRlcmF0b3JfcHJvdG8gPSBKU19OZXdPYmplY3QoY3R4KTsKICAgIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50X2l0ZXJhdG9yX3Byb3RvLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNfcG9pbnRfaXRlcmF0b3JfcHJvdG9fZnVuY3MsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudG9mKGpzX3BvaW50X2l0ZXJhdG9yX3Byb3RvX2Z1bmNzKSk7CiAgICBKU19TZXRDbGFzc1Byb3RvKGN0eCwganNfcG9pbnRfaXRlcmF0b3JfY2xhc3NfaWQsIHBvaW50X2l0ZXJhdG9yX3Byb3RvKTsKCiAgICBwb2ludF9pdGVyYXRvcl9jbGFzcyA9IEpTX05ld0NGdW5jdGlvbjIoY3R4LCBqc19wb2ludF9pdGVyYXRvcl9jb25zdHJ1Y3RvciwgIlBvaW50SXRlcmF0b3IiLCAyLCBKU19DRlVOQ19jb25zdHJ1Y3RvciwgMCk7CiAgICAvKiBzZXQgcHJvdG8uY29uc3RydWN0b3IgYW5kIGN0b3IucHJvdG90eXBlICovCgogICAgSlNfU2V0Q29uc3RydWN0b3IoY3R4LCBwb2ludF9pdGVyYXRvcl9jbGFzcywgcG9pbnRfaXRlcmF0b3JfcHJvdG8pOwogICAgLy8gSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBwb2ludF9pdGVyYXRvcl9jbGFzcywganNfcG9pbnRfaXRlcmF0b3Jfc3RhdGljX2Z1bmNzLAogICAgLy8gY291bnRvZihqc19wb2ludF9pdGVyYXRvcl9zdGF0aWNfZnVuY3MpKTsKICB9CgogIGlmKG0pCiAgICBKU19TZXRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiUG9pbnRJdGVyYXRvciIsIHBvaW50X2l0ZXJhdG9yX2NsYXNzKTsKICAvKiBlbHNlCiAgICAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCAqc3RhdGljX2Nhc3Q8SlNWYWx1ZSo+KG0pLCBuYW1lLCBwb2ludF9pdGVyYXRvcl9jbGFzcyk7Ki8KICByZXR1cm4gMDsKfQoKZXh0ZXJuICJDIiBWSVNJQkxFIHZvaWQKanNfcG9pbnRfaXRlcmF0b3JfZXhwb3J0KEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewogIEpTX0FkZE1vZHVsZUV4cG9ydChjdHgsIG0sICJQb2ludEl0ZXJhdG9yIik7Cn0KCiNpZiBkZWZpbmVkKEpTX1BPSU5UX0lURVJBVE9SX01PRFVMRSkKI2RlZmluZSBKU19JTklUX01PRFVMRSBWSVNJQkxFIGpzX2luaXRfbW9kdWxlCiNlbHNlCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUganNfaW5pdF9tb2R1bGVfcG9pbnRfaXRlcmF0b3IKI2VuZGlmCgpKU01vZHVsZURlZioKSlNfSU5JVF9NT0RVTEUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG1vZHVsZV9uYW1lKSB7CiAgSlNNb2R1bGVEZWYqIG07CiAgbSA9IEpTX05ld0NNb2R1bGUoY3R4LCBtb2R1bGVfbmFtZSwgJmpzX3BvaW50X2l0ZXJhdG9yX2luaXQpOwogIGlmKCFtKQogICAgcmV0dXJuIE5VTEw7CiAganNfcG9pbnRfaXRlcmF0b3JfZXhwb3J0KGN0eCwgbSk7CiAgcmV0dXJuIG07Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3BvaW50X2l0ZXJhdG9yX3RvX3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNQb2ludEl0ZXJhdG9yRGF0YSogcyA9IHN0YXRpY19jYXN0PEpTUG9pbnRJdGVyYXRvckRhdGEqPihKU19HZXRPcGFxdWUyKGN0eCwgdGhpc192YWwsIGpzX3BvaW50X2l0ZXJhdG9yX2NsYXNzX2lkKSk7CiAgc3RkOjpvc3RyaW5nc3RyZWFtIG9zOwogIGlmKCFzKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgLy8gb3MgPDwgInt4OiIgPDwgcy0+eCA8PCAiLHk6IiA8PCBzLT55IDw8ICJ9IiA8PCBzdGQ6OmVuZGw7CgogIHJldHVybiBKU19OZXdTdHJpbmcoY3R4LCBvcy5zdHIoKS5jX3N0cigpKTsKfQp9AAAAAAAAAAB5FwAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADUAwAAAAAAANQDAAAAAAAAAAAAAAAA8L8"
				],
				[
					21,
					1,
					"revert",
					null,
					"AwAAAAAAAAAAAAAAAAAAAAAAAAB5FwAAI2luY2x1ZGUgImpzYmluZGluZ3MuaHBwIgojaW5jbHVkZSAianNfYWxsb2MuaHBwIgojaW5jbHVkZSAianNfcG9pbnQuaHBwIgojaW5jbHVkZSAianNfcG9pbnRfaXRlcmF0b3IuaHBwIgojaW5jbHVkZSAiY3V0aWxzLmgiCiNpbmNsdWRlICJxdWlja2pzLmgiCgojaW5jbHVkZSA8b3BlbmN2Mi9jb3JlL2NvcmUuaHBwPgojaW5jbHVkZSA8b3BlbmN2Mi9pbWdwcm9jL2ltZ3Byb2MuaHBwPgoKZXh0ZXJuICJDIiB7CgpKU1ZhbHVlIHBvaW50X2l0ZXJhdG9yX3Byb3RvID0gSlNfVU5ERUZJTkVELCBwb2ludF9pdGVyYXRvcl9jbGFzcyA9IEpTX1VOREVGSU5FRDsKVklTSUJMRSBKU0NsYXNzSUQganNfcG9pbnRfaXRlcmF0b3JfY2xhc3NfaWQgPSAwOwoKVklTSUJMRSBKU1ZhbHVlCmpzX3BvaW50X2l0ZXJhdG9yX25ldyhKU0NvbnRleHQqIGN0eCwgSlNQb2ludERhdGE8ZG91YmxlPiogZmlyc3QsIEpTUG9pbnREYXRhPGRvdWJsZT4qIGxhc3QsIGludCBtYWdpYykgewogIEpTUG9pbnRJdGVyYXRvckRhdGEqIGl0OwogIEpTVmFsdWUgaXRlcmF0b3I7CgogIGlmKGpzX3BvaW50X2l0ZXJhdG9yX2NsYXNzX2lkID09IDApCiAgICBqc19wb2ludF9pdGVyYXRvcl9pbml0KGN0eCwgMCk7CgogIGFzc2VydChqc19wb2ludF9pdGVyYXRvcl9jbGFzc19pZCk7CgogIGl0ZXJhdG9yID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIHBvaW50X2l0ZXJhdG9yX3Byb3RvLCBqc19wb2ludF9pdGVyYXRvcl9jbGFzc19pZCk7CiAgaWYoSlNfSXNFeGNlcHRpb24oaXRlcmF0b3IpKQogICAgZ290byBmYWlsOwogIGl0ID0ganNfYWxsb2NhdGU8SlNQb2ludEl0ZXJhdG9yRGF0YT4oY3R4KTsKICBpZighaXQpCiAgICBnb3RvIGZhaWwxOwogIG5ldyhpdCkgSlNQb2ludEl0ZXJhdG9yRGF0YSgpOwoKICBpdC0+bWFnaWMgPSBKU1BvaW50SXRlcmF0b3JNYWdpYyhtYWdpYyk7CiAgaXQtPmZpcnN0ID0gZmlyc3Q7CiAgaXQtPnNlY29uZCA9IGxhc3Q7CgogIEpTX1NldE9wYXF1ZShpdGVyYXRvciwgaXQpOwogIHJldHVybiBpdGVyYXRvcjsKZmFpbDE6CiAgSlNfRnJlZVZhbHVlKGN0eCwgaXRlcmF0b3IpOwpmYWlsOgogIHJldHVybiBKU19FWENFUFRJT047Cn0KfQoKc3RhdGljIEpTVmFsdWUKanNfcG9pbnRfaXRlcmF0b3JfbmV4dChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2LCBCT09MKiBwZG9uZSwgaW50IG1hZ2ljKSB7CiAgSlNQb2ludEl0ZXJhdG9yRGF0YSogaXQ7CiAgSlNWYWx1ZSByZXN1bHQ7CgogIGlmKChpdCA9IHN0YXRpY19jYXN0PEpTUG9pbnRJdGVyYXRvckRhdGEqPihKU19HZXRPcGFxdWUodGhpc192YWwsIGpzX3BvaW50X2l0ZXJhdG9yX2NsYXNzX2lkKSkpID09IG51bGxwdHIpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICAvLyAgSlNQb2ludERhdGE8ZG91YmxlPiogcHRyOwogIC8vIHB0ciA9IGl0LT5maXJzdDsKICBzd2l0Y2goaXQtPm1hZ2ljKSB7CiAgICBjYXNlIE5FWFRfUE9JTlQ6IHsKICAgICAgKnBkb25lID0gaXQtPmZpcnN0ID09IG51bGxwdHIgfHwgaXQtPnNlY29uZCA9PSBudWxscHRyIHx8IChpdC0+Zmlyc3QgPT0gaXQtPnNlY29uZCk7CiAgICAgIHJlc3VsdCA9ICpwZG9uZSA/IEpTX05VTEwgOiBqc19wb2ludF9uZXcoY3R4LCBpdC0+Zmlyc3QtPngsIGl0LT5maXJzdC0+eSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBORVhUX0xJTkU6IHsKICAgICAgKnBkb25lID0gaXQtPmZpcnN0ID09IG51bGxwdHIgfHwgaXQtPnNlY29uZCA9PSBudWxscHRyIHx8IChpdC0+Zmlyc3QgKyAxID49IGl0LT5zZWNvbmQpOwogICAgICByZXN1bHQgPSAqcGRvbmUgPyBKU19OVUxMIDoganNfbGluZV9uZXcoY3R4LCBpdC0+Zmlyc3RbMF0ueCwgaXQtPmZpcnN0WzBdLnksIGl0LT5maXJzdFsxXS54LCBpdC0+Zmlyc3RbMV0ueSk7CiAgICAgIGJyZWFrOwogICAgfQogIH0KICBpdC0+Zmlyc3QrKzsKICByZXR1cm4gcmVzdWx0Owp9CgpzdGF0aWMgSlNWYWx1ZQpqc19wb2ludF9pdGVyYXRvcl9jb25zdHJ1Y3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG5ld190YXJnZXQsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBKU1BvaW50SXRlcmF0b3JEYXRhKiBzOwogIEpTQ29udG91ckRhdGE8ZG91YmxlPiogdjsKICBKU1ZhbHVlIG9iaiA9IEpTX1VOREVGSU5FRDsKICBKU1ZhbHVlIHByb3RvOwogIGFzc2VydCgwKTsKCiAgaWYoanNfcG9pbnRfaXRlcmF0b3JfY2xhc3NfaWQgPT0gMCkKICAgIGpzX3BvaW50X2l0ZXJhdG9yX2luaXQoY3R4LCAwKTsKCiAgYXNzZXJ0KGpzX3BvaW50X2l0ZXJhdG9yX2NsYXNzX2lkKTsKCiAgcyA9IGpzX2FsbG9jYXRlPEpTUG9pbnRJdGVyYXRvckRhdGE+KGN0eCk7CiAgaWYoIXMpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBuZXcocykgSlNQb2ludEl0ZXJhdG9yRGF0YSgpOwoKICB2ID0gc3RhdGljX2Nhc3Q8SlNDb250b3VyRGF0YTxkb3VibGU+Kj4oSlNfR2V0T3BhcXVlKGFyZ3ZbMF0sIDAgLypqc19jb250b3VyX2NsYXNzX2lkKi8pKTsKCiAgcy0+Zmlyc3QgPSAmKCp2KVswXTsKICBzLT5zZWNvbmQgPSBzLT5maXJzdCArIHYtPnNpemUoKTsKCiAgcHJvdG8gPSBKU19HZXRQcm9wZXJ0eVN0cihjdHgsIG5ld190YXJnZXQsICJwcm90b3R5cGUiKTsKICBpZihKU19Jc0V4Y2VwdGlvbihwcm90bykpCiAgICBnb3RvIGZhaWw7CiAgb2JqID0gSlNfTmV3T2JqZWN0UHJvdG9DbGFzcyhjdHgsIHByb3RvLCBqc19wb2ludF9pdGVyYXRvcl9jbGFzc19pZCk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgcHJvdG8pOwogIGlmKEpTX0lzRXhjZXB0aW9uKG9iaikpCiAgICBnb3RvIGZhaWw7CiAgSlNfU2V0T3BhcXVlKG9iaiwgcyk7CiAgcmV0dXJuIG9iajsKZmFpbDoKICBqc19kZWFsbG9jYXRlKGN0eCwgcyk7CiAgSlNfRnJlZVZhbHVlKGN0eCwgb2JqKTsKICByZXR1cm4gSlNfRVhDRVBUSU9OOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19wb2ludF9pdGVyYXRvcl9kdXAoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIHJldHVybiBKU19EdXBWYWx1ZShjdHgsIHRoaXNfdmFsKTsKfQpzdGF0aWMgdm9pZApqc19wb2ludF9pdGVyYXRvcl9maW5hbGl6ZXIoSlNSdW50aW1lKiBydCwgSlNWYWx1ZSB2YWwpIHsKICBKU1BvaW50SXRlcmF0b3JEYXRhKiBzID0gc3RhdGljX2Nhc3Q8SlNQb2ludEl0ZXJhdG9yRGF0YSo+KEpTX0dldE9wYXF1ZSh2YWwsIGpzX3BvaW50X2l0ZXJhdG9yX2NsYXNzX2lkKSk7CiAgLyogTm90ZTogJ3MnIGNhbiBiZSBOVUxMIGluIGNhc2UgSlNfU2V0T3BhcXVlKCkgd2FzIG5vdCBjYWxsZWQgKi8KCiAgaWYocyAhPSBudWxscHRyKQogICAganNfZGVhbGxvY2F0ZShydCwgcyk7CgogIC8vIEpTX0ZyZWVWYWx1ZVJUKHJ0LCB2YWwpOwp9CmV4dGVybiAiQyIgewpKU0NsYXNzRGVmIGpzX3BvaW50X2l0ZXJhdG9yX2NsYXNzID0gewogICAgLmNsYXNzX25hbWUgPSAiUG9pbnRJdGVyYXRvciIsCiAgICAuZmluYWxpemVyID0ganNfcG9pbnRfaXRlcmF0b3JfZmluYWxpemVyLAp9OwoKY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfcG9pbnRfaXRlcmF0b3JfcHJvdG9fZnVuY3NbXSA9IHsKICAgIEpTX0lURVJBVE9SX05FWFRfREVGKCJuZXh0IiwgMCwganNfcG9pbnRfaXRlcmF0b3JfbmV4dCwgMCksCiAgICBKU19DRlVOQ19ERUYoIltTeW1ib2wuaXRlcmF0b3JdIiwgMCwganNfcG9pbnRfaXRlcmF0b3JfZHVwKSwKICAgIEpTX1BST1BfU1RSSU5HX0RFRigiW1N5bWJvbC50b1N0cmluZ1RhZ10iLCAiUG9pbnRJdGVyYXRvciIsIEpTX1BST1BfQ09ORklHVVJBQkxFKSwKfTsKCmludApqc19wb2ludF9pdGVyYXRvcl9pbml0KEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewoKICBpZihqc19wb2ludF9pdGVyYXRvcl9jbGFzc19pZCA9PSAwKSB7CiAgICAvKiBjcmVhdGUgdGhlIFBvaW50SXRlcmF0b3IgY2xhc3MgKi8KICAgIEpTX05ld0NsYXNzSUQoJmpzX3BvaW50X2l0ZXJhdG9yX2NsYXNzX2lkKTsKICAgIEpTX05ld0NsYXNzKEpTX0dldFJ1bnRpbWUoY3R4KSwganNfcG9pbnRfaXRlcmF0b3JfY2xhc3NfaWQsICZqc19wb2ludF9pdGVyYXRvcl9jbGFzcyk7CgogICAgcG9pbnRfaXRlcmF0b3JfcHJvdG8gPSBKU19OZXdPYmplY3QoY3R4KTsKICAgIEpTX1NldFByb3BlcnR5RnVuY3Rpb25MaXN0KGN0eCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50X2l0ZXJhdG9yX3Byb3RvLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAganNfcG9pbnRfaXRlcmF0b3JfcHJvdG9fZnVuY3MsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudG9mKGpzX3BvaW50X2l0ZXJhdG9yX3Byb3RvX2Z1bmNzKSk7CiAgICBKU19TZXRDbGFzc1Byb3RvKGN0eCwganNfcG9pbnRfaXRlcmF0b3JfY2xhc3NfaWQsIHBvaW50X2l0ZXJhdG9yX3Byb3RvKTsKCiAgICBwb2ludF9pdGVyYXRvcl9jbGFzcyA9IEpTX05ld0NGdW5jdGlvbjIoY3R4LCBqc19wb2ludF9pdGVyYXRvcl9jb25zdHJ1Y3RvciwgIlBvaW50SXRlcmF0b3IiLCAyLCBKU19DRlVOQ19jb25zdHJ1Y3RvciwgMCk7CiAgICAvKiBzZXQgcHJvdG8uY29uc3RydWN0b3IgYW5kIGN0b3IucHJvdG90eXBlICovCgogICAgSlNfU2V0Q29uc3RydWN0b3IoY3R4LCBwb2ludF9pdGVyYXRvcl9jbGFzcywgcG9pbnRfaXRlcmF0b3JfcHJvdG8pOwogICAgLy8gSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCBwb2ludF9pdGVyYXRvcl9jbGFzcywganNfcG9pbnRfaXRlcmF0b3Jfc3RhdGljX2Z1bmNzLAogICAgLy8gY291bnRvZihqc19wb2ludF9pdGVyYXRvcl9zdGF0aWNfZnVuY3MpKTsKICB9CgogIGlmKG0pCiAgICBKU19TZXRNb2R1bGVFeHBvcnQoY3R4LCBtLCAiUG9pbnRJdGVyYXRvciIsIHBvaW50X2l0ZXJhdG9yX2NsYXNzKTsKICAvKiBlbHNlCiAgICAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCAqc3RhdGljX2Nhc3Q8SlNWYWx1ZSo+KG0pLCBuYW1lLCBwb2ludF9pdGVyYXRvcl9jbGFzcyk7Ki8KICByZXR1cm4gMDsKfQoKZXh0ZXJuICJDIiBWSVNJQkxFIHZvaWQKanNfcG9pbnRfaXRlcmF0b3JfZXhwb3J0KEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewogIEpTX0FkZE1vZHVsZUV4cG9ydChjdHgsIG0sICJQb2ludEl0ZXJhdG9yIik7Cn0KCiNpZiBkZWZpbmVkKEpTX1BPSU5UX0lURVJBVE9SX01PRFVMRSkKI2RlZmluZSBKU19JTklUX01PRFVMRSBWSVNJQkxFIGpzX2luaXRfbW9kdWxlCiNlbHNlCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUganNfaW5pdF9tb2R1bGVfcG9pbnRfaXRlcmF0b3IKI2VuZGlmCgpKU01vZHVsZURlZioKSlNfSU5JVF9NT0RVTEUoSlNDb250ZXh0KiBjdHgsIGNvbnN0IGNoYXIqIG1vZHVsZV9uYW1lKSB7CiAgSlNNb2R1bGVEZWYqIG07CiAgbSA9IEpTX05ld0NNb2R1bGUoY3R4LCBtb2R1bGVfbmFtZSwgJmpzX3BvaW50X2l0ZXJhdG9yX2luaXQpOwogIGlmKCFtKQogICAgcmV0dXJuIE5VTEw7CiAganNfcG9pbnRfaXRlcmF0b3JfZXhwb3J0KGN0eCwgbSk7CiAgcmV0dXJuIG07Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3BvaW50X2l0ZXJhdG9yX3RvX3N0cmluZyhKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNQb2ludEl0ZXJhdG9yRGF0YSogcyA9IHN0YXRpY19jYXN0PEpTUG9pbnRJdGVyYXRvckRhdGEqPihKU19HZXRPcGFxdWUyKGN0eCwgdGhpc192YWwsIGpzX3BvaW50X2l0ZXJhdG9yX2NsYXNzX2lkKSk7CiAgc3RkOjpvc3RyaW5nc3RyZWFtIG9zOwogIGlmKCFzKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgLy8gb3MgPDwgInt4OiIgPDwgcy0+eCA8PCAiLHk6IiA8PCBzLT55IDw8ICJ9IiA8PCBzdGQ6OmVuZGw7CgogIHJldHVybiBKU19OZXdTdHJpbmcoY3R4LCBvcy5zdHIoKS5jX3N0cigpKTsKfQp9AAAAAAAAAAB5FwAAAAAAAAAAAAAAAAAAAAAAAHkXAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADUAwAAAAAAANQDAAAAAAAAAAAAAAAA8L8"
				]
			]
		},
		{
			"file": "js_rect.cpp",
			"settings":
			{
				"buffer_size": 18572,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					79,
					1,
					"paste",
					null,
					"AgAAAF8qAAAAAAAAbSoAAAAAAAAAAAAAbSoAAAAAAABtKgAAAAAAAA4AAABhcmd1bWVudF9yYW5nZQ",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAABfKgAAAAAAAG0qAAAAAAAAAAAAAAAA8L8"
				],
				[
					95,
					1,
					"revert",
					null,
					"AgAAAAAAAAAAAAAAAAAAAAAAAAAJSQAAI2luY2x1ZGUgImpzYmluZGluZ3MuaHBwIgojaW5jbHVkZSAianNfcmVjdC5ocHAiCiNpbmNsdWRlICJqc19zaXplLmhwcCIKI2luY2x1ZGUgImpzX3BvaW50LmhwcCIKI2luY2x1ZGUgImpzX2FsbG9jLmhwcCIKI2luY2x1ZGUgImpzX2FycmF5LmhwcCIKI2luY2x1ZGUgImpzX3R5cGVkX2FycmF5LmhwcCIKI2luY2x1ZGUgInV0aWwuaHBwIgoKZXh0ZXJuICJDIiB7CkpTVmFsdWUgcmVjdF9wcm90byA9IEpTX1VOREVGSU5FRCwgcmVjdF9jbGFzcyA9IEpTX1VOREVGSU5FRDsKSlNDbGFzc0lEIGpzX3JlY3RfY2xhc3NfaWQgPSAwOwp9CgpleHRlcm4gIkMiIFZJU0lCTEUgSlNWYWx1ZQpqc19yZWN0X25ldyhKU0NvbnRleHQqIGN0eCwgZG91YmxlIHgsIGRvdWJsZSB5LCBkb3VibGUgdywgZG91YmxlIGgpIHsKICBKU1ZhbHVlIHJldDsKICBKU1JlY3REYXRhPGRvdWJsZT4qIHM7CgogIGlmKEpTX0lzVW5kZWZpbmVkKHJlY3RfcHJvdG8pKQogICAganNfcmVjdF9pbml0KGN0eCwgTlVMTCk7CgogIHJldCA9IEpTX05ld09iamVjdFByb3RvQ2xhc3MoY3R4LCByZWN0X3Byb3RvLCBqc19yZWN0X2NsYXNzX2lkKTsKCiAgcyA9IGpzX2FsbG9jYXRlPEpTUmVjdERhdGE8ZG91YmxlPj4oY3R4KTsKCiAgbmV3KHMpIEpTUmVjdERhdGE8ZG91YmxlPigpOwogIHMtPnggPSB4IDw9IERCTF9FUFNJTE9OID8gMCA6IHg7CiAgcy0+eSA9IHkgPD0gREJMX0VQU0lMT04gPyAwIDogeTsKICBzLT53aWR0aCA9IHcgPD0gREJMX0VQU0lMT04gPyAwIDogdzsKICBzLT5oZWlnaHQgPSBoIDw9IERCTF9FUFNJTE9OID8gMCA6IGg7CgogIEpTX1NldE9wYXF1ZShyZXQsIHMpOwogIHJldHVybiByZXQ7Cn0KClZJU0lCTEUgSlNWYWx1ZQpqc19yZWN0X3dyYXAoSlNDb250ZXh0KiBjdHgsIGNvbnN0IEpTUmVjdERhdGE8ZG91YmxlPiYgcmVjdCkgewogIHJldHVybiBqc19yZWN0X25ldyhjdHgsIHJlY3QueCwgcmVjdC55LCByZWN0LndpZHRoLCByZWN0LmhlaWdodCk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3JlY3RfY3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG5ld190YXJnZXQsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBkb3VibGUgeCA9IDAsIHkgPSAwLCB3ID0gMCwgaCA9IDA7CiAgSlNSZWN0RGF0YTxkb3VibGU+IHJlY3QgPSB7MCwgMCwgMCwgMH07CiAgaW50IG9wdGluZCA9IDA7CgogIGlmKGFyZ2MgPiAwKSB7CiAgICBpZighanNfcmVjdF9yZWFkKGN0eCwgYXJndlswXSwgJnJlY3QpKSB7CiAgICAgIEpTUG9pbnREYXRhPGRvdWJsZT4gcG9pbnQsIHBvaW50MjsKICAgICAgSlNTaXplRGF0YTxkb3VibGU+IHNpemU7CiAgICAgIHdoaWxlKG9wdGluZCA8IGFyZ2MpIHsKICAgICAgICBpZihKU19Jc051bWJlcihhcmd2W29wdGluZF0pICYmIEpTX0lzTnVtYmVyKGFyZ3Zbb3B0aW5kICsgMV0pKSB7CiAgICAgICAgICBpZihvcHRpbmQgPT0gMCkgewogICAgICAgICAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmeCwgYXJndltvcHRpbmRdKTsKICAgICAgICAgICAgSlNfVG9GbG9hdDY0KGN0eCwgJnksIGFyZ3Zbb3B0aW5kICsgMV0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgSlNfVG9GbG9hdDY0KGN0eCwgJncsIGFyZ3Zbb3B0aW5kXSk7CiAgICAgICAgICAgIEpTX1RvRmxvYXQ2NChjdHgsICZoLCBhcmd2W29wdGluZCArIDFdKTsKICAgICAgICAgIH0KICAgICAgICAgIG9wdGluZCArPSAyOwogICAgICAgIH0gZWxzZSBpZihqc19wb2ludF9yZWFkKGN0eCwgYXJndltvcHRpbmRdLCBvcHRpbmQgPT0gMCA/ICZwb2ludCA6ICZwb2ludDIpKSB7CiAgICAgICAgICBpZihvcHRpbmQgPT0gMCkgewogICAgICAgICAgICB4ID0gcG9pbnQueDsKICAgICAgICAgICAgeSA9IHBvaW50Lnk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB3ID0gcG9pbnQyLnggLSB4OwogICAgICAgICAgICBoID0gcG9pbnQyLnkgLSB5OwogICAgICAgICAgfQogICAgICAgICAgb3B0aW5kKys7CiAgICAgICAgfQoKICAgICAgICBlbHNlIGlmKGpzX3NpemVfcmVhZChjdHgsIGFyZ3Zbb3B0aW5kXSwgJnNpemUpKSB7CiAgICAgICAgICB3ID0gc2l6ZS53aWR0aDsKICAgICAgICAgIGggPSBzaXplLmhlaWdodDsKICAgICAgICAgIG9wdGluZCsrOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBvcHRpbmQrKzsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIHJldHVybiBqc19yZWN0X25ldyhjdHgsIHgsIHksIHcsIGgpOwp9CgpWSVNJQkxFIEpTUmVjdERhdGE8ZG91YmxlPioKanNfcmVjdF9kYXRhKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsKSB7CiAgcmV0dXJuIHN0YXRpY19jYXN0PEpTUmVjdERhdGE8ZG91YmxlPio+KEpTX0dldE9wYXF1ZTIoY3R4LCB2YWwsIGpzX3JlY3RfY2xhc3NfaWQpKTsKfQoKZW51bSB7IFBST1BfWCA9IDAsIFBST1BfWSwgUFJPUF9XSURUSCwgUFJPUF9IRUlHSFQsIFBST1BfWDIsIFBST1BfWTIsIFBST1BfUE9TLCBQUk9QX1NJWkUgfTsKCnN0YXRpYyBKU1ZhbHVlCmpzX3JlY3RfZ2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBtYWdpYykgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIEpTUmVjdERhdGE8ZG91YmxlPiogczsKCiAgaWYoKHMgPSBzdGF0aWNfY2FzdDxKU1JlY3REYXRhPGRvdWJsZT4qPihKU19HZXRPcGFxdWUyKGN0eCwgdGhpc192YWwsIGpzX3JlY3RfY2xhc3NfaWQpKSkgPT0gbnVsbHB0cikKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBQUk9QX1g6IHsKICAgICAgcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsIHMtPngpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUFJPUF9ZOiB7CiAgICAgIHJldCA9IEpTX05ld0Zsb2F0NjQoY3R4LCBzLT55KTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFBST1BfV0lEVEg6IHsKICAgICAgcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsIHMtPndpZHRoKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFBST1BfSEVJR0hUOiB7CiAgICAgIHJldCA9IEpTX05ld0Zsb2F0NjQoY3R4LCBzLT5oZWlnaHQpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUFJPUF9YMjogewogICAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgcy0+eCArIHMtPndpZHRoKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFBST1BfWTI6IHsKICAgICAgcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsIHMtPnkgKyBzLT5oZWlnaHQpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUFJPUF9QT1M6IHsKICAgICAgcmV0ID0ganNfcG9pbnRfbmV3KGN0eCwgcy0+eCwgcy0+eSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBQUk9QX1NJWkU6IHsKICAgICAgcmV0ID0ganNfc2l6ZV9uZXcoY3R4LCBzLT53aWR0aCwgcy0+aGVpZ2h0KTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3JlY3Rfc2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIEpTVmFsdWVDb25zdCB2YWwsIGludCBtYWdpYykgewogIEpTUmVjdERhdGE8ZG91YmxlPiogczsKICBkb3VibGUgdjsKICBpZigocyA9IHN0YXRpY19jYXN0PEpTUmVjdERhdGE8ZG91YmxlPio+KEpTX0dldE9wYXF1ZTIoY3R4LCB0aGlzX3ZhbCwganNfcmVjdF9jbGFzc19pZCkpKSA9PSBudWxscHRyKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYoSlNfVG9GbG9hdDY0KGN0eCwgJnYsIHZhbCkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgUFJPUF9YOiB7CiAgICAgIHMtPnggPSB2OwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUFJPUF9ZOiB7CiAgICAgIHMtPnkgPSB2OwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUFJPUF9XSURUSDogewogICAgICBzLT53aWR0aCA9IHY7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBQUk9QX0hFSUdIVDogewogICAgICBzLT5oZWlnaHQgPSB2OwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUFJPUF9YMjogewogICAgICBzLT53aWR0aCA9IHYgLSBzLT54OwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUFJPUF9ZMjogewogICAgICBzLT5oZWlnaHQgPSB2IC0gcy0+eTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFBST1BfUE9TOiB7CiAgICAgIEpTUG9pbnREYXRhPGRvdWJsZT4gcG9pbnQ7CiAgICAgIGpzX3BvaW50X3JlYWQoY3R4LCB2YWwsICZwb2ludCk7CiAgICAgIHMtPnggPSBwb2ludC54OwogICAgICBzLT55ID0gcG9pbnQueTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFBST1BfU0laRTogewogICAgICBKU1NpemVEYXRhPGRvdWJsZT4gc2l6ZTsKICAgICAganNfc2l6ZV9yZWFkKGN0eCwgdmFsLCAmc2l6ZSk7CiAgICAgIHMtPndpZHRoID0gc2l6ZS53aWR0aDsKICAgICAgcy0+aGVpZ2h0ID0gc2l6ZS5oZWlnaHQ7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKanNfcmVjdF90b19zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTUmVjdERhdGE8ZG91YmxlPiByZWN0LCAqczsKICBzdGQ6Om9zdHJpbmdzdHJlYW0gb3M7CiAgc3RkOjphcnJheTxjb25zdCBjaGFyKiwgMz4gZGVsaW1zID0gewogICAgICAiLCIsCiAgICAgICLiiKMiIC8q772c4qe44qaB4o6u4oil4oij4ri+4ryB4p2Y4p2Z4p+K4o2/4o644o+Q772c4pSC77+o77iy77ix4p2YfO+9nCovLAogICAgICAiw5ciIC8qIvCdhYPwn4Wn8J2aofCfhafwn4WH8J2YufCdmqHwnZi58J2Qseqtl/CdkJfwnZG/8J2Fg/CdhYN4y6PigpPikrPik43ik6finJXinJjinJfiqIniqK/iqILinJbiqLvipoHii4XiipfiiqDiiJfDl+Kor8OXIiovfTsKCiAgZm9yKHNpemVfdCBpID0gMDsgaSA8IGFyZ2M7IGkrKykgeyBkZWxpbXNbaV0gPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2W2ldKTsgfQoKICBpZigocyA9IHN0YXRpY19jYXN0PEpTUmVjdERhdGE8ZG91YmxlPio+KEpTX0dldE9wYXF1ZTIoY3R4LCB0aGlzX3ZhbCwganNfcmVjdF9jbGFzc19pZCkpKSAhPSBudWxscHRyKSB7CiAgICByZWN0ID0gKnM7CiAgfSBlbHNlIHsKICAgIGpzX3JlY3RfcmVhZChjdHgsIHRoaXNfdmFsLCAmcmVjdCk7CiAgfQoKICBvcyA8PCByZWN0LnggPDwgZGVsaW1zWzBdIDw8IHJlY3QueSA8PCBkZWxpbXNbMV0gPDwgcmVjdC53aWR0aCA8PCBkZWxpbXNbMl0gPDwgcmVjdC5oZWlnaHQ7CgogIHJldHVybiBKU19OZXdTdHJpbmcoY3R4LCBvcy5zdHIoKS5jX3N0cigpKTsKfQpzdGF0aWMgSlNWYWx1ZQpqc19yZWN0X3RvX3NvdXJjZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNSZWN0RGF0YTxkb3VibGU+IHJlY3QsICpzOwogIHN0ZDo6b3N0cmluZ3N0cmVhbSBvczsKCiAgaWYoKHMgPSBzdGF0aWNfY2FzdDxKU1JlY3REYXRhPGRvdWJsZT4qPihKU19HZXRPcGFxdWUyKGN0eCwgdGhpc192YWwsIGpzX3JlY3RfY2xhc3NfaWQpKSkgIT0gbnVsbHB0cikgewogICAgcmVjdCA9ICpzOwogIH0gZWxzZSB7CiAgICBqc19yZWN0X3JlYWQoY3R4LCB0aGlzX3ZhbCwgJnJlY3QpOwogIH0KCiAgb3MgPDwgInt4OiIgPDwgcmVjdC54IDw8ICIseToiIDw8IHJlY3QueSA8PCAiLHdpZHRoOiIgPDwgcmVjdC53aWR0aCA8PCAiLGhlaWdodDoiIDw8IHJlY3QuaGVpZ2h0IDw8ICJ9IjsKCiAgcmV0dXJuIEpTX05ld1N0cmluZyhjdHgsIG9zLnN0cigpLmNfc3RyKCkpOwp9CgplbnVtIHsgRlVOQ19FUVVBTFMgPSAwLCBGVU5DX1JPVU5ELCBGVU5DX1RPT0JKRUNULCBGVU5DX1RPQVJSQVkgfTsKCnN0YXRpYyBKU1ZhbHVlCmpzX3JlY3RfZnVuY3MoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndiwgaW50IG1hZ2ljKSB7CiAgSlNSZWN0RGF0YTxkb3VibGU+IHJlY3QsIG90aGVyLCAqcywgKmE7CiAgSlNWYWx1ZSByZXQgPSBKU19FWENFUFRJT047CgogIGlmKChzID0ganNfcmVjdF9kYXRhKGN0eCwgdGhpc192YWwpKSA9PSBudWxscHRyKQogICAgcmV0dXJuIHJldDsKCiAgcmVjdCA9ICpzOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgRlVOQ19FUVVBTFM6IHsKICAgICAganNfcmVjdF9yZWFkKGN0eCwgYXJndlswXSwgJm90aGVyKTsKICAgICAgYm9vbCBlcXVhbHMgPSByZWN0LnggPT0gb3RoZXIueCAmJiByZWN0LnkgPT0gb3RoZXIueSAmJiByZWN0LndpZHRoID09IG90aGVyLndpZHRoICYmIHJlY3QuaGVpZ2h0ID09IG90aGVyLmhlaWdodDsKICAgICAgcmV0ID0gSlNfTmV3Qm9vbChjdHgsIGVxdWFscyk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBGVU5DX1JPVU5EOiB7CiAgICAgIGRvdWJsZSB4LCB5LCB3aWR0aCwgaGVpZ2h0LCBmOwogICAgICBpbnQzMl90IHByZWNpc2lvbiA9IDA7CiAgICAgIGlmKGFyZ2MgPiAwKQogICAgICAgIEpTX1RvSW50MzIoY3R4LCAmcHJlY2lzaW9uLCBhcmd2WzBdKTsKICAgICAgZiA9IHN0ZDo6cG93KDEwLCBwcmVjaXNpb24pOwogICAgICB4ID0gc3RkOjpyb3VuZChyZWN0LnggKiBmKSAvIGY7CiAgICAgIHkgPSBzdGQ6OnJvdW5kKHJlY3QueSAqIGYpIC8gZjsKICAgICAgd2lkdGggPSBzdGQ6OnJvdW5kKHJlY3Qud2lkdGggKiBmKSAvIGY7CiAgICAgIGhlaWdodCA9IHN0ZDo6cm91bmQocmVjdC5oZWlnaHQgKiBmKSAvIGY7CiAgICAgIHJldCA9IGpzX3JlY3RfbmV3KGN0eCwgeCwgeSwgd2lkdGgsIGhlaWdodCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBGVU5DX1RPT0JKRUNUOiB7CiAgICAgIHJldCA9IEpTX05ld09iamVjdChjdHgpOwoKICAgICAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJ4IiwgSlNfTmV3RmxvYXQ2NChjdHgsIHJlY3QueCkpOwogICAgICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIHJldCwgInkiLCBKU19OZXdGbG9hdDY0KGN0eCwgcmVjdC55KSk7CiAgICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAid2lkdGgiLCBKU19OZXdGbG9hdDY0KGN0eCwgcmVjdC53aWR0aCkpOwogICAgICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIHJldCwgImhlaWdodCIsIEpTX05ld0Zsb2F0NjQoY3R4LCByZWN0LmhlaWdodCkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgRlVOQ19UT0FSUkFZOiB7CiAgICAgIHN0ZDo6YXJyYXk8ZG91YmxlLCA0PiBhcnJheXtyZWN0LngsIHJlY3QueSwgcmVjdC53aWR0aCwgcmVjdC5oZWlnaHR9OwoKICAgICAgcmV0ID0ganNfYXJyYXlfZnJvbShjdHgsIGFycmF5LmNiZWdpbigpLCBhcnJheS5jZW5kKCkpOwogICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3JlY3RfaW5zcGVjdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNSZWN0RGF0YTxkb3VibGU+KiByID0ganNfcmVjdF9kYXRhKGN0eCwgdGhpc192YWwpOwogIEpTVmFsdWUgb2JqID0gSlNfTmV3T2JqZWN0Q2xhc3MoY3R4LCBqc19yZWN0X2NsYXNzX2lkKTsKCiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgIngiLCBKU19OZXdGbG9hdDY0KGN0eCwgci0+eCksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgInkiLCBKU19OZXdGbG9hdDY0KGN0eCwgci0+eSksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgIndpZHRoIiwgSlNfTmV3RmxvYXQ2NChjdHgsIHItPndpZHRoKSwgSlNfUFJPUF9FTlVNRVJBQkxFKTsKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAiaGVpZ2h0IiwgSlNfTmV3RmxvYXQ2NChjdHgsIHItPmhlaWdodCksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgcmV0dXJuIG9iajsKfQoKZW51bSB7CiAgTUVUSE9EX0NPTlRBSU5TID0gMCwKICBNRVRIT0RfRU1QVFksCiAgTUVUSE9EX0FSRUEsCiAgTUVUSE9EX0JSLAogIE1FVEhPRF9UTCwKICBNRVRIT0RfU0laRSwKICBNRVRIT0RfSU5TRVQsCiAgTUVUSE9EX09VVFNFVCwKICBNRVRIT0RfSFNQTElULAogIE1FVEhPRF9WU1BMSVQKfTsKCnN0YXRpYyBKU1ZhbHVlCmpzX3JlY3RfbWV0aG9kKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgcmVjdCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndiwgaW50IG1hZ2ljKSB7CiAgSlNSZWN0RGF0YTxkb3VibGU+KiBzID0gc3RhdGljX2Nhc3Q8SlNSZWN0RGF0YTxkb3VibGU+Kj4oSlNfR2V0T3BhcXVlMihjdHgsIHJlY3QsIGpzX3JlY3RfY2xhc3NfaWQpKTsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBKU1BvaW50RGF0YTxkb3VibGU+IHBvaW50ID0ganNfcG9pbnRfZ2V0KGN0eCwgYXJndlswXSk7CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBNRVRIT0RfQ09OVEFJTlM6IHsKICAgICAgcmV0ID0gSlNfTmV3Qm9vbChjdHgsIHMtPmNvbnRhaW5zKHBvaW50KSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBNRVRIT0RfRU1QVFk6IHsKICAgICAgcmV0ID0gSlNfTmV3Qm9vbChjdHgsIHMtPmVtcHR5KCkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTUVUSE9EX0FSRUE6IHsKICAgICAgcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsIHMtPmFyZWEoKSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBNRVRIT0RfQlI6CiAgICBjYXNlIE1FVEhPRF9UTDogewogICAgICBKU1BvaW50RGF0YTxkb3VibGU+IHB0ID0gbWFnaWMgPT0gMyA/IHMtPmJyKCkgOiBzLT50bCgpOwoKICAgICAgcmV0ID0ganNfcG9pbnRfbmV3KGN0eCwgcHQueCwgcHQueSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBNRVRIT0RfU0laRTogewogICAgICBjdjo6U2l6ZTJkIHN6ID0gcy0+c2l6ZSgpOwogICAgICByZXQgPSBqc19zaXplX25ldyhjdHgsIHN6LndpZHRoLCBzei5oZWlnaHQpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTUVUSE9EX0lOU0VUOiB7CiAgICAgIEpTUmVjdERhdGE8ZG91YmxlPiByZWN0ID0gKnM7CiAgICAgIGlmKGFyZ2MgPj0gMSkgewogICAgICAgIGRvdWJsZSBuOwogICAgICAgIEpTX1RvRmxvYXQ2NChjdHgsICZuLCBhcmd2WzBdKTsKICAgICAgICByZWN0LnggKz0gbjsKICAgICAgICByZWN0LndpZHRoIC09IG4gKiAyOwogICAgICAgIHJlY3QueSArPSBuOwogICAgICAgIHJlY3QuaGVpZ2h0IC09IG4gKiAyOwoKICAgICAgfSBlbHNlIGlmKGFyZ2MgPj0gMikgewogICAgICAgIGRvdWJsZSBoLCB2OwogICAgICAgIEpTX1RvRmxvYXQ2NChjdHgsICZoLCBhcmd2WzBdKTsKICAgICAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmdiwgYXJndlsxXSk7CiAgICAgICAgcmVjdC54ICs9IGg7CiAgICAgICAgcmVjdC53aWR0aCAtPSBoICogMjsKICAgICAgICByZWN0LnkgKz0gdjsKICAgICAgICByZWN0LmhlaWdodCAtPSB2ICogMjsKCiAgICAgIH0gZWxzZSBpZihhcmdjID49IDQpIHsKICAgICAgICBkb3VibGUgdCwgciwgYiwgbDsKICAgICAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmdCwgYXJndlswXSk7CiAgICAgICAgSlNfVG9GbG9hdDY0KGN0eCwgJnIsIGFyZ3ZbMV0pOwogICAgICAgIEpTX1RvRmxvYXQ2NChjdHgsICZiLCBhcmd2WzJdKTsKICAgICAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmbCwgYXJndlszXSk7CiAgICAgICAgcmVjdC54ICs9IGw7CiAgICAgICAgcmVjdC53aWR0aCAtPSBsICsgcjsKICAgICAgICByZWN0LnkgKz0gdDsKICAgICAgICByZWN0LmhlaWdodCAtPSB0ICsgYjsKICAgICAgfQogICAgICByZXQgPSBqc19yZWN0X3dyYXAoY3R4LCByZWN0KTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBNRVRIT0RfT1VUU0VUOiB7CiAgICAgIEpTUmVjdERhdGE8ZG91YmxlPiByZWN0ID0gKnM7CiAgICAgIGlmKGFyZ2MgPj0gMSkgewogICAgICAgIGRvdWJsZSBuOwogICAgICAgIEpTX1RvRmxvYXQ2NChjdHgsICZuLCBhcmd2WzBdKTsKICAgICAgICByZWN0LnggLT0gbjsKICAgICAgICByZWN0LndpZHRoICs9IG4gKiAyOwogICAgICAgIHJlY3QueSAtPSBuOwogICAgICAgIHJlY3QuaGVpZ2h0ICs9IG4gKiAyOwoKICAgICAgfSBlbHNlIGlmKGFyZ2MgPj0gMikgewogICAgICAgIGRvdWJsZSBoLCB2OwogICAgICAgIEpTX1RvRmxvYXQ2NChjdHgsICZoLCBhcmd2WzBdKTsKICAgICAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmdiwgYXJndlsxXSk7CiAgICAgICAgcmVjdC54IC09IGg7CiAgICAgICAgcmVjdC53aWR0aCArPSBoICogMjsKICAgICAgICByZWN0LnkgLT0gdjsKICAgICAgICByZWN0LmhlaWdodCArPSB2ICogMjsKCiAgICAgIH0gZWxzZSBpZihhcmdjID49IDQpIHsKICAgICAgICBkb3VibGUgdCwgciwgYiwgbDsKICAgICAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmdCwgYXJndlswXSk7CiAgICAgICAgSlNfVG9GbG9hdDY0KGN0eCwgJnIsIGFyZ3ZbMV0pOwogICAgICAgIEpTX1RvRmxvYXQ2NChjdHgsICZiLCBhcmd2WzJdKTsKICAgICAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmbCwgYXJndlszXSk7CiAgICAgICAgcmVjdC54IC09IGw7CiAgICAgICAgcmVjdC53aWR0aCArPSBsICsgcjsKICAgICAgICByZWN0LnkgLT0gdDsKICAgICAgICByZWN0LmhlaWdodCArPSB0ICsgYjsKICAgICAgfQogICAgICByZXQgPSBqc19yZWN0X3dyYXAoY3R4LCByZWN0KTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIE1FVEhPRF9IU1BMSVQ6IHsKICAgICAgc3RkOjp2ZWN0b3I8SlNSZWN0RGF0YTxkb3VibGU+PiByZWN0czsKICAgICAgZG91YmxlIHgxID0gcy0+eCwgeDIgPSBzLT54ICsgcy0+d2lkdGg7CiAgICAgIGF1dG8gYXJncyA9IGFyZ3VtZW50X3JhbmdlKGFyZ2MsIGFyZ3YpOwogICAgICBKU1JlY3REYXRhPGRvdWJsZT4qIHByZXY7CiAgICAgIHN0ZDo6dmVjdG9yPGRvdWJsZT4gYnJlYWtwb2ludHM7CiAgICAgIGZvcihKU1ZhbHVlQ29uc3QgY29uc3QmIGFyZyA6IGFyZ3MpIHsKICAgICAgICBkb3VibGUgZDsKICAgICAgICBqc192YWx1ZV90byhjdHgsIGFyZywgZCk7CiAgICAgICAgaWYoZCA8IDApCiAgICAgICAgICBkID0gcy0+d2lkdGggKyBkOwogICAgICAgIGlmKGQgPiAwICYmIGQgPCBzLT53aWR0aCkKICAgICAgICAgIGJyZWFrcG9pbnRzLnB1c2hfYmFjayhkKTsKICAgICAgfQogICAgICBzdGQ6OnNvcnQoYnJlYWtwb2ludHMuYmVnaW4oKSwgYnJlYWtwb2ludHMuZW5kKCkpOwogICAgICByZWN0cy5wdXNoX2JhY2soKnMpOwogICAgICBwcmV2ID0gJnJlY3RzLmJhY2soKTsKICAgICAgZm9yKGRvdWJsZSBoIDogYnJlYWtwb2ludHMpIHsKICAgICAgICAvLyBwcmludGYoImhzcGxpdCBoPSVsZlxuIiwgaCk7CiAgICAgICAgcHJldi0+d2lkdGggPSBoIC0gKHByZXYtPnggLSB4MSk7CiAgICAgICAgcmVjdHMucHVzaF9iYWNrKCpzKTsKICAgICAgICByZWN0cy5iYWNrKCkueCA9IHgxICsgaDsKICAgICAgICBwcmV2ID0gJnJlY3RzLmJhY2soKTsKICAgICAgICBwcmV2LT53aWR0aCA9IHMtPndpZHRoIC0gaDsKICAgICAgfQogICAgICByZXQgPSBqc19hcnJheV9mcm9tKGN0eCwgcmVjdHMpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTUVUSE9EX1ZTUExJVDogewogICAgICBzdGQ6OnZlY3RvcjxKU1JlY3REYXRhPGRvdWJsZT4+IHJlY3RzOwogICAgICBkb3VibGUgeTEgPSBzLT55LCB5MiA9IHMtPnkgKyBzLT5oZWlnaHQ7CiAgICAgIGF1dG8gYXJncyA9IGFyZ3VtZW50X3JhbmdlKGFyZ2MsIGFyZ3YpOwogICAgICBKU1JlY3REYXRhPGRvdWJsZT4qIHByZXY7CiAgICAgIHN0ZDo6dmVjdG9yPGRvdWJsZT4gYnJlYWtwb2ludHM7CiAgICAgIGZvcihKU1ZhbHVlQ29uc3QgY29uc3QmIGFyZyA6IGFyZ3MpIHsKICAgICAgICBkb3VibGUgZDsKICAgICAgICBqc192YWx1ZV90byhjdHgsIGFyZywgZCk7CiAgICAgICAgaWYoZCA8IDApCiAgICAgICAgICBkID0gcy0+aGVpZ2h0ICsgZDsKICAgICAgICBpZihkID4gMCAmJiBkIDwgcy0+aGVpZ2h0KQogICAgICAgICAgYnJlYWtwb2ludHMucHVzaF9iYWNrKGQpOwogICAgICB9CiAgICAgIHN0ZDo6c29ydChicmVha3BvaW50cy5iZWdpbigpLCBicmVha3BvaW50cy5lbmQoKSk7CiAgICAgIHJlY3RzLnB1c2hfYmFjaygqcyk7CiAgICAgIHByZXYgPSAmcmVjdHMuYmFjaygpOwogICAgICBmb3IoZG91YmxlIHYgOiBicmVha3BvaW50cykgewogICAgICAgIC8vIHByaW50ZigiaHNwbGl0IHY9JWxmXG4iLCB2KTsKICAgICAgICBwcmV2LT5oZWlnaHQgPSB2IC0gKHByZXYtPnkgLSB5MSk7CiAgICAgICAgcmVjdHMucHVzaF9iYWNrKCpzKTsKICAgICAgICByZWN0cy5iYWNrKCkueSA9IHkxICsgdjsKICAgICAgICBwcmV2ID0gJnJlY3RzLmJhY2soKTsKICAgICAgICBwcmV2LT5oZWlnaHQgPSBzLT5oZWlnaHQgLSB2OwogICAgICB9CiAgICAgIHJldCA9IGpzX2FycmF5X2Zyb20oY3R4LCByZWN0cyk7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTQXRvbSBpdGVyYXRvcl9zeW1ib2w7CgpzdGF0aWMgSlNWYWx1ZQpqc19yZWN0X3N5bWJvbF9pdGVyYXRvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNWYWx1ZSBhcnIsIGl0ZXI7CiAgYXJyID0ganNfcmVjdF9mdW5jcyhjdHgsIHRoaXNfdmFsLCBhcmdjLCBhcmd2LCAzKTsKCiAgaWYoaXRlcmF0b3Jfc3ltYm9sID09IDApCiAgICBpdGVyYXRvcl9zeW1ib2wgPSBqc19zeW1ib2xfYXRvbShjdHgsICJpdGVyYXRvciIpOwoKICBpZighSlNfSXNGdW5jdGlvbihjdHgsIChpdGVyID0gSlNfR2V0UHJvcGVydHkoY3R4LCBhcnIsIGl0ZXJhdG9yX3N5bWJvbCkpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgcmV0dXJuIEpTX0NhbGwoY3R4LCBpdGVyLCBhcnIsIDAsIGFyZ3YpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19yZWN0X2Zyb20oSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCByZWN0LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgc3RkOjphcnJheTxkb3VibGUsIDQ+IGFycmF5OwogIEpTVmFsdWUgcmV0ID0gSlNfRVhDRVBUSU9OOwoKICBpZihKU19Jc1N0cmluZyhhcmd2WzBdKSkgewogICAgY29uc3QgY2hhciogc3RyID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlswXSk7CiAgICBjaGFyKiBlbmRwdHIgPSBudWxscHRyOwogICAgZm9yKHNpemVfdCBpID0gMDsgaSA8IDQ7IGkrKykgewogICAgICB3aGlsZSghaXNkaWdpdCgqc3RyKSAmJiAqc3RyICE9ICctJyAmJiAqc3RyICE9ICcrJyAmJiAhKCpzdHIgPT0gJy4nICYmIGlzZGlnaXQoc3RyWzFdKSkpIHN0cisrOwogICAgICBpZigqc3RyID09ICdcMCcpCiAgICAgICAgYnJlYWs7CiAgICAgIGFycmF5W2ldID0gc3RydG9kKHN0ciwgJmVuZHB0cik7CiAgICAgIHN0ciA9IGVuZHB0cjsKICAgIH0KICB9IGVsc2UgaWYoanNfaXNfYXJyYXkoY3R4LCBhcmd2WzBdKSkgewogICAganNfYXJyYXlfdG8oY3R4LCBhcmd2WzBdLCBhcnJheSk7CiAgfQogIGlmKGFycmF5WzJdID4gMCAmJiBhcnJheVszXSA+IDApCiAgICByZXQgPSBqc19yZWN0X25ldyhjdHgsIGFycmF5WzBdLCBhcnJheVsxXSwgYXJyYXlbMl0sIGFycmF5WzNdKTsKICByZXR1cm4gcmV0Owp9Cgp2b2lkCmpzX3JlY3RfZmluYWxpemVyKEpTUnVudGltZSogcnQsIEpTVmFsdWUgdmFsKSB7CiAgSlNSZWN0RGF0YTxkb3VibGU+KiBzID0gc3RhdGljX2Nhc3Q8SlNSZWN0RGF0YTxkb3VibGU+Kj4oSlNfR2V0T3BhcXVlKHZhbCwganNfcmVjdF9jbGFzc19pZCkpOwogIC8qIE5vdGU6ICdzJyBjYW4gYmUgTlVMTCBpbiBjYXNlIEpTX1NldE9wYXF1ZSgpIHdhcyBub3QgY2FsbGVkICovCgogIC8vIHMtPn5KU1JlY3REYXRhPGRvdWJsZT4oKTsKICBpZihzKQogICAganNfZGVhbGxvY2F0ZShydCwgcyk7Cn0KCkpTQ2xhc3NEZWYganNfcmVjdF9jbGFzcyA9IHsKICAgIC5jbGFzc19uYW1lID0gIlJlY3QiLAogICAgLmZpbmFsaXplciA9IGpzX3JlY3RfZmluYWxpemVyLAp9OwoKY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfcmVjdF9wcm90b19mdW5jc1tdID0ge0pTX0NHRVRTRVRfRU5VTUVSQUJMRV9ERUYoIngiLCBqc19yZWN0X2dldCwganNfcmVjdF9zZXQsIFBST1BfWCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU19DR0VUU0VUX0VOVU1FUkFCTEVfREVGKCJ5IiwganNfcmVjdF9nZXQsIGpzX3JlY3Rfc2V0LCBQUk9QX1kpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNfQ0dFVFNFVF9FTlVNRVJBQkxFX0RFRigid2lkdGgiLCBqc19yZWN0X2dldCwganNfcmVjdF9zZXQsIFBST1BfV0lEVEgpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNfQ0dFVFNFVF9FTlVNRVJBQkxFX0RFRigiaGVpZ2h0IiwganNfcmVjdF9nZXQsIGpzX3JlY3Rfc2V0LCBQUk9QX0hFSUdIVCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU19DR0VUU0VUX01BR0lDX0RFRigieDIiLCBqc19yZWN0X2dldCwganNfcmVjdF9zZXQsIFBST1BfWDIpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoInkyIiwganNfcmVjdF9nZXQsIGpzX3JlY3Rfc2V0LCBQUk9QX1kyKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJwb2ludCIsIGpzX3JlY3RfZ2V0LCBqc19yZWN0X3NldCwgUFJPUF9QT1MpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoInNpemUiLCBqc19yZWN0X2dldCwganNfcmVjdF9zZXQsIFBST1BfU0laRSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU19BTElBU19ERUYoIngxIiwgIngiKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTX0FMSUFTX0RFRigieTEiLCAieSIpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJjb250YWlucyIsIDAsIGpzX3JlY3RfbWV0aG9kLCBNRVRIT0RfQ09OVEFJTlMpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJlbXB0eSIsIDAsIGpzX3JlY3RfbWV0aG9kLCBNRVRIT0RfRU1QVFkpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJhcmVhIiwgMCwganNfcmVjdF9tZXRob2QsIE1FVEhPRF9BUkVBKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTX0NGVU5DX01BR0lDX0RFRigiYnIiLCAwLCBqc19yZWN0X21ldGhvZCwgTUVUSE9EX0JSKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTX0NGVU5DX01BR0lDX0RFRigidGwiLCAwLCBqc19yZWN0X21ldGhvZCwgTUVUSE9EX1RMKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTX0NGVU5DX01BR0lDX0RFRigiaW5zZXQiLCAxLCBqc19yZWN0X21ldGhvZCwgTUVUSE9EX0lOU0VUKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTX0NGVU5DX01BR0lDX0RFRigib3V0c2V0IiwgMSwganNfcmVjdF9tZXRob2QsIE1FVEhPRF9PVVRTRVQpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJoc3BsaXQiLCAxLCBqc19yZWN0X21ldGhvZCwgTUVUSE9EX0hTUExJVCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU19DRlVOQ19NQUdJQ19ERUYoInZzcGxpdCIsIDEsIGpzX3JlY3RfbWV0aG9kLCBNRVRIT0RfVlNQTElUKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTX0NGVU5DX0RFRigidG9TdHJpbmciLCAwLCBqc19yZWN0X3RvX3N0cmluZyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU19DRlVOQ19ERUYoInRvU291cmNlIiwgMCwganNfcmVjdF90b19zb3VyY2UpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJlcXVhbHMiLCAxLCBqc19yZWN0X2Z1bmNzLCBGVU5DX0VRVUFMUyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU19DRlVOQ19NQUdJQ19ERUYoInJvdW5kIiwgMCwganNfcmVjdF9mdW5jcywgRlVOQ19ST1VORCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU19DRlVOQ19NQUdJQ19ERUYoInRvT2JqZWN0IiwgMCwganNfcmVjdF9mdW5jcywgRlVOQ19UT09CSkVDVCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU19DRlVOQ19NQUdJQ19ERUYoInRvQXJyYXkiLCAwLCBqc19yZWN0X2Z1bmNzLCBGVU5DX1RPQVJSQVkpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNfUFJPUF9TVFJJTkdfREVGKCJbU3ltYm9sLnRvU3RyaW5nVGFnXSIsICJSZWN0IiwgSlNfUFJPUF9DT05GSUdVUkFCTEUpCgp9Owpjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc19yZWN0X3N0YXRpY19mdW5jc1tdID0ge0pTX0NGVU5DX0RFRigiZnJvbSIsIDEsIGpzX3JlY3RfZnJvbSl9OwoKaW50CmpzX3JlY3RfaW5pdChKU0NvbnRleHQqIGN0eCwgSlNNb2R1bGVEZWYqIG0pIHsKCiAgaWYoanNfcmVjdF9jbGFzc19pZCA9PSAwKSB7CiAgICAvKiBjcmVhdGUgdGhlIFJlY3QgY2xhc3MgKi8KICAgIEpTX05ld0NsYXNzSUQoJmpzX3JlY3RfY2xhc3NfaWQpOwogICAgSlNfTmV3Q2xhc3MoSlNfR2V0UnVudGltZShjdHgpLCBqc19yZWN0X2NsYXNzX2lkLCAmanNfcmVjdF9jbGFzcyk7CgogICAgcmVjdF9wcm90byA9IEpTX05ld09iamVjdChjdHgpOwogICAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCByZWN0X3Byb3RvLCBqc19yZWN0X3Byb3RvX2Z1bmNzLCBjb3VudG9mKGpzX3JlY3RfcHJvdG9fZnVuY3MpKTsKICAgIEpTX1NldENsYXNzUHJvdG8oY3R4LCBqc19yZWN0X2NsYXNzX2lkLCByZWN0X3Byb3RvKTsKCiAgICByZWN0X2NsYXNzID0gSlNfTmV3Q0Z1bmN0aW9uMihjdHgsIGpzX3JlY3RfY3RvciwgIlJlY3QiLCAwLCBKU19DRlVOQ19jb25zdHJ1Y3RvciwgMCk7CiAgICAvKiBzZXQgcHJvdG8uY29uc3RydWN0b3IgYW5kIGN0b3IucHJvdG90eXBlICovCiAgICBKU19TZXRDb25zdHJ1Y3RvcihjdHgsIHJlY3RfY2xhc3MsIHJlY3RfcHJvdG8pOwogICAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCByZWN0X2NsYXNzLCBqc19yZWN0X3N0YXRpY19mdW5jcywgY291bnRvZihqc19yZWN0X3N0YXRpY19mdW5jcykpOwoKICAgIGpzX3NldF9pbnNwZWN0X21ldGhvZChjdHgsIHJlY3RfcHJvdG8sIGpzX3JlY3RfaW5zcGVjdCk7CiAgfQoKICBpZihtKQogICAgSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgIlJlY3QiLCByZWN0X2NsYXNzKTsKCiAgcmV0dXJuIDA7Cn0KCmV4dGVybiAiQyIgVklTSUJMRSB2b2lkCmpzX3JlY3RfZXhwb3J0KEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewogIEpTX0FkZE1vZHVsZUV4cG9ydChjdHgsIG0sICJSZWN0Iik7Cn0KCnZvaWQKanNfcmVjdF9jb25zdHJ1Y3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZSBwYXJlbnQsIGNvbnN0IGNoYXIqIG5hbWUpIHsKICBpZihKU19Jc1VuZGVmaW5lZChyZWN0X2NsYXNzKSkKICAgIGpzX3JlY3RfaW5pdChjdHgsIDApOwoKICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIHBhcmVudCwgbmFtZSA/IG5hbWUgOiAiUmVjdCIsIHJlY3RfY2xhc3MpOwp9CgojaWZkZWYgSlNfUkVDVF9NT0RVTEUKI2RlZmluZSBKU19JTklUX01PRFVMRSBWSVNJQkxFIGpzX2luaXRfbW9kdWxlCiNlbHNlCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUganNfaW5pdF9tb2R1bGVfcmVjdAojZW5kaWYKCmV4dGVybiAiQyIgSlNNb2R1bGVEZWYqCkpTX0lOSVRfTU9EVUxFKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBtb2R1bGVfbmFtZSkgewogIEpTTW9kdWxlRGVmKiBtOwogIG0gPSBKU19OZXdDTW9kdWxlKGN0eCwgbW9kdWxlX25hbWUsICZqc19yZWN0X2luaXQpOwogIGlmKCFtKQogICAgcmV0dXJuIE5VTEw7CiAganNfcmVjdF9leHBvcnQoY3R4LCBtKTsKICByZXR1cm4gbTsKfQAAAAAAAAAAjEgAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADBKgAAAAAAAMEqAAAAAAAAAAAAAAAAdUA"
				],
				[
					96,
					1,
					"revert",
					null,
					"AwAAAAAAAAAAAAAAAAAAAAAAAAAJSQAAI2luY2x1ZGUgImpzYmluZGluZ3MuaHBwIgojaW5jbHVkZSAianNfcmVjdC5ocHAiCiNpbmNsdWRlICJqc19zaXplLmhwcCIKI2luY2x1ZGUgImpzX3BvaW50LmhwcCIKI2luY2x1ZGUgImpzX2FsbG9jLmhwcCIKI2luY2x1ZGUgImpzX2FycmF5LmhwcCIKI2luY2x1ZGUgImpzX3R5cGVkX2FycmF5LmhwcCIKI2luY2x1ZGUgInV0aWwuaHBwIgoKZXh0ZXJuICJDIiB7CkpTVmFsdWUgcmVjdF9wcm90byA9IEpTX1VOREVGSU5FRCwgcmVjdF9jbGFzcyA9IEpTX1VOREVGSU5FRDsKSlNDbGFzc0lEIGpzX3JlY3RfY2xhc3NfaWQgPSAwOwp9CgpleHRlcm4gIkMiIFZJU0lCTEUgSlNWYWx1ZQpqc19yZWN0X25ldyhKU0NvbnRleHQqIGN0eCwgZG91YmxlIHgsIGRvdWJsZSB5LCBkb3VibGUgdywgZG91YmxlIGgpIHsKICBKU1ZhbHVlIHJldDsKICBKU1JlY3REYXRhPGRvdWJsZT4qIHM7CgogIGlmKEpTX0lzVW5kZWZpbmVkKHJlY3RfcHJvdG8pKQogICAganNfcmVjdF9pbml0KGN0eCwgTlVMTCk7CgogIHJldCA9IEpTX05ld09iamVjdFByb3RvQ2xhc3MoY3R4LCByZWN0X3Byb3RvLCBqc19yZWN0X2NsYXNzX2lkKTsKCiAgcyA9IGpzX2FsbG9jYXRlPEpTUmVjdERhdGE8ZG91YmxlPj4oY3R4KTsKCiAgbmV3KHMpIEpTUmVjdERhdGE8ZG91YmxlPigpOwogIHMtPnggPSB4IDw9IERCTF9FUFNJTE9OID8gMCA6IHg7CiAgcy0+eSA9IHkgPD0gREJMX0VQU0lMT04gPyAwIDogeTsKICBzLT53aWR0aCA9IHcgPD0gREJMX0VQU0lMT04gPyAwIDogdzsKICBzLT5oZWlnaHQgPSBoIDw9IERCTF9FUFNJTE9OID8gMCA6IGg7CgogIEpTX1NldE9wYXF1ZShyZXQsIHMpOwogIHJldHVybiByZXQ7Cn0KClZJU0lCTEUgSlNWYWx1ZQpqc19yZWN0X3dyYXAoSlNDb250ZXh0KiBjdHgsIGNvbnN0IEpTUmVjdERhdGE8ZG91YmxlPiYgcmVjdCkgewogIHJldHVybiBqc19yZWN0X25ldyhjdHgsIHJlY3QueCwgcmVjdC55LCByZWN0LndpZHRoLCByZWN0LmhlaWdodCk7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3JlY3RfY3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IG5ld190YXJnZXQsIGludCBhcmdjLCBKU1ZhbHVlQ29uc3QqIGFyZ3YpIHsKICBkb3VibGUgeCA9IDAsIHkgPSAwLCB3ID0gMCwgaCA9IDA7CiAgSlNSZWN0RGF0YTxkb3VibGU+IHJlY3QgPSB7MCwgMCwgMCwgMH07CiAgaW50IG9wdGluZCA9IDA7CgogIGlmKGFyZ2MgPiAwKSB7CiAgICBpZighanNfcmVjdF9yZWFkKGN0eCwgYXJndlswXSwgJnJlY3QpKSB7CiAgICAgIEpTUG9pbnREYXRhPGRvdWJsZT4gcG9pbnQsIHBvaW50MjsKICAgICAgSlNTaXplRGF0YTxkb3VibGU+IHNpemU7CiAgICAgIHdoaWxlKG9wdGluZCA8IGFyZ2MpIHsKICAgICAgICBpZihKU19Jc051bWJlcihhcmd2W29wdGluZF0pICYmIEpTX0lzTnVtYmVyKGFyZ3Zbb3B0aW5kICsgMV0pKSB7CiAgICAgICAgICBpZihvcHRpbmQgPT0gMCkgewogICAgICAgICAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmeCwgYXJndltvcHRpbmRdKTsKICAgICAgICAgICAgSlNfVG9GbG9hdDY0KGN0eCwgJnksIGFyZ3Zbb3B0aW5kICsgMV0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgSlNfVG9GbG9hdDY0KGN0eCwgJncsIGFyZ3Zbb3B0aW5kXSk7CiAgICAgICAgICAgIEpTX1RvRmxvYXQ2NChjdHgsICZoLCBhcmd2W29wdGluZCArIDFdKTsKICAgICAgICAgIH0KICAgICAgICAgIG9wdGluZCArPSAyOwogICAgICAgIH0gZWxzZSBpZihqc19wb2ludF9yZWFkKGN0eCwgYXJndltvcHRpbmRdLCBvcHRpbmQgPT0gMCA/ICZwb2ludCA6ICZwb2ludDIpKSB7CiAgICAgICAgICBpZihvcHRpbmQgPT0gMCkgewogICAgICAgICAgICB4ID0gcG9pbnQueDsKICAgICAgICAgICAgeSA9IHBvaW50Lnk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB3ID0gcG9pbnQyLnggLSB4OwogICAgICAgICAgICBoID0gcG9pbnQyLnkgLSB5OwogICAgICAgICAgfQogICAgICAgICAgb3B0aW5kKys7CiAgICAgICAgfQoKICAgICAgICBlbHNlIGlmKGpzX3NpemVfcmVhZChjdHgsIGFyZ3Zbb3B0aW5kXSwgJnNpemUpKSB7CiAgICAgICAgICB3ID0gc2l6ZS53aWR0aDsKICAgICAgICAgIGggPSBzaXplLmhlaWdodDsKICAgICAgICAgIG9wdGluZCsrOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBvcHRpbmQrKzsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9CgogIHJldHVybiBqc19yZWN0X25ldyhjdHgsIHgsIHksIHcsIGgpOwp9CgpWSVNJQkxFIEpTUmVjdERhdGE8ZG91YmxlPioKanNfcmVjdF9kYXRhKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdmFsKSB7CiAgcmV0dXJuIHN0YXRpY19jYXN0PEpTUmVjdERhdGE8ZG91YmxlPio+KEpTX0dldE9wYXF1ZTIoY3R4LCB2YWwsIGpzX3JlY3RfY2xhc3NfaWQpKTsKfQoKZW51bSB7IFBST1BfWCA9IDAsIFBST1BfWSwgUFJPUF9XSURUSCwgUFJPUF9IRUlHSFQsIFBST1BfWDIsIFBST1BfWTIsIFBST1BfUE9TLCBQUk9QX1NJWkUgfTsKCnN0YXRpYyBKU1ZhbHVlCmpzX3JlY3RfZ2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIGludCBtYWdpYykgewogIEpTVmFsdWUgcmV0ID0gSlNfVU5ERUZJTkVEOwogIEpTUmVjdERhdGE8ZG91YmxlPiogczsKCiAgaWYoKHMgPSBzdGF0aWNfY2FzdDxKU1JlY3REYXRhPGRvdWJsZT4qPihKU19HZXRPcGFxdWUyKGN0eCwgdGhpc192YWwsIGpzX3JlY3RfY2xhc3NfaWQpKSkgPT0gbnVsbHB0cikKICAgIHJldHVybiBKU19FWENFUFRJT047CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBQUk9QX1g6IHsKICAgICAgcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsIHMtPngpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUFJPUF9ZOiB7CiAgICAgIHJldCA9IEpTX05ld0Zsb2F0NjQoY3R4LCBzLT55KTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFBST1BfV0lEVEg6IHsKICAgICAgcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsIHMtPndpZHRoKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFBST1BfSEVJR0hUOiB7CiAgICAgIHJldCA9IEpTX05ld0Zsb2F0NjQoY3R4LCBzLT5oZWlnaHQpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUFJPUF9YMjogewogICAgICByZXQgPSBKU19OZXdGbG9hdDY0KGN0eCwgcy0+eCArIHMtPndpZHRoKTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFBST1BfWTI6IHsKICAgICAgcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsIHMtPnkgKyBzLT5oZWlnaHQpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUFJPUF9QT1M6IHsKICAgICAgcmV0ID0ganNfcG9pbnRfbmV3KGN0eCwgcy0+eCwgcy0+eSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBQUk9QX1NJWkU6IHsKICAgICAgcmV0ID0ganNfc2l6ZV9uZXcoY3R4LCBzLT53aWR0aCwgcy0+aGVpZ2h0KTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3JlY3Rfc2V0KEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgdGhpc192YWwsIEpTVmFsdWVDb25zdCB2YWwsIGludCBtYWdpYykgewogIEpTUmVjdERhdGE8ZG91YmxlPiogczsKICBkb3VibGUgdjsKICBpZigocyA9IHN0YXRpY19jYXN0PEpTUmVjdERhdGE8ZG91YmxlPio+KEpTX0dldE9wYXF1ZTIoY3R4LCB0aGlzX3ZhbCwganNfcmVjdF9jbGFzc19pZCkpKSA9PSBudWxscHRyKQogICAgcmV0dXJuIEpTX0VYQ0VQVElPTjsKCiAgaWYoSlNfVG9GbG9hdDY0KGN0eCwgJnYsIHZhbCkpCiAgICByZXR1cm4gSlNfRVhDRVBUSU9OOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgUFJPUF9YOiB7CiAgICAgIHMtPnggPSB2OwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUFJPUF9ZOiB7CiAgICAgIHMtPnkgPSB2OwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUFJPUF9XSURUSDogewogICAgICBzLT53aWR0aCA9IHY7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBQUk9QX0hFSUdIVDogewogICAgICBzLT5oZWlnaHQgPSB2OwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUFJPUF9YMjogewogICAgICBzLT53aWR0aCA9IHYgLSBzLT54OwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgUFJPUF9ZMjogewogICAgICBzLT5oZWlnaHQgPSB2IC0gcy0+eTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFBST1BfUE9TOiB7CiAgICAgIEpTUG9pbnREYXRhPGRvdWJsZT4gcG9pbnQ7CiAgICAgIGpzX3BvaW50X3JlYWQoY3R4LCB2YWwsICZwb2ludCk7CiAgICAgIHMtPnggPSBwb2ludC54OwogICAgICBzLT55ID0gcG9pbnQueTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIFBST1BfU0laRTogewogICAgICBKU1NpemVEYXRhPGRvdWJsZT4gc2l6ZTsKICAgICAganNfc2l6ZV9yZWFkKGN0eCwgdmFsLCAmc2l6ZSk7CiAgICAgIHMtPndpZHRoID0gc2l6ZS53aWR0aDsKICAgICAgcy0+aGVpZ2h0ID0gc2l6ZS5oZWlnaHQ7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIEpTX1VOREVGSU5FRDsKfQoKc3RhdGljIEpTVmFsdWUKanNfcmVjdF90b19zdHJpbmcoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndikgewogIEpTUmVjdERhdGE8ZG91YmxlPiByZWN0LCAqczsKICBzdGQ6Om9zdHJpbmdzdHJlYW0gb3M7CiAgc3RkOjphcnJheTxjb25zdCBjaGFyKiwgMz4gZGVsaW1zID0gewogICAgICAiLCIsCiAgICAgICLiiKMiIC8q772c4qe44qaB4o6u4oil4oij4ri+4ryB4p2Y4p2Z4p+K4o2/4o644o+Q772c4pSC77+o77iy77ix4p2YfO+9nCovLAogICAgICAiw5ciIC8qIvCdhYPwn4Wn8J2aofCfhafwn4WH8J2YufCdmqHwnZi58J2Qseqtl/CdkJfwnZG/8J2Fg/CdhYN4y6PigpPikrPik43ik6finJXinJjinJfiqIniqK/iqILinJbiqLvipoHii4XiipfiiqDiiJfDl+Kor8OXIiovfTsKCiAgZm9yKHNpemVfdCBpID0gMDsgaSA8IGFyZ2M7IGkrKykgeyBkZWxpbXNbaV0gPSBKU19Ub0NTdHJpbmcoY3R4LCBhcmd2W2ldKTsgfQoKICBpZigocyA9IHN0YXRpY19jYXN0PEpTUmVjdERhdGE8ZG91YmxlPio+KEpTX0dldE9wYXF1ZTIoY3R4LCB0aGlzX3ZhbCwganNfcmVjdF9jbGFzc19pZCkpKSAhPSBudWxscHRyKSB7CiAgICByZWN0ID0gKnM7CiAgfSBlbHNlIHsKICAgIGpzX3JlY3RfcmVhZChjdHgsIHRoaXNfdmFsLCAmcmVjdCk7CiAgfQoKICBvcyA8PCByZWN0LnggPDwgZGVsaW1zWzBdIDw8IHJlY3QueSA8PCBkZWxpbXNbMV0gPDwgcmVjdC53aWR0aCA8PCBkZWxpbXNbMl0gPDwgcmVjdC5oZWlnaHQ7CgogIHJldHVybiBKU19OZXdTdHJpbmcoY3R4LCBvcy5zdHIoKS5jX3N0cigpKTsKfQpzdGF0aWMgSlNWYWx1ZQpqc19yZWN0X3RvX3NvdXJjZShKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNSZWN0RGF0YTxkb3VibGU+IHJlY3QsICpzOwogIHN0ZDo6b3N0cmluZ3N0cmVhbSBvczsKCiAgaWYoKHMgPSBzdGF0aWNfY2FzdDxKU1JlY3REYXRhPGRvdWJsZT4qPihKU19HZXRPcGFxdWUyKGN0eCwgdGhpc192YWwsIGpzX3JlY3RfY2xhc3NfaWQpKSkgIT0gbnVsbHB0cikgewogICAgcmVjdCA9ICpzOwogIH0gZWxzZSB7CiAgICBqc19yZWN0X3JlYWQoY3R4LCB0aGlzX3ZhbCwgJnJlY3QpOwogIH0KCiAgb3MgPDwgInt4OiIgPDwgcmVjdC54IDw8ICIseToiIDw8IHJlY3QueSA8PCAiLHdpZHRoOiIgPDwgcmVjdC53aWR0aCA8PCAiLGhlaWdodDoiIDw8IHJlY3QuaGVpZ2h0IDw8ICJ9IjsKCiAgcmV0dXJuIEpTX05ld1N0cmluZyhjdHgsIG9zLnN0cigpLmNfc3RyKCkpOwp9CgplbnVtIHsgRlVOQ19FUVVBTFMgPSAwLCBGVU5DX1JPVU5ELCBGVU5DX1RPT0JKRUNULCBGVU5DX1RPQVJSQVkgfTsKCnN0YXRpYyBKU1ZhbHVlCmpzX3JlY3RfZnVuY3MoSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCB0aGlzX3ZhbCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndiwgaW50IG1hZ2ljKSB7CiAgSlNSZWN0RGF0YTxkb3VibGU+IHJlY3QsIG90aGVyLCAqcywgKmE7CiAgSlNWYWx1ZSByZXQgPSBKU19FWENFUFRJT047CgogIGlmKChzID0ganNfcmVjdF9kYXRhKGN0eCwgdGhpc192YWwpKSA9PSBudWxscHRyKQogICAgcmV0dXJuIHJldDsKCiAgcmVjdCA9ICpzOwoKICBzd2l0Y2gobWFnaWMpIHsKICAgIGNhc2UgRlVOQ19FUVVBTFM6IHsKICAgICAganNfcmVjdF9yZWFkKGN0eCwgYXJndlswXSwgJm90aGVyKTsKICAgICAgYm9vbCBlcXVhbHMgPSByZWN0LnggPT0gb3RoZXIueCAmJiByZWN0LnkgPT0gb3RoZXIueSAmJiByZWN0LndpZHRoID09IG90aGVyLndpZHRoICYmIHJlY3QuaGVpZ2h0ID09IG90aGVyLmhlaWdodDsKICAgICAgcmV0ID0gSlNfTmV3Qm9vbChjdHgsIGVxdWFscyk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBGVU5DX1JPVU5EOiB7CiAgICAgIGRvdWJsZSB4LCB5LCB3aWR0aCwgaGVpZ2h0LCBmOwogICAgICBpbnQzMl90IHByZWNpc2lvbiA9IDA7CiAgICAgIGlmKGFyZ2MgPiAwKQogICAgICAgIEpTX1RvSW50MzIoY3R4LCAmcHJlY2lzaW9uLCBhcmd2WzBdKTsKICAgICAgZiA9IHN0ZDo6cG93KDEwLCBwcmVjaXNpb24pOwogICAgICB4ID0gc3RkOjpyb3VuZChyZWN0LnggKiBmKSAvIGY7CiAgICAgIHkgPSBzdGQ6OnJvdW5kKHJlY3QueSAqIGYpIC8gZjsKICAgICAgd2lkdGggPSBzdGQ6OnJvdW5kKHJlY3Qud2lkdGggKiBmKSAvIGY7CiAgICAgIGhlaWdodCA9IHN0ZDo6cm91bmQocmVjdC5oZWlnaHQgKiBmKSAvIGY7CiAgICAgIHJldCA9IGpzX3JlY3RfbmV3KGN0eCwgeCwgeSwgd2lkdGgsIGhlaWdodCk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBGVU5DX1RPT0JKRUNUOiB7CiAgICAgIHJldCA9IEpTX05ld09iamVjdChjdHgpOwoKICAgICAgSlNfU2V0UHJvcGVydHlTdHIoY3R4LCByZXQsICJ4IiwgSlNfTmV3RmxvYXQ2NChjdHgsIHJlY3QueCkpOwogICAgICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIHJldCwgInkiLCBKU19OZXdGbG9hdDY0KGN0eCwgcmVjdC55KSk7CiAgICAgIEpTX1NldFByb3BlcnR5U3RyKGN0eCwgcmV0LCAid2lkdGgiLCBKU19OZXdGbG9hdDY0KGN0eCwgcmVjdC53aWR0aCkpOwogICAgICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIHJldCwgImhlaWdodCIsIEpTX05ld0Zsb2F0NjQoY3R4LCByZWN0LmhlaWdodCkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgRlVOQ19UT0FSUkFZOiB7CiAgICAgIHN0ZDo6YXJyYXk8ZG91YmxlLCA0PiBhcnJheXtyZWN0LngsIHJlY3QueSwgcmVjdC53aWR0aCwgcmVjdC5oZWlnaHR9OwoKICAgICAgcmV0ID0ganNfYXJyYXlfZnJvbShjdHgsIGFycmF5LmNiZWdpbigpLCBhcnJheS5jZW5kKCkpOwogICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiByZXQ7Cn0KCnN0YXRpYyBKU1ZhbHVlCmpzX3JlY3RfaW5zcGVjdChKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNSZWN0RGF0YTxkb3VibGU+KiByID0ganNfcmVjdF9kYXRhKGN0eCwgdGhpc192YWwpOwogIEpTVmFsdWUgb2JqID0gSlNfTmV3T2JqZWN0Q2xhc3MoY3R4LCBqc19yZWN0X2NsYXNzX2lkKTsKCiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgIngiLCBKU19OZXdGbG9hdDY0KGN0eCwgci0+eCksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgInkiLCBKU19OZXdGbG9hdDY0KGN0eCwgci0+eSksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgSlNfRGVmaW5lUHJvcGVydHlWYWx1ZVN0cihjdHgsIG9iaiwgIndpZHRoIiwgSlNfTmV3RmxvYXQ2NChjdHgsIHItPndpZHRoKSwgSlNfUFJPUF9FTlVNRVJBQkxFKTsKICBKU19EZWZpbmVQcm9wZXJ0eVZhbHVlU3RyKGN0eCwgb2JqLCAiaGVpZ2h0IiwgSlNfTmV3RmxvYXQ2NChjdHgsIHItPmhlaWdodCksIEpTX1BST1BfRU5VTUVSQUJMRSk7CiAgcmV0dXJuIG9iajsKfQoKZW51bSB7CiAgTUVUSE9EX0NPTlRBSU5TID0gMCwKICBNRVRIT0RfRU1QVFksCiAgTUVUSE9EX0FSRUEsCiAgTUVUSE9EX0JSLAogIE1FVEhPRF9UTCwKICBNRVRIT0RfU0laRSwKICBNRVRIT0RfSU5TRVQsCiAgTUVUSE9EX09VVFNFVCwKICBNRVRIT0RfSFNQTElULAogIE1FVEhPRF9WU1BMSVQKfTsKCnN0YXRpYyBKU1ZhbHVlCmpzX3JlY3RfbWV0aG9kKEpTQ29udGV4dCogY3R4LCBKU1ZhbHVlQ29uc3QgcmVjdCwgaW50IGFyZ2MsIEpTVmFsdWVDb25zdCogYXJndiwgaW50IG1hZ2ljKSB7CiAgSlNSZWN0RGF0YTxkb3VibGU+KiBzID0gc3RhdGljX2Nhc3Q8SlNSZWN0RGF0YTxkb3VibGU+Kj4oSlNfR2V0T3BhcXVlMihjdHgsIHJlY3QsIGpzX3JlY3RfY2xhc3NfaWQpKTsKICBKU1ZhbHVlIHJldCA9IEpTX1VOREVGSU5FRDsKICBKU1BvaW50RGF0YTxkb3VibGU+IHBvaW50ID0ganNfcG9pbnRfZ2V0KGN0eCwgYXJndlswXSk7CgogIHN3aXRjaChtYWdpYykgewogICAgY2FzZSBNRVRIT0RfQ09OVEFJTlM6IHsKICAgICAgcmV0ID0gSlNfTmV3Qm9vbChjdHgsIHMtPmNvbnRhaW5zKHBvaW50KSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBNRVRIT0RfRU1QVFk6IHsKICAgICAgcmV0ID0gSlNfTmV3Qm9vbChjdHgsIHMtPmVtcHR5KCkpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTUVUSE9EX0FSRUE6IHsKICAgICAgcmV0ID0gSlNfTmV3RmxvYXQ2NChjdHgsIHMtPmFyZWEoKSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBNRVRIT0RfQlI6CiAgICBjYXNlIE1FVEhPRF9UTDogewogICAgICBKU1BvaW50RGF0YTxkb3VibGU+IHB0ID0gbWFnaWMgPT0gMyA/IHMtPmJyKCkgOiBzLT50bCgpOwoKICAgICAgcmV0ID0ganNfcG9pbnRfbmV3KGN0eCwgcHQueCwgcHQueSk7CiAgICAgIGJyZWFrOwogICAgfQogICAgY2FzZSBNRVRIT0RfU0laRTogewogICAgICBjdjo6U2l6ZTJkIHN6ID0gcy0+c2l6ZSgpOwogICAgICByZXQgPSBqc19zaXplX25ldyhjdHgsIHN6LndpZHRoLCBzei5oZWlnaHQpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTUVUSE9EX0lOU0VUOiB7CiAgICAgIEpTUmVjdERhdGE8ZG91YmxlPiByZWN0ID0gKnM7CiAgICAgIGlmKGFyZ2MgPj0gMSkgewogICAgICAgIGRvdWJsZSBuOwogICAgICAgIEpTX1RvRmxvYXQ2NChjdHgsICZuLCBhcmd2WzBdKTsKICAgICAgICByZWN0LnggKz0gbjsKICAgICAgICByZWN0LndpZHRoIC09IG4gKiAyOwogICAgICAgIHJlY3QueSArPSBuOwogICAgICAgIHJlY3QuaGVpZ2h0IC09IG4gKiAyOwoKICAgICAgfSBlbHNlIGlmKGFyZ2MgPj0gMikgewogICAgICAgIGRvdWJsZSBoLCB2OwogICAgICAgIEpTX1RvRmxvYXQ2NChjdHgsICZoLCBhcmd2WzBdKTsKICAgICAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmdiwgYXJndlsxXSk7CiAgICAgICAgcmVjdC54ICs9IGg7CiAgICAgICAgcmVjdC53aWR0aCAtPSBoICogMjsKICAgICAgICByZWN0LnkgKz0gdjsKICAgICAgICByZWN0LmhlaWdodCAtPSB2ICogMjsKCiAgICAgIH0gZWxzZSBpZihhcmdjID49IDQpIHsKICAgICAgICBkb3VibGUgdCwgciwgYiwgbDsKICAgICAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmdCwgYXJndlswXSk7CiAgICAgICAgSlNfVG9GbG9hdDY0KGN0eCwgJnIsIGFyZ3ZbMV0pOwogICAgICAgIEpTX1RvRmxvYXQ2NChjdHgsICZiLCBhcmd2WzJdKTsKICAgICAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmbCwgYXJndlszXSk7CiAgICAgICAgcmVjdC54ICs9IGw7CiAgICAgICAgcmVjdC53aWR0aCAtPSBsICsgcjsKICAgICAgICByZWN0LnkgKz0gdDsKICAgICAgICByZWN0LmhlaWdodCAtPSB0ICsgYjsKICAgICAgfQogICAgICByZXQgPSBqc19yZWN0X3dyYXAoY3R4LCByZWN0KTsKICAgICAgYnJlYWs7CiAgICB9CgogICAgY2FzZSBNRVRIT0RfT1VUU0VUOiB7CiAgICAgIEpTUmVjdERhdGE8ZG91YmxlPiByZWN0ID0gKnM7CiAgICAgIGlmKGFyZ2MgPj0gMSkgewogICAgICAgIGRvdWJsZSBuOwogICAgICAgIEpTX1RvRmxvYXQ2NChjdHgsICZuLCBhcmd2WzBdKTsKICAgICAgICByZWN0LnggLT0gbjsKICAgICAgICByZWN0LndpZHRoICs9IG4gKiAyOwogICAgICAgIHJlY3QueSAtPSBuOwogICAgICAgIHJlY3QuaGVpZ2h0ICs9IG4gKiAyOwoKICAgICAgfSBlbHNlIGlmKGFyZ2MgPj0gMikgewogICAgICAgIGRvdWJsZSBoLCB2OwogICAgICAgIEpTX1RvRmxvYXQ2NChjdHgsICZoLCBhcmd2WzBdKTsKICAgICAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmdiwgYXJndlsxXSk7CiAgICAgICAgcmVjdC54IC09IGg7CiAgICAgICAgcmVjdC53aWR0aCArPSBoICogMjsKICAgICAgICByZWN0LnkgLT0gdjsKICAgICAgICByZWN0LmhlaWdodCArPSB2ICogMjsKCiAgICAgIH0gZWxzZSBpZihhcmdjID49IDQpIHsKICAgICAgICBkb3VibGUgdCwgciwgYiwgbDsKICAgICAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmdCwgYXJndlswXSk7CiAgICAgICAgSlNfVG9GbG9hdDY0KGN0eCwgJnIsIGFyZ3ZbMV0pOwogICAgICAgIEpTX1RvRmxvYXQ2NChjdHgsICZiLCBhcmd2WzJdKTsKICAgICAgICBKU19Ub0Zsb2F0NjQoY3R4LCAmbCwgYXJndlszXSk7CiAgICAgICAgcmVjdC54IC09IGw7CiAgICAgICAgcmVjdC53aWR0aCArPSBsICsgcjsKICAgICAgICByZWN0LnkgLT0gdDsKICAgICAgICByZWN0LmhlaWdodCArPSB0ICsgYjsKICAgICAgfQogICAgICByZXQgPSBqc19yZWN0X3dyYXAoY3R4LCByZWN0KTsKICAgICAgYnJlYWs7CiAgICB9CiAgICBjYXNlIE1FVEhPRF9IU1BMSVQ6IHsKICAgICAgc3RkOjp2ZWN0b3I8SlNSZWN0RGF0YTxkb3VibGU+PiByZWN0czsKICAgICAgZG91YmxlIHgxID0gcy0+eCwgeDIgPSBzLT54ICsgcy0+d2lkdGg7CiAgICAgIGF1dG8gYXJncyA9IGFyZ3VtZW50X3JhbmdlKGFyZ2MsIGFyZ3YpOwogICAgICBKU1JlY3REYXRhPGRvdWJsZT4qIHByZXY7CiAgICAgIHN0ZDo6dmVjdG9yPGRvdWJsZT4gYnJlYWtwb2ludHM7CiAgICAgIGZvcihKU1ZhbHVlQ29uc3QgY29uc3QmIGFyZyA6IGFyZ3MpIHsKICAgICAgICBkb3VibGUgZDsKICAgICAgICBqc192YWx1ZV90byhjdHgsIGFyZywgZCk7CiAgICAgICAgaWYoZCA8IDApCiAgICAgICAgICBkID0gcy0+d2lkdGggKyBkOwogICAgICAgIGlmKGQgPiAwICYmIGQgPCBzLT53aWR0aCkKICAgICAgICAgIGJyZWFrcG9pbnRzLnB1c2hfYmFjayhkKTsKICAgICAgfQogICAgICBzdGQ6OnNvcnQoYnJlYWtwb2ludHMuYmVnaW4oKSwgYnJlYWtwb2ludHMuZW5kKCkpOwogICAgICByZWN0cy5wdXNoX2JhY2soKnMpOwogICAgICBwcmV2ID0gJnJlY3RzLmJhY2soKTsKICAgICAgZm9yKGRvdWJsZSBoIDogYnJlYWtwb2ludHMpIHsKICAgICAgICAvLyBwcmludGYoImhzcGxpdCBoPSVsZlxuIiwgaCk7CiAgICAgICAgcHJldi0+d2lkdGggPSBoIC0gKHByZXYtPnggLSB4MSk7CiAgICAgICAgcmVjdHMucHVzaF9iYWNrKCpzKTsKICAgICAgICByZWN0cy5iYWNrKCkueCA9IHgxICsgaDsKICAgICAgICBwcmV2ID0gJnJlY3RzLmJhY2soKTsKICAgICAgICBwcmV2LT53aWR0aCA9IHMtPndpZHRoIC0gaDsKICAgICAgfQogICAgICByZXQgPSBqc19hcnJheV9mcm9tKGN0eCwgcmVjdHMpOwogICAgICBicmVhazsKICAgIH0KICAgIGNhc2UgTUVUSE9EX1ZTUExJVDogewogICAgICBzdGQ6OnZlY3RvcjxKU1JlY3REYXRhPGRvdWJsZT4+IHJlY3RzOwogICAgICBkb3VibGUgeTEgPSBzLT55LCB5MiA9IHMtPnkgKyBzLT5oZWlnaHQ7CiAgICAgIGF1dG8gYXJncyA9IGFyZ3VtZW50X3JhbmdlKGFyZ2MsIGFyZ3YpOwogICAgICBKU1JlY3REYXRhPGRvdWJsZT4qIHByZXY7CiAgICAgIHN0ZDo6dmVjdG9yPGRvdWJsZT4gYnJlYWtwb2ludHM7CiAgICAgIGZvcihKU1ZhbHVlQ29uc3QgY29uc3QmIGFyZyA6IGFyZ3MpIHsKICAgICAgICBkb3VibGUgZDsKICAgICAgICBqc192YWx1ZV90byhjdHgsIGFyZywgZCk7CiAgICAgICAgaWYoZCA8IDApCiAgICAgICAgICBkID0gcy0+aGVpZ2h0ICsgZDsKICAgICAgICBpZihkID4gMCAmJiBkIDwgcy0+aGVpZ2h0KQogICAgICAgICAgYnJlYWtwb2ludHMucHVzaF9iYWNrKGQpOwogICAgICB9CiAgICAgIHN0ZDo6c29ydChicmVha3BvaW50cy5iZWdpbigpLCBicmVha3BvaW50cy5lbmQoKSk7CiAgICAgIHJlY3RzLnB1c2hfYmFjaygqcyk7CiAgICAgIHByZXYgPSAmcmVjdHMuYmFjaygpOwogICAgICBmb3IoZG91YmxlIHYgOiBicmVha3BvaW50cykgewogICAgICAgIC8vIHByaW50ZigiaHNwbGl0IHY9JWxmXG4iLCB2KTsKICAgICAgICBwcmV2LT5oZWlnaHQgPSB2IC0gKHByZXYtPnkgLSB5MSk7CiAgICAgICAgcmVjdHMucHVzaF9iYWNrKCpzKTsKICAgICAgICByZWN0cy5iYWNrKCkueSA9IHkxICsgdjsKICAgICAgICBwcmV2ID0gJnJlY3RzLmJhY2soKTsKICAgICAgICBwcmV2LT5oZWlnaHQgPSBzLT5oZWlnaHQgLSB2OwogICAgICB9CiAgICAgIHJldCA9IGpzX2FycmF5X2Zyb20oY3R4LCByZWN0cyk7CiAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIHJldDsKfQoKc3RhdGljIEpTQXRvbSBpdGVyYXRvcl9zeW1ib2w7CgpzdGF0aWMgSlNWYWx1ZQpqc19yZWN0X3N5bWJvbF9pdGVyYXRvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZUNvbnN0IHRoaXNfdmFsLCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgSlNWYWx1ZSBhcnIsIGl0ZXI7CiAgYXJyID0ganNfcmVjdF9mdW5jcyhjdHgsIHRoaXNfdmFsLCBhcmdjLCBhcmd2LCAzKTsKCiAgaWYoaXRlcmF0b3Jfc3ltYm9sID09IDApCiAgICBpdGVyYXRvcl9zeW1ib2wgPSBqc19zeW1ib2xfYXRvbShjdHgsICJpdGVyYXRvciIpOwoKICBpZighSlNfSXNGdW5jdGlvbihjdHgsIChpdGVyID0gSlNfR2V0UHJvcGVydHkoY3R4LCBhcnIsIGl0ZXJhdG9yX3N5bWJvbCkpKSkKICAgIHJldHVybiBKU19FWENFUFRJT047CiAgcmV0dXJuIEpTX0NhbGwoY3R4LCBpdGVyLCBhcnIsIDAsIGFyZ3YpOwp9CgpzdGF0aWMgSlNWYWx1ZQpqc19yZWN0X2Zyb20oSlNDb250ZXh0KiBjdHgsIEpTVmFsdWVDb25zdCByZWN0LCBpbnQgYXJnYywgSlNWYWx1ZUNvbnN0KiBhcmd2KSB7CiAgc3RkOjphcnJheTxkb3VibGUsIDQ+IGFycmF5OwogIEpTVmFsdWUgcmV0ID0gSlNfRVhDRVBUSU9OOwoKICBpZihKU19Jc1N0cmluZyhhcmd2WzBdKSkgewogICAgY29uc3QgY2hhciogc3RyID0gSlNfVG9DU3RyaW5nKGN0eCwgYXJndlswXSk7CiAgICBjaGFyKiBlbmRwdHIgPSBudWxscHRyOwogICAgZm9yKHNpemVfdCBpID0gMDsgaSA8IDQ7IGkrKykgewogICAgICB3aGlsZSghaXNkaWdpdCgqc3RyKSAmJiAqc3RyICE9ICctJyAmJiAqc3RyICE9ICcrJyAmJiAhKCpzdHIgPT0gJy4nICYmIGlzZGlnaXQoc3RyWzFdKSkpIHN0cisrOwogICAgICBpZigqc3RyID09ICdcMCcpCiAgICAgICAgYnJlYWs7CiAgICAgIGFycmF5W2ldID0gc3RydG9kKHN0ciwgJmVuZHB0cik7CiAgICAgIHN0ciA9IGVuZHB0cjsKICAgIH0KICB9IGVsc2UgaWYoanNfaXNfYXJyYXkoY3R4LCBhcmd2WzBdKSkgewogICAganNfYXJyYXlfdG8oY3R4LCBhcmd2WzBdLCBhcnJheSk7CiAgfQogIGlmKGFycmF5WzJdID4gMCAmJiBhcnJheVszXSA+IDApCiAgICByZXQgPSBqc19yZWN0X25ldyhjdHgsIGFycmF5WzBdLCBhcnJheVsxXSwgYXJyYXlbMl0sIGFycmF5WzNdKTsKICByZXR1cm4gcmV0Owp9Cgp2b2lkCmpzX3JlY3RfZmluYWxpemVyKEpTUnVudGltZSogcnQsIEpTVmFsdWUgdmFsKSB7CiAgSlNSZWN0RGF0YTxkb3VibGU+KiBzID0gc3RhdGljX2Nhc3Q8SlNSZWN0RGF0YTxkb3VibGU+Kj4oSlNfR2V0T3BhcXVlKHZhbCwganNfcmVjdF9jbGFzc19pZCkpOwogIC8qIE5vdGU6ICdzJyBjYW4gYmUgTlVMTCBpbiBjYXNlIEpTX1NldE9wYXF1ZSgpIHdhcyBub3QgY2FsbGVkICovCgogIC8vIHMtPn5KU1JlY3REYXRhPGRvdWJsZT4oKTsKICBpZihzKQogICAganNfZGVhbGxvY2F0ZShydCwgcyk7Cn0KCkpTQ2xhc3NEZWYganNfcmVjdF9jbGFzcyA9IHsKICAgIC5jbGFzc19uYW1lID0gIlJlY3QiLAogICAgLmZpbmFsaXplciA9IGpzX3JlY3RfZmluYWxpemVyLAp9OwoKY29uc3QgSlNDRnVuY3Rpb25MaXN0RW50cnkganNfcmVjdF9wcm90b19mdW5jc1tdID0ge0pTX0NHRVRTRVRfRU5VTUVSQUJMRV9ERUYoIngiLCBqc19yZWN0X2dldCwganNfcmVjdF9zZXQsIFBST1BfWCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU19DR0VUU0VUX0VOVU1FUkFCTEVfREVGKCJ5IiwganNfcmVjdF9nZXQsIGpzX3JlY3Rfc2V0LCBQUk9QX1kpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNfQ0dFVFNFVF9FTlVNRVJBQkxFX0RFRigid2lkdGgiLCBqc19yZWN0X2dldCwganNfcmVjdF9zZXQsIFBST1BfV0lEVEgpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNfQ0dFVFNFVF9FTlVNRVJBQkxFX0RFRigiaGVpZ2h0IiwganNfcmVjdF9nZXQsIGpzX3JlY3Rfc2V0LCBQUk9QX0hFSUdIVCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU19DR0VUU0VUX01BR0lDX0RFRigieDIiLCBqc19yZWN0X2dldCwganNfcmVjdF9zZXQsIFBST1BfWDIpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoInkyIiwganNfcmVjdF9nZXQsIGpzX3JlY3Rfc2V0LCBQUk9QX1kyKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTX0NHRVRTRVRfTUFHSUNfREVGKCJwb2ludCIsIGpzX3JlY3RfZ2V0LCBqc19yZWN0X3NldCwgUFJPUF9QT1MpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNfQ0dFVFNFVF9NQUdJQ19ERUYoInNpemUiLCBqc19yZWN0X2dldCwganNfcmVjdF9zZXQsIFBST1BfU0laRSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU19BTElBU19ERUYoIngxIiwgIngiKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTX0FMSUFTX0RFRigieTEiLCAieSIpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJjb250YWlucyIsIDAsIGpzX3JlY3RfbWV0aG9kLCBNRVRIT0RfQ09OVEFJTlMpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJlbXB0eSIsIDAsIGpzX3JlY3RfbWV0aG9kLCBNRVRIT0RfRU1QVFkpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJhcmVhIiwgMCwganNfcmVjdF9tZXRob2QsIE1FVEhPRF9BUkVBKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTX0NGVU5DX01BR0lDX0RFRigiYnIiLCAwLCBqc19yZWN0X21ldGhvZCwgTUVUSE9EX0JSKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTX0NGVU5DX01BR0lDX0RFRigidGwiLCAwLCBqc19yZWN0X21ldGhvZCwgTUVUSE9EX1RMKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTX0NGVU5DX01BR0lDX0RFRigiaW5zZXQiLCAxLCBqc19yZWN0X21ldGhvZCwgTUVUSE9EX0lOU0VUKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTX0NGVU5DX01BR0lDX0RFRigib3V0c2V0IiwgMSwganNfcmVjdF9tZXRob2QsIE1FVEhPRF9PVVRTRVQpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJoc3BsaXQiLCAxLCBqc19yZWN0X21ldGhvZCwgTUVUSE9EX0hTUExJVCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU19DRlVOQ19NQUdJQ19ERUYoInZzcGxpdCIsIDEsIGpzX3JlY3RfbWV0aG9kLCBNRVRIT0RfVlNQTElUKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpTX0NGVU5DX0RFRigidG9TdHJpbmciLCAwLCBqc19yZWN0X3RvX3N0cmluZyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU19DRlVOQ19ERUYoInRvU291cmNlIiwgMCwganNfcmVjdF90b19zb3VyY2UpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNfQ0ZVTkNfTUFHSUNfREVGKCJlcXVhbHMiLCAxLCBqc19yZWN0X2Z1bmNzLCBGVU5DX0VRVUFMUyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU19DRlVOQ19NQUdJQ19ERUYoInJvdW5kIiwgMCwganNfcmVjdF9mdW5jcywgRlVOQ19ST1VORCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU19DRlVOQ19NQUdJQ19ERUYoInRvT2JqZWN0IiwgMCwganNfcmVjdF9mdW5jcywgRlVOQ19UT09CSkVDVCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKU19DRlVOQ19NQUdJQ19ERUYoInRvQXJyYXkiLCAwLCBqc19yZWN0X2Z1bmNzLCBGVU5DX1RPQVJSQVkpLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSlNfUFJPUF9TVFJJTkdfREVGKCJbU3ltYm9sLnRvU3RyaW5nVGFnXSIsICJSZWN0IiwgSlNfUFJPUF9DT05GSUdVUkFCTEUpCgp9Owpjb25zdCBKU0NGdW5jdGlvbkxpc3RFbnRyeSBqc19yZWN0X3N0YXRpY19mdW5jc1tdID0ge0pTX0NGVU5DX0RFRigiZnJvbSIsIDEsIGpzX3JlY3RfZnJvbSl9OwoKaW50CmpzX3JlY3RfaW5pdChKU0NvbnRleHQqIGN0eCwgSlNNb2R1bGVEZWYqIG0pIHsKCiAgaWYoanNfcmVjdF9jbGFzc19pZCA9PSAwKSB7CiAgICAvKiBjcmVhdGUgdGhlIFJlY3QgY2xhc3MgKi8KICAgIEpTX05ld0NsYXNzSUQoJmpzX3JlY3RfY2xhc3NfaWQpOwogICAgSlNfTmV3Q2xhc3MoSlNfR2V0UnVudGltZShjdHgpLCBqc19yZWN0X2NsYXNzX2lkLCAmanNfcmVjdF9jbGFzcyk7CgogICAgcmVjdF9wcm90byA9IEpTX05ld09iamVjdChjdHgpOwogICAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCByZWN0X3Byb3RvLCBqc19yZWN0X3Byb3RvX2Z1bmNzLCBjb3VudG9mKGpzX3JlY3RfcHJvdG9fZnVuY3MpKTsKICAgIEpTX1NldENsYXNzUHJvdG8oY3R4LCBqc19yZWN0X2NsYXNzX2lkLCByZWN0X3Byb3RvKTsKCiAgICByZWN0X2NsYXNzID0gSlNfTmV3Q0Z1bmN0aW9uMihjdHgsIGpzX3JlY3RfY3RvciwgIlJlY3QiLCAwLCBKU19DRlVOQ19jb25zdHJ1Y3RvciwgMCk7CiAgICAvKiBzZXQgcHJvdG8uY29uc3RydWN0b3IgYW5kIGN0b3IucHJvdG90eXBlICovCiAgICBKU19TZXRDb25zdHJ1Y3RvcihjdHgsIHJlY3RfY2xhc3MsIHJlY3RfcHJvdG8pOwogICAgSlNfU2V0UHJvcGVydHlGdW5jdGlvbkxpc3QoY3R4LCByZWN0X2NsYXNzLCBqc19yZWN0X3N0YXRpY19mdW5jcywgY291bnRvZihqc19yZWN0X3N0YXRpY19mdW5jcykpOwoKICAgIGpzX3NldF9pbnNwZWN0X21ldGhvZChjdHgsIHJlY3RfcHJvdG8sIGpzX3JlY3RfaW5zcGVjdCk7CiAgfQoKICBpZihtKQogICAgSlNfU2V0TW9kdWxlRXhwb3J0KGN0eCwgbSwgIlJlY3QiLCByZWN0X2NsYXNzKTsKCiAgcmV0dXJuIDA7Cn0KCmV4dGVybiAiQyIgVklTSUJMRSB2b2lkCmpzX3JlY3RfZXhwb3J0KEpTQ29udGV4dCogY3R4LCBKU01vZHVsZURlZiogbSkgewogIEpTX0FkZE1vZHVsZUV4cG9ydChjdHgsIG0sICJSZWN0Iik7Cn0KCnZvaWQKanNfcmVjdF9jb25zdHJ1Y3RvcihKU0NvbnRleHQqIGN0eCwgSlNWYWx1ZSBwYXJlbnQsIGNvbnN0IGNoYXIqIG5hbWUpIHsKICBpZihKU19Jc1VuZGVmaW5lZChyZWN0X2NsYXNzKSkKICAgIGpzX3JlY3RfaW5pdChjdHgsIDApOwoKICBKU19TZXRQcm9wZXJ0eVN0cihjdHgsIHBhcmVudCwgbmFtZSA/IG5hbWUgOiAiUmVjdCIsIHJlY3RfY2xhc3MpOwp9CgojaWZkZWYgSlNfUkVDVF9NT0RVTEUKI2RlZmluZSBKU19JTklUX01PRFVMRSBWSVNJQkxFIGpzX2luaXRfbW9kdWxlCiNlbHNlCiNkZWZpbmUgSlNfSU5JVF9NT0RVTEUganNfaW5pdF9tb2R1bGVfcmVjdAojZW5kaWYKCmV4dGVybiAiQyIgSlNNb2R1bGVEZWYqCkpTX0lOSVRfTU9EVUxFKEpTQ29udGV4dCogY3R4LCBjb25zdCBjaGFyKiBtb2R1bGVfbmFtZSkgewogIEpTTW9kdWxlRGVmKiBtOwogIG0gPSBKU19OZXdDTW9kdWxlKGN0eCwgbW9kdWxlX25hbWUsICZqc19yZWN0X2luaXQpOwogIGlmKCFtKQogICAgcmV0dXJuIE5VTEw7CiAganNfcmVjdF9leHBvcnQoY3R4LCBtKTsKICByZXR1cm4gbTsKfQAAAAAAAAAAjEgAAAAAAAAAAAAAAAAAAAAAAACMSAAAAAAAAAAAAAA",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAADBKgAAAAAAAMEqAAAAAAAAAAAAAAAA8L8"
				]
			]
		}
	],
	"build_system": "",
	"build_system_choices":
	[
	],
	"build_varint": "",
	"command_palette":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"out",
				"Browse Mode: Outline (Right)"
			],
			[
				"outl",
				"Browse Mode: Outline (Right)"
			],
			[
				"debugger",
				"Debugger: Add or Select Configuration"
			],
			[
				"Package Control: ",
				"Package Control: Install Package"
			],
			[
				"insta",
				"Package Control: Install Package"
			],
			[
				"adva",
				"Package Control: Advanced Install Package"
			],
			[
				"install ",
				"Package Control: Install Package"
			],
			[
				"instal",
				"Package Control: Install Package"
			],
			[
				"install",
				"Package Control: Install Package"
			]
		],
		"width": 0.0
	},
	"console":
	{
		"height": 158.0,
		"history":
		[
		]
	},
	"distraction_free":
	{
		"menu_visible": true,
		"show_minimap": false,
		"show_open_files": false,
		"show_tabs": false,
		"side_bar_visible": false,
		"status_bar_visible": false
	},
	"expanded_folders":
	[
		"/home/roman/Projects/qjs-opencv",
		"/home/roman/Projects/qjs-opencv/build",
		"/home/roman/Projects/qjs-opencv/cmake"
	],
	"file_history":
	[
		"/home/roman/Projects/qjs-opencv/js_mat.cpp",
		"/home/roman/Projects/qjs-opencv/js_draw.cpp",
		"/home/roman/Projects/qjs-opencv/init_module.cpp",
		"/home/roman/Projects/qjs-opencv/CMakeLists.txt",
		"/home/roman/Projects/qjs-opencv/js_video_capture.cpp",
		"/home/roman/Projects/qjs-opencv/js_cv.cpp",
		"/home/roman/Projects/qjs-opencv/js_umat.hpp",
		"/home/roman/Projects/qjs-opencv/js_slice_iterator.cpp",
		"/home/roman/Projects/qjs-opencv/js_subdiv2d.cpp",
		"/home/roman/Projects/qjs-opencv/js_line.cpp",
		"/home/roman/Projects/qjs-opencv/js_contour.cpp",
		"/home/roman/Projects/qjs-opencv/js_point.cpp",
		"/home/roman/Projects/qjs-opencv/js_point_iterator.cpp",
		"/home/roman/Projects/qjs-opencv/js_size.hpp",
		"/home/roman/Projects/qjs-opencv/js_rect.cpp",
		"/home/roman/Projects/qjs-opencv/js_umat.cpp",
		"/home/roman/Projects/qjs-opencv/js_mat.hpp",
		"/home/roman/Projects/qjs-opencv/cmake/CheckFlags.cmake",
		"/home/roman/Projects/qjs-opencv/cmake/Functions.cmake",
		"/home/roman/Projects/qjs-opencv/util.hpp",
		"/home/roman/Projects/qjs-opencv/jsbindings.hpp",
		"/home/roman/Projects/qjs-opencv/LICENSE",
		"/home/roman/Projects/qjs-opencv/js_array.hpp",
		"/home/roman/Projects/qjs-opencv/js_alloc.hpp",
		"/home/roman/Projects/qjs-opencv/js_line.hpp",
		"/home/roman/Projects/qjs-opencv/js_point.hpp",
		"/home/roman/Projects/qjs-opencv/js_point_iterator.hpp",
		"/home/roman/Projects/qjs-opencv/js_rect.hpp",
		"/home/roman/Projects/qjs-opencv/js_size.cpp",
		"/home/roman/Projects/qjs-opencv/js_slice_iterator.hpp",
		"/home/roman/Projects/qjs-opencv/js_utility.cpp",
		"/home/roman/Projects/qjs-opencv/jsbindings.cpp",
		"/home/roman/Projects/qjs-opencv/js.cpp",
		"/home/roman/Projects/qjs-opencv/js.hpp",
		"/home/roman/Projects/qjs-opencv/js_clahe.cpp",
		"/home/roman/Projects/qjs-opencv/js_contour.hpp",
		"/home/roman/Projects/qjs-opencv/js_cv.hpp",
		"/home/roman/Projects/qjs-opencv/cmake/CCache.cmake",
		"/home/roman/Projects/qjs-opencv/cmake/JSBindings.cmake",
		"/home/roman/Projects/qjs-opencv/cmake/OpenCV.cmake",
		"/home/roman/Projects/qjs-opencv/cmake/FindQuickJS.cmake",
		"/home/roman/Projects/qjs-opencv/cmake/SDL2.cmake",
		"/home/roman/Projects/qjs-opencv/cmake/ccache.cmake",
		"/home/roman/Projects/qjs-opencv/cmake/functions.cmake",
		"/home/roman/Projects/qjs-opencv/cmake/check-flags.cmake",
		"/home/roman/Projects/qjs-opencv/cmake/glfw3Config.cmake",
		"/home/roman/Projects/qjs-opencv/geometry.cpp",
		"/home/roman/Projects/qjs-opencv/geometry.hpp",
		"/home/roman/Projects/qjs-opencv/cmake/imgui-viewer.cmake",
		"/home/roman/Projects/qjs-opencv/cmake/js-bindings.cmake",
		"/home/roman/Projects/qjs-opencv/color.cpp",
		"/home/roman/Projects/qjs-opencv/color.hpp",
		"/home/roman/Projects/qjs-opencv/cmake/opencv.cmake",
		"/home/roman/Projects/qjs-opencv/cmake/sdl2-config.cmake",
		"/home/roman/Projects/qjs-opencv/cmake/FindGLFW.cmake",
		"/home/roman/Projects/plot-cv/test-video.js",
		"/home/roman/Sources/opencv/modules/imgproc/src/drawing.cpp",
		"/home/roman/Projects/plot-cv/src/js_contour.cpp",
		"/home/roman/Projects/plot-cv/src/js_contour.hpp",
		"/home/roman/Projects/plot-cv/src/js_rect.cpp",
		"/home/roman/Projects/plot-cv/src/js_cv.cpp",
		"/home/roman/Projects/plot-cv/src/geometry.hpp",
		"/home/roman/Projects/plot-cv/src/js_array.hpp",
		"/home/roman/Projects/plot-cv/src/js_mat.cpp",
		"/home/roman/Projects/plot-cv/src/jsbindings.hpp",
		"/home/roman/Projects/plot-cv/src/pixel_neighborhood.hpp",
		"/home/roman/Projects/plot-cv/cvPipeline.js",
		"/home/roman/Projects/plot-cv/param.js",
		"/home/roman/Projects/plot-cv/CMakeLists.txt",
		"/home/roman/Projects/plot-cv/cmake/highgui-viewer.cmake",
		"/home/roman/Projects/plot-cv/cmake/imgui-viewer.cmake",
		"/home/roman/Projects/plot-cv/cmake/js-bindings.cmake",
		"/home/roman/Projects/plot-cv/src/util.hpp",
		"/home/roman/Projects/plot-cv/src/png_write.hpp",
		"/home/roman/Projects/plot-cv/src/palette.hpp",
		"/home/roman/Projects/plot-cv/test-opencv.js",
		"/home/roman/Projects/plot-cv/test-png++.cpp",
		"/home/roman/Projects/plot-cv/src/js_draw.cpp",
		"/home/roman/Projects/plot-cv/src/js_umat.hpp",
		"/home/roman/Projects/plot-cv/src/js_umat.cpp",
		"/home/roman/Projects/plot-cv/cmake/opencv.cmake",
		"/home/roman/Projects/plot-cv/src/js_typed_array.hpp",
		"/home/roman/Projects/plot-cv/src/jsbindings.cpp",
		"/home/roman/Projects/plot-cv/src/js_clahe.cpp",
		"/home/roman/Projects/plot-cv/cvHighGUI.js",
		"/home/roman/Projects/plot-cv/src/data.cpp",
		"/home/roman/Projects/plot-cv/src/js_slice_iterator.cpp",
		"/home/roman/Projects/plot-cv/src/js_point_iterator.cpp",
		"/home/roman/Projects/plot-cv/src/js_point.cpp",
		"/home/roman/Projects/plot-cv/src/js_mat.hpp",
		"/home/roman/Projects/plot-cv/src/js_size.cpp",
		"/home/roman/Projects/plot-cv/src/js_line.cpp",
		"/home/roman/Projects/plot-cv/src/js.cpp",
		"/home/roman/Projects/plot-cv/src/js_rect.hpp",
		"/home/roman/Projects/plot-cv/src/js_size.hpp",
		"/opt/opencv-4.5.0/include/opencv4/opencv2/freetype.hpp",
		"/home/roman/Projects/plot-cv/dnsresolve.js",
		"/home/roman/Projects/plot-cv/src/js_point.hpp",
		"/home/roman/Projects/plot-cv/src/js.hpp",
		"/home/roman/Projects/plot-cv/quickjs/quickjs.h",
		"/home/roman/Projects/plot-cv/src/js_subdiv2d.cpp",
		"/home/roman/Projects/plot-cv/src/skeletonization.hpp",
		"/home/roman/Projects/plot-cv/src/util.cpp",
		"/home/roman/Projects/plot-cv/src/imgui-viewer.hpp",
		"/opt/opencv-4.5.0/include/opencv4/opencv2/core/mat.hpp",
		"/home/roman/Projects/plot-cv/lib/util.js",
		"/home/roman/Projects/plot-cv/lib/grammars/shell.y",
		"/home/roman/Projects/plot-cv/test-worker.js",
		"/home/roman/Projects/plot-cv/worker.js",
		"/home/roman/Projects/plot-cv/test_worker_module.js",
		"/home/roman/Projects/plot-cv/clang-ast.js",
		"/home/roman/Projects/plot-cv/test-cv.js",
		"/home/roman/Projects/plot-cv/test-umat.js",
		"/home/roman/Projects/plot-cv/ast-shell.js",
		"/home/roman/Projects/plot-cv/quickjs/CMakeLists.txt",
		"/home/roman/Projects/plot-cv/quickjs/quickjs.c",
		"/home/roman/Projects/plot-cv/lib/filesystem.js",
		"/home/roman/Projects/plot-cv/lib/consoleSetup.js",
		"/home/roman/Projects/plot-cv/bjson.js",
		"/home/roman/Projects/plot-cv/quickjs/tests/bjson.c",
		"/home/roman/Projects/plot-cv/clang-list.js",
		"/home/roman/Projects/plot-cv/opencv_dummy.cpp",
		"/home/roman/Projects/plot-cv/test-bjson.js",
		"/home/roman/Projects/plot-cv/quickjs/cutils.h",
		"/home/roman/Projects/plot-cv/quickjs/cutils.c",
		"/home/roman/Projects/plot-cv/clang-list.es",
		"/home/roman/Projects/plot-cv/lib/ecmascript/lexer.js",
		"/home/roman/Projects/plot-cv/repl.js"
	],
	"find":
	{
		"height": 39.0
	},
	"find_in_files":
	{
		"height": 120.0,
		"where_history":
		[
			"/home/roman/Projects/qjs-opencv,*.hpp,*.cpp"
		]
	},
	"find_state":
	{
		"case_sensitive": true,
		"find_history":
		[
			"qjs-opencv-a",
			"quickjs-opencv",
			"make_js_bindings",
			"make_shared_module",
			"quickjs-opencv",
			"qjs-opencv",
			"TypedArrayProps",
			"ArrayBufferProps",
			"TypedArrayProps",
			"std::ranges::subrange<T>",
			"std::ranges",
			"js_mat_buffer",
			"ranges",
			"js_point_iterator_new",
			"ranges",
			"args",
			"CMAKE_C_FLAGS",
			"-DCXX",
			"js_size_mul",
			"object expe",
			"Rect object",
			"js_mat_free_func",
			"js_mat_buffer",
			"CAP_PROP",
			"CAP_",
			"js_size_read",
			"return ",
			"\"width",
			"js\\.",
			"js.is_array_like\\(",
			"js\\.",
			"js.is_bool",
			"js\\.",
			"js.get_boolean\\(",
			"js.get_number\\(",
			"js\\.",
			"jsrt",
			"/src",
			"COMPILE_FLAGS",
			"OPENCV_FOUND",
			"flags",
			"^#",
			"CMAKE_INSTALL_RPATH",
			"extern C",
			"PLOTCV",
			"PLOT",
			"}_MODULE",
			"src_program",
			"add_exec",
			"_MODULE",
			"JS_INIT_MODULE",
			"plot-cv",
			"js.hpp",
			"include\\("
		],
		"highlight": true,
		"in_selection": false,
		"preserve_case": false,
		"regex": true,
		"replace_history":
		[
			"qjs-opencv",
			"qjs-opencv-a",
			"quickjs-opencv",
			"range_view<T>",
			"CMAKE_CXX_FLAGS",
			"ret = ",
			"js_is_array_like(ctx, ",
			"JS_IsBool",
			"js_value_to(ctx, ",
			"extern \"C\""
		],
		"reverse": false,
		"scrollbar_highlights": true,
		"show_context": true,
		"use_buffer2": true,
		"use_gitignore": true,
		"whole_word": false,
		"wrap": true
	},
	"groups":
	[
		{
			"sheets":
			[
				{
					"buffer": 0,
					"selected": true,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 251,
						"regions":
						{
						},
						"selection":
						[
						],
						"settings":
						{
							"current_file": "/home/roman/Projects/qjs-opencv/js_contour.hpp",
							"outline_rename_mode": false,
							"symkeys":
							[
								[
									31,
									45
								],
								[
									260,
									280
								],
								[
									319,
									339
								],
								[
									410,
									425
								],
								[
									466,
									488
								],
								[
									536,
									558
								],
								[
									651,
									666
								],
								[
									832,
									846
								],
								[
									942,
									956
								],
								[
									1393,
									1408
								],
								[
									1545,
									1559
								],
								[
									1710,
									1725
								],
								[
									2036,
									2051
								]
							],
							"symlist":
							[
								"JS_CONTOUR_HPP",
								"  js_contour_finalizer",
								"  js_contour_to_string",
								"  js_contour_init",
								"  js_init_contour_module",
								"  js_contour_constructor",
								"  js_contour_data",
								"  js_contour_new",
								"  js_contour_new",
								"  js_contour_read",
								"  js_contour_get",
								"  js_contours_new",
								"  js_contour_init"
							],
							"syntax": "Packages/Outline/outline.hidden-tmLanguage",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"stack_multiselect": false,
					"type": "text"
				}
			]
		},
		{
			"sheets":
			[
				{
					"buffer": 1,
					"file": "js_size.cpp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 14933,
						"regions":
						{
						},
						"selection":
						[
							[
								13125,
								13148
							]
						],
						"settings":
						{
							"syntax": "Packages/C++11/C++11.tmLanguage",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 6885.0,
						"zoom_level": 1.0
					},
					"stack_index": 19,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 2,
					"file": "js_point.cpp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 12526,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"syntax": "Packages/C++11/C++11.tmLanguage",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 4245.0,
						"zoom_level": 1.0
					},
					"stack_index": 18,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 3,
					"file": "js_cv.cpp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 84703,
						"regions":
						{
						},
						"selection":
						[
							[
								54467,
								54473
							]
						],
						"settings":
						{
							"syntax": "Packages/C++11/C++11.tmLanguage",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 29086.0,
						"zoom_level": 1.0
					},
					"stack_index": 17,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 4,
					"file": "js_utility.cpp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 5972,
						"regions":
						{
						},
						"selection":
						[
							[
								0,
								0
							]
						],
						"settings":
						{
							"syntax": "Packages/C++11/C++11.tmLanguage",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 13,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 5,
					"file": "util.hpp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 7579,
						"regions":
						{
						},
						"selection":
						[
							[
								7547,
								7547
							]
						],
						"settings":
						{
							"syntax": "Packages/C++11/C++11.tmLanguage",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 4782.0,
						"zoom_level": 1.0
					},
					"stack_index": 10,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 6,
					"file": "js_slice_iterator.cpp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 6447,
						"regions":
						{
						},
						"selection":
						[
							[
								564,
								564
							]
						],
						"settings":
						{
							"syntax": "Packages/C++11/C++11.tmLanguage",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 11,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 7,
					"file": "js_slice_iterator.hpp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 777,
						"regions":
						{
						},
						"selection":
						[
							[
								661,
								663
							]
						],
						"settings":
						{
							"syntax": "Packages/C++11/C++11.tmLanguage",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 9,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 8,
					"file": "jsbindings.hpp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 19659,
						"regions":
						{
						},
						"selection":
						[
							[
								12669,
								12669
							]
						],
						"settings":
						{
							"syntax": "Packages/C++11/C++11.tmLanguage",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 6283.0,
						"zoom_level": 1.0
					},
					"stack_index": 7,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 9,
					"file": "js_typed_array.hpp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 14294,
						"regions":
						{
						},
						"selection":
						[
							[
								6178,
								6178
							]
						],
						"settings":
						{
							"syntax": "Packages/C++11/C++11.tmLanguage",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 46.0,
						"translation.y": 2830.0,
						"zoom_level": 1.0
					},
					"stack_index": 6,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 10,
					"file": "js_mat.cpp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 44596,
						"regions":
						{
						},
						"selection":
						[
							[
								10324,
								10324
							]
						],
						"settings":
						{
							"syntax": "Packages/C++11/C++11.tmLanguage",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 6350.0,
						"zoom_level": 1.0
					},
					"stack_index": 5,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 11,
					"file": "CMakeLists.txt",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 4060,
						"regions":
						{
						},
						"selection":
						[
							[
								3959,
								3969
							]
						],
						"settings":
						{
							"syntax": "Packages/CMakeEditor/CMakeEditor.tmLanguage",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 1440.0,
						"zoom_level": 1.0
					},
					"stack_index": 3,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 12,
					"file": "cmake/JSBindings.cmake",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 5704,
						"regions":
						{
						},
						"selection":
						[
							[
								2520,
								2520
							]
						],
						"settings":
						{
							"syntax": "Packages/CMakeEditor/CMakeEditor.tmLanguage",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 206.0,
						"zoom_level": 1.0
					},
					"stack_index": 4,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 13,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 4182,
						"regions":
						{
							"match":
							{
								"flags": 112,
								"regions":
								[
									[
										222,
										233
									],
									[
										468,
										479
									],
									[
										549,
										560
									],
									[
										654,
										665
									],
									[
										739,
										750
									],
									[
										848,
										859
									],
									[
										923,
										934
									],
									[
										1033,
										1044
									],
									[
										1133,
										1144
									],
									[
										1287,
										1298
									],
									[
										1357,
										1368
									],
									[
										1590,
										1601
									],
									[
										1788,
										1799
									],
									[
										2002,
										2013
									],
									[
										2115,
										2126
									],
									[
										2407,
										2418
									],
									[
										2752,
										2768
									],
									[
										2892,
										2908
									],
									[
										2972,
										2988
									],
									[
										3105,
										3121
									],
									[
										3296,
										3312
									],
									[
										3567,
										3583
									],
									[
										3707,
										3723
									],
									[
										3787,
										3803
									],
									[
										3920,
										3936
									],
									[
										4111,
										4127
									]
								],
								"scope": ""
							}
						},
						"selection":
						[
							[
								3718,
								3718
							]
						],
						"settings":
						{
							"detect_indentation": false,
							"line_numbers": false,
							"output_tag": 3,
							"result_base_dir": "",
							"result_file_regex": "^([^ \t].*):$",
							"result_line_regex": "^ +([0-9]+):",
							"scroll_past_end": true,
							"syntax": "Packages/Default/Find Results.hidden-tmLanguage"
						},
						"translation.x": 0.0,
						"translation.y": 1712.0,
						"zoom_level": 1.0
					},
					"stack_index": 8,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 14,
					"file": "js_array.hpp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 17576,
						"regions":
						{
						},
						"selection":
						[
							[
								16978,
								16978
							]
						],
						"settings":
						{
							"syntax": "Packages/C++11/C++11.tmLanguage",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 9508.0,
						"zoom_level": 1.0
					},
					"stack_index": 12,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 15,
					"file": "js_line.cpp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 14369,
						"regions":
						{
						},
						"selection":
						[
							[
								112,
								114
							]
						],
						"settings":
						{
							"syntax": "Packages/C++11/C++11.tmLanguage",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 1,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 16,
					"file": "js_contour.cpp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 32340,
						"regions":
						{
						},
						"selection":
						[
							[
								27354,
								27354
							]
						],
						"settings":
						{
							"syntax": "Packages/C++11/C++11.tmLanguage",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 16478.0,
						"zoom_level": 1.0
					},
					"stack_index": 2,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 17,
					"file": "js_contour.hpp",
					"selected": true,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 2117,
						"regions":
						{
						},
						"selection":
						[
							[
								1507,
								1507
							]
						],
						"settings":
						{
							"syntax": "Packages/C++11/C++11.tmLanguage",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 336.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 18,
					"file": "js_point_iterator.hpp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 770,
						"regions":
						{
						},
						"selection":
						[
							[
								411,
								465
							]
						],
						"settings":
						{
							"syntax": "Packages/C++11/C++11.tmLanguage",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 16,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 19,
					"file": "js_point_iterator.cpp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 6009,
						"regions":
						{
						},
						"selection":
						[
							[
								980,
								980
							]
						],
						"settings":
						{
							"syntax": "Packages/C++11/C++11.tmLanguage",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 15,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 20,
					"file": "js_rect.cpp",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 18572,
						"regions":
						{
						},
						"selection":
						[
							[
								10945,
								10945
							]
						],
						"settings":
						{
							"syntax": "Packages/C++11/C++11.tmLanguage",
							"tab_size": 2,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 6142.0,
						"zoom_level": 1.0
					},
					"stack_index": 14,
					"stack_multiselect": false,
					"type": "text"
				}
			]
		}
	],
	"incremental_find":
	{
		"height": 25.0
	},
	"input":
	{
		"height": 42.0
	},
	"layout":
	{
		"cells":
		[
			[
				2,
				0,
				3,
				2
			],
			[
				0,
				0,
				2,
				2
			]
		],
		"cols":
		[
			0.0,
			0.2,
			0.8,
			1.0
		],
		"rows":
		[
			0.0,
			0.5,
			1.0
		]
	},
	"menu_visible": true,
	"output.Debugger":
	{
		"height": 139.0
	},
	"output.Debugger: Console":
	{
		"height": 0.0
	},
	"output.Debugger: Protocol":
	{
		"height": 0.0
	},
	"output.find_results":
	{
		"height": 0.0
	},
	"pinned_build_system": "",
	"project": "qjs-opencv.sublime-project",
	"replace":
	{
		"height": 69.0
	},
	"save_all_on_build": true,
	"select_file":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"js_mat",
				"js_mat.cpp"
			],
			[
				"js_type",
				"js_typed_array.hpp"
			],
			[
				"jsbind",
				"jsbindings.hpp"
			],
			[
				"util.hpp",
				"util.hpp"
			],
			[
				"js_rc",
				"js_rect.cpp"
			],
			[
				"js_con",
				"js_contour.cpp"
			],
			[
				"js_lin",
				"js_line.cpp"
			],
			[
				"js_cv",
				"js_cv.cpp"
			],
			[
				"video",
				"js_video_capture.cpp"
			],
			[
				"js-bin",
				"cmake/js-bindings.cmake"
			],
			[
				"cmake",
				"CMakeLists.txt"
			],
			[
				"wasi",
				"cmake/wasi.toolchain.cmake"
			],
			[
				"test-vid",
				"plot-cv/test-video.js"
			],
			[
				"cvPipe",
				"plot-cv/cvPipeline.js"
			],
			[
				"param",
				"plot-cv/param.js"
			],
			[
				"test-oencv",
				"plot-cv/test-opencv.js"
			],
			[
				"js_umat",
				"plot-cv/src/js_umat.hpp"
			],
			[
				"pixel_",
				"plot-cv/src/pixel_neighborhood.hpp"
			],
			[
				"test-opencv",
				"plot-cv/test-opencv.js"
			],
			[
				"js_typed",
				"plot-cv/src/js_typed_array.hpp"
			],
			[
				"opencv.cmake",
				"plot-cv/cmake/opencv.cmake"
			],
			[
				"test-vide",
				"plot-cv/test-video.js"
			],
			[
				"test-op",
				"plot-cv/test-opencv.js"
			],
			[
				"cvHigh",
				"plot-cv/cvHighGUI.js"
			],
			[
				"js.cpp",
				"plot-cv/src/js.cpp"
			],
			[
				"js_size",
				"plot-cv/src/js_size.hpp"
			],
			[
				"js_ma",
				"plot-cv/src/js_mat.cpp"
			],
			[
				"js_draw",
				"plot-cv/src/js_draw.cpp"
			],
			[
				"quickjs.h",
				"plot-cv/quickjs/quickjs.h"
			],
			[
				"test-open",
				"plot-cv/test-opencv.js"
			],
			[
				"js_cv.cp",
				"plot-cv/src/js_cv.cpp"
			],
			[
				"util.js",
				"plot-cv/lib/util.js"
			],
			[
				"cvpipe",
				"plot-cv/cvPipeline.js"
			],
			[
				"param.js",
				"plot-cv/param.js"
			],
			[
				"test-video",
				"plot-cv/test-video.js"
			],
			[
				"test_w",
				"plot-cv/test_worker_module.js"
			],
			[
				"test-wo",
				"plot-cv/test-worker.js"
			],
			[
				"cvPip",
				"plot-cv/cvPipeline.js"
			],
			[
				"worker",
				"plot-cv/worker.js"
			],
			[
				"worker.js",
				"plot-cv/worker.js"
			],
			[
				"test-work",
				"plot-cv/test-worker.js"
			],
			[
				"test-uma",
				"plot-cv/test-umat.js"
			],
			[
				"clang-as",
				"plot-cv/clang-ast.js"
			],
			[
				"quickjs.c",
				"plot-cv/quickjs/quickjs.c"
			],
			[
				"filesys",
				"plot-cv/lib/filesystem.js"
			],
			[
				"console",
				"plot-cv/lib/consoleSetup.js"
			],
			[
				"util",
				"plot-cv/lib/util.js"
			],
			[
				"bjson",
				"plot-cv/bjson.js"
			],
			[
				"ast-shel",
				"plot-cv/ast-shell.js"
			],
			[
				"clang-ast",
				"plot-cv/clang-ast.js"
			],
			[
				"clang-list",
				"plot-cv/clang-list.js"
			],
			[
				"test-bjs",
				"plot-cv/test-bjson.js"
			],
			[
				"repl.js",
				"plot-cv/repl.js"
			],
			[
				"clang-li",
				"plot-cv/clang-list.js"
			],
			[
				"clang-",
				"plot-cv/clang-ast.js"
			],
			[
				"ast-shell",
				"plot-cv/ast-shell.js"
			],
			[
				"test-eagle",
				"test-eagle.js"
			],
			[
				"",
				"plot-cv/test-ecmascript2.js"
			],
			[
				"repl.j",
				"plot-cv/repl.js"
			],
			[
				"test-ecmascript2.js",
				"plot-cv/test-ecmascript2.js"
			],
			[
				"test-ecmascript.js",
				"plot-cv/test-ecmascript.js"
			],
			[
				"repl",
				"plot-cv/repl.js"
			],
			[
				"parser2",
				"plot-cv/lib/ecmascript/parser2.js"
			],
			[
				"test-ecma",
				"plot-cv/test-ecmascript2.es"
			],
			[
				"test-parse",
				"plot-cv/test-parse.js"
			],
			[
				"grammar.js",
				"plot-cv/lib/parse/grammar.js"
			],
			[
				"terminal",
				"plot-cv/terminal.js"
			],
			[
				"test_lex",
				"plot-cv/quickjs/modules/tests/test_lexer.js"
			],
			[
				"test-ec",
				"plot-cv/test-ecmascript.js"
			],
			[
				"parser.js",
				"plot-cv/lib/ecmascript/parser.js"
			],
			[
				"printer.",
				"plot-cv/lib/ecmascript/printer.js"
			],
			[
				"estree",
				"plot-cv/lib/ecmascript/estree.js"
			],
			[
				"parser2.j",
				"plot-cv/lib/ecmascript/parser2.js"
			],
			[
				"tmp.js",
				"plot-cv/tmp.js"
			],
			[
				"test-util",
				"plot-cv/test-util.js"
			],
			[
				"printer",
				"plot-cv/lib/ecmascript/printer.js"
			],
			[
				"parser",
				"plot-cv/lib/ecmascript/parser.js"
			],
			[
				"repl.",
				"repl.js"
			],
			[
				"utils.h",
				"plot-cv/utils.h"
			],
			[
				"test-str",
				"plot-cv/quickjs/modules/test-str0.c"
			],
			[
				"property-en",
				"plot-cv/quickjs/modules/property-enumeration.h"
			],
			[
				"cutil",
				"plot-cv/quickjs/cutils.c"
			],
			[
				"quickjs-lex",
				"plot-cv/quickjs/modules/quickjs-lexer.c"
			],
			[
				"test-libre",
				"plot-cv/quickjs/modules/test-libregexp.c"
			],
			[
				"quickjs-in",
				"plot-cv/quickjs/modules/quickjs-internal.h"
			],
			[
				"consoleS",
				"plot-cv/lib/consoleSetup.js"
			],
			[
				"test-ed",
				"plot-cv/test-editline.js"
			],
			[
				"gl.js",
				"plot-cv/gl.js"
			],
			[
				"editline",
				"plot-cv/editline.js"
			]
		],
		"width": 0.0
	},
	"select_project":
	{
		"height": 500.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"",
				"~/Projects/plot-cv/quickjs/modules/modules.sublime-project"
			]
		],
		"width": 380.0
	},
	"select_symbol":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 0.0
	},
	"selected_group": 1,
	"settings":
	{
	},
	"show_minimap": true,
	"show_open_files": false,
	"show_tabs": true,
	"side_bar_visible": true,
	"side_bar_width": 406.0,
	"status_bar_visible": true,
	"template_settings":
	{
	}
}
